function ensure_array_like(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const data$3={places:[{level:"city",id:"c-pr--sju",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"As Puerto Rico's capital and largest city, San Juan stands as a lively, historic Caribbean jewel, rooted in Taíno and Arawak territories. Old San Juan boasts colorful colonial architecture, cobblestones, and formidable forts like El Morro. Integral to its spirit are salsa rhythms and dance. Beaches like Condado and Isla Verde beckon with leisure and sports. The city's culinary prowess spotlights Puerto Rican dishes, and festivals like La SanSe showcase its Spanish, African, and Taino heritage, making San Juan a vibrant Caribbean cultural nexus.",display_label:"San Juan, San Juan, Puerto Rico",display_sublabel:"(c-pr--sju)"}]},{level:"city",id:"c-us-ak-anc",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"As Alaska's largest city, Anchorage serves as a major gateway to the state's scenic wonders and wilderness. It uniquely blends urban amenities with close proximity to majestic outdoor spaces like Chugach State Park. Beyond its city limits, one can witness the Northern Lights, engage in world-class fishing, or spot diverse wildlife, making it a hub for adventure enthusiasts.",display_label:"Anchorage, Alaska, USA",display_sublabel:"(c-us-ak-anc)"}]},{level:"city",id:"c-us-al-hsv",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:`Huntsville, situated in the Tennessee Valley, has a rich Native American history, with the Cherokee and Chickasaw tribes once calling the area home. Today, the city is renowned as the "Rocket City" due to its pivotal role in space exploration, hosting NASA's Marshall Space Flight Center. Visitors can explore the U.S. Space & Rocket Center, which not only showcases the achievements of space exploration but also pays homage to the region's indigenous heritage.`,display_label:"Huntsville, Alabama, USA",display_sublabel:"(c-us-al-hsv)"}]},{level:"city",id:"c-us-ar-lit",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Little Rock, has a deep Native American history, with the Quapaw and Caddo tribes being early inhabitants of the region. The city is marked by significant landmarks, including the Little Rock Central High School, a symbol of the Civil Rights Movement, and the Clinton Presidential Center. Little Rock seamlessly blends its historic past with a vibrant present, offering a mix of cultural attractions and Southern charm.",display_label:"Little Rock, Arkansas, USA",display_sublabel:"(c-us-ar-lit)"}]},{level:"city",id:"c-us-az-chd",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"A dynamic suburb southeast of Phoenix, Chandler merges the tech-driven influence of its Price Corridor with a rich agricultural history. Home to a number of tech companies and industries, the city stands as a significant business hub. Yet, its heart can be found in its revitalized downtown area, where vintage charm meets trendy eateries, arts, and events like the Chandler Ostrich Festival, a nod to its quirky past.",display_label:"Chandler, Arizona, USA",display_sublabel:"(c-us-az-chd)"}]},{level:"city",id:"c-us-az-gbe",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:'Once known as the "Hay Shipping Capital of the World," Gilbert has transformed from an agricultural community to a thriving suburban town. Its charming downtown, often referred to as the Heritage District, boasts a mix of boutiques, eateries, and local theaters. As one of the fastest-growing communities in the U.S., Gilbert combines parks, and top-rated schools with a sense of small-town appeal.',display_label:"Gilbert, Arizona, USA",display_sublabel:"(c-us-az-gbe)"}]},{level:"city",id:"c-us-az-gda",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Located northwest of Phoenix, Glendale is in close proximity to the Akimel O'odham (Pima) and Pee Posh (Maricopa) tribal territories. It is celebrated for its well-preserved historic district, filled with antique shops and old-fashioned charm. The city is also a sports lover's paradise, housing the State Farm Stadium, home to the NFL's Arizona Cardinals, and the Desert Diamond Arena, host to the NHL's Arizona Coyotes. Rich in events and festivals, Glendale annually hosts the Chocolate Affaire and Glitter & Glow Block Party, drawing visitors from all around.",display_label:"Glendale, Arizona, USA",display_sublabel:"(c-us-az-gda)"}]},{level:"city",id:"c-us-az-msc",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"As the third-largest city in Arizona, Mesa is close to the ancestral lands of the Akimel O'odham and Pee Posh tribes, as well as the Hohokam. It combines a rich history with modern amenities. Its Downtown features a variety of cultural attractions, including the Mesa Arts Center and the Arizona Museum of Natural History. On the city's outskirts, the Usery Mountain Regional Park offers a serene desert landscape with hiking trails and panoramic views, highlighting Mesa's blend of urban and natural beauty.",display_label:"Mesa, Arizona, USA",display_sublabel:"(c-us-az-msc)"}]},{level:"city",id:"c-us-az-phx",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"As the capital of Arizona and the fifth largest city in the U.S., Phoenix is near the traditional lands of the Akimel O'odham and Pee Posh tribes and the Hohokam, who are known for their ancient canal systems in the region. It serves as the cultural, economic, and political hub of the state. Set within the sun-soaked Sonoran Desert, the city blends urban sophistication with a rich Southwestern heritage. Visitors and residents alike enjoy its diverse dining scene, renowned museums like the Heard Museum, and the natural beauty of spots such as Camelback Mountain and the Desert Botanical Garden.",display_label:"Phoenix, Arizona, USA",display_sublabel:"(c-us-az-phx)"}]},{level:"city",id:"c-us-az-stz",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Renowned as a luxury destination, Scottsdale is located near the Akimel O'odham and Pee Posh tribal territories. It boasts upscale resorts, world-class golf courses, and a vibrant arts scene. The city's Old Town district offers a glimpse into its Western heritage with galleries, boutiques, and southwestern culinary delights. Adjacently, the McDowell Sonoran Preserve provides outdoor enthusiasts with miles of trails amidst the picturesque desert landscape.",display_label:"Scottsdale, Arizona, USA",display_sublabel:"(c-us-az-stz)"}]},{level:"city",id:"c-us-az-tuz",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Nestled within the Sonoran Desert and ringed by mountain ranges, Tucson is situated in the traditional territory of the Tohono O'odham Nation and the Pascua Yaqui Tribe and is a city steeped in Native American, Spanish, Mexican, and pioneer history. As home to the University of Arizona, it pulses with youthful energy while preserving its cultural heritage at sites like the Mission San Xavier del Bac. Recognized as a UNESCO City of Gastronomy, Tucson celebrates its unique culinary traditions, merging ancient ingredients with modern flavors.",display_label:"Tucson, Arizona, USA",display_sublabel:"(c-us-az-tuz)"}]},{level:"city",id:"c-us-ca-ana",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Best known as the home of Disneyland Resort, Anaheim is a city where imagination and entertainment come to life. Located in Orange County, its thriving tourism industry goes beyond the magic of Disney with attractions like the Anaheim Packing District and the Honda Center, home to the NHL's Anaheim Ducks. From its agricultural beginnings with vineyards and citrus groves, Anaheim has grown into a dynamic city that attracts visitors from all over the world.",display_label:"Anaheim, California, USA",display_sublabel:"(c-us-ca-ana)"}]},{level:"city",id:"c-us-ca-bfl",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:`Located at the southern tip of California's Central Valley, Bakersfield is in the ancestral territory of the Yokuts, Bakersfield is a city with deep agricultural roots and a unique musical legacy, known as the birthplace of the "Bakersfield Sound" in country music. The Buck Owens' Crystal Palace stands as a testament to this musical heritage. The city's blend of urban and rural influences can be seen in its local events, like the Kern County Fair, and natural escapes, such as the Kern River Canyon.`,display_label:"Bakersfield, California, USA",display_sublabel:"(c-us-ca-bfl)"}]},{level:"city",id:"c-us-ca-cuv",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:'Located just south of San Diego, in the Kumeyaay tribal territory in Southern California, Chula Vista is the second-largest city in San Diego County. Its name, translating to "Beautiful View," aptly describes its scenic location between the San Diego Bay and coastal mountain foothills. Chula Vista boasts attractions like the Living Coast Discovery Center and the North Island Credit Union Amphitheatre. With its commitment to growth and sustainability, the city has become a hub for culture, recreation, and business in the region.',display_label:"Chula Vista, California, USA",display_sublabel:"(c-us-ca-cuv)"}]},{level:"city",id:"c-us-ca-fat",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:`Anchoring California's Central Valley, Fresno is near the ancestral lands of the Yokuts people and the Mono people in the Sierra Nevada region. It is an agricultural powerhouse, often dubbed the "Food Capital of the World" due to its vast production of grapes, raisins, almonds, and more. While farming is its heartbeat, Fresno also offers cultural gems like the Tower District, known for its dining, arts, and entertainment, and the Forestiere Underground Gardens, a subterranean network of courtyards. As a gateway to the Sierra Nevada mountains, it's a launch point for those visiting Yosemite, Kings Canyon, and Sequoia National Parks.`,display_label:"Fresno, California, USA",display_sublabel:"(c-us-ca-fat)"}]},{level:"city",id:"c-us-ca-fnc",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Fremont, nestled in the San Francisco Bay Area, seamlessly blends suburban tranquility with historical significance. Fremont is in the ancestral territory of the Ohlone people. The city pays homage to its film industry heritage at the Niles Essanay Silent Film Museum while embracing modernity with a burgeoning tech sector, thanks to its proximity to Silicon Valley. Its commitment to green spaces is evident at Central Park, where Lake Elizabeth provides a serene escape.",display_label:"Fremont, California, USA",display_sublabel:"(c-us-ca-fnc)"}]},{level:"city",id:"c-us-ca-ivn",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"A master-planned city in Orange County, Irvine is a beacon of innovation and education, home to the University of California, Irvine (UCI) and numerous tech companies. Designed with an emphasis on green spaces, it boasts parks, bike trails, and natural preserves, making it one of the greenest cities in the U.S. Balancing its modern ethos with cultural hubs like the Irvine Spectrum and the Orange County Great Park, Irvine offers a harmonious blend of urban living and environmental consciousness.",display_label:"Irvine, California, USA",display_sublabel:"(c-us-ca-ivn)"}]},{level:"city",id:"c-us-ca-lax",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"The sprawling City of Angels, Los Angeles is situated in the traditional territory of the Gabrielino-Tongva people and other Native American groups. It is a global metropolis known for its entertainment industry, notably Hollywood, the epicenter of American film and television. With a landscape ranging from sun-kissed beaches like Venice and Santa Monica to the star-studded hills of Beverly Hills and Bel-Air, LA is a city of dreams. Its cultural tapestry is reflected in its neighborhoods, offering everything from the historic Olvera Street to the modern artistic enclave of the Arts District.",display_label:"Los Angeles, California, USA",display_sublabel:"(c-us-ca-lax)"}]},{level:"city",id:"c-us-ca-lgb",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Gracing the Pacific coast, Long Beach is an urban waterfront playground. Renowned for its historic Queen Mary ocean liner, now a hotel and museum, the city boasts a vibrant downtown with the Pine Avenue strip, Aquarium of the Pacific, and a bustling marina. As a cultural nexus, Long Beach celebrates events like the Grand Prix of Long Beach and the Long Beach Pride Festival, reflecting its eclectic mix of recreation and community spirit.",display_label:"Long Beach, California, USA",display_sublabel:"(c-us-ca-lgb)"}]},{level:"city",id:"c-us-ca-oak",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Sitting on the eastern side of the San Francisco Bay, Oakland, part of the ancestral homeland of the Ohlone people, is a city of rich arts and culture. It's home to the historic Jack London Square, a waterfront entertainment area, and the renowned Oakland Museum of California. Known for its progressive values and activism, Oakland also boasts a vibrant music scene, beautiful parks like Joaquin Miller Park, and is the birthplace of many social and cultural movements.",display_label:"Oakland, California, USA",display_sublabel:"(c-us-ca-oak)"}]},{level:"city",id:"c-us-ca-ral",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Anchoring the Inland Empire, Riverside is located in Southern California, which has historical ties to the Cahuilla and Serrano tribes. It is rich in history and culture. Known for its iconic Mission Inn, a historic hotel and spa that's hosted numerous celebrities and U.S. presidents, the city is also the birthplace of the California citrus industry, celebrated at the California Citrus State Historic Park. With a blend of historic landmarks, a vibrant arts scene centered around the Riverside ArtsWalk, and beautiful green spaces like Mount Rubidoux Park, Riverside is a dynamic Southern Californian city.",display_label:"Riverside, California, USA",display_sublabel:"(c-us-ca-ral)"}]},{level:"city",id:"c-us-ca-sac",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:'As the capital city of California, Sacramento has been inhabited by the Nisenan and Maidu peoples, among others. It sits at the confluence of the Sacramento and American Rivers. Dubbed the "City of Trees," its lush canopy complements a rich Gold Rush history, exemplified by the preserved Old Sacramento Waterfront with its wooden boardwalks and historic buildings. Beyond its legislative role, Sacramento prides itself on its farm-to-fork dining scene, a testament to the surrounding agricultural richness of the Central Valley.',display_label:"Sacramento, California, USA",display_sublabel:"(c-us-ca-sac)"}]},{level:"city",id:"c-us-ca-sam",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Nestled between the San Gabriel Mountain foothills and the Santa Susana Mountains, Santa Clarita is a city known for its outdoor recreational activities and offers numerous hiking and biking trails. With its blend of suburban and natural spaces, Santa Clarita provides a picturesque setting, just a short drive from the bustling heart of Los Angeles.",display_label:"Santa Clarita, California, USA",display_sublabel:"(c-us-ca-sam)"}]},{level:"city",id:"c-us-ca-san",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`Perched on the Pacific coast near the Kumeyaay tribal territory, San Diego is renowned for its idyllic climate, pristine beaches, and a natural deep-water harbor. Often referred to as "America's Finest City," it offers attractions such as the world-famous San Diego Zoo, Balboa Park, and the USS Midway Museum. With its rich Spanish and Mexican heritage, naval connections, and thriving arts scene, San Diego serves as a cultural nexus, making it a vibrant destination for both residents and tourists.`,display_label:"San Diego, California, USA",display_sublabel:"(c-us-ca-san)"}]},{level:"city",id:"c-us-ca-sbt",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Situated in the heart of the Inland Empire, San Bernardino has a storied past as a hub of Route 66 and the birthplace of the fast-food giant, McDonald's. The area surrounding San Bernardino has historical connections to various Native American tribes, including the Serrano and Cahuilla. Surrounded by picturesque mountains and valleys, the city serves as a gateway to natural wonders like the San Bernardino National Forest. Despite facing urban challenges, San Bernardino is a city of resilience, home to cultural assets like the California Theatre of the Performing Arts and the San Bernardino History and Railroad Museum.",display_label:"San Bernardino, California, USA",display_sublabel:"(c-us-ca-sbt)"}]},{level:"city",id:"c-us-ca-sck",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Located in California's Central Valley, Stockton is a city with a rich agricultural history. It's home to the University of the Pacific, California's oldest chartered university. With its deep-water port, the city has long been a central hub for trade and transportation. Highlights include the Haggin Museum, showcasing local history and fine art, and the annual Stockton Asparagus Festival, celebrating one of the region's notable crops.",display_label:"Stockton, California, USA",display_sublabel:"(c-us-ca-sck)"}]},{level:"city",id:"c-us-ca-sfo",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"Famous for its iconic Golden Gate Bridge, San Francisco, part of the ancestral homeland of the Ohlone people, is a city of hills, eclectic architecture, and cultural richness. Set on a peninsula in Northern California, its various neighborhoods, from the historic Chinatown to the vibrant Castro, encapsulate a spirit of innovation and bohemia. Beyond its famed cable cars and foggy backdrop, San Francisco stands as a global tech hub, with Silicon Valley in close proximity, and a longstanding commitment to progressive values and activism.",display_label:"San Francisco, California, USA",display_sublabel:"(c-us-ca-sfo)"}]},{level:"city",id:"c-us-ca-sjc",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`At the heart of Silicon Valley, San Jose is part of the ancestral homeland of the Ohlone people and stands as the largest city in Northern California and a global tech epicenter. Home to numerous tech companies and startups, it's also enriched by cultural institutions like the Tech Interactive Museum and the historic San Pedro Square. With a backdrop of the Santa Cruz Mountains and a rich tapestry of neighborhoods, San Jose seamlessly merges its tech-driven present with its agricultural past, once known as the "Valley of Heart's Delight" for its fruit orchards.`,display_label:"San Jose, California, USA",display_sublabel:"(c-us-ca-sjc)"}]},{level:"city",id:"c-us-ca-sna",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Santa Ana, situated on the ancestral lands of the Tongva and Juaneno/Luiseno peoples, serves as the county seat of Orange County, harmoniously merging a rich history with a vibrant arts culture. Home to the iconic Old Courthouse, the Bowers Museum, and its thriving downtown arts district. Amidst beautifully preserved architecture and verdant urban spaces like the Santa Ana Zoo, Santa Ana seamlessly weaves the past with the present. This city is a captivating blend of old-world charm and contemporary dynamism, offering an array of events, diverse local eateries, and a vivid display of vibrant murals that celebrate its unique identity.",display_label:"Santa Ana, California, USA",display_sublabel:"(c-us-ca-sna)"}]},{level:"city",id:"c-us-co-auc",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"As Colorado's third-largest city, Aurora is located in the traditional territories of the Arapaho and Cheyenne tribes, as well as the Ute people, offering a mix of urban and suburban settings. With over 100 parks, numerous golf courses, and the expansive Cherry Creek State Park, Aurora is a haven for outdoor enthusiasts. Its rich culture is reflected in a myriad of food, shopping, and entertainment options, and its proximity to Denver provides residents and visitors with a blend of big-city amenities and local charm.",display_label:"Aurora, Colorado, USA",display_sublabel:"(c-us-co-auc)"}]},{level:"city",id:"c-us-co-cos",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Set at the eastern foot of the Rocky Mountains in the ancestral lands of the Arapaho and Cheyenne tribes, as well as the Ute people, Colorado Springs is known for its breathtaking natural beauty, exemplified by sites like Garden of the Gods and Pikes Peak. Home to the United States Air Force Academy, the city holds a strong military presence. With a rich blend of outdoor activities, military heritage, and cultural attractions like the Broadmoor Seven Falls and the Olympic & Paralympic Training Center, Colorado Springs is a unique blend of adventure and history.",display_label:"Colorado Springs, Colorado, USA",display_sublabel:"(c-us-co-cos)"}]},{level:"city",id:"c-us-co-den",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`Dubbed the "Mile-High City" due to its elevation exactly one mile above sea level, Denver is Colorado's vibrant capital. Nestled against the Rocky Mountains in the ancestral lands of the Arapaho and Cheyenne tribes, as well as the Ute people, it's a blend of urban sophistication and outdoor adventure. With landmarks like the Denver Art Museum, the historic Larimer Square, and a booming craft brewery scene, Denver merges its Wild West heritage with contemporary arts, culture, and gastronomy, making it a dynamic hub in the American West.`,display_label:"Denver, Colorado, USA",display_sublabel:"(c-us-co-den)"}]},{level:"city",id:"c-us-ct-bdr",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Bridgeport, Connecticut, was historically occupied by the Paugussett tribe. Today, the city is Connecticut's largest and offers a mix of waterfront attractions, cultural institutions, and a growing arts scene. Bridgeport's Seaside Park and the Barnum Museum are notable highlights, providing a glimpse into the city's past and present.",display_label:"Bridgeport, Connecticut, USA",display_sublabel:"(c-us-ct-bdr)"}]},{level:"city",id:"c-us-dc-was",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"The capital of the United States, Washington, D.C. is steeped in national history and political significance. Located on the ancestral lands of the Piscataway and Anacostan tribes and home to iconic landmarks like the White House, the U.S. Capitol, and the Lincoln Memorial, the city is a living museum of American history. Beyond its governmental functions, D.C. boasts a rich cultural scene with renowned institutions like the Smithsonian museums, and the Kennedy Center, and vibrant neighborhoods such as Georgetown and U Street, showcasing the city's depth.",display_label:"Washington, District of Columbia, USA",display_sublabel:"(c-us-dc-was)"}]},{level:"city",id:"c-us-de-ilg",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Wilmington, Delaware, acknowledges its Native American heritage, with the Lenape, also known as the Delaware Indians, being early inhabitants of the area. The city, located on the banks of the Delaware River, is known for its financial institutions and historic sites. Wilmington's cultural attractions include the Delaware Art Museum and the scenic Brandywine Park.",display_label:"Wilmington, Delaware, USA",display_sublabel:"(c-us-de-ilg)"}]},{level:"city",id:"c-us-fl-hlf",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Nestled in the Greater Miami area, Hialeah thrives as a vibrant city celebrated for its robust Cuban and Hispanic communities, rooted in the ancestral lands of the Tequesta and Seminole peoples of South Florida. The city is home to Hialeah Park, a historic race track that's been hosting horse races since the 1920s. Hialeah offers a harmonious blend of urban and residential areas, each infused with a distinct character. Local parks serve as serene oases within the bustling cityscape, adding to Hialeah's appeal as an integral part of the Miami-Dade County area.",display_label:"Hialeah, Florida, USA",display_sublabel:"(c-us-fl-hlf)"}]},{level:"city",id:"c-us-fl-jax",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"The largest city by land area in the contiguous U.S., Jacksonville sprawls along Florida's northeast coast. In the region historically associated with the Timucua people, among others and with the St. Johns River winding through its heart and miles of Atlantic Ocean beaches, it's a haven for water enthusiasts. The city seamlessly blends urban energy with natural beauty, boasting cultural hubs like the Riverside Arts Market and the Cummer Museum of Art & Gardens. Jacksonville's historical neighborhoods, sporting events, and nature preserves make it a diverse and dynamic destination.",display_label:"Jacksonville, Florida, USA",display_sublabel:"(c-us-fl-jax)"}]},{level:"city",id:"c-us-fl-mia",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"A cosmopolitan hub on Florida's southeastern tip, Miami is renowned for its vibrant nightlife, culture, and stunning beaches. Miami is situated in the traditional territory of the Tequesta people, the Seminole Tribe of Florida, and the Miccosukee Tribe of Indians of Florida. The city is a cultural nexus, with the Art Deco Historic District of South Beach, the Cuban flair of Little Havana, and the luxury of Brickell all showcasing its multifaceted charm. From the rhythms of Calle Ocho to the contemporary art of Wynwood Walls, Miami's tropical climate and energetic ambiance make it a top destination for travelers and a cultural cornerstone of Florida.",display_label:"Miami, Florida, USA",display_sublabel:"(c-us-fl-mia)"}]},{level:"city",id:"c-us-fl-orl",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:'Often dubbed the "Theme Park Capital of the World," Orlando is a global destination for its array of world-class attractions, including Walt Disney World, Universal Orlando Resort, and SeaWorld. Located in Central Florida, in the territory of the Seminole and Miccosukee tribes, the city offers more than just thrill rides, with vibrant neighborhoods like Thornton Park, cultural venues such as the Dr. Phillips Center for the Performing Arts, and natural beauty in places like Lake Eola. Its subtropical climate and year-round events make Orlando a continually buzzing hub of activity and entertainment.',display_label:"Orlando, Florida, USA",display_sublabel:"(c-us-fl-orl)"}]},{level:"city",id:"c-us-fl-pie",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:`Often referred to as "St. Pete," this city on Florida's Gulf Coast is known for its pleasant weather, earning it the nickname "The Sunshine City." Located in the region historically inhabited by the Seminole and Tocobaga tribes and boasting a mix of historic charm, cultural venues, and waterfront parks, St. Petersburg is home to the renowned Salvador Dalí Museum and the historic Sunken Gardens. With its downtown waterfront packed with attractions, eateries, and art galleries and its proximity to some of Florida's best beaches, St. Pete offers both relaxation and cultural enrichment.`,display_label:"St. Petersburg, Florida, USA",display_sublabel:"(c-us-fl-pie)"}]},{level:"city",id:"c-us-fl-tpa",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:`Nestled on Florida's west coast, traditionally linked to the Seminole and Tocobaga tribes, Tampa is a blend of historic architecture, modern landmarks, and a western coast of beautiful white-sand Gulf beaches. The city is known for its cultural offerings, including the historic Ybor City neighborhood, once known as the "Cigar Capital of the World." With attractions like Busch Gardens, the Florida Aquarium, and the vibrant Riverwalk, Tampa offers a mix of urban sophistication and natural beauty, making it a standout in the Sunshine State.`,display_label:"Tampa, Florida, USA",display_sublabel:"(c-us-fl-tpa)"}]},{level:"city",id:"c-us-ga-atl",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:`Often termed the "Capital of the South," Atlanta is a city that seamlessly blends its rich history with modern cosmopolitanism. The area around Atlanta has connections to the Cherokee and Muscogee Creek nations, among other Indigenous peoples. Birthplace of Martin Luther King Jr., it's home to pivotal Civil Rights Movement landmarks, including the Martin Luther King Jr. National Historic Site. Beyond its historical significance, Atlanta boasts a thriving arts scene, a dynamic skyline punctuated by the iconic Peachtree Street, and cultural hubs like the Fox Theatre and the World of Coca-Cola. The city's influence on music, film, and business solidifies its status as a cultural powerhouse.`,display_label:"Atlanta, Georgia, USA",display_sublabel:"(c-us-ga-atl)"}]},{level:"city",id:"c-us-hi-hnl",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"The vibrant capital of Hawaii, Honolulu is part of the ancestral lands of the Native Hawaiian people set against the backdrop of the Diamond Head crater on the island of Oahu. A tropical paradise blend of native Hawaiian culture and modern city life, it's known for the world-famous Waikiki Beach, historic sites like Iolani Palace, and the somber Pearl Harbor memorials. With its aloha spirit, bustling downtown, and stunning natural beauty, Honolulu offers a unique mix of island relaxation and urban energy in the heart of the Pacific.",display_label:"Honolulu, Hawaii, USA",display_sublabel:"(c-us-hi-hnl)"}]},{level:"city",id:"c-us-ia-dsm",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Des Moines, rests on lands that were originally inhabited by the Sauk and Meskwaki tribes. As the state's capital, Des Moines boasts a diverse cultural scene, highlighted by the Pappajohn Sculpture Park and the Des Moines Art Center. The city's annual Iowa State Fair, a celebration of agriculture and community, attracts visitors from across the nation.",display_label:"Des Moines, Iowa, USA",display_sublabel:"(c-us-ia-dsm)"}]},{level:"city",id:"c-us-id-boi",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:'The capital and most populous city of Idaho, Boise City (often simply referred to as "Boise") offers a blend of urban vitality and outdoor recreation. Near the historic territories of the Shoshone-Bannock tribes, the city sits along the Boise River, which lends itself to activities like fishing and rafting, while the surrounding foothills are popular for hiking and mountain biking. With a vibrant downtown area featuring the historic Capitol Building, a thriving arts scene, and the Boise State University campus, Boise manages to balance its natural beauty with cultural richness in the heart of the Gem State.',display_label:"Boise City, Idaho, USA",display_sublabel:"(c-us-id-boi)"}]},{level:"city",id:"c-us-il-chi",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"The Windy City, sitting on the shores of Lake Michigan in the region traditionally associated with the Potawatomi, Ojibwe, and other Indigenous nations, is known for its rich history, architectural marvels, and deep-rooted musical heritage, particularly in blues and jazz. Home to iconic structures like Willis Tower, the Bean (Cloud Gate), and historic Wrigley Field, Chicago offers a dynamic urban landscape. With its famed Magnificent Mile, world-class museums like the Art Institute of Chicago, and diverse culinary scene (deep-dish pizza, anyone?), Chicago stands as a cultural colossus in the American Midwest.",display_label:"Chicago, Illinois, USA",display_sublabel:"(c-us-il-chi)"}]},{level:"city",id:"c-us-in-fwa",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:`Situated in the Potawatomi tribal territory, and as Indiana's second-largest city, Fort Wayne boasts a rich history as a pivotal trade route junction, earning it the title "Summit City." Today, it's known for its family-friendly attractions, including the Fort Wayne Children's Zoo and the Science Central interactive museum. The city's downtown revitalization, combined with its festivals, parks, and historic sites like the Old Fort, showcases Fort Wayne's blend of Midwestern charm and forward-thinking urban development.`,display_label:"Fort Wayne, Indiana, USA",display_sublabel:"(c-us-in-fwa)"}]},{level:"city",id:"c-us-in-ind",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`The capital of Indiana, Indianapolis, is often referred to as the "Crossroads of America" due to its central location and key transport links, situated in the historic territory of the Miami and Delaware tribes. Known worldwide for the Indianapolis 500, the largest single-day sporting event, the city has a deep-seated motorsports tradition. Beyond racing, Indianapolis boasts a vibrant downtown, the historic Monument Circle, and cultural institutions like the Children's Museum of Indianapolis and the Indianapolis Museum of Art. Its blend of sports, arts, and Midwestern hospitality positions Indianapolis as a diverse and welcoming hub.`,display_label:"Indianapolis, Indiana, USA",display_sublabel:"(c-us-in-ind)"}]},{level:"city",id:"c-us-ks-ict",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:`Often termed the "Air Capital of the World," Wichita has a storied legacy in aviation, being home to several major aircraft manufacturers over the decades. Located on the Arkansas River with historical ties to the Wichita and Affiliated Tribes, this city blends its industrial prowess with a rich cultural tapestry, showcased in places like the Old Town district and the Wichita Art Museum. From its origins as a trading post to its present-day status as Kansas's largest city, Wichita remains a vital center of commerce, culture, and Midwestern charm.`,display_label:"Wichita, Kansas, USA",display_sublabel:"(c-us-ks-ict)"}]},{level:"city",id:"c-us-ky-lex",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:`Dubbed the "Horse Capital of the World," Lexington is at the heart of Kentucky's Bluegrass region, in the traditional territory of the Shawnee and other Indigenous peoples and renowned for its horse farms and thoroughbred racetracks. The city celebrates its equine legacy with attractions like the Kentucky Horse Park and the annual Keeneland races. Beyond its equestrian ties, Lexington boasts a rich history, exemplified in places like the Mary Todd Lincoln House, and a burgeoning arts and culinary scene, making it a cultural gem amid rolling green landscapes.`,display_label:"Lexington, Kentucky, USA",display_sublabel:"(c-us-ky-lex)"}]},{level:"city",id:"c-us-ky-lui",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Perched on the Ohio River, in the region historically connected to the Shawnee and other Indigenous nations, Louisville is perhaps best known for hosting the iconic Kentucky Derby horse race at Churchill Downs. But beyond the racetrack, the city boasts a vibrant arts scene, historic neighborhoods like Old Louisville, and a deep-rooted bourbon tradition, giving birth to the famous Kentucky Bourbon Trail. With attractions such as the Louisville Slugger Museum and Muhammad Ali Center, Louisville seamlessly merges southern hospitality, sports heritage, and cultural vitality in the heart of the Bluegrass State.",display_label:"Louisville, Kentucky, USA",display_sublabel:"(c-us-ky-lui)"}]},{level:"city",id:"c-us-la-btr",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"As the capital of Louisiana, Baton Rouge sits proudly on the banks of the Mississippi River, in the territory traditionally associated with the Houma Nation, among other Indigenous groups. A city with a rich history, it boasts landmarks like the Old State Capitol and the current State Capitol building, the nation's tallest. Known for its Southern hospitality, Baton Rouge is a hub of culture, with vibrant music scenes, Cajun and Creole cuisines, and various festivals. The fusion of French, Spanish, and African influences gives this city a unique flavor in the Deep South.",display_label:"Baton Rouge, Louisiana, USA",display_sublabel:"(c-us-la-btr)"}]},{level:"city",id:"c-us-la-msy",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Situated in the region historically inhabited by the Choctaw, Houma, and Chitimacha tribes, among others, and renowned for its rich cultural tapestry, New Orleans is a city where French, African, and Spanish heritages converge. Best known for its lively Mardi Gras celebrations, the city's historic heart lies in the French Quarter, with its iconic Bourbon Street, jazz music, and Creole architecture. From the soulful melodies of street musicians to the culinary delights of beignets and gumbo, New Orleans is a vibrant testament to resilience, culture, and joie de vivre in the American South.",display_label:"New Orleans, Louisiana, USA",display_sublabel:"(c-us-la-msy)"}]},{level:"city",id:"c-us-ma-bos",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Steeped in history, Boston is one of the oldest cities in the United States and played a pivotal role in the American Revolution. Situated in a region traditionally linked to the Massachusett and Wampanoag tribes. The Freedom Trail weaves through the city, connecting significant historic sites such as the Massachusetts State House, Paul Revere's House, and the Old North Church. Its distinctive neighborhoods, vibrant sports culture (Go Red Sox!), and world-class museums like the Museum of Fine Arts make Boston a dynamic and culturally rich metropolis in New England.",display_label:"Boston, Massachusetts, USA",display_sublabel:"(c-us-ma-bos)"}]},{level:"city",id:"c-us-md-bal",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:'Known as the "Charm City," Baltimore boasts a rich maritime heritage, scenic Inner Harbor, and dynamic neighborhoods. Historically linked to the Piscataway and Susquehannock tribes, its landmarks include Fort McHenry, inspiration for the national anthem, and the cobblestoned Fells Point district. Cultural highlights feature the Walters Art Museum, Maryland Science Center, and National Aquarium. With a diverse culinary scene emphasizing seafood, notably crab cakes and Old Bay seasoning, Baltimore seamlessly blends history and modern culture by the Chesapeake Bay.',display_label:"Baltimore, Maryland, USA",display_sublabel:"(c-us-md-bal)"}]},{level:"city",id:"c-us-me-pwm",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Portland, Maine, has a rich history of indigenous peoples, including the Wabanaki Confederacy and the Abenaki people. Portland itself is celebrated for its picturesque waterfront with the Portland Head Light, fresh seafood, and vibrant arts scene, including the Portland Museum of Art.",display_label:"Portland, Maine, USA",display_sublabel:"(c-us-me-pwm)"}]},{level:"city",id:"c-us-mi-det",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:`In the traditional lands of the Anishinaabe (Ojibwe), Potawatomi, and Wyandot tribes, Detroit, renowned as the "Motor City," is famed for its automotive legacy. The Henry Ford Museum and Greenfield Village showcase the nation's industrial history. Motown's musical heritage thrives at Hitsville U.S.A., the Motown Museum. A vibrant downtown, the Detroit Institute of Arts, and sports fervor with the Tigers and Red Wings highlight its culture. Detroit's history, art, and sports mirror its resilience, embracing a transformative future.`,display_label:"Detroit, Michigan, USA",display_sublabel:"(c-us-mi-det)"}]},{level:"city",id:"c-us-mn-mes",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Located in the ancestral lands of the Dakota and Ojibwe (Anishinaabe) tribes, Minneapolis is a vibrant metropolis in the Land of 10,000 Lakes. The city is known for its beautiful chain of lakes, including Lake Calhoun and Lake of the Isles, offering recreational opportunities year-round. Minneapolis is also rich in arts and culture, with the Walker Art Center, Guthrie Theater, and a thriving music scene that gave birth to artists like Prince. Its progressive spirit is evident in its bike-friendly infrastructure and commitment to sustainability. Minneapolis offers a blend of outdoor beauty, cultural richness, and urban innovation in the heart of the Midwest.",display_label:"Minneapolis, Minnesota, USA",display_sublabel:"(c-us-mn-mes)"}]},{level:"city",id:"c-us-mn-stp",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Located in the ancestral lands of the Dakota and Ojibwe (Anishinaabe) tribes, St. Paul is Minnesota's capital and offers a unique blend of historic charm and modern amenities. The city's historic Cathedral of Saint Paul and Summit Avenue, with its stunning Victorian mansions, showcase its rich architectural heritage. St. Paul is known for its various neighborhoods, cultural festivals, and institutions like the Science Museum of Minnesota and the Ordway Center for the Performing Arts. Together with Minneapolis, St. Paul forms a dynamic and culturally rich metropolitan area in the North Star State.",display_label:"St. Paul, Minnesota, USA",display_sublabel:"(c-us-mn-stp)"}]},{level:"city",id:"c-us-mo-mkc",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Straddling the border of Missouri and Kansas, traditionally associated with the Osage and Kansa tribes, Kansas City is celebrated for its distinctive blend of jazz music, barbecue cuisine, and vibrant culture. The 18th and Vine District is a historic jazz hub, while the Kansas City Barbecue scene is world-renowned. The city's Union Station, Country Club Plaza, and Nelson-Atkins Museum of Art are iconic landmarks. With a history tied to the Santa Fe Trail, Kansas City thrives as a cultural crossroads and culinary haven in the heart of the Midwest.",display_label:"Kansas City, Missouri, USA",display_sublabel:"(c-us-mo-mkc)"}]},{level:"city",id:"c-us-mo-stl",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Nestled by the Mississippi River and rooted in Osage and Illini Confederacy territories, St. Louis boasts the majestic Gateway Arch, commemorating America's westward journey. With a past colored by the Lewis and Clark expedition, the city has evolved into a cultural hub. Attractions like the St. Louis Art Museum, Missouri Botanical Garden, and St. Louis Zoo spotlight its rich tapestry. Celebrated for its arts, sports legacies with the Cardinals and Blues, and culinary gems like toasted ravioli and unique barbecue, St. Louis shines as a vibrant Midwest mosaic.",display_label:"St. Louis, Missouri, USA",display_sublabel:"(c-us-mo-stl)"}]},{level:"city",id:"c-us-ms-jan",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Jackson, Mississippi, resides on land once inhabited by the Choctaw and Chickasaw tribes, and their influence is felt in the city's rich cultural tapestry. Jackson is a significant location in the Civil Rights Movement, with landmarks like the Mississippi State Capitol and the Mississippi Civil Rights Museum telling the story of the struggle for equality. The city's soulful music, delicious cuisine, and warm hospitality make it a destination that honors its past while embracing the future.",display_label:"Jackson, Mississippi, USA",display_sublabel:"(c-us-ms-jan)"}]},{level:"city",id:"c-us-mt-bil",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Montana's largest city, Billings, is situated on land with a rich Native American history, including the Crow and Northern Cheyenne tribes. The city serves as a gateway to Yellowstone National Park and features a mix of outdoor recreation and Western heritage. The scenic Rimrocks overlook Billings, providing stunning views of the surrounding landscapes.",display_label:"Billings, Montana, USA",display_sublabel:"(c-us-mt-bil)"}]},{level:"city",id:"c-us-nc-clt",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"Known as the Queen City, Charlotte is situated in the historic territory of the Catawba Nation, among other Indigenous groups. Charlotte is the largest city in North Carolina and a major financial hub in the United States. It's home to the headquarters of Bank of America and Wells Fargo, among others. The city's dynamic Uptown district boasts cultural attractions like the NASCAR Hall of Fame and the Bechtler Museum of Modern Art. With professional sports teams like the Charlotte Hornets and the Carolina Panthers, a thriving culinary scene, and a mix of historic neighborhoods and modern skyscrapers, Charlotte offers a diverse and energetic urban experience in the heart of the Carolinas.",display_label:"Charlotte, North Carolina, USA",display_sublabel:"(c-us-nc-clt)"}]},{level:"city",id:"c-us-nc-dur",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Nestled in the Research Triangle region, traditionally associated with the Occaneechi and Eno tribes, Durham is celebrated for its contributions to technology, education, and healthcare. The city is home to Duke University and the renowned Duke University Medical Center. Durham is also known for its revitalized tobacco warehouses, such as the American Tobacco Campus, now a hub for offices and entertainment. The city's cultural scene is enriched by institutions like the Nasher Museum of Art and the Durham Performing Arts Center (DPAC). With a dynamic blend of history and innovation, Durham is a thriving Southern city.",display_label:"Durham, North Carolina, USA",display_sublabel:"(c-us-nc-dur)"}]},{level:"city",id:"c-us-nc-gbo",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Located in the Piedmont region, a territory historically linked to the Catawba Nation and the Cherokee people, Greensboro is known for its pivotal role in the American Civil Rights Movement. The city was the site of the Greensboro sit-ins in 1960, a significant event in the struggle for racial equality. Greensboro is home to prominent universities like the University of North Carolina at Greensboro and North Carolina A&T State University. With cultural venues like the Greensboro Science Center and the International Civil Rights Center & Museum, the city combines educational institutions, a strong sense of history, and a vibrant arts community.",display_label:"Greensboro, North Carolina, USA",display_sublabel:"(c-us-nc-gbo)"}]},{level:"city",id:"c-us-nc-int",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"This city in the Piedmont Triad region, a territory historically linked to the Catawba Nation and the Cherokee people, is renowned for its historical contributions to the tobacco and textile industries. Today, Winston-Salem is a vibrant urban center with a growing arts and innovation scene. It's home to Wake Forest University and the historic Old Salem Museum and Gardens, offering a glimpse into history. With a thriving arts district, a commitment to sustainability, and annual events like the RiverRun International Film Festival, Winston-Salem has evolved into a dynamic city that looks toward the future.",display_label:"Winston-Salem, North Carolina, USA",display_sublabel:"(c-us-nc-int)"}]},{level:"city",id:"c-us-nc-rag",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"As the capital of North Carolina, Raleigh is part of the ancestral lands of the Occaneechi, Eno, and Tuscarora peoples. Raleigh is one of the three cities that make up the Research Triangle, along with Durham and Chapel Hill. Known for its educational institutions like North Carolina State University, the city is a hub for research, technology, and innovation. Raleigh's cultural attractions include the North Carolina Museum of Art, Pullen Park, and the historic North Carolina State Capitol. With its mix of Southern charm and progressive thinking, Raleigh offers a high quality of life and a thriving arts and tech scene in the heart of North Carolina.",display_label:"Raleigh, North Carolina, USA",display_sublabel:"(c-us-nc-rag)"}]},{level:"city",id:"c-us-nd-far",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Fargo, North Dakota, pays homage to the Dakota and Lakota Sioux, the original inhabitants of the region. The city is known for its friendly community, thriving arts scene, and the iconic Fargo Theatre. With a mix of historic charm and modern developments, Fargo embraces its Scandinavian heritage and offers a welcoming atmosphere.",display_label:"Fargo, North Dakota, USA",display_sublabel:"(c-us-nd-far)"}]},{level:"city",id:"c-us-ne-lnk",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"As the capital of Nebraska, Lincoln is located in the traditional territories of the Omaha and Ponca tribes. Lincoln is a city that blends government, education, and a vibrant community spirit. The city is home to the University of Nebraska-Lincoln, contributing to its youthful energy. Lincoln's historical sites, like the Nebraska State Capitol and the Governor's Mansion, reflect its political importance. The Haymarket District offers a mix of dining, shopping, and entertainment, while the Sheldon Museum of Art and the Sunken Gardens provide cultural enrichment. With a strong focus on education and a welcoming atmosphere, Lincoln is a thriving city in the heart of the Great Plains.",display_label:"Lincoln, Nebraska, USA",display_sublabel:"(c-us-ne-lnk)"}]},{level:"city",id:"c-us-ne-oma",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Located on the Missouri River, Omaha is in the ancestral lands of the Omaha and Ponca tribes. Omaha is known for its friendly Midwestern spirit and offerings. The city is home to the renowned Henry Doorly Zoo and Aquarium, one of the best in the world. With a rich history tied to the Union Pacific Railroad, Omaha boasts historic neighborhoods like the Old Market and the Durham Museum, housed in a stunning Union Station building. The city's cultural scene is vibrant, with theaters, music venues, and a growing culinary reputation. Omaha combines a strong sense of community with cultural richness in the heart of the Great Plains.",display_label:"Omaha, Nebraska, USA",display_sublabel:"(c-us-ne-oma)"}]},{level:"city",id:"c-us-nh-mht",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"The region around Manchester, New Hampshire, was historically inhabited by the Abenaki people. Today, the city is a blend of historic charm and modern amenities, with revitalized mill buildings and a vibrant downtown. Manchester, the largest city in the state, serves as a cultural and economic hub, offering a unique blend of history and innovation.",display_label:"Manchester, New Hampshire, USA",display_sublabel:"(c-us-nh-mht)"}]},{level:"city",id:"c-us-nj-ewr",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"As one of the oldest cities in the United States, the Newark area is traditionally connected to the Lenape (Lenni-Lenape) people. Newark has a rich history and is an important transportation and cultural hub. It's home to Newark Liberty International Airport and a major seaport, making it a gateway to the New York City metropolitan area. The city boasts cultural attractions like the Newark Museum, the New Jersey Performing Arts Center, and the Prudential Center, a sports and entertainment arena. With various neighborhoods, a growing arts scene, and a history that spans centuries, Newark is a dynamic city that continues to evolve and thrive in the Garden State.",display_label:"Newark, New Jersey, USA",display_sublabel:"(c-us-nj-ewr)"}]},{level:"city",id:"c-us-nj-jec",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Situated along the Hudson River on the historic Lenape (Lenni-Lenape) lands, Jersey City offers breathtaking Manhattan skyline views and easy access to New York City. The city has undergone significant development, becoming a top choice for residents and businesses alike. Jersey City boasts cultural attractions such as the Liberty Science Center, Mana Contemporary art center, and the dynamic Powerhouse Arts District nightlife. With waterfront parks and convenient Manhattan access via the PATH train, Jersey City stands as a bustling and modern urban center in the Garden State.",display_label:"Jersey City, New Jersey, USA",display_sublabel:"(c-us-nj-jec)"}]},{level:"city",id:"c-us-nm-abq",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Set in New Mexico's high desert, Albuquerque thrives on Tiwa land, shared historically with Puebloans, Navajo, and Apache. Known for the global spectacle of the Albuquerque International Balloon Fiesta, the city's Southwest culture shines. Old Town echoes Spanish colonial heritage with adobe charm and lively markets. Explore cultural insights at the Sandia Peak Tramway, Indian Pueblo Cultural Center, and a thriving arts scene. Enriched by Native American and Hispanic legacies, Albuquerque fuses tradition and innovation in the Southwest.",display_label:"Albuquerque, New Mexico, USA",display_sublabel:"(c-us-nm-abq)"}]},{level:"city",id:"c-us-nv-hnz",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Located within the Las Vegas metropolitan area, Henderson occupies the historic lands of the Southern Paiute and Western Shoshone tribes, solidifying its position as the second-largest city in Nevada. Its planned communities, and well-maintained parks make it a premier destination.Henderson showcases cultural treasures such as the Clark County Museum and the Henderson Pavilion. In close proximity to the Strip, the city also boasts natural wonders like Sloan Canyon for hiking and Lake Las Vegas for water sports, offering a high-quality desert life experience.",display_label:"Henderson, Nevada, USA",display_sublabel:"(c-us-nv-hnz)"}]},{level:"city",id:"c-us-nv-las",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:'Dubbed the "Entertainment Capital of the World," Las Vegas shines with its casinos, elite hotels, and the vibrant Las Vegas Strip. Beyond its iconic entertainment, it nurtures arts and culture at places like the Smith Center and the Neon Museum, while respecting its Southern Paiute and Western Shoshone heritage. Nearby, natural wonders like Red Rock Canyon and Lake Mead beckon outdoor lovers. With its residents and a ceaseless wave of tourists, Las Vegas remains a dynamic oasis in the Nevada desert.',display_label:"Las Vegas, Nevada, USA",display_sublabel:"(c-us-nv-las)"}]},{level:"city",id:"c-us-nv-nvs",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"North Las Vegas is a vibrant suburban community in the Las Vegas metropolitan area. The Las Vegas area, including North Las Vegas, has historical ties to the Southern Paiute and Western Shoshone nations. While it shares many amenities with its southern neighbor, North Las Vegas has its own distinct character. It's home to the Aliante Casino and Hotel, the Shadow Creek Golf Course, and several parks and recreational areas. The city offers a quieter and more residential atmosphere compared to the bustling Las Vegas Strip, making it an attractive place to live for many in the region.",display_label:"North Las Vegas, Nevada, USA",display_sublabel:"(c-us-nv-nvs)"}]},{level:"city",id:"c-us-nv-rno",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:`Known as the "Biggest Little City in the World," Reno resides in ancestral territories of the Washoe and Northern Paiute tribes. It offers diverse entertainment, outdoor adventures, and a thriving arts scene. Renowned for its casinos and the iconic Reno Arch downtown, the city also sits at the Sierra Nevada's base, granting access to hiking, skiing, and Lake Tahoe. Cultural delights like the Nevada Museum of Art and the Reno Aces baseball team enrich the experience. Reno's energetic ambiance and proximity to natural wonders make it a dynamic destination in the Silver State.`,display_label:"Reno, Nevada, USA",display_sublabel:"(c-us-nv-rno)"}]},{level:"city",id:"c-us-ny-buf",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Located beside the expansive Lake Erie and historically connected to the Seneca and Haudenosaunee nations, Buffalo shines with industrial heritage and architectural marvels. Landmarks such as Frank Lloyd Wright's Darwin D. Martin House and the art deco-styled Buffalo City Hall stand testament to its past. Cultural vibrancy flows with the Albright-Knox Art Gallery and the Buffalo Philharmonic Orchestra. Known for its iconic Buffalo wings and home to the Buffalo Bills, the city’s culinary and sports scenes are unmatched. Undergoing waterfront rejuvenation and marked by community spirit, Buffalo is a rejuvenating hub in Western New York.",display_label:"Buffalo, New York, USA",display_sublabel:"(c-us-ny-buf)"}]},{level:"city",id:"c-us-ny-nyc",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"The largest U.S. city, New York City (NYC), is a bustling global hub linked historically to the Lenape. Comprising five boroughs—Manhattan, Brooklyn, Queens, The Bronx, and Staten Island—its skyline boasts the Empire State Building, Times Square, and One World Trade Center. A cultural epicenter, NYC features various neighborhoods, renowned museums like the Metropolitan Museum of Art, and Broadway's vibrant theater scene. From Central Park to the Statue of Liberty, the city seamlessly blends arts, culture, and commerce, standing as a global beacon.",display_label:"New York, New York, USA",display_sublabel:"(c-us-ny-nyc)"}]},{level:"city",id:"c-us-oh-cle",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:`Situated on Lake Erie's southern shore, Cleveland lies within the historic lands of the Wyandot and Miami tribes. Rich in industrial and cultural heritage, it's famed as "The Rock and Roll Capital of the World," housing the iconic Rock and Roll Hall of Fame. The city thrives with arts at Playhouse Square, a major US performing arts center. Cleveland's sports fervor shines with the Guardians, Cavaliers, and Browns. Its downtown revival, diverse cuisine, and cultural gems like the Cleveland Museum of Art showcase Cleveland's resilience in the Buckeye State.`,display_label:"Cleveland, Ohio, USA",display_sublabel:"(c-us-oh-cle)"}]},{level:"city",id:"c-us-oh-cmh",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"Located in Ohio's heart, Columbus, the state capital, resides on the historic territories of the Wyandot and Shawnee. A hub of government, education, and technology, it's also home to the renowned Ohio State University. Cultural landmarks include the Columbus Museum of Art and the Ohio Theatre. The Short North Arts District and German Village provide unique culinary and shopping adventures. A blend of innovation and hospitality make Columbus a dynamic and evolving city in Ohio's core.",display_label:"Columbus, Ohio, USA",display_sublabel:"(c-us-oh-cmh)"}]},{level:"city",id:"c-us-oh-cvg",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"On the Ohio River, Cincinnati thrives on Shawnee, Miami, and Delaware tribal lands. Rich history echoes in the 19th-century charm of Over-the-Rhine. Cincinnati's famed chili parlors and regional cuisine delight. Home to the Reds and Bengals, sports fervor runs deep. Cultural gems like the Cincinnati Art Museum and Oktoberfest Zinzinnati add vibrancy. Cincinnati elegantly blends tradition and innovation, earning its title as the Queen City of the West.",display_label:"Cincinnati, Ohio, USA",display_sublabel:"(c-us-oh-cvg)"}]},{level:"city",id:"c-us-oh-tol",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:'Nestled along the western shore of Lake Erie, Toledo is situated in the traditional territories of the Wyandot and Miami tribes. Toledo is a city with a rich industrial history, particularly in glass production, earning it the nickname the "Glass City." The Toledo Museum of Art showcases this heritage with its impressive glass collection. The city is known for its waterfront parks, including the Maumee Bay State Park, and its connection to the historic Erie Canal. With its thriving downtown, Toledo offers a blend of industrial heritage and modern vitality in the heart of northwest Ohio.',display_label:"Toledo, Ohio, USA",display_sublabel:"(c-us-oh-tol)"}]},{level:"city",id:"c-us-ok-okc",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"Oklahoma's capital, Oklahoma City, melds Western heritage with modern vitality, rooted in the Muscogee (Creek) and Cherokee Nations' territories. The First Americans Museum delves into the histories of 39 unique First American Nations. The city remembers the 1995 bombing victims through the Oklahoma City National Memorial and Museum. The lively Bricktown district offers dining and entertainment, featuring the Chickasaw Bricktown Ballpark. With an evolving arts community, the Oklahoma City Thunder team, and spots like Myriad Botanical Gardens, the city harmoniously fuses past and present in the Sooner State.",display_label:"Oklahoma City, Oklahoma, USA",display_sublabel:"(c-us-ok-okc)"}]},{level:"city",id:"c-us-ok-tul",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:`Located in northeastern Oklahoma, Tulsa resides on Muskogee Creek and Cherokee territories. Historically dubbed the "Oil Capital of the World," Tulsa's arts flourish at the Philbrook Museum and Tulsa Ballet. The Greenwood District, once "Black Wall Street," hosts the Greenwood Rising Museum, emphasizing the 1921 Race Massacre and the resilient black community legacy. A hotspot for jazz and country music, the city is also known for the Gathering Place park and its rejuvenated downtown. Tulsa stands as a vibrant hub in Oklahoma.`,display_label:"Tulsa, Oklahoma, USA",display_sublabel:"(c-us-ok-tul)"}]},{level:"city",id:"c-us-or-pdx",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Situated in the Pacific Northwest, Portland honors its Indigenous heritage from the Multnomah, Kathlamet, and Clackamas nations. Renowned for its scenic beauty, progressive ethos, and rich arts scene, the city boasts lush parks like Forest Park and the renowned International Rose Test Garden. With a strong emphasis on sustainability and cycling, it's among the greenest U.S. cities. Neighborhoods such as the Pearl District and Hawthorne present varied dining, shopping, and cultural attractions. The city's thriving food truck scene, microbreweries, and the legendary Powell's City of Books cater to food and literature enthusiasts. Portland masterfully melds nature, culture, and innovation.",display_label:"Portland, Oregon, USA",display_sublabel:"(c-us-or-pdx)"}]},{level:"city",id:"c-us-pa-phl",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`Dubbed the "City of Brotherly Love," Philadelphia resides in areas traditionally linked to the Lenape. Central to U.S. founding, it houses Independence Hall, where pivotal documents were crafted. The historic district showcases the Liberty Bell and other national relics. Its varied neighborhoods, like South Street and Fishtown, offer eclectic dining, shopping, and culture. Famous for the Philly cheesesteak and landmarks like the Philadelphia Museum of Art's "Rocky Steps", Philadelphia blends deep history with contemporary urban vibrancy on the East Coast.`,display_label:"Philadelphia, Pennsylvania, USA",display_sublabel:"(c-us-pa-phl)"}]},{level:"city",id:"c-us-pa-pit",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Nestled at the meeting point of the Allegheny, Monongahela, and Ohio Rivers, Pittsburgh stands on lands historically tied to the Haudenosaunee, including the Seneca and Delaware. This city, once a steel powerhouse, has evolved into an epicenter for education, healthcare, and tech. It boasts eminent institutions like the University of Pittsburgh and Carnegie Mellon University. Cultural landmarks include the Andy Warhol Museum, Pittsburgh Symphony Orchestra, and the vibrant Strip District. With a fervent sports spirit—home to the Steelers, Pirates, and Penguins—and green havens like Schenley Park, Pittsburgh seamlessly melds its storied past with dynamic progress in Pennsylvania.",display_label:"Pittsburgh, Pennsylvania, USA",display_sublabel:"(c-us-pa-pit)"}]},{level:"city",id:"c-us-ri-pvd",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Rhode Island's capital, Providence, has a history intertwined with the Narragansett and Wampanoag tribes. The city is a cultural hub, home to prestigious institutions like Brown University and the Rhode Island School of Design. Providence's waterfront, historic architecture, and annual events like WaterFire contribute to its vibrant and diverse atmosphere.",display_label:"Providence, Rhode Island, USA",display_sublabel:"(c-us-ri-pvd)"}]},{level:"city",id:"c-us-sc-chs",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Famed for its antebellum architecture and historic allure, Charleston embodies Southern charm and culture. Traditionally tied to the Yuchi and Shawnee, its historic district boasts cobblestone streets, scenic gardens, and landmarks like the Nathaniel Russell House. The city's culinary reputation shines with Lowcountry dishes such as shrimp and grits. Celebrated events include the Spoleto Festival USA and Charleston Wine + Food Festival. Overlooking the Battery, with cultural gems like the Gibbes Museum of Art and a deep African-American legacy, Charleston melds history, gastronomy, and coastal elegance in South Carolina.",display_label:"Charleston, South Carolina, USA",display_sublabel:"(c-us-sc-chs)"}]},{level:"city",id:"c-us-sd-fsd",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Named after the Sioux tribe that once inhabited the area, Sioux Falls, showcases a deep Native American heritage. The city is characterized by its namesake waterfalls, and the SculptureWalk adds a touch of artistic flair to the downtown area. With a friendly community and a focus on public art, Sioux Falls embraces its indigenous roots.",display_label:"Sioux Falls, South Dakota, USA",display_sublabel:"(c-us-sd-fsd)"}]},{level:"city",id:"c-us-tn-bna",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:`Known as "Music City, USA," Nashville, situated on historic Cherokee Nation lands, is a musical haven. Home to the Grand Ole Opry, Country Music Hall of Fame, and Ryman Auditorium, it pulsates with musical legacy. Beyond country, live music echoes through rock, blues, and more in vibrant nightspots. Nashville's culinary offerings include hot chicken and Southern comfort delights. Boasting a booming healthcare sector, a lively downtown, and cultural gems like the Frist Art Museum, Nashville delivers a dynamic, diverse experience in Tennessee's heart.`,display_label:"Nashville, Tennessee, USA",display_sublabel:"(c-us-tn-bna)"}]},{level:"city",id:"c-us-tn-mem",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Located along the Mississippi River in Tennessee's southwest, Memphis stands out for its influential music history and cultural contributions. Within the Chickasaw's ancestral territories, this city birthed blues music and is renowned for iconic studios like Sun and Stax. Graceland, Elvis Presley's former residence, draws countless visitors. Famous for its barbecue, dishes like ribs and pulled pork are local staples. The city's pulse can be felt on Beale Street, a historic hotspot, and places like the National Civil Rights Museum. Combining musical heritage, deep history, and Southern warmth, Memphis exemplifies the Volunteer State's spirit.",display_label:"Memphis, Tennessee, USA",display_sublabel:"(c-us-tn-mem)"}]},{level:"city",id:"c-us-tx-arj",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"Centrally positioned between Dallas and Fort Worth, Arlington shines as a North Texas gem, steeped in the historic realms of the Comanche and Kiowa. As the sporting heart, it boasts the AT&T Stadium, home to the Dallas Cowboys, and the Globe Life Field for the Texas Rangers. Beyond sports, it's a haven for thrill-seekers with Six Flags Over Texas. The city also features the International Bowling Campus, the revered National Medal of Honor Museum, and the bustling Arlington Highlands for shopping enthusiasts. With its prime location, eclectic dining, and diverse entertainment, Arlington stands as a vibrant suburban hotspot in the Dallas-Fort Worth metroplex.",display_label:"Arlington, Texas, USA",display_sublabel:"(c-us-tx-arj)"}]},{level:"city",id:"c-us-tx-aus",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`Texas' capital, Austin, pulsates with music, tech, and outdoor vigor, rooted in Comanche and Tonkawa territories. Its motto, "Keep Austin Weird," showcases its distinct flair. Renowned for live music, especially along 6th Street and the annual SXSW festival, Austin is an artist's haven. Outdoors, the Barton Creek Greenbelt invites hikers, while kayakers explore Lady Bird Lake. Hosting the University of Texas and the State Capitol, and flavored by food trucks and a rich culinary scene, Austin fuses a relaxed vibe with cultural depth in Texas's core.`,display_label:"Austin, Texas, USA",display_sublabel:"(c-us-tx-aus)"}]},{level:"city",id:"c-us-tx-crp",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"Nestled on the Gulf of Mexico in South Texas, Corpus Christi is famed for its pristine beaches and outdoor activities. It lies within the ancestral lands of the Karankawa and Coahuiltecan. Attractions include North Beach, Mustang Island, and Padre Island National Seashore, ideal for swimming, fishing, and birdwatching. Landmarks like the Texas State Aquarium and the USS Lexington Museum enrich visitors' experiences. Marrying its maritime roots with environmental dedication and a flourishing arts scene, Corpus Christi epitomizes Gulf Coast beauty and culture in Texas.",display_label:"Corpus Christi, Texas, USA",display_sublabel:"(c-us-tx-crp)"}]},{level:"city",id:"c-us-tx-dal",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"In the heart of Texas, Dallas stands as a vibrant blend of culture, business, and entertainment, acknowledging its Caddo ancestral roots. Iconic structures like Reunion Tower define its skyline. Rich in arts, the Dallas Museum of Art and Nasher Sculpture Center are city gems. The historic West End and lively Bishop Arts District reflect its various communities. Hosting the Dallas Cowboys and Mavericks, the city pulses with sports enthusiasm. With a thriving business sector, signature Tex-Mex and barbecue cuisine, Dallas embodies a contemporary spirit in North Texas.",display_label:"Dallas, Texas, USA",display_sublabel:"(c-us-tx-dal)"}]},{level:"city",id:"c-us-tx-elp",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"In Texas's westernmost region, El Paso, on the U.S.-Mexico boundary, is celebrated for its rich Hispanic heritage, desert beauty, and warm spirit, acknowledging its roots to the Pueblo, Apache, and Comanche. It offers vistas from Scenic Drive and the Wyler Aerial Tramway, spanning the Rio Grande and Franklin Mountains. A lively arts milieu is seen at the El Paso Museum of Art and the Plaza Theatre. Infused with Mexican flavors, the culinary scene relishes dishes like chiles rellenos and tacos. Merging cultures, outdoor activities, and community ties, El Paso stands as a distinctive, inviting Texan city.",display_label:"El Paso, Texas, USA",display_sublabel:"(c-us-tx-elp)"}]},{level:"city",id:"c-us-tx-fwt",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`Known as the "City of Cowboys and Culture," Fort Worth celebrates its Western roots and diverse arts. Situated in areas once linked to the Comanche and Kiowa, the city's Fort Worth Stockyards showcase its cowboy legacy with rodeos and cattle drives. Notable institutions include the Kimbell Art Museum and the Amon Carter Museum of American Art. The annual Fort Worth Stock Show and Rodeo is a highlight. Alongside its rich history, the downtown area, Fort Worth Water Gardens, and culinary offerings make the city a fusion of tradition and contemporary flair in North Texas.`,display_label:"Fort Worth, Texas, USA",display_sublabel:"(c-us-tx-fwt)"}]},{level:"city",id:"c-us-tx-grx",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Located in the Dallas-Fort Worth metropolitan area, Garland is a city known for its welcoming community and atmosphere, Garland is in the traditional territories of the Caddo and Wichita. The city features a mix of residential neighborhoods, parks, and green spaces, including Spring Creek Forest Preserve and Firewheel Golf Park. Garland offers cultural attractions like the Granville Arts Center, which hosts theatrical performances and art exhibitions. With a commitment to education, vital community programs, and a variety of dining and shopping options, Garland is a suburban gem that provides a high quality of life to its residents.",display_label:"Garland, Texas, USA",display_sublabel:"(c-us-tx-grx)"}]},{level:"city",id:"c-us-tx-hou",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"Texas' biggest city and the U.S.'s fourth-largest, Houston is a vibrant hub recognized for its energy sector and space endeavors, it is in the traditional territory of the Karankawa, Akokisa, and Attacapa. Housing NASA's Johnson Space Center, key in the Apollo missions, Houston also boasts a rich Museum District, with the Museum of Fine Arts and Natural Science Museum as highlights. Its culinary scene is noted for global tastes, especially Vietnamese and Mexican dishes. Coupled with an active theater district, sports passion for teams like the Astros and Rockets, and green havens like Buffalo Bayou Park, Houston melds cosmopolitan flair with Southern warmth in the heart of Texas.",display_label:"Houston, Texas, USA",display_sublabel:"(c-us-tx-hou)"}]},{level:"city",id:"c-us-tx-irt",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Irving, part of the Dallas-Fort Worth metro, thrives with diverse businesses and cultural richness on traditional Caddo and Wichita lands. Home to the iconic Las Colinas Urban Center and Mustangs of Las Colinas sculpture, it hosts the vibrant Irving Main Street Event. Close to DFW International Airport, it's a convenient travel hub. Embracing green spaces like Mandalay Canal Walk, and blending corporate hubs with suburban charm, Irving delivers urban convenience and community warmth in North Texas.",display_label:"Irving, Texas, USA",display_sublabel:"(c-us-tx-irt)"}]},{level:"city",id:"c-us-tx-lbb",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"In the western part of the state, Lubbock, historically linked to the Comanche, shines as a music hub, especially in country and rock genres. It's the birthplace of Buddy Holly, celebrated at the Buddy Holly Center. Home to Texas Tech University, the city buzzes with youthful vigor. Cultural delights include the Louise Hopkins Underwood Center for the Arts and the Lubbock Symphony Orchestra. Offering outdoor pursuits, a vibrant arts scene, and a deep West Texas pride, Lubbock weaves a unique tapestry of culture and tradition on the South Plains.",display_label:"Lubbock, Texas, USA",display_sublabel:"(c-us-tx-lbb)"}]},{level:"city",id:"c-us-tx-lrd",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Located on the US-Mexico border in South Texas, Laredo, near the traditional lands of the Coahuiltecan, embraces a vibrant Hispanic culture and binational identity. As one of the busiest inland ports, it thrives on significant US-Mexico trade. Laredo celebrates its heritage with events like Washington's Birthday Celebration, one of the country's largest. The city offers a fusion of Mexican and Texan cuisine, including favorites like carne asada and tamales. With bustling trade, deep Mexican ties, and a warm welcome, Laredo stands as a culturally rich gem in the Lone Star State.",display_label:"Laredo, Texas, USA",display_sublabel:"(c-us-tx-lrd)"}]},{level:"city",id:"c-us-tx-plz",population_bin:"274,001 - 320,000",PlaceDescriptions:[{display_details:"In the Dallas-Fort Worth area, Plano, on Tonkawa, Wichita, and Caddo lands, offers a high quality of life. As a thriving corporate hub, the city blends business opportunities with a welcoming community spirit. Plano's abundant green spaces, exemplified by the picturesque Arbor Hills Nature Preserve, beckon outdoor enthusiasts to explore and unwind. For those with a penchant for shopping and dining, The Shops at Legacy and the charming historic downtown area offer a plethora of choices. With its dynamic blend of business prowess, natural beauty, and a vibrant cultural scene, Plano consistently ranks among the top places to call home in the United States, a testament to its enduring appeal.",display_label:"Plano, Texas, USA",display_sublabel:"(c-us-tx-plz)"}]},{level:"city",id:"c-us-tx-sat",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:"In the heart of South Texas, San Antonio stands as a treasure trove of history, culture, and lively neighborhoods. Nestled in the region with historical Coahuiltecan ties, it boasts the iconic Alamo, a pivotal site in the Texas Revolution. Meandering along the San Antonio River, the famous River Walk offers a unique dining and shopping experience. Festivals like Fiesta San Antonio and a rich culinary scene, featuring Tex-Mex and barbecue, add vibrancy to the city. With a robust military presence, Fort Sam Houston, and a fusion of Spanish and Mexican influences, San Antonio beautifully blends its heritage with modernity in the Lone Star State.",display_label:"San Antonio, Texas, USA",display_sublabel:"(c-us-tx-sat)"}]},{level:"city",id:"c-us-ut-slc",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Before the arrival of European settlers, the land around Salt Lake City was home to the Ute, Shoshone, and Goshute tribes. Today, the city is a gateway to outdoor adventures, surrounded by the majestic Wasatch Mountains. Salt Lake City also serves as the headquarters of the Church of Jesus Christ of Latter-day Saints, with the iconic Salt Lake Temple gracing its skyline.",display_label:"Salt Lake City, Utah, USA",display_sublabel:"(c-us-ut-slc)"}]},{level:"city",id:"c-us-va-arp",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Nestled across the Potomac River from Washington, D.C., Arlington boasts both proximity to the capital and deep historical roots, lying near lands traditionally linked to the Powhatan Confederacy. Housing the Pentagon and the revered Arlington National Cemetery, it serves as a vital military and historical hub. The Rosslyn-Ballston corridor pulsates with businesses, eateries, and cultural spots. Its easy access to D.C.'s political and cultural heart makes it a prime residence for capital workers. Blending urban vibrancy with historical depth, Arlington shines as a gem in Northern Virginia.",display_label:"Arlington, Virginia, USA",display_sublabel:"(c-us-va-arp)"}]},{level:"city",id:"c-us-va-orf",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"In southeastern Virginia's Hampton Roads, Norfolk is a maritime city with deep historical ties to the Powhatan Confederacy. Hosting the world's largest naval base and the USS Wisconsin museum battleship, its maritime heritage is evident. The city's arts pulse through venues like the Chrysler Museum of Art and Virginia Opera. The waterfront, featuring the Waterside District and Norfolk Botanical Garden, offers diverse experiences. Blending historical neighborhoods, a rising tech sector, and maritime connections, Norfolk epitomizes Tidewater's blend of past and present.",display_label:"Norfolk, Virginia, USA",display_sublabel:"(c-us-va-orf)"}]},{level:"city",id:"c-us-va-ric",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"The capital of Virginia, Richmond stands as a testament to American history and Southern elegance. Historically intertwined with the Powhatan Confederacy, this city played a pivotal role in the American Civil War, evident in its Monument Avenue, adorned with Confederate statues. Richmond boasts the Thomas Jefferson-designed Virginia State Capitol. Cultural aficionados can explore the Virginia Museum of Fine Arts and enjoy performances by the Richmond Symphony Orchestra. With its burgeoning farm-to-table culinary landscape and the scenic James River offering rafting and biking opportunities, Richmond beautifully melds tradition and outdoor recreation in Virginia's heartland.",display_label:"Richmond, Virginia, USA",display_sublabel:"(c-us-va-ric)"}]},{level:"city",id:"c-us-va-ufg",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Nestled in southeastern Virginia's Hampton Roads region, Chesapeake boasts natural splendors, suburban allure, and a rich agricultural legacy, rooted in the ancestral lands of the Powhatan Confederacy. This diverse city intertwines residential communities with verdant parks like the Great Dismal Swamp National Wildlife Refuge. While its rural zones celebrate farming traditions, Chesapeake is an integral part of the Virginia Beach-Norfolk-Newport News metro. From navigating the Intracoastal Waterway to birdwatching in lush spaces, recreation abounds. Balancing nature conservation, community ethos, and quaint charm, Chesapeake is a refreshing enclave in coastal Virginia.",display_label:"Chesapeake, Virginia, USA",display_sublabel:"(c-us-va-ufg)"}]},{level:"city",id:"c-us-va-vab",population_bin:"320,001 - 480,000",PlaceDescriptions:[{display_details:"On Virginia's southeastern coast, Virginia Beach, with ties to the Powhatan Confederacy, is a renowned seaside haven. Its Oceanfront boasts a bustling boardwalk lined with eateries and entertainment spots. The city's famous three-mile boardwalk invites visitors to shops, hotels, and dining experiences. Popular for water sports like surfing, the city also hosts the annual Neptune Festival featuring sand art. With a notable military footprint, environmental dedication, and a lively arts scene, Virginia Beach melds coastal allure with community spirit in Virginia.",display_label:"Virginia Beach, Virginia, USA",display_sublabel:"(c-us-va-vab)"}]},{level:"city",id:"c-us-wa-geg",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Nestled in eastern Washington on the ancestral lands of the Spokane Tribe, Spokane is a city celebrated for its natural beauty, outdoor adventures, and vibrant culture. Downtown, along the picturesque Spokane River, thrives with attractions like Riverfront Park—a former World's Fair site—offering green spaces and the iconic Clocktower. The city's artistic spirit shines through institutions like the Spokane Symphony and the Northwest Museum of Arts and Culture. Spokane seamlessly blends urban comforts with the wild allure of the Pacific Northwest, inviting residents and visitors to enjoy skiing, hiking, and biking in the heart of the Inland Empire.",display_label:"Spokane, Washington, USA",display_sublabel:"(c-us-wa-geg)"}]},{level:"city",id:"c-us-wa-sea",population_bin:"680,001 - 9,000,000",PlaceDescriptions:[{display_details:`Dubbed the "Emerald City," Seattle rests in the Pacific Northwest, acknowledging its deep roots with the Duwamish Tribe and Coast Salish nations. Framed by the Olympic and Cascade mountains and the majestic Mount Rainier, Seattle is also a global tech nexus, hosting giants like Microsoft and Amazon. Its vibrant arts flourish at places like the Seattle Art Museum and Symphony Orchestra. Known for seafood, rich coffee culture, and diverse cuisine, the city embodies sustainability and musical vibrancy. Neighborhoods like Capitol Hill and Fremont exemplify its unique urban and nature blend in Washington's Evergreen State.`,display_label:"Seattle, Washington, USA",display_sublabel:"(c-us-wa-sea)"}]},{level:"city",id:"c-us-wa-tiw",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Nestled along Puget Sound, Tacoma shines with its natural allure and cultural vibrancy. Historically connected to the Puyallup Tribe and Coast Salish groups, this city boasts panoramic Mount Rainier views and attractions like Point Defiance Park and Zoo & Aquarium. The Museum District stands out with the Museum of Glass, displaying Dale Chihuly's masterpieces, and the Tacoma Art Museum. Historic areas like the Proctor and 6th Avenue Districts promise eclectic shopping and dining. With its ties to the Port of Tacoma, dedication to sustainability, and communal spirit, Tacoma melds urban flair with Pacific Northwest charm in Washington's Evergreen State.",display_label:"Tacoma, Washington, USA",display_sublabel:"(c-us-wa-tiw)"}]},{level:"city",id:"c-us-wi-mke",population_bin:"480,001 - 680,000",PlaceDescriptions:[{display_details:"Situated on Lake Michigan's western shore, Milwaukee celebrates its brewing legacy and is rooted in the Ho-Chunk (Winnebago) Nation's territories. Iconic breweries like Miller and Pabst define its heritage. The Historic Third Ward brims with art, culture, and commerce. The Milwaukee Art Museum, highlighted by the Calatrava-designed Quadracci Pavilion, stands as an architectural gem. Renowned for events like the world's largest music festival, Summerfest, and German Fest, the city pulses with festivity. Home to the Bucks and Brewers and emphasizing lakefront sustainability, Milwaukee melds tradition and modernity in Wisconsin.",display_label:"Milwaukee, Wisconsin, USA",display_sublabel:"(c-us-wi-mke)"}]},{level:"city",id:"c-us-wi-msn",population_bin:"216,001 - 274,000",PlaceDescriptions:[{display_details:"Wisconsin's capital, Madison, boasts scenic lakes, a lively cultural aura, and the prominent University of Wisconsin-Madison, acknowledging its Ho-Chunk (Winnebago) Nation ties. Nestled between lakes Mendota and Monona, the city offers ample recreational activities. State Street pulsates with diverse shops and eateries, while the Capitol Square showcases the architectural marvel, Wisconsin State Capitol. Renowned for outdoor events, especially the vast Dane County Farmers' Market, Madison emphasizes sustainability. Merging education, arts, historic and contemporary neighborhoods, Madison is a nexus of nature and culture in the Badger State.",display_label:"Madison, Wisconsin, USA",display_sublabel:"(c-us-wi-msn)"}]},{level:"city",id:"c-us-wy-cys",population_bin:"0 - 216,000",PlaceDescriptions:[{display_details:"Wyoming's capital, Cheyenne, is synonymous with the Old West and has a strong Native American presence, with the Cheyenne and Arapaho tribes having historical ties to the region. The city hosts the Cheyenne Frontier Days, a renowned rodeo that pays tribute to its Western heritage. Cheyenne's Wyoming State Capitol and historic downtown reflect the state's rich history.",display_label:"Cheyenne, Wyoming, USA",display_sublabel:"(c-us-wy-cys)"}]}]},places={data:data$3};function ascending$3(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function descending$1(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function bisector$1(e){let r,o,l;e.length!==2?(r=ascending$3,o=(_,S)=>ascending$3(e(_),S),l=(_,S)=>e(_)-S):(r=e===ascending$3||e===descending$1?e:zero$2,o=e,l=e);function p(_,S,v=0,s=_.length){if(v<s){if(r(S,S)!==0)return s;do{const d=v+s>>>1;o(_[d],S)<0?v=d+1:s=d}while(v<s)}return v}function f(_,S,v=0,s=_.length){if(v<s){if(r(S,S)!==0)return s;do{const d=v+s>>>1;o(_[d],S)<=0?v=d+1:s=d}while(v<s)}return v}function O(_,S,v=0,s=_.length){const d=p(_,S,v,s-1);return d>v&&l(_[d-1],S)>-l(_[d],S)?d-1:d}return{left:p,center:O,right:f}}function zero$2(){return 0}function number$5(e){return e===null?NaN:+e}function*numbers$2(e,r){if(r===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(yield o);else{let o=-1;for(let l of e)(l=r(l,++o,e))!=null&&(l=+l)>=l&&(yield l)}}const ascendingBisect=bisector$1(ascending$3),bisectRight$1=ascendingBisect.right,bisectLeft$1=ascendingBisect.left;bisector$1(number$5).center;const bisect$2=bisectRight$1;function count$2(e,r){let o=0;if(r===void 0)for(let l of e)l!=null&&(l=+l)>=l&&++o;else{let l=-1;for(let p of e)(p=r(p,++l,e))!=null&&(p=+p)>=p&&++o}return o}function variance(e,r){let o=0,l,p=0,f=0;if(r===void 0)for(let O of e)O!=null&&(O=+O)>=O&&(l=O-p,p+=l/++o,f+=l*(O-p));else{let O=-1;for(let _ of e)(_=r(_,++O,e))!=null&&(_=+_)>=_&&(l=_-p,p+=l/++o,f+=l*(_-p))}if(o>1)return f/(o-1)}function deviation(e,r){const o=variance(e,r);return o&&Math.sqrt(o)}function extent$1(e,r){let o,l;if(r===void 0)for(const p of e)p!=null&&(o===void 0?p>=p&&(o=l=p):(o>p&&(o=p),l<p&&(l=p)));else{let p=-1;for(let f of e)(f=r(f,++p,e))!=null&&(o===void 0?f>=f&&(o=l=f):(o>f&&(o=f),l<f&&(l=f)))}return[o,l]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const o=this._partials;let l=0;for(let p=0;p<this._n&&p<32;p++){const f=o[p],O=r+f,_=Math.abs(r)<Math.abs(f)?r-(O-f):f-(O-r);_&&(o[l++]=_),r=O}return o[l]=r,this._n=l+1,this}valueOf(){const r=this._partials;let o=this._n,l,p,f,O=0;if(o>0){for(O=r[--o];o>0&&(l=O,p=r[--o],O=l+p,f=p-(O-l),!f););o>0&&(f<0&&r[o-1]<0||f>0&&r[o-1]>0)&&(p=f*2,l=O+p,p==l-O&&(O=l))}return O}}class InternMap extends Map{constructor(r,o=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:o}}),r!=null)for(const[l,p]of r)this.set(l,p)}get(r){return super.get(intern_get(this,r))}has(r){return super.has(intern_get(this,r))}set(r,o){return super.set(intern_set(this,r),o)}delete(r){return super.delete(intern_delete(this,r))}}class InternSet extends Set{constructor(r,o=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:o}}),r!=null)for(const l of r)this.add(l)}has(r){return super.has(intern_get(this,r))}add(r){return super.add(intern_set(this,r))}delete(r){return super.delete(intern_delete(this,r))}}function intern_get({_intern:e,_key:r},o){const l=r(o);return e.has(l)?e.get(l):o}function intern_set({_intern:e,_key:r},o){const l=r(o);return e.has(l)?e.get(l):(e.set(l,o),o)}function intern_delete({_intern:e,_key:r},o){const l=r(o);return e.has(l)&&(o=e.get(l),e.delete(l)),o}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function identity$7(e){return e}function permute(e,r){return Array.from(r,o=>e[o])}function compareDefined(e=ascending$3){if(e===ascending$3)return ascendingDefined;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,o)=>{const l=e(r,o);return l||l===0?l:(e(o,o)===0)-(e(r,r)===0)}}function ascendingDefined(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}var array$9=Array.prototype,slice$3=array$9.slice;function constant$6(e){return()=>e}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,r,o){const l=(r-e)/Math.max(0,o),p=Math.floor(Math.log10(l)),f=l/Math.pow(10,p),O=f>=e10?10:f>=e5?5:f>=e2?2:1;let _,S,v;return p<0?(v=Math.pow(10,-p)/O,_=Math.round(e*v),S=Math.round(r*v),_/v<e&&++_,S/v>r&&--S,v=-v):(v=Math.pow(10,p)*O,_=Math.round(e/v),S=Math.round(r/v),_*v<e&&++_,S*v>r&&--S),S<_&&.5<=o&&o<2?tickSpec(e,r,o*2):[_,S,v]}function ticks(e,r,o){if(r=+r,e=+e,o=+o,!(o>0))return[];if(e===r)return[e];const l=r<e,[p,f,O]=l?tickSpec(r,e,o):tickSpec(e,r,o);if(!(f>=p))return[];const _=f-p+1,S=new Array(_);if(l)if(O<0)for(let v=0;v<_;++v)S[v]=(f-v)/-O;else for(let v=0;v<_;++v)S[v]=(f-v)*O;else if(O<0)for(let v=0;v<_;++v)S[v]=(p+v)/-O;else for(let v=0;v<_;++v)S[v]=(p+v)*O;return S}function tickIncrement(e,r,o){return r=+r,e=+e,o=+o,tickSpec(e,r,o)[2]}function tickStep(e,r,o){r=+r,e=+e,o=+o;const l=r<e,p=l?tickIncrement(r,e,o):tickIncrement(e,r,o);return(l?-1:1)*(p<0?1/-p:p)}function nice$1(e,r,o){let l;for(;;){const p=tickIncrement(e,r,o);if(p===l||p===0||!isFinite(p))return[e,r];p>0?(e=Math.floor(e/p)*p,r=Math.ceil(r/p)*p):p<0&&(e=Math.ceil(e*p)/p,r=Math.floor(r*p)/p),l=p}}function thresholdSturges(e){return Math.max(1,Math.ceil(Math.log(count$2(e))/Math.LN2)+1)}function bin$3(){var e=identity$7,r=extent$1,o=thresholdSturges;function l(p){Array.isArray(p)||(p=Array.from(p));var f,O=p.length,_,S,v=new Array(O);for(f=0;f<O;++f)v[f]=e(p[f],f,p);var s=r(v),d=s[0],g=s[1],P=o(v,d,g);if(!Array.isArray(P)){const J=g,Q=+P;if(r===extent$1&&([d,g]=nice$1(d,g,Q)),P=ticks(d,g,Q),P[0]<=d&&(S=tickIncrement(d,g,Q)),P[P.length-1]>=g)if(J>=g&&r===extent$1){const W=tickIncrement(d,g,Q);isFinite(W)&&(W>0?g=(Math.floor(g/W)+1)*W:W<0&&(g=(Math.ceil(g*-W)+1)/-W))}else P.pop()}for(var R=P.length,I=0,j=R;P[I]<=d;)++I;for(;P[j-1]>g;)--j;(I||j<R)&&(P=P.slice(I,j),R=j-I);var L=new Array(R+1),G;for(f=0;f<=R;++f)G=L[f]=[],G.x0=f>0?P[f-1]:d,G.x1=f<R?P[f]:g;if(isFinite(S)){if(S>0)for(f=0;f<O;++f)(_=v[f])!=null&&d<=_&&_<=g&&L[Math.min(R,Math.floor((_-d)/S))].push(p[f]);else if(S<0){for(f=0;f<O;++f)if((_=v[f])!=null&&d<=_&&_<=g){const J=Math.floor((d-_)*S);L[Math.min(R,J+(P[J]<=_))].push(p[f])}}}else for(f=0;f<O;++f)(_=v[f])!=null&&d<=_&&_<=g&&L[bisect$2(P,_,0,R)].push(p[f]);return L}return l.value=function(p){return arguments.length?(e=typeof p=="function"?p:constant$6(p),l):e},l.domain=function(p){return arguments.length?(r=typeof p=="function"?p:constant$6([p[0],p[1]]),l):r},l.thresholds=function(p){return arguments.length?(o=typeof p=="function"?p:constant$6(Array.isArray(p)?slice$3.call(p):p),l):o},l}function max$4(e,r){let o;if(r===void 0)for(const l of e)l!=null&&(o<l||o===void 0&&l>=l)&&(o=l);else{let l=-1;for(let p of e)(p=r(p,++l,e))!=null&&(o<p||o===void 0&&p>=p)&&(o=p)}return o}function min$3(e,r){let o;if(r===void 0)for(const l of e)l!=null&&(o>l||o===void 0&&l>=l)&&(o=l);else{let l=-1;for(let p of e)(p=r(p,++l,e))!=null&&(o>p||o===void 0&&p>=p)&&(o=p)}return o}function quickselect(e,r,o=0,l=1/0,p){if(r=Math.floor(r),o=Math.floor(Math.max(0,o)),l=Math.floor(Math.min(e.length-1,l)),!(o<=r&&r<=l))return e;for(p=p===void 0?ascendingDefined:compareDefined(p);l>o;){if(l-o>600){const S=l-o+1,v=r-o+1,s=Math.log(S),d=.5*Math.exp(2*s/3),g=.5*Math.sqrt(s*d*(S-d)/S)*(v-S/2<0?-1:1),P=Math.max(o,Math.floor(r-v*d/S+g)),R=Math.min(l,Math.floor(r+(S-v)*d/S+g));quickselect(e,r,P,R,p)}const f=e[r];let O=o,_=l;for(swap$1(e,o,r),p(e[l],f)>0&&swap$1(e,o,l);O<_;){for(swap$1(e,O,_),++O,--_;p(e[O],f)<0;)++O;for(;p(e[_],f)>0;)--_}p(e[o],f)===0?swap$1(e,o,_):(++_,swap$1(e,_,l)),_<=r&&(o=_+1),r<=_&&(l=_-1)}return e}function swap$1(e,r,o){const l=e[r];e[r]=e[o],e[o]=l}function quantile$2(e,r,o){if(e=Float64Array.from(numbers$2(e,o)),!(!(l=e.length)||isNaN(r=+r))){if(r<=0||l<2)return min$3(e);if(r>=1)return max$4(e);var l,p=(l-1)*r,f=Math.floor(p),O=max$4(quickselect(e,f).subarray(0,f+1)),_=min$3(e.subarray(f+1));return O+(_-O)*(p-f)}}function quantileSorted(e,r,o=number$5){if(!(!(l=e.length)||isNaN(r=+r))){if(r<=0||l<2)return+o(e[0],0,e);if(r>=1)return+o(e[l-1],l-1,e);var l,p=(l-1)*r,f=Math.floor(p),O=+o(e[f],f,e),_=+o(e[f+1],f+1,e);return O+(_-O)*(p-f)}}function mean(e,r){let o=0,l=0;if(r===void 0)for(let p of e)p!=null&&(p=+p)>=p&&(++o,l+=p);else{let p=-1;for(let f of e)(f=r(f,++p,e))!=null&&(f=+f)>=f&&(++o,l+=f)}if(o)return l/o}function median(e,r){return quantile$2(e,.5,r)}function*flatten(e){for(const r of e)yield*r}function merge$3(e){return Array.from(flatten(e))}function range$4(e,r,o){e=+e,r=+r,o=(p=arguments.length)<2?(r=e,e=0,1):p<3?1:+o;for(var l=-1,p=Math.max(0,Math.ceil((r-e)/o))|0,f=new Array(p);++l<p;)f[l]=e+l*o;return f}function sum$1(e,r){let o=0;if(r===void 0)for(let l of e)(l=+l)&&(o+=l);else{let l=-1;for(let p of e)(p=+r(p,++l,e))&&(o+=p)}return o}function intersection(e,...r){e=new InternSet(e),r=r.map(set$4);e:for(const o of e)for(const l of r)if(!l.has(o)){e.delete(o);continue e}return e}function set$4(e){return e instanceof InternSet?e:new InternSet(e)}function union(...e){const r=new InternSet;for(const o of e)for(const l of o)r.add(l);return r}var noop$5={value:()=>{}};function dispatch(){for(var e=0,r=arguments.length,o={},l;e<r;++e){if(!(l=arguments[e]+"")||l in o||/[\s.]/.test(l))throw new Error("illegal type: "+l);o[l]=[]}return new Dispatch(o)}function Dispatch(e){this._=e}function parseTypenames(e,r){return e.trim().split(/^|\s+/).map(function(o){var l="",p=o.indexOf(".");if(p>=0&&(l=o.slice(p+1),o=o.slice(0,p)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:l}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,r){var o=this._,l=parseTypenames(e+"",o),p,f=-1,O=l.length;if(arguments.length<2){for(;++f<O;)if((p=(e=l[f]).type)&&(p=get$5(o[p],e.name)))return p;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++f<O;)if(p=(e=l[f]).type)o[p]=set$3(o[p],e.name,r);else if(r==null)for(p in o)o[p]=set$3(o[p],e.name,null);return this},copy:function(){var e={},r=this._;for(var o in r)e[o]=r[o].slice();return new Dispatch(e)},call:function(e,r){if((p=arguments.length-2)>0)for(var o=new Array(p),l=0,p,f;l<p;++l)o[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=this._[e],l=0,p=f.length;l<p;++l)f[l].value.apply(r,o)},apply:function(e,r,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],p=0,f=l.length;p<f;++p)l[p].value.apply(r,o)}};function get$5(e,r){for(var o=0,l=e.length,p;o<l;++o)if((p=e[o]).name===r)return p.value}function set$3(e,r,o){for(var l=0,p=e.length;l<p;++l)if(e[l].name===r){e[l]=noop$5,e=e.slice(0,l).concat(e.slice(l+1));break}return o!=null&&e.push({name:r,value:o}),e}function define(e,r,o){e.prototype=r.prototype=o,o.constructor=e}function extend$2(e,r){var o=Object.create(e.prototype);for(var l in r)o[l]=r[l];return o}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(e){var r,o;return e=(e+"").trim().toLowerCase(),(r=reHex.exec(e))?(o=r[1].length,r=parseInt(r[1],16),o===6?rgbn(r):o===3?new Rgb(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?rgba(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?rgba(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=reRgbInteger.exec(e))?new Rgb(r[1],r[2],r[3],1):(r=reRgbPercent.exec(e))?new Rgb(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=reRgbaInteger.exec(e))?rgba(r[1],r[2],r[3],r[4]):(r=reRgbaPercent.exec(e))?rgba(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=reHslPercent.exec(e))?hsla(r[1],r[2]/100,r[3]/100,1):(r=reHslaPercent.exec(e))?hsla(r[1],r[2]/100,r[3]/100,r[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,r,o,l){return l<=0&&(e=r=o=NaN),new Rgb(e,r,o,l)}function rgbConvert(e){return e instanceof Color||(e=color$1(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,r,o,l){return arguments.length===1?rgbConvert(e):new Rgb(e,r,o,l??1)}function Rgb(e,r,o,l){this.r=+e,this.g=+r,this.b=+o,this.opacity=+l}define(Rgb,rgb,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,r,o,l){return l<=0?e=r=o=NaN:o<=0||o>=1?e=r=NaN:r<=0&&(e=NaN),new Hsl(e,r,o,l)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color$1(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var r=e.r/255,o=e.g/255,l=e.b/255,p=Math.min(r,o,l),f=Math.max(r,o,l),O=NaN,_=f-p,S=(f+p)/2;return _?(r===f?O=(o-l)/_+(o<l)*6:o===f?O=(l-r)/_+2:O=(r-o)/_+4,_/=S<.5?f+p:2-f-p,O*=60):_=S>0&&S<1?0:O,new Hsl(O,_,S,e.opacity)}function hsl$2(e,r,o,l){return arguments.length===1?hslConvert(e):new Hsl(e,r,o,l??1)}function Hsl(e,r,o,l){this.h=+e,this.s=+r,this.l=+o,this.opacity=+l}define(Hsl,hsl$2,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,l=o+(o<.5?o:1-o)*r,p=2*o-l;return new Rgb(hsl2rgb(e>=240?e-240:e+120,p,l),hsl2rgb(e,p,l),hsl2rgb(e<120?e+240:e-120,p,l),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,r,o){return(e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r)*255}const radians$1=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$3=4/29,t1$2=6/29,t2=3*t1$2*t1$2,t3=t1$2*t1$2*t1$2;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var r=rgb2lrgb(e.r),o=rgb2lrgb(e.g),l=rgb2lrgb(e.b),p=xyz2lab((.2225045*r+.7168786*o+.0606169*l)/Yn),f,O;return r===o&&o===l?f=O=p:(f=xyz2lab((.4360747*r+.3850649*o+.1430804*l)/Xn),O=xyz2lab((.0139322*r+.0971045*o+.7141733*l)/Zn)),new Lab(116*p-16,500*(f-p),200*(p-O),e.opacity)}function lab$1(e,r,o,l){return arguments.length===1?labConvert(e):new Lab(e,r,o,l??1)}function Lab(e,r,o,l){this.l=+e,this.a=+r,this.b=+o,this.opacity=+l}define(Lab,lab$1,extend$2(Color,{brighter(e){return new Lab(this.l+K*(e??1),this.a,this.b,this.opacity)},darker(e){return new Lab(this.l-K*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,o=isNaN(this.b)?e:e-this.b/200;return r=Xn*lab2xyz(r),e=Yn*lab2xyz(e),o=Zn*lab2xyz(o),new Rgb(lrgb2rgb(3.1338561*r-1.6168667*e-.4906146*o),lrgb2rgb(-.9787684*r+1.9161415*e+.033454*o),lrgb2rgb(.0719453*r-.2289914*e+1.4052427*o),this.opacity)}}));function xyz2lab(e){return e>t3?Math.pow(e,1/3):e/t2+t0$3}function lab2xyz(e){return e>t1$2?e*e*e:t2*(e-t0$3)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),e.a===0&&e.b===0)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var r=Math.atan2(e.b,e.a)*degrees$2;return new Hcl(r<0?r+360:r,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl$2(e,r,o,l){return arguments.length===1?hclConvert(e):new Hcl(e,r,o,l??1)}function Hcl(e,r,o,l){this.h=+e,this.c=+r,this.l=+o,this.opacity=+l}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var r=e.h*radians$1;return new Lab(e.l,Math.cos(r)*e.c,Math.sin(r)*e.c,e.opacity)}define(Hcl,hcl$2,extend$2(Color,{brighter(e){return new Hcl(this.h,this.c,this.l+K*(e??1),this.opacity)},darker(e){return new Hcl(this.h,this.c,this.l-K*(e??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B$1=1.78277,C$1=-.29227,D$1=-.90649,E=1.97294,ED=E*D$1,EB=E*B$1,BC_DA=B$1*C$1-D$1*A;function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var r=e.r/255,o=e.g/255,l=e.b/255,p=(BC_DA*l+ED*r-EB*o)/(BC_DA+ED-EB),f=l-p,O=(E*(o-p)-C$1*f)/D$1,_=Math.sqrt(O*O+f*f)/(E*p*(1-p)),S=_?Math.atan2(O,f)*degrees$2-120:NaN;return new Cubehelix(S<0?S+360:S,_,p,e.opacity)}function cubehelix$2(e,r,o,l){return arguments.length===1?cubehelixConvert(e):new Cubehelix(e,r,o,l??1)}function Cubehelix(e,r,o,l){this.h=+e,this.s=+r,this.l=+o,this.opacity=+l}define(Cubehelix,cubehelix$2,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*radians$1,r=+this.l,o=isNaN(this.s)?0:this.s*r*(1-r),l=Math.cos(e),p=Math.sin(e);return new Rgb(255*(r+o*(A*l+B$1*p)),255*(r+o*(C$1*l+D$1*p)),255*(r+o*(E*l)),this.opacity)}}));function basis(e,r,o,l,p){var f=e*e,O=f*e;return((1-3*e+3*f-O)*r+(4-6*f+3*O)*o+(1+3*e+3*f-3*O)*l+O*p)/6}function basis$1(e){var r=e.length-1;return function(o){var l=o<=0?o=0:o>=1?(o=1,r-1):Math.floor(o*r),p=e[l],f=e[l+1],O=l>0?e[l-1]:2*p-f,_=l<r-1?e[l+2]:2*f-p;return basis((o-l/r)*r,O,p,f,_)}}function basisClosed(e){var r=e.length;return function(o){var l=Math.floor(((o%=1)<0?++o:o)*r),p=e[(l+r-1)%r],f=e[l%r],O=e[(l+1)%r],_=e[(l+2)%r];return basis((o-l/r)*r,p,f,O,_)}}const constant$5=e=>()=>e;function linear$2(e,r){return function(o){return e+o*r}}function exponential(e,r,o){return e=Math.pow(e,o),r=Math.pow(r,o)-e,o=1/o,function(l){return Math.pow(e+l*r,o)}}function hue$1(e,r){var o=r-e;return o?linear$2(e,o>180||o<-180?o-360*Math.round(o/360):o):constant$5(isNaN(e)?r:e)}function gamma(e){return(e=+e)==1?nogamma:function(r,o){return o-r?exponential(r,o,e):constant$5(isNaN(r)?o:r)}}function nogamma(e,r){var o=r-e;return o?linear$2(e,o):constant$5(isNaN(e)?r:e)}const interpolateRgb=function e(r){var o=gamma(r);function l(p,f){var O=o((p=rgb(p)).r,(f=rgb(f)).r),_=o(p.g,f.g),S=o(p.b,f.b),v=nogamma(p.opacity,f.opacity);return function(s){return p.r=O(s),p.g=_(s),p.b=S(s),p.opacity=v(s),p+""}}return l.gamma=e,l}(1);function rgbSpline(e){return function(r){var o=r.length,l=new Array(o),p=new Array(o),f=new Array(o),O,_;for(O=0;O<o;++O)_=rgb(r[O]),l[O]=_.r||0,p[O]=_.g||0,f[O]=_.b||0;return l=e(l),p=e(p),f=e(f),_.opacity=1,function(S){return _.r=l(S),_.g=p(S),_.b=f(S),_+""}}}var rgbBasis=rgbSpline(basis$1),rgbBasisClosed=rgbSpline(basisClosed);function numberArray(e,r){r||(r=[]);var o=e?Math.min(r.length,e.length):0,l=r.slice(),p;return function(f){for(p=0;p<o;++p)l[p]=e[p]*(1-f)+r[p]*f;return l}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function array$8(e,r){return(isNumberArray(r)?numberArray:genericArray)(e,r)}function genericArray(e,r){var o=r?r.length:0,l=e?Math.min(o,e.length):0,p=new Array(l),f=new Array(o),O;for(O=0;O<l;++O)p[O]=interpolate$1(e[O],r[O]);for(;O<o;++O)f[O]=r[O];return function(_){for(O=0;O<l;++O)f[O]=p[O](_);return f}}function date$2(e,r){var o=new Date;return e=+e,r=+r,function(l){return o.setTime(e*(1-l)+r*l),o}}function interpolateNumber(e,r){return e=+e,r=+r,function(o){return e*(1-o)+r*o}}function object$3(e,r){var o={},l={},p;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(p in r)p in e?o[p]=interpolate$1(e[p],r[p]):l[p]=r[p];return function(f){for(p in o)l[p]=o[p](f);return l}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$1(e){return function(){return e}}function one$1(e){return function(r){return e(r)+""}}function interpolateString(e,r){var o=reA.lastIndex=reB.lastIndex=0,l,p,f,O=-1,_=[],S=[];for(e=e+"",r=r+"";(l=reA.exec(e))&&(p=reB.exec(r));)(f=p.index)>o&&(f=r.slice(o,f),_[O]?_[O]+=f:_[++O]=f),(l=l[0])===(p=p[0])?_[O]?_[O]+=p:_[++O]=p:(_[++O]=null,S.push({i:O,x:interpolateNumber(l,p)})),o=reB.lastIndex;return o<r.length&&(f=r.slice(o),_[O]?_[O]+=f:_[++O]=f),_.length<2?S[0]?one$1(S[0].x):zero$1(r):(r=S.length,function(v){for(var s=0,d;s<r;++s)_[(d=S[s]).i]=d.x(v);return _.join("")})}function interpolate$1(e,r){var o=typeof r,l;return r==null||o==="boolean"?constant$5(r):(o==="number"?interpolateNumber:o==="string"?(l=color$1(r))?(r=l,interpolateRgb):interpolateString:r instanceof color$1?interpolateRgb:r instanceof Date?date$2:isNumberArray(r)?numberArray:Array.isArray(r)?genericArray:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?object$3:interpolateNumber)(e,r)}function discrete$1(e){var r=e.length;return function(o){return e[Math.max(0,Math.min(r-1,Math.floor(o*r)))]}}function hue(e,r){var o=hue$1(+e,+r);return function(l){var p=o(l);return p-360*Math.floor(p/360)}}function interpolateRound(e,r){return e=+e,r=+r,function(o){return Math.round(e*(1-o)+r*o)}}var degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,r,o,l,p,f){var O,_,S;return(O=Math.sqrt(e*e+r*r))&&(e/=O,r/=O),(S=e*o+r*l)&&(o-=e*S,l-=r*S),(_=Math.sqrt(o*o+l*l))&&(o/=_,l/=_,S/=_),e*l<r*o&&(e=-e,r=-r,S=-S,O=-O),{translateX:p,translateY:f,rotate:Math.atan2(r,e)*degrees$1,skewX:Math.atan(S)*degrees$1,scaleX:O,scaleY:_}}var svgNode;function parseCss(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?identity$6:decompose(r.a,r.b,r.c,r.d,r.e,r.f)}function parseSvg(e){return e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),!(e=svgNode.transform.baseVal.consolidate()))?identity$6:(e=e.matrix,decompose(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform(e,r,o,l){function p(v){return v.length?v.pop()+" ":""}function f(v,s,d,g,P,R){if(v!==d||s!==g){var I=P.push("translate(",null,r,null,o);R.push({i:I-4,x:interpolateNumber(v,d)},{i:I-2,x:interpolateNumber(s,g)})}else(d||g)&&P.push("translate("+d+r+g+o)}function O(v,s,d,g){v!==s?(v-s>180?s+=360:s-v>180&&(v+=360),g.push({i:d.push(p(d)+"rotate(",null,l)-2,x:interpolateNumber(v,s)})):s&&d.push(p(d)+"rotate("+s+l)}function _(v,s,d,g){v!==s?g.push({i:d.push(p(d)+"skewX(",null,l)-2,x:interpolateNumber(v,s)}):s&&d.push(p(d)+"skewX("+s+l)}function S(v,s,d,g,P,R){if(v!==d||s!==g){var I=P.push(p(P)+"scale(",null,",",null,")");R.push({i:I-4,x:interpolateNumber(v,d)},{i:I-2,x:interpolateNumber(s,g)})}else(d!==1||g!==1)&&P.push(p(P)+"scale("+d+","+g+")")}return function(v,s){var d=[],g=[];return v=e(v),s=e(s),f(v.translateX,v.translateY,s.translateX,s.translateY,d,g),O(v.rotate,s.rotate,d,g),_(v.skewX,s.skewX,d,g),S(v.scaleX,v.scaleY,s.scaleX,s.scaleY,d,g),v=s=null,function(P){for(var R=-1,I=g.length,j;++R<I;)d[(j=g[R]).i]=j.x(P);return d.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2$1=1e-12;function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}const interpolateZoom=function e(r,o,l){function p(f,O){var _=f[0],S=f[1],v=f[2],s=O[0],d=O[1],g=O[2],P=s-_,R=d-S,I=P*P+R*R,j,L;if(I<epsilon2$1)L=Math.log(g/v)/r,j=function(te){return[_+te*P,S+te*R,v*Math.exp(r*te*L)]};else{var G=Math.sqrt(I),J=(g*g-v*v+l*I)/(2*v*o*G),Q=(g*g-v*v-l*I)/(2*g*o*G),W=Math.log(Math.sqrt(J*J+1)-J),Z=Math.log(Math.sqrt(Q*Q+1)-Q);L=(Z-W)/r,j=function(te){var ee=te*L,ie=cosh(W),oe=v/(o*G)*(ie*tanh(r*ee+W)-sinh(W));return[_+oe*P,S+oe*R,v*ie/cosh(r*ee+W)]}}return j.duration=L*1e3*r/Math.SQRT2,j}return p.rho=function(f){var O=Math.max(.001,+f),_=O*O,S=_*_;return e(O,_,S)},p}(Math.SQRT2,2,4);function hsl(e){return function(r,o){var l=e((r=hsl$2(r)).h,(o=hsl$2(o)).h),p=nogamma(r.s,o.s),f=nogamma(r.l,o.l),O=nogamma(r.opacity,o.opacity);return function(_){return r.h=l(_),r.s=p(_),r.l=f(_),r.opacity=O(_),r+""}}}const hsl$1=hsl(hue$1);var hslLong=hsl(nogamma);function lab(e,r){var o=nogamma((e=lab$1(e)).l,(r=lab$1(r)).l),l=nogamma(e.a,r.a),p=nogamma(e.b,r.b),f=nogamma(e.opacity,r.opacity);return function(O){return e.l=o(O),e.a=l(O),e.b=p(O),e.opacity=f(O),e+""}}function hcl(e){return function(r,o){var l=e((r=hcl$2(r)).h,(o=hcl$2(o)).h),p=nogamma(r.c,o.c),f=nogamma(r.l,o.l),O=nogamma(r.opacity,o.opacity);return function(_){return r.h=l(_),r.c=p(_),r.l=f(_),r.opacity=O(_),r+""}}}const hcl$1=hcl(hue$1);var hclLong=hcl(nogamma);function cubehelix(e){return function r(o){o=+o;function l(p,f){var O=e((p=cubehelix$2(p)).h,(f=cubehelix$2(f)).h),_=nogamma(p.s,f.s),S=nogamma(p.l,f.l),v=nogamma(p.opacity,f.opacity);return function(s){return p.h=O(s),p.s=_(s),p.l=S(Math.pow(s,o)),p.opacity=v(s),p+""}}return l.gamma=r,l}(1)}const cubehelix$1=cubehelix(hue$1);var cubehelixLong=cubehelix(nogamma);function piecewise(e,r){r===void 0&&(r=e,e=interpolate$1);for(var o=0,l=r.length-1,p=r[0],f=new Array(l<0?0:l);o<l;)f[o]=e(p,p=r[++o]);return function(O){var _=Math.max(0,Math.min(l-1,Math.floor(O*=l)));return f[_](O-_)}}function quantize$2(e,r){for(var o=new Array(r),l=0;l<r;++l)o[l]=e(l/(r-1));return o}const $$1=Object.freeze(Object.defineProperty({__proto__:null,interpolate:interpolate$1,interpolateArray:array$8,interpolateBasis:basis$1,interpolateBasisClosed:basisClosed,interpolateCubehelix:cubehelix$1,interpolateCubehelixLong:cubehelixLong,interpolateDate:date$2,interpolateDiscrete:discrete$1,interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateHsl:hsl$1,interpolateHslLong:hslLong,interpolateHue:hue,interpolateLab:lab,interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object$3,interpolateRgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateRound,interpolateString,interpolateTransformCss,interpolateTransformSvg,interpolateZoom,piecewise,quantize:quantize$2},Symbol.toStringTag,{value:"Module"}));var frame=0,timeout$1=0,interval$1=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer$1.prototype={constructor:Timer,restart:function(e,r,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?now():+o)+(r==null?0:+r),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=o,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer$1(e,r,o){var l=new Timer;return l.restart(e,r,o),l}function timerFlush(){now(),++frame;for(var e=taskHead,r;e;)(r=clockNow-e._time)>=0&&e._call.call(void 0,r),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),r=e-clockLast;r>pokeDelay&&(clockSkew-=r,clockLast=e)}function nap(){for(var e,r=taskHead,o,l=1/0;r;)r._call?(l>r._time&&(l=r._time),e=r,r=r._next):(o=r._next,r._next=null,r=e?e._next=o:taskHead=o);taskTail=e,sleep(l)}function sleep(e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var r=e-clockNow;r>24?(e<1/0&&(timeout$1=setTimeout(wake,e-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function interval(e,r,o){var l=new Timer,p=r;return r==null?(l.restart(e,r,o),l):(l._restart=l.restart,l.restart=function(f,O,_){O=+O,_=_==null?now():+_,l._restart(function S(v){v+=p,l._restart(S,p+=O,_),f(v)},O,_)},l.restart(e,r,o),l)}const pi$3=Math.PI,tau$3=2*pi$3,epsilon$6=1e-6,tauEpsilon=tau$3-epsilon$6;function append$2(e){this._+=e[0];for(let r=1,o=e.length;r<o;++r)this._+=arguments[r]+e[r]}function appendRound$1(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return append$2;const o=10**r;return function(l){this._+=l[0];for(let p=1,f=l.length;p<f;++p)this._+=Math.round(arguments[p]*o)/o+l[p]}}let Path$1=class{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?append$2:appendRound$1(r)}moveTo(r,o){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,o){this._append`L${this._x1=+r},${this._y1=+o}`}quadraticCurveTo(r,o,l,p){this._append`Q${+r},${+o},${this._x1=+l},${this._y1=+p}`}bezierCurveTo(r,o,l,p,f,O){this._append`C${+r},${+o},${+l},${+p},${this._x1=+f},${this._y1=+O}`}arcTo(r,o,l,p,f){if(r=+r,o=+o,l=+l,p=+p,f=+f,f<0)throw new Error(`negative radius: ${f}`);let O=this._x1,_=this._y1,S=l-r,v=p-o,s=O-r,d=_-o,g=s*s+d*d;if(this._x1===null)this._append`M${this._x1=r},${this._y1=o}`;else if(g>epsilon$6)if(!(Math.abs(d*S-v*s)>epsilon$6)||!f)this._append`L${this._x1=r},${this._y1=o}`;else{let P=l-O,R=p-_,I=S*S+v*v,j=P*P+R*R,L=Math.sqrt(I),G=Math.sqrt(g),J=f*Math.tan((pi$3-Math.acos((I+g-j)/(2*L*G)))/2),Q=J/G,W=J/L;Math.abs(Q-1)>epsilon$6&&this._append`L${r+Q*s},${o+Q*d}`,this._append`A${f},${f},0,0,${+(d*P>s*R)},${this._x1=r+W*S},${this._y1=o+W*v}`}}arc(r,o,l,p,f,O){if(r=+r,o=+o,l=+l,O=!!O,l<0)throw new Error(`negative radius: ${l}`);let _=l*Math.cos(p),S=l*Math.sin(p),v=r+_,s=o+S,d=1^O,g=O?p-f:f-p;this._x1===null?this._append`M${v},${s}`:(Math.abs(this._x1-v)>epsilon$6||Math.abs(this._y1-s)>epsilon$6)&&this._append`L${v},${s}`,l&&(g<0&&(g=g%tau$3+tau$3),g>tauEpsilon?this._append`A${l},${l},0,1,${d},${r-_},${o-S}A${l},${l},0,1,${d},${this._x1=v},${this._y1=s}`:g>epsilon$6&&this._append`A${l},${l},0,${+(g>=pi$3)},${d},${this._x1=r+l*Math.cos(f)},${this._y1=o+l*Math.sin(f)}`)}rect(r,o,l,p){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}h${l=+l}v${+p}h${-l}Z`}toString(){return this._}};function path$4(){return new Path$1}path$4.prototype=Path$1.prototype;const epsilon$5=11102230246251565e-32,splitter=134217729,resulterrbound=(3+8*epsilon$5)*epsilon$5;function sum(e,r,o,l,p){let f,O,_,S,v=r[0],s=l[0],d=0,g=0;s>v==s>-v?(f=v,v=r[++d]):(f=s,s=l[++g]);let P=0;if(d<e&&g<o)for(s>v==s>-v?(O=v+f,_=f-(O-v),v=r[++d]):(O=s+f,_=f-(O-s),s=l[++g]),f=O,_!==0&&(p[P++]=_);d<e&&g<o;)s>v==s>-v?(O=f+v,S=O-f,_=f-(O-S)+(v-S),v=r[++d]):(O=f+s,S=O-f,_=f-(O-S)+(s-S),s=l[++g]),f=O,_!==0&&(p[P++]=_);for(;d<e;)O=f+v,S=O-f,_=f-(O-S)+(v-S),v=r[++d],f=O,_!==0&&(p[P++]=_);for(;g<o;)O=f+s,S=O-f,_=f-(O-S)+(s-S),s=l[++g],f=O,_!==0&&(p[P++]=_);return(f!==0||P===0)&&(p[P++]=f),P}function estimate(e,r){let o=r[0];for(let l=1;l<e;l++)o+=r[l];return o}function vec(e){return new Float64Array(e)}const ccwerrboundA=(3+16*epsilon$5)*epsilon$5,ccwerrboundB=(2+12*epsilon$5)*epsilon$5,ccwerrboundC=(9+64*epsilon$5)*epsilon$5*epsilon$5,B=vec(4),C1=vec(8),C2=vec(12),D=vec(16),u=vec(4);function orient2dadapt(e,r,o,l,p,f,O){let _,S,v,s,d,g,P,R,I,j,L,G,J,Q,W,Z,te,ee;const ie=e-p,oe=o-p,se=r-f,le=l-f;Q=ie*le,g=splitter*ie,P=g-(g-ie),R=ie-P,g=splitter*le,I=g-(g-le),j=le-I,W=R*j-(Q-P*I-R*I-P*j),Z=se*oe,g=splitter*se,P=g-(g-se),R=se-P,g=splitter*oe,I=g-(g-oe),j=oe-I,te=R*j-(Z-P*I-R*I-P*j),L=W-te,d=W-L,B[0]=W-(L+d)+(d-te),G=Q+L,d=G-Q,J=Q-(G-d)+(L-d),L=J-Z,d=J-L,B[1]=J-(L+d)+(d-Z),ee=G+L,d=ee-G,B[2]=G-(ee-d)+(L-d),B[3]=ee;let de=estimate(4,B),pe=ccwerrboundB*O;if(de>=pe||-de>=pe||(d=e-ie,_=e-(ie+d)+(d-p),d=o-oe,v=o-(oe+d)+(d-p),d=r-se,S=r-(se+d)+(d-f),d=l-le,s=l-(le+d)+(d-f),_===0&&S===0&&v===0&&s===0)||(pe=ccwerrboundC*O+resulterrbound*Math.abs(de),de+=ie*s+le*_-(se*v+oe*S),de>=pe||-de>=pe))return de;Q=_*le,g=splitter*_,P=g-(g-_),R=_-P,g=splitter*le,I=g-(g-le),j=le-I,W=R*j-(Q-P*I-R*I-P*j),Z=S*oe,g=splitter*S,P=g-(g-S),R=S-P,g=splitter*oe,I=g-(g-oe),j=oe-I,te=R*j-(Z-P*I-R*I-P*j),L=W-te,d=W-L,u[0]=W-(L+d)+(d-te),G=Q+L,d=G-Q,J=Q-(G-d)+(L-d),L=J-Z,d=J-L,u[1]=J-(L+d)+(d-Z),ee=G+L,d=ee-G,u[2]=G-(ee-d)+(L-d),u[3]=ee;const fe=sum(4,B,4,u,C1);Q=ie*s,g=splitter*ie,P=g-(g-ie),R=ie-P,g=splitter*s,I=g-(g-s),j=s-I,W=R*j-(Q-P*I-R*I-P*j),Z=se*v,g=splitter*se,P=g-(g-se),R=se-P,g=splitter*v,I=g-(g-v),j=v-I,te=R*j-(Z-P*I-R*I-P*j),L=W-te,d=W-L,u[0]=W-(L+d)+(d-te),G=Q+L,d=G-Q,J=Q-(G-d)+(L-d),L=J-Z,d=J-L,u[1]=J-(L+d)+(d-Z),ee=G+L,d=ee-G,u[2]=G-(ee-d)+(L-d),u[3]=ee;const he=sum(fe,C1,4,u,C2);Q=_*s,g=splitter*_,P=g-(g-_),R=_-P,g=splitter*s,I=g-(g-s),j=s-I,W=R*j-(Q-P*I-R*I-P*j),Z=S*v,g=splitter*S,P=g-(g-S),R=S-P,g=splitter*v,I=g-(g-v),j=v-I,te=R*j-(Z-P*I-R*I-P*j),L=W-te,d=W-L,u[0]=W-(L+d)+(d-te),G=Q+L,d=G-Q,J=Q-(G-d)+(L-d),L=J-Z,d=J-L,u[1]=J-(L+d)+(d-Z),ee=G+L,d=ee-G,u[2]=G-(ee-d)+(L-d),u[3]=ee;const ge=sum(he,C2,4,u,D);return D[ge-1]}function orient2d(e,r,o,l,p,f){const O=(r-f)*(o-p),_=(e-p)*(l-f),S=O-_,v=Math.abs(O+_);return Math.abs(S)>=ccwerrboundA*v?S:-orient2dadapt(e,r,o,l,p,f,v)}const EPSILON$2=Math.pow(2,-52),EDGE_STACK=new Uint32Array(512);class Delaunator{static from(r,o=defaultGetX,l=defaultGetY){const p=r.length,f=new Float64Array(p*2);for(let O=0;O<p;O++){const _=r[O];f[2*O]=o(_),f[2*O+1]=l(_)}return new Delaunator(f)}constructor(r){const o=r.length>>1;if(o>0&&typeof r[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=r;const l=Math.max(2*o-5,0);this._triangles=new Uint32Array(l*3),this._halfedges=new Int32Array(l*3),this._hashSize=Math.ceil(Math.sqrt(o)),this._hullPrev=new Uint32Array(o),this._hullNext=new Uint32Array(o),this._hullTri=new Uint32Array(o),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(o),this._dists=new Float64Array(o),this.update()}update(){const{coords:r,_hullPrev:o,_hullNext:l,_hullTri:p,_hullHash:f}=this,O=r.length>>1;let _=1/0,S=1/0,v=-1/0,s=-1/0;for(let ie=0;ie<O;ie++){const oe=r[2*ie],se=r[2*ie+1];oe<_&&(_=oe),se<S&&(S=se),oe>v&&(v=oe),se>s&&(s=se),this._ids[ie]=ie}const d=(_+v)/2,g=(S+s)/2;let P,R,I;for(let ie=0,oe=1/0;ie<O;ie++){const se=dist$2(d,g,r[2*ie],r[2*ie+1]);se<oe&&(P=ie,oe=se)}const j=r[2*P],L=r[2*P+1];for(let ie=0,oe=1/0;ie<O;ie++){if(ie===P)continue;const se=dist$2(j,L,r[2*ie],r[2*ie+1]);se<oe&&se>0&&(R=ie,oe=se)}let G=r[2*R],J=r[2*R+1],Q=1/0;for(let ie=0;ie<O;ie++){if(ie===P||ie===R)continue;const oe=circumradius(j,L,G,J,r[2*ie],r[2*ie+1]);oe<Q&&(I=ie,Q=oe)}let W=r[2*I],Z=r[2*I+1];if(Q===1/0){for(let se=0;se<O;se++)this._dists[se]=r[2*se]-r[0]||r[2*se+1]-r[1];quicksort(this._ids,this._dists,0,O-1);const ie=new Uint32Array(O);let oe=0;for(let se=0,le=-1/0;se<O;se++){const de=this._ids[se],pe=this._dists[de];pe>le&&(ie[oe++]=de,le=pe)}this.hull=ie.subarray(0,oe),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(orient2d(j,L,G,J,W,Z)<0){const ie=R,oe=G,se=J;R=I,G=W,J=Z,I=ie,W=oe,Z=se}const te=circumcenter(j,L,G,J,W,Z);this._cx=te.x,this._cy=te.y;for(let ie=0;ie<O;ie++)this._dists[ie]=dist$2(r[2*ie],r[2*ie+1],te.x,te.y);quicksort(this._ids,this._dists,0,O-1),this._hullStart=P;let ee=3;l[P]=o[I]=R,l[R]=o[P]=I,l[I]=o[R]=P,p[P]=0,p[R]=1,p[I]=2,f.fill(-1),f[this._hashKey(j,L)]=P,f[this._hashKey(G,J)]=R,f[this._hashKey(W,Z)]=I,this.trianglesLen=0,this._addTriangle(P,R,I,-1,-1,-1);for(let ie=0,oe,se;ie<this._ids.length;ie++){const le=this._ids[ie],de=r[2*le],pe=r[2*le+1];if(ie>0&&Math.abs(de-oe)<=EPSILON$2&&Math.abs(pe-se)<=EPSILON$2||(oe=de,se=pe,le===P||le===R||le===I))continue;let fe=0;for(let ve=0,Ae=this._hashKey(de,pe);ve<this._hashSize&&(fe=f[(Ae+ve)%this._hashSize],!(fe!==-1&&fe!==l[fe]));ve++);fe=o[fe];let he=fe,ge;for(;ge=l[he],orient2d(de,pe,r[2*he],r[2*he+1],r[2*ge],r[2*ge+1])>=0;)if(he=ge,he===fe){he=-1;break}if(he===-1)continue;let me=this._addTriangle(he,le,l[he],-1,-1,p[he]);p[le]=this._legalize(me+2),p[he]=me,ee++;let ye=l[he];for(;ge=l[ye],orient2d(de,pe,r[2*ye],r[2*ye+1],r[2*ge],r[2*ge+1])<0;)me=this._addTriangle(ye,le,ge,p[le],-1,p[ye]),p[le]=this._legalize(me+2),l[ye]=ye,ee--,ye=ge;if(he===fe)for(;ge=o[he],orient2d(de,pe,r[2*ge],r[2*ge+1],r[2*he],r[2*he+1])<0;)me=this._addTriangle(ge,le,he,-1,p[he],p[ge]),this._legalize(me+2),p[ge]=me,l[he]=he,ee--,he=ge;this._hullStart=o[le]=he,l[he]=o[ye]=le,l[le]=ye,f[this._hashKey(de,pe)]=le,f[this._hashKey(r[2*he],r[2*he+1])]=he}this.hull=new Uint32Array(ee);for(let ie=0,oe=this._hullStart;ie<ee;ie++)this.hull[ie]=oe,oe=l[oe];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(r,o){return Math.floor(pseudoAngle(r-this._cx,o-this._cy)*this._hashSize)%this._hashSize}_legalize(r){const{_triangles:o,_halfedges:l,coords:p}=this;let f=0,O=0;for(;;){const _=l[r],S=r-r%3;if(O=S+(r+2)%3,_===-1){if(f===0)break;r=EDGE_STACK[--f];continue}const v=_-_%3,s=S+(r+1)%3,d=v+(_+2)%3,g=o[O],P=o[r],R=o[s],I=o[d];if(inCircle(p[2*g],p[2*g+1],p[2*P],p[2*P+1],p[2*R],p[2*R+1],p[2*I],p[2*I+1])){o[r]=I,o[_]=g;const L=l[d];if(L===-1){let J=this._hullStart;do{if(this._hullTri[J]===d){this._hullTri[J]=r;break}J=this._hullPrev[J]}while(J!==this._hullStart)}this._link(r,L),this._link(_,l[O]),this._link(O,d);const G=v+(_+1)%3;f<EDGE_STACK.length&&(EDGE_STACK[f++]=G)}else{if(f===0)break;r=EDGE_STACK[--f]}}return O}_link(r,o){this._halfedges[r]=o,o!==-1&&(this._halfedges[o]=r)}_addTriangle(r,o,l,p,f,O){const _=this.trianglesLen;return this._triangles[_]=r,this._triangles[_+1]=o,this._triangles[_+2]=l,this._link(_,p),this._link(_+1,f),this._link(_+2,O),this.trianglesLen+=3,_}}function pseudoAngle(e,r){const o=e/(Math.abs(e)+Math.abs(r));return(r>0?3-o:1+o)/4}function dist$2(e,r,o,l){const p=e-o,f=r-l;return p*p+f*f}function inCircle(e,r,o,l,p,f,O,_){const S=e-O,v=r-_,s=o-O,d=l-_,g=p-O,P=f-_,R=S*S+v*v,I=s*s+d*d,j=g*g+P*P;return S*(d*j-I*P)-v*(s*j-I*g)+R*(s*P-d*g)<0}function circumradius(e,r,o,l,p,f){const O=o-e,_=l-r,S=p-e,v=f-r,s=O*O+_*_,d=S*S+v*v,g=.5/(O*v-_*S),P=(v*s-_*d)*g,R=(O*d-S*s)*g;return P*P+R*R}function circumcenter(e,r,o,l,p,f){const O=o-e,_=l-r,S=p-e,v=f-r,s=O*O+_*_,d=S*S+v*v,g=.5/(O*v-_*S),P=e+(v*s-_*d)*g,R=r+(O*d-S*s)*g;return{x:P,y:R}}function quicksort(e,r,o,l){if(l-o<=20)for(let p=o+1;p<=l;p++){const f=e[p],O=r[f];let _=p-1;for(;_>=o&&r[e[_]]>O;)e[_+1]=e[_--];e[_+1]=f}else{const p=o+l>>1;let f=o+1,O=l;swap(e,p,f),r[e[o]]>r[e[l]]&&swap(e,o,l),r[e[f]]>r[e[l]]&&swap(e,f,l),r[e[o]]>r[e[f]]&&swap(e,o,f);const _=e[f],S=r[_];for(;;){do f++;while(r[e[f]]<S);do O--;while(r[e[O]]>S);if(O<f)break;swap(e,f,O)}e[o+1]=e[O],e[O]=_,l-f+1>=O-o?(quicksort(e,r,f,l),quicksort(e,r,o,O-1)):(quicksort(e,r,o,O-1),quicksort(e,r,f,l))}}function swap(e,r,o){const l=e[r];e[r]=e[o],e[o]=l}function defaultGetX(e){return e[0]}function defaultGetY(e){return e[1]}const epsilon$4=1e-6;class Path{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(r,o){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(r,o){this._+=`L${this._x1=+r},${this._y1=+o}`}arc(r,o,l){r=+r,o=+o,l=+l;const p=r+l,f=o;if(l<0)throw new Error("negative radius");this._x1===null?this._+=`M${p},${f}`:(Math.abs(this._x1-p)>epsilon$4||Math.abs(this._y1-f)>epsilon$4)&&(this._+="L"+p+","+f),l&&(this._+=`A${l},${l},0,1,1,${r-l},${o}A${l},${l},0,1,1,${this._x1=p},${this._y1=f}`)}rect(r,o,l,p){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}h${+l}v${+p}h${-l}Z`}value(){return this._||null}}class Polygon{constructor(){this._=[]}moveTo(r,o){this._.push([r,o])}closePath(){this._.push(this._[0].slice())}lineTo(r,o){this._.push([r,o])}value(){return this._.length?this._:null}}let Voronoi$1=class{constructor(r,[o,l,p,f]=[0,0,960,500]){if(!((p=+p)>=(o=+o))||!((f=+f)>=(l=+l)))throw new Error("invalid bounds");this.delaunay=r,this._circumcenters=new Float64Array(r.points.length*2),this.vectors=new Float64Array(r.points.length*2),this.xmax=p,this.xmin=o,this.ymax=f,this.ymin=l,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:r,hull:o,triangles:l},vectors:p}=this;let f,O;const _=this.circumcenters=this._circumcenters.subarray(0,l.length/3*2);for(let I=0,j=0,L=l.length,G,J;I<L;I+=3,j+=2){const Q=l[I]*2,W=l[I+1]*2,Z=l[I+2]*2,te=r[Q],ee=r[Q+1],ie=r[W],oe=r[W+1],se=r[Z],le=r[Z+1],de=ie-te,pe=oe-ee,fe=se-te,he=le-ee,ge=(de*he-pe*fe)*2;if(Math.abs(ge)<1e-9){if(f===void 0){f=O=0;for(const ye of o)f+=r[ye*2],O+=r[ye*2+1];f/=o.length,O/=o.length}const me=1e9*Math.sign((f-te)*he-(O-ee)*fe);G=(te+se)/2-me*he,J=(ee+le)/2+me*fe}else{const me=1/ge,ye=de*de+pe*pe,ve=fe*fe+he*he;G=te+(he*ye-pe*ve)*me,J=ee+(de*ve-fe*ye)*me}_[j]=G,_[j+1]=J}let S=o[o.length-1],v,s=S*4,d,g=r[2*S],P,R=r[2*S+1];p.fill(0);for(let I=0;I<o.length;++I)S=o[I],v=s,d=g,P=R,s=S*4,g=r[2*S],R=r[2*S+1],p[v+2]=p[s]=P-R,p[v+3]=p[s+1]=g-d}render(r){const o=r==null?r=new Path:void 0,{delaunay:{halfedges:l,inedges:p,hull:f},circumcenters:O,vectors:_}=this;if(f.length<=1)return null;for(let s=0,d=l.length;s<d;++s){const g=l[s];if(g<s)continue;const P=Math.floor(s/3)*2,R=Math.floor(g/3)*2,I=O[P],j=O[P+1],L=O[R],G=O[R+1];this._renderSegment(I,j,L,G,r)}let S,v=f[f.length-1];for(let s=0;s<f.length;++s){S=v,v=f[s];const d=Math.floor(p[v]/3)*2,g=O[d],P=O[d+1],R=S*4,I=this._project(g,P,_[R+2],_[R+3]);I&&this._renderSegment(g,P,I[0],I[1],r)}return o&&o.value()}renderBounds(r){const o=r==null?r=new Path:void 0;return r.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),o&&o.value()}renderCell(r,o){const l=o==null?o=new Path:void 0,p=this._clip(r);if(p===null||!p.length)return;o.moveTo(p[0],p[1]);let f=p.length;for(;p[0]===p[f-2]&&p[1]===p[f-1]&&f>1;)f-=2;for(let O=2;O<f;O+=2)(p[O]!==p[O-2]||p[O+1]!==p[O-1])&&o.lineTo(p[O],p[O+1]);return o.closePath(),l&&l.value()}*cellPolygons(){const{delaunay:{points:r}}=this;for(let o=0,l=r.length/2;o<l;++o){const p=this.cellPolygon(o);p&&(p.index=o,yield p)}}cellPolygon(r){const o=new Polygon;return this.renderCell(r,o),o.value()}_renderSegment(r,o,l,p,f){let O;const _=this._regioncode(r,o),S=this._regioncode(l,p);_===0&&S===0?(f.moveTo(r,o),f.lineTo(l,p)):(O=this._clipSegment(r,o,l,p,_,S))&&(f.moveTo(O[0],O[1]),f.lineTo(O[2],O[3]))}contains(r,o,l){return o=+o,o!==o||(l=+l,l!==l)?!1:this.delaunay._step(r,o,l)===r}*neighbors(r){const o=this._clip(r);if(o)for(const l of this.delaunay.neighbors(r)){const p=this._clip(l);if(p){e:for(let f=0,O=o.length;f<O;f+=2)for(let _=0,S=p.length;_<S;_+=2)if(o[f]===p[_]&&o[f+1]===p[_+1]&&o[(f+2)%O]===p[(_+S-2)%S]&&o[(f+3)%O]===p[(_+S-1)%S]){yield l;break e}}}}_cell(r){const{circumcenters:o,delaunay:{inedges:l,halfedges:p,triangles:f}}=this,O=l[r];if(O===-1)return null;const _=[];let S=O;do{const v=Math.floor(S/3);if(_.push(o[v*2],o[v*2+1]),S=S%3===2?S-2:S+1,f[S]!==r)break;S=p[S]}while(S!==O&&S!==-1);return _}_clip(r){if(r===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const o=this._cell(r);if(o===null)return null;const{vectors:l}=this,p=r*4;return this._simplify(l[p]||l[p+1]?this._clipInfinite(r,o,l[p],l[p+1],l[p+2],l[p+3]):this._clipFinite(r,o))}_clipFinite(r,o){const l=o.length;let p=null,f,O,_=o[l-2],S=o[l-1],v,s=this._regioncode(_,S),d,g=0;for(let P=0;P<l;P+=2)if(f=_,O=S,_=o[P],S=o[P+1],v=s,s=this._regioncode(_,S),v===0&&s===0)d=g,g=0,p?p.push(_,S):p=[_,S];else{let R,I,j,L,G;if(v===0){if((R=this._clipSegment(f,O,_,S,v,s))===null)continue;[I,j,L,G]=R}else{if((R=this._clipSegment(_,S,f,O,s,v))===null)continue;[L,G,I,j]=R,d=g,g=this._edgecode(I,j),d&&g&&this._edge(r,d,g,p,p.length),p?p.push(I,j):p=[I,j]}d=g,g=this._edgecode(L,G),d&&g&&this._edge(r,d,g,p,p.length),p?p.push(L,G):p=[L,G]}if(p)d=g,g=this._edgecode(p[0],p[1]),d&&g&&this._edge(r,d,g,p,p.length);else if(this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return p}_clipSegment(r,o,l,p,f,O){const _=f<O;for(_&&([r,o,l,p,f,O]=[l,p,r,o,O,f]);;){if(f===0&&O===0)return _?[l,p,r,o]:[r,o,l,p];if(f&O)return null;let S,v,s=f||O;s&8?(S=r+(l-r)*(this.ymax-o)/(p-o),v=this.ymax):s&4?(S=r+(l-r)*(this.ymin-o)/(p-o),v=this.ymin):s&2?(v=o+(p-o)*(this.xmax-r)/(l-r),S=this.xmax):(v=o+(p-o)*(this.xmin-r)/(l-r),S=this.xmin),f?(r=S,o=v,f=this._regioncode(r,o)):(l=S,p=v,O=this._regioncode(l,p))}}_clipInfinite(r,o,l,p,f,O){let _=Array.from(o),S;if((S=this._project(_[0],_[1],l,p))&&_.unshift(S[0],S[1]),(S=this._project(_[_.length-2],_[_.length-1],f,O))&&_.push(S[0],S[1]),_=this._clipFinite(r,_))for(let v=0,s=_.length,d,g=this._edgecode(_[s-2],_[s-1]);v<s;v+=2)d=g,g=this._edgecode(_[v],_[v+1]),d&&g&&(v=this._edge(r,d,g,_,v),s=_.length);else this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(_=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return _}_edge(r,o,l,p,f){for(;o!==l;){let O,_;switch(o){case 5:o=4;continue;case 4:o=6,O=this.xmax,_=this.ymin;break;case 6:o=2;continue;case 2:o=10,O=this.xmax,_=this.ymax;break;case 10:o=8;continue;case 8:o=9,O=this.xmin,_=this.ymax;break;case 9:o=1;continue;case 1:o=5,O=this.xmin,_=this.ymin;break}(p[f]!==O||p[f+1]!==_)&&this.contains(r,O,_)&&(p.splice(f,0,O,_),f+=2)}return f}_project(r,o,l,p){let f=1/0,O,_,S;if(p<0){if(o<=this.ymin)return null;(O=(this.ymin-o)/p)<f&&(S=this.ymin,_=r+(f=O)*l)}else if(p>0){if(o>=this.ymax)return null;(O=(this.ymax-o)/p)<f&&(S=this.ymax,_=r+(f=O)*l)}if(l>0){if(r>=this.xmax)return null;(O=(this.xmax-r)/l)<f&&(_=this.xmax,S=o+(f=O)*p)}else if(l<0){if(r<=this.xmin)return null;(O=(this.xmin-r)/l)<f&&(_=this.xmin,S=o+(f=O)*p)}return[_,S]}_edgecode(r,o){return(r===this.xmin?1:r===this.xmax?2:0)|(o===this.ymin?4:o===this.ymax?8:0)}_regioncode(r,o){return(r<this.xmin?1:r>this.xmax?2:0)|(o<this.ymin?4:o>this.ymax?8:0)}_simplify(r){if(r&&r.length>4){for(let o=0;o<r.length;o+=2){const l=(o+2)%r.length,p=(o+4)%r.length;(r[o]===r[l]&&r[l]===r[p]||r[o+1]===r[l+1]&&r[l+1]===r[p+1])&&(r.splice(l,2),o-=2)}r.length||(r=null)}return r}};const tau$2=2*Math.PI,pow$4=Math.pow;function pointX(e){return e[0]}function pointY(e){return e[1]}function collinear$1(e){const{triangles:r,coords:o}=e;for(let l=0;l<r.length;l+=3){const p=2*r[l],f=2*r[l+1],O=2*r[l+2];if((o[O]-o[p])*(o[f+1]-o[p+1])-(o[f]-o[p])*(o[O+1]-o[p+1])>1e-10)return!1}return!0}function jitter(e,r,o){return[e+Math.sin(e+r)*o,r+Math.cos(e-r)*o]}class Delaunay{static from(r,o=pointX,l=pointY,p){return new Delaunay("length"in r?flatArray(r,o,l,p):Float64Array.from(flatIterable(r,o,l,p)))}constructor(r){this._delaunator=new Delaunator(r),this.inedges=new Int32Array(r.length/2),this._hullIndex=new Int32Array(r.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const r=this._delaunator,o=this.points;if(r.hull&&r.hull.length>2&&collinear$1(r)){this.collinear=Int32Array.from({length:o.length/2},(g,P)=>P).sort((g,P)=>o[2*g]-o[2*P]||o[2*g+1]-o[2*P+1]);const S=this.collinear[0],v=this.collinear[this.collinear.length-1],s=[o[2*S],o[2*S+1],o[2*v],o[2*v+1]],d=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let g=0,P=o.length/2;g<P;++g){const R=jitter(o[2*g],o[2*g+1],d);o[2*g]=R[0],o[2*g+1]=R[1]}this._delaunator=new Delaunator(o)}else delete this.collinear;const l=this.halfedges=this._delaunator.halfedges,p=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,O=this.inedges.fill(-1),_=this._hullIndex.fill(-1);for(let S=0,v=l.length;S<v;++S){const s=f[S%3===2?S-2:S+1];(l[S]===-1||O[s]===-1)&&(O[s]=S)}for(let S=0,v=p.length;S<v;++S)_[p[S]]=S;p.length<=2&&p.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=p[0],O[p[0]]=1,p.length===2&&(O[p[1]]=0,this.triangles[1]=p[1],this.triangles[2]=p[1]))}voronoi(r){return new Voronoi$1(this,r)}*neighbors(r){const{inedges:o,hull:l,_hullIndex:p,halfedges:f,triangles:O,collinear:_}=this;if(_){const d=_.indexOf(r);d>0&&(yield _[d-1]),d<_.length-1&&(yield _[d+1]);return}const S=o[r];if(S===-1)return;let v=S,s=-1;do{if(yield s=O[v],v=v%3===2?v-2:v+1,O[v]!==r)return;if(v=f[v],v===-1){const d=l[(p[r]+1)%l.length];d!==s&&(yield d);return}}while(v!==S)}find(r,o,l=0){if(r=+r,r!==r||(o=+o,o!==o))return-1;const p=l;let f;for(;(f=this._step(l,r,o))>=0&&f!==l&&f!==p;)l=f;return f}_step(r,o,l){const{inedges:p,hull:f,_hullIndex:O,halfedges:_,triangles:S,points:v}=this;if(p[r]===-1||!v.length)return(r+1)%(v.length>>1);let s=r,d=pow$4(o-v[r*2],2)+pow$4(l-v[r*2+1],2);const g=p[r];let P=g;do{let R=S[P];const I=pow$4(o-v[R*2],2)+pow$4(l-v[R*2+1],2);if(I<d&&(d=I,s=R),P=P%3===2?P-2:P+1,S[P]!==r)break;if(P=_[P],P===-1){if(P=f[(O[r]+1)%f.length],P!==R&&pow$4(o-v[P*2],2)+pow$4(l-v[P*2+1],2)<d)return P;break}}while(P!==g);return s}render(r){const o=r==null?r=new Path:void 0,{points:l,halfedges:p,triangles:f}=this;for(let O=0,_=p.length;O<_;++O){const S=p[O];if(S<O)continue;const v=f[O]*2,s=f[S]*2;r.moveTo(l[v],l[v+1]),r.lineTo(l[s],l[s+1])}return this.renderHull(r),o&&o.value()}renderPoints(r,o){o===void 0&&(!r||typeof r.moveTo!="function")&&(o=r,r=null),o=o==null?2:+o;const l=r==null?r=new Path:void 0,{points:p}=this;for(let f=0,O=p.length;f<O;f+=2){const _=p[f],S=p[f+1];r.moveTo(_+o,S),r.arc(_,S,o,0,tau$2)}return l&&l.value()}renderHull(r){const o=r==null?r=new Path:void 0,{hull:l,points:p}=this,f=l[0]*2,O=l.length;r.moveTo(p[f],p[f+1]);for(let _=1;_<O;++_){const S=2*l[_];r.lineTo(p[S],p[S+1])}return r.closePath(),o&&o.value()}hullPolygon(){const r=new Polygon;return this.renderHull(r),r.value()}renderTriangle(r,o){const l=o==null?o=new Path:void 0,{points:p,triangles:f}=this,O=f[r*=3]*2,_=f[r+1]*2,S=f[r+2]*2;return o.moveTo(p[O],p[O+1]),o.lineTo(p[_],p[_+1]),o.lineTo(p[S],p[S+1]),o.closePath(),l&&l.value()}*trianglePolygons(){const{triangles:r}=this;for(let o=0,l=r.length/3;o<l;++o)yield this.trianglePolygon(o)}trianglePolygon(r){const o=new Polygon;return this.renderTriangle(r,o),o.value()}}function flatArray(e,r,o,l){const p=e.length,f=new Float64Array(p*2);for(let O=0;O<p;++O){const _=e[O];f[O*2]=r.call(l,_,O,e),f[O*2+1]=o.call(l,_,O,e)}return f}function*flatIterable(e,r,o,l){let p=0;for(const f of e)yield r.call(l,f,p,e),yield o.call(l,f,p,e),++p}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(e){return new Function("d","return {"+e.map(function(r,o){return JSON.stringify(r)+": d["+o+'] || ""'}).join(",")+"}")}function customConverter(e,r){var o=objectConverter(e);return function(l,p){return r(o(l),p,e)}}function inferColumns(e){var r=Object.create(null),o=[];return e.forEach(function(l){for(var p in l)p in r||o.push(r[p]=p)}),o}function pad$3(e,r){var o=e+"",l=o.length;return l<r?new Array(r-l+1).join(0)+o:o}function formatYear$2(e){return e<0?"-"+pad$3(-e,6):e>9999?"+"+pad$3(e,6):pad$3(e,4)}function formatDate$1(e){var r=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),p=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":formatYear$2(e.getUTCFullYear())+"-"+pad$3(e.getUTCMonth()+1,2)+"-"+pad$3(e.getUTCDate(),2)+(p?"T"+pad$3(r,2)+":"+pad$3(o,2)+":"+pad$3(l,2)+"."+pad$3(p,3)+"Z":l?"T"+pad$3(r,2)+":"+pad$3(o,2)+":"+pad$3(l,2)+"Z":o||r?"T"+pad$3(r,2)+":"+pad$3(o,2)+"Z":"")}function dsvFormat(e){var r=new RegExp('["'+e+`
\r]`),o=e.charCodeAt(0);function l(d,g){var P,R,I=p(d,function(j,L){if(P)return P(j,L-1);R=j,P=g?customConverter(j,g):objectConverter(j)});return I.columns=R||[],I}function p(d,g){var P=[],R=d.length,I=0,j=0,L,G=R<=0,J=!1;d.charCodeAt(R-1)===NEWLINE&&--R,d.charCodeAt(R-1)===RETURN&&--R;function Q(){if(G)return EOF;if(J)return J=!1,EOL;var Z,te=I,ee;if(d.charCodeAt(te)===QUOTE){for(;I++<R&&d.charCodeAt(I)!==QUOTE||d.charCodeAt(++I)===QUOTE;);return(Z=I)>=R?G=!0:(ee=d.charCodeAt(I++))===NEWLINE?J=!0:ee===RETURN&&(J=!0,d.charCodeAt(I)===NEWLINE&&++I),d.slice(te+1,Z-1).replace(/""/g,'"')}for(;I<R;){if((ee=d.charCodeAt(Z=I++))===NEWLINE)J=!0;else if(ee===RETURN)J=!0,d.charCodeAt(I)===NEWLINE&&++I;else if(ee!==o)continue;return d.slice(te,Z)}return G=!0,d.slice(te,R)}for(;(L=Q())!==EOF;){for(var W=[];L!==EOL&&L!==EOF;)W.push(L),L=Q();g&&(W=g(W,j++))==null||P.push(W)}return P}function f(d,g){return d.map(function(P){return g.map(function(R){return s(P[R])}).join(e)})}function O(d,g){return g==null&&(g=inferColumns(d)),[g.map(s).join(e)].concat(f(d,g)).join(`
`)}function _(d,g){return g==null&&(g=inferColumns(d)),f(d,g).join(`
`)}function S(d){return d.map(v).join(`
`)}function v(d){return d.map(s).join(e)}function s(d){return d==null?"":d instanceof Date?formatDate$1(d):r.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:l,parseRows:p,format:O,formatBody:_,formatRows:S,formatRow:v,formatValue:s}}var csv=dsvFormat(","),csvParse=csv.parse,tsv=dsvFormat("	"),tsvParse=tsv.parse;function forceCenter(e,r){var o,l=1;e==null&&(e=0),r==null&&(r=0);function p(){var f,O=o.length,_,S=0,v=0;for(f=0;f<O;++f)_=o[f],S+=_.x,v+=_.y;for(S=(S/O-e)*l,v=(v/O-r)*l,f=0;f<O;++f)_=o[f],_.x-=S,_.y-=v}return p.initialize=function(f){o=f},p.x=function(f){return arguments.length?(e=+f,p):e},p.y=function(f){return arguments.length?(r=+f,p):r},p.strength=function(f){return arguments.length?(l=+f,p):l},p}function tree_add(e){const r=+this._x.call(null,e),o=+this._y.call(null,e);return add$3(this.cover(r,o),r,o,e)}function add$3(e,r,o,l){if(isNaN(r)||isNaN(o))return e;var p,f=e._root,O={data:l},_=e._x0,S=e._y0,v=e._x1,s=e._y1,d,g,P,R,I,j,L,G;if(!f)return e._root=O,e;for(;f.length;)if((I=r>=(d=(_+v)/2))?_=d:v=d,(j=o>=(g=(S+s)/2))?S=g:s=g,p=f,!(f=f[L=j<<1|I]))return p[L]=O,e;if(P=+e._x.call(null,f.data),R=+e._y.call(null,f.data),r===P&&o===R)return O.next=f,p?p[L]=O:e._root=O,e;do p=p?p[L]=new Array(4):e._root=new Array(4),(I=r>=(d=(_+v)/2))?_=d:v=d,(j=o>=(g=(S+s)/2))?S=g:s=g;while((L=j<<1|I)===(G=(R>=g)<<1|P>=d));return p[G]=f,p[L]=O,e}function addAll(e){var r,o,l=e.length,p,f,O=new Array(l),_=new Array(l),S=1/0,v=1/0,s=-1/0,d=-1/0;for(o=0;o<l;++o)isNaN(p=+this._x.call(null,r=e[o]))||isNaN(f=+this._y.call(null,r))||(O[o]=p,_[o]=f,p<S&&(S=p),p>s&&(s=p),f<v&&(v=f),f>d&&(d=f));if(S>s||v>d)return this;for(this.cover(S,v).cover(s,d),o=0;o<l;++o)add$3(this,O[o],_[o],e[o]);return this}function tree_cover(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var o=this._x0,l=this._y0,p=this._x1,f=this._y1;if(isNaN(o))p=(o=Math.floor(e))+1,f=(l=Math.floor(r))+1;else{for(var O=p-o||1,_=this._root,S,v;o>e||e>=p||l>r||r>=f;)switch(v=(r<l)<<1|e<o,S=new Array(4),S[v]=_,_=S,O*=2,v){case 0:p=o+O,f=l+O;break;case 1:o=p-O,f=l+O;break;case 2:p=o+O,l=f-O;break;case 3:o=p-O,l=f-O;break}this._root&&this._root.length&&(this._root=_)}return this._x0=o,this._y0=l,this._x1=p,this._y1=f,this}function tree_data(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function tree_extent(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(e,r,o,l,p){this.node=e,this.x0=r,this.y0=o,this.x1=l,this.y1=p}function tree_find(e,r,o){var l,p=this._x0,f=this._y0,O,_,S,v,s=this._x1,d=this._y1,g=[],P=this._root,R,I;for(P&&g.push(new Quad(P,p,f,s,d)),o==null?o=1/0:(p=e-o,f=r-o,s=e+o,d=r+o,o*=o);R=g.pop();)if(!(!(P=R.node)||(O=R.x0)>s||(_=R.y0)>d||(S=R.x1)<p||(v=R.y1)<f))if(P.length){var j=(O+S)/2,L=(_+v)/2;g.push(new Quad(P[3],j,L,S,v),new Quad(P[2],O,L,j,v),new Quad(P[1],j,_,S,L),new Quad(P[0],O,_,j,L)),(I=(r>=L)<<1|e>=j)&&(R=g[g.length-1],g[g.length-1]=g[g.length-1-I],g[g.length-1-I]=R)}else{var G=e-+this._x.call(null,P.data),J=r-+this._y.call(null,P.data),Q=G*G+J*J;if(Q<o){var W=Math.sqrt(o=Q);p=e-W,f=r-W,s=e+W,d=r+W,l=P.data}}return l}function tree_remove(e){if(isNaN(s=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var r,o=this._root,l,p,f,O=this._x0,_=this._y0,S=this._x1,v=this._y1,s,d,g,P,R,I,j,L;if(!o)return this;if(o.length)for(;;){if((R=s>=(g=(O+S)/2))?O=g:S=g,(I=d>=(P=(_+v)/2))?_=P:v=P,r=o,!(o=o[j=I<<1|R]))return this;if(!o.length)break;(r[j+1&3]||r[j+2&3]||r[j+3&3])&&(l=r,L=j)}for(;o.data!==e;)if(p=o,!(o=o.next))return this;return(f=o.next)&&delete o.next,p?(f?p.next=f:delete p.next,this):r?(f?r[j]=f:delete r[j],(o=r[0]||r[1]||r[2]||r[3])&&o===(r[3]||r[2]||r[1]||r[0])&&!o.length&&(l?l[L]=o:this._root=o),this):(this._root=f,this)}function removeAll(e){for(var r=0,o=e.length;r<o;++r)this.remove(e[r]);return this}function tree_root(){return this._root}function tree_size(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function tree_visit(e){var r=[],o,l=this._root,p,f,O,_,S;for(l&&r.push(new Quad(l,this._x0,this._y0,this._x1,this._y1));o=r.pop();)if(!e(l=o.node,f=o.x0,O=o.y0,_=o.x1,S=o.y1)&&l.length){var v=(f+_)/2,s=(O+S)/2;(p=l[3])&&r.push(new Quad(p,v,s,_,S)),(p=l[2])&&r.push(new Quad(p,f,s,v,S)),(p=l[1])&&r.push(new Quad(p,v,O,_,s)),(p=l[0])&&r.push(new Quad(p,f,O,v,s))}return this}function tree_visitAfter(e){var r=[],o=[],l;for(this._root&&r.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));l=r.pop();){var p=l.node;if(p.length){var f,O=l.x0,_=l.y0,S=l.x1,v=l.y1,s=(O+S)/2,d=(_+v)/2;(f=p[0])&&r.push(new Quad(f,O,_,s,d)),(f=p[1])&&r.push(new Quad(f,s,_,S,d)),(f=p[2])&&r.push(new Quad(f,O,d,s,v)),(f=p[3])&&r.push(new Quad(f,s,d,S,v))}o.push(l)}for(;l=o.pop();)e(l.node,l.x0,l.y0,l.x1,l.y1);return this}function defaultX(e){return e[0]}function tree_x(e){return arguments.length?(this._x=e,this):this._x}function defaultY(e){return e[1]}function tree_y(e){return arguments.length?(this._y=e,this):this._y}function quadtree(e,r,o){var l=new Quadtree(r??defaultX,o??defaultY,NaN,NaN,NaN,NaN);return e==null?l:l.addAll(e)}function Quadtree(e,r,o,l,p,f){this._x=e,this._y=r,this._x0=o,this._y0=l,this._x1=p,this._y1=f,this._root=void 0}function leaf_copy(e){for(var r={data:e.data},o=r;e=e.next;)o=o.next={data:e.data};return r}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var e=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,o,l;if(!r)return e;if(!r.length)return e._root=leaf_copy(r),e;for(o=[{source:r,target:e._root=new Array(4)}];r=o.pop();)for(var p=0;p<4;++p)(l=r.source[p])&&(l.length?o.push({source:l,target:r.target[p]=new Array(4)}):r.target[p]=leaf_copy(l));return e};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant$4(e){return function(){return e}}function jiggle(e){return(e()-.5)*1e-6}function x$3(e){return e.x+e.vx}function y$3(e){return e.y+e.vy}function forceCollide(e){var r,o,l,p=1,f=1;typeof e!="function"&&(e=constant$4(e==null?1:+e));function O(){for(var v,s=r.length,d,g,P,R,I,j,L=0;L<f;++L)for(d=quadtree(r,x$3,y$3).visitAfter(_),v=0;v<s;++v)g=r[v],I=o[g.index],j=I*I,P=g.x+g.vx,R=g.y+g.vy,d.visit(G);function G(J,Q,W,Z,te){var ee=J.data,ie=J.r,oe=I+ie;if(ee){if(ee.index>g.index){var se=P-ee.x-ee.vx,le=R-ee.y-ee.vy,de=se*se+le*le;de<oe*oe&&(se===0&&(se=jiggle(l),de+=se*se),le===0&&(le=jiggle(l),de+=le*le),de=(oe-(de=Math.sqrt(de)))/de*p,g.vx+=(se*=de)*(oe=(ie*=ie)/(j+ie)),g.vy+=(le*=de)*oe,ee.vx-=se*(oe=1-oe),ee.vy-=le*oe)}return}return Q>P+oe||Z<P-oe||W>R+oe||te<R-oe}}function _(v){if(v.data)return v.r=o[v.data.index];for(var s=v.r=0;s<4;++s)v[s]&&v[s].r>v.r&&(v.r=v[s].r)}function S(){if(r){var v,s=r.length,d;for(o=new Array(s),v=0;v<s;++v)d=r[v],o[d.index]=+e(d,v,r)}}return O.initialize=function(v,s){r=v,l=s,S()},O.iterations=function(v){return arguments.length?(f=+v,O):f},O.strength=function(v){return arguments.length?(p=+v,O):p},O.radius=function(v){return arguments.length?(e=typeof v=="function"?v:constant$4(+v),S(),O):e},O}function index(e){return e.index}function find$2(e,r){var o=e.get(r);if(!o)throw new Error("node not found: "+r);return o}function forceLink(e){var r=index,o=d,l,p=constant$4(30),f,O,_,S,v,s=1;e==null&&(e=[]);function d(j){return 1/Math.min(_[j.source.index],_[j.target.index])}function g(j){for(var L=0,G=e.length;L<s;++L)for(var J=0,Q,W,Z,te,ee,ie,oe;J<G;++J)Q=e[J],W=Q.source,Z=Q.target,te=Z.x+Z.vx-W.x-W.vx||jiggle(v),ee=Z.y+Z.vy-W.y-W.vy||jiggle(v),ie=Math.sqrt(te*te+ee*ee),ie=(ie-f[J])/ie*j*l[J],te*=ie,ee*=ie,Z.vx-=te*(oe=S[J]),Z.vy-=ee*oe,W.vx+=te*(oe=1-oe),W.vy+=ee*oe}function P(){if(O){var j,L=O.length,G=e.length,J=new Map(O.map((W,Z)=>[r(W,Z,O),W])),Q;for(j=0,_=new Array(L);j<G;++j)Q=e[j],Q.index=j,typeof Q.source!="object"&&(Q.source=find$2(J,Q.source)),typeof Q.target!="object"&&(Q.target=find$2(J,Q.target)),_[Q.source.index]=(_[Q.source.index]||0)+1,_[Q.target.index]=(_[Q.target.index]||0)+1;for(j=0,S=new Array(G);j<G;++j)Q=e[j],S[j]=_[Q.source.index]/(_[Q.source.index]+_[Q.target.index]);l=new Array(G),R(),f=new Array(G),I()}}function R(){if(O)for(var j=0,L=e.length;j<L;++j)l[j]=+o(e[j],j,e)}function I(){if(O)for(var j=0,L=e.length;j<L;++j)f[j]=+p(e[j],j,e)}return g.initialize=function(j,L){O=j,v=L,P()},g.links=function(j){return arguments.length?(e=j,P(),g):e},g.id=function(j){return arguments.length?(r=j,g):r},g.iterations=function(j){return arguments.length?(s=+j,g):s},g.strength=function(j){return arguments.length?(o=typeof j=="function"?j:constant$4(+j),R(),g):o},g.distance=function(j){return arguments.length?(p=typeof j=="function"?j:constant$4(+j),I(),g):p},g}const a$1=1664525,c$1=1013904223,m$1=4294967296;function lcg$1(){let e=1;return()=>(e=(a$1*e+c$1)%m$1)/m$1}function x$2(e){return e.x}function y$2(e){return e.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function forceSimulation(e){var r,o=1,l=.001,p=1-Math.pow(l,1/300),f=0,O=.6,_=new Map,S=timer$1(d),v=dispatch("tick","end"),s=lcg$1();e==null&&(e=[]);function d(){g(),v.call("tick",r),o<l&&(S.stop(),v.call("end",r))}function g(I){var j,L=e.length,G;I===void 0&&(I=1);for(var J=0;J<I;++J)for(o+=(f-o)*p,_.forEach(function(Q){Q(o)}),j=0;j<L;++j)G=e[j],G.fx==null?G.x+=G.vx*=O:(G.x=G.fx,G.vx=0),G.fy==null?G.y+=G.vy*=O:(G.y=G.fy,G.vy=0);return r}function P(){for(var I=0,j=e.length,L;I<j;++I){if(L=e[I],L.index=I,L.fx!=null&&(L.x=L.fx),L.fy!=null&&(L.y=L.fy),isNaN(L.x)||isNaN(L.y)){var G=initialRadius*Math.sqrt(.5+I),J=I*initialAngle;L.x=G*Math.cos(J),L.y=G*Math.sin(J)}(isNaN(L.vx)||isNaN(L.vy))&&(L.vx=L.vy=0)}}function R(I){return I.initialize&&I.initialize(e,s),I}return P(),r={tick:g,restart:function(){return S.restart(d),r},stop:function(){return S.stop(),r},nodes:function(I){return arguments.length?(e=I,P(),_.forEach(R),r):e},alpha:function(I){return arguments.length?(o=+I,r):o},alphaMin:function(I){return arguments.length?(l=+I,r):l},alphaDecay:function(I){return arguments.length?(p=+I,r):+p},alphaTarget:function(I){return arguments.length?(f=+I,r):f},velocityDecay:function(I){return arguments.length?(O=1-I,r):1-O},randomSource:function(I){return arguments.length?(s=I,_.forEach(R),r):s},force:function(I,j){return arguments.length>1?(j==null?_.delete(I):_.set(I,R(j)),r):_.get(I)},find:function(I,j,L){var G=0,J=e.length,Q,W,Z,te,ee;for(L==null?L=1/0:L*=L,G=0;G<J;++G)te=e[G],Q=I-te.x,W=j-te.y,Z=Q*Q+W*W,Z<L&&(ee=te,L=Z);return ee},on:function(I,j){return arguments.length>1?(v.on(I,j),r):v.on(I)}}}function forceManyBody(){var e,r,o,l,p=constant$4(-30),f,O=1,_=1/0,S=.81;function v(P){var R,I=e.length,j=quadtree(e,x$2,y$2).visitAfter(d);for(l=P,R=0;R<I;++R)r=e[R],j.visit(g)}function s(){if(e){var P,R=e.length,I;for(f=new Array(R),P=0;P<R;++P)I=e[P],f[I.index]=+p(I,P,e)}}function d(P){var R=0,I,j,L=0,G,J,Q;if(P.length){for(G=J=Q=0;Q<4;++Q)(I=P[Q])&&(j=Math.abs(I.value))&&(R+=I.value,L+=j,G+=j*I.x,J+=j*I.y);P.x=G/L,P.y=J/L}else{I=P,I.x=I.data.x,I.y=I.data.y;do R+=f[I.data.index];while(I=I.next)}P.value=R}function g(P,R,I,j){if(!P.value)return!0;var L=P.x-r.x,G=P.y-r.y,J=j-R,Q=L*L+G*G;if(J*J/S<Q)return Q<_&&(L===0&&(L=jiggle(o),Q+=L*L),G===0&&(G=jiggle(o),Q+=G*G),Q<O&&(Q=Math.sqrt(O*Q)),r.vx+=L*P.value*l/Q,r.vy+=G*P.value*l/Q),!0;if(P.length||Q>=_)return;(P.data!==r||P.next)&&(L===0&&(L=jiggle(o),Q+=L*L),G===0&&(G=jiggle(o),Q+=G*G),Q<O&&(Q=Math.sqrt(O*Q)));do P.data!==r&&(J=f[P.data.index]*l/Q,r.vx+=L*J,r.vy+=G*J);while(P=P.next)}return v.initialize=function(P,R){e=P,o=R,s()},v.strength=function(P){return arguments.length?(p=typeof P=="function"?P:constant$4(+P),s(),v):p},v.distanceMin=function(P){return arguments.length?(O=P*P,v):Math.sqrt(O)},v.distanceMax=function(P){return arguments.length?(_=P*P,v):Math.sqrt(_)},v.theta=function(P){return arguments.length?(S=P*P,v):Math.sqrt(S)},v}function forceX(e){var r=constant$4(.1),o,l,p;typeof e!="function"&&(e=constant$4(e==null?0:+e));function f(_){for(var S=0,v=o.length,s;S<v;++S)s=o[S],s.vx+=(p[S]-s.x)*l[S]*_}function O(){if(o){var _,S=o.length;for(l=new Array(S),p=new Array(S),_=0;_<S;++_)l[_]=isNaN(p[_]=+e(o[_],_,o))?0:+r(o[_],_,o)}}return f.initialize=function(_){o=_,O()},f.strength=function(_){return arguments.length?(r=typeof _=="function"?_:constant$4(+_),O(),f):r},f.x=function(_){return arguments.length?(e=typeof _=="function"?_:constant$4(+_),O(),f):e},f}function forceY(e){var r=constant$4(.1),o,l,p;typeof e!="function"&&(e=constant$4(e==null?0:+e));function f(_){for(var S=0,v=o.length,s;S<v;++S)s=o[S],s.vy+=(p[S]-s.y)*l[S]*_}function O(){if(o){var _,S=o.length;for(l=new Array(S),p=new Array(S),_=0;_<S;++_)l[_]=isNaN(p[_]=+e(o[_],_,o))?0:+r(o[_],_,o)}}return f.initialize=function(_){o=_,O()},f.strength=function(_){return arguments.length?(r=typeof _=="function"?_:constant$4(+_),O(),f):r},f.y=function(_){return arguments.length?(e=typeof _=="function"?_:constant$4(+_),O(),f):e},f}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,r){if((o=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var o,l=e.slice(0,o);return[l.length>1?l[0]+l.slice(2):l,+e.slice(o+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,r){return function(o,l){for(var p=o.length,f=[],O=0,_=e[0],S=0;p>0&&_>0&&(S+_+1>l&&(_=Math.max(1,l-S)),f.push(o.substring(p-=_,p+_)),!((S+=_+1)>l));)_=e[O=(O+1)%e.length];return f.reverse().join(r)}}function formatNumerals(e){return function(r){return r.replace(/[0-9]/g,function(o){return e[+o]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(r=re.exec(e)))throw new Error("invalid format: "+e);var r;return new FormatSpecifier({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var r=e.length,o=1,l=-1,p;o<r;++o)switch(e[o]){case".":l=p=o;break;case"0":l===0&&(l=o),p=o;break;default:if(!+e[o])break e;l>0&&(l=0);break}return l>0?e.slice(0,l)+e.slice(p+1):e}var prefixExponent;function formatPrefixAuto(e,r){var o=formatDecimalParts(e,r);if(!o)return e+"";var l=o[0],p=o[1],f=p-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(p/3)))*3)+1,O=l.length;return f===O?l:f>O?l+new Array(f-O+1).join("0"):f>0?l.slice(0,f)+"."+l.slice(f):"0."+new Array(1-f).join("0")+formatDecimalParts(e,Math.max(0,r+f-1))[0]}function formatRounded(e,r){var o=formatDecimalParts(e,r);if(!o)return e+"";var l=o[0],p=o[1];return p<0?"0."+new Array(-p).join("0")+l:l.length>p+1?l.slice(0,p+1)+"."+l.slice(p+1):l+new Array(p-l.length+2).join("0")}const formatTypes={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>formatRounded(e*100,r),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$5(e){return e}var map$2=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var r=e.grouping===void 0||e.thousands===void 0?identity$5:formatGroup(map$2.call(e.grouping,Number),e.thousands+""),o=e.currency===void 0?"":e.currency[0]+"",l=e.currency===void 0?"":e.currency[1]+"",p=e.decimal===void 0?".":e.decimal+"",f=e.numerals===void 0?identity$5:formatNumerals(map$2.call(e.numerals,String)),O=e.percent===void 0?"%":e.percent+"",_=e.minus===void 0?"−":e.minus+"",S=e.nan===void 0?"NaN":e.nan+"";function v(d){d=formatSpecifier(d);var g=d.fill,P=d.align,R=d.sign,I=d.symbol,j=d.zero,L=d.width,G=d.comma,J=d.precision,Q=d.trim,W=d.type;W==="n"?(G=!0,W="g"):formatTypes[W]||(J===void 0&&(J=12),Q=!0,W="g"),(j||g==="0"&&P==="=")&&(j=!0,g="0",P="=");var Z=I==="$"?o:I==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",te=I==="$"?l:/[%p]/.test(W)?O:"",ee=formatTypes[W],ie=/[defgprs%]/.test(W);J=J===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J));function oe(se){var le=Z,de=te,pe,fe,he;if(W==="c")de=ee(se)+de,se="";else{se=+se;var ge=se<0||1/se<0;if(se=isNaN(se)?S:ee(Math.abs(se),J),Q&&(se=formatTrim(se)),ge&&+se==0&&R!=="+"&&(ge=!1),le=(ge?R==="("?R:_:R==="-"||R==="("?"":R)+le,de=(W==="s"?prefixes[8+prefixExponent/3]:"")+de+(ge&&R==="("?")":""),ie){for(pe=-1,fe=se.length;++pe<fe;)if(he=se.charCodeAt(pe),48>he||he>57){de=(he===46?p+se.slice(pe+1):se.slice(pe))+de,se=se.slice(0,pe);break}}}G&&!j&&(se=r(se,1/0));var me=le.length+se.length+de.length,ye=me<L?new Array(L-me+1).join(g):"";switch(G&&j&&(se=r(ye+se,ye.length?L-de.length:1/0),ye=""),P){case"<":se=le+se+de+ye;break;case"=":se=le+ye+se+de;break;case"^":se=ye.slice(0,me=ye.length>>1)+le+se+de+ye.slice(me);break;default:se=ye+le+se+de;break}return f(se)}return oe.toString=function(){return d+""},oe}function s(d,g){var P=v((d=formatSpecifier(d),d.type="f",d)),R=Math.max(-8,Math.min(8,Math.floor(exponent(g)/3)))*3,I=Math.pow(10,-R),j=prefixes[8+R/3];return function(L){return P(I*L)+j}}return{format:v,formatPrefix:s}}var locale$2,format$3,formatPrefix;defaultLocale$2({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$2(e){return locale$2=formatLocale$1(e),format$3=locale$2.format,formatPrefix=locale$2.formatPrefix,locale$2}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(r)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,exponent(r)-exponent(e))+1}var epsilon$3=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi$2=pi$2/2,quarterPi=pi$2/4,tau$1=pi$2*2,degrees=180/pi$2,radians=pi$2/180,abs$2=Math.abs,atan=Math.atan,atan2$1=Math.atan2,cos$2=Math.cos,ceil=Math.ceil,exp$2=Math.exp,hypot=Math.hypot,log$4=Math.log,pow$3=Math.pow,sin$2=Math.sin,sign$1=Math.sign||function(e){return e>0?1:e<0?-1:0},sqrt$3=Math.sqrt,tan=Math.tan;function acos$1(e){return e>1?0:e<-1?pi$2:Math.acos(e)}function asin$2(e){return e>1?halfPi$2:e<-1?-halfPi$2:Math.asin(e)}function noop$4(){}function streamGeometry(e,r){e&&streamGeometryType.hasOwnProperty(e.type)&&streamGeometryType[e.type](e,r)}var streamObjectType={Feature:function(e,r){streamGeometry(e.geometry,r)},FeatureCollection:function(e,r){for(var o=e.features,l=-1,p=o.length;++l<p;)streamGeometry(o[l].geometry,r)}},streamGeometryType={Sphere:function(e,r){r.sphere()},Point:function(e,r){e=e.coordinates,r.point(e[0],e[1],e[2])},MultiPoint:function(e,r){for(var o=e.coordinates,l=-1,p=o.length;++l<p;)e=o[l],r.point(e[0],e[1],e[2])},LineString:function(e,r){streamLine(e.coordinates,r,0)},MultiLineString:function(e,r){for(var o=e.coordinates,l=-1,p=o.length;++l<p;)streamLine(o[l],r,0)},Polygon:function(e,r){streamPolygon(e.coordinates,r)},MultiPolygon:function(e,r){for(var o=e.coordinates,l=-1,p=o.length;++l<p;)streamPolygon(o[l],r)},GeometryCollection:function(e,r){for(var o=e.geometries,l=-1,p=o.length;++l<p;)streamGeometry(o[l],r)}};function streamLine(e,r,o){var l=-1,p=e.length-o,f;for(r.lineStart();++l<p;)f=e[l],r.point(f[0],f[1],f[2]);r.lineEnd()}function streamPolygon(e,r){var o=-1,l=e.length;for(r.polygonStart();++o<l;)streamLine(e[o],r,1);r.polygonEnd()}function geoStream(e,r){e&&streamObjectType.hasOwnProperty(e.type)?streamObjectType[e.type](e,r):streamGeometry(e,r)}var areaRingSum$1=new Adder,areaSum$1=new Adder,lambda00$2,phi00$2,lambda0$1,cosPhi0,sinPhi0,areaStream$1={point:noop$4,lineStart:noop$4,lineEnd:noop$4,polygonStart:function(){areaRingSum$1=new Adder,areaStream$1.lineStart=areaRingStart$1,areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){var e=+areaRingSum$1;areaSum$1.add(e<0?tau$1+e:e),this.lineStart=this.lineEnd=this.point=noop$4},sphere:function(){areaSum$1.add(tau$1)}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaRingEnd$1(){areaPoint$1(lambda00$2,phi00$2)}function areaPointFirst$1(e,r){areaStream$1.point=areaPoint$1,lambda00$2=e,phi00$2=r,e*=radians,r*=radians,lambda0$1=e,cosPhi0=cos$2(r=r/2+quarterPi),sinPhi0=sin$2(r)}function areaPoint$1(e,r){e*=radians,r*=radians,r=r/2+quarterPi;var o=e-lambda0$1,l=o>=0?1:-1,p=l*o,f=cos$2(r),O=sin$2(r),_=sinPhi0*O,S=cosPhi0*f+_*cos$2(p),v=_*l*sin$2(p);areaRingSum$1.add(atan2$1(v,S)),lambda0$1=e,cosPhi0=f,sinPhi0=O}function geoArea$1(e){return areaSum$1=new Adder,geoStream(e,areaStream$1),areaSum$1*2}function spherical(e){return[atan2$1(e[1],e[0]),asin$2(e[2])]}function cartesian(e){var r=e[0],o=e[1],l=cos$2(o);return[l*cos$2(r),l*sin$2(r),sin$2(o)]}function cartesianDot(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function cartesianCross(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function cartesianAddInPlace(e,r){e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]}function cartesianScale(e,r){return[e[0]*r,e[1]*r,e[2]*r]}function cartesianNormalizeInPlace(e){var r=sqrt$3(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=r,e[1]/=r,e[2]/=r}var lambda0,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum,ranges,range$3,boundsStream$2={point:boundsPoint$1,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream$2.point=boundsRingPoint,boundsStream$2.lineStart=boundsRingStart,boundsStream$2.lineEnd=boundsRingEnd,deltaSum=new Adder,areaStream$1.polygonStart()},polygonEnd:function(){areaStream$1.polygonEnd(),boundsStream$2.point=boundsPoint$1,boundsStream$2.lineStart=boundsLineStart,boundsStream$2.lineEnd=boundsLineEnd,areaRingSum$1<0?(lambda0=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon$3?phi1=90:deltaSum<-epsilon$3&&(phi0=-90),range$3[0]=lambda0,range$3[1]=lambda1},sphere:function(){lambda0=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint$1(e,r){ranges.push(range$3=[lambda0=e,lambda1=e]),r<phi0&&(phi0=r),r>phi1&&(phi1=r)}function linePoint(e,r){var o=cartesian([e*radians,r*radians]);if(p0){var l=cartesianCross(p0,o),p=[l[1],-l[0],0],f=cartesianCross(p,l);cartesianNormalizeInPlace(f),f=spherical(f);var O=e-lambda2,_=O>0?1:-1,S=f[0]*degrees*_,v,s=abs$2(O)>180;s^(_*lambda2<S&&S<_*e)?(v=f[1]*degrees,v>phi1&&(phi1=v)):(S=(S+360)%360-180,s^(_*lambda2<S&&S<_*e)?(v=-f[1]*degrees,v<phi0&&(phi0=v)):(r<phi0&&(phi0=r),r>phi1&&(phi1=r))),s?e<lambda2?angle(lambda0,e)>angle(lambda0,lambda1)&&(lambda1=e):angle(e,lambda1)>angle(lambda0,lambda1)&&(lambda0=e):lambda1>=lambda0?(e<lambda0&&(lambda0=e),e>lambda1&&(lambda1=e)):e>lambda2?angle(lambda0,e)>angle(lambda0,lambda1)&&(lambda1=e):angle(e,lambda1)>angle(lambda0,lambda1)&&(lambda0=e)}else ranges.push(range$3=[lambda0=e,lambda1=e]);r<phi0&&(phi0=r),r>phi1&&(phi1=r),p0=o,lambda2=e}function boundsLineStart(){boundsStream$2.point=linePoint}function boundsLineEnd(){range$3[0]=lambda0,range$3[1]=lambda1,boundsStream$2.point=boundsPoint$1,p0=null}function boundsRingPoint(e,r){if(p0){var o=e-lambda2;deltaSum.add(abs$2(o)>180?o+(o>0?360:-360):o)}else lambda00$1=e,phi00$1=r;areaStream$1.point(e,r),linePoint(e,r)}function boundsRingStart(){areaStream$1.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1),areaStream$1.lineEnd(),abs$2(deltaSum)>epsilon$3&&(lambda0=-(lambda1=180)),range$3[0]=lambda0,range$3[1]=lambda1,p0=null}function angle(e,r){return(r-=e)<0?r+360:r}function rangeCompare(e,r){return e[0]-r[0]}function rangeContains(e,r){return e[0]<=e[1]?e[0]<=r&&r<=e[1]:r<e[0]||e[1]<r}function geoBounds$1(e){var r,o,l,p,f,O,_;if(phi1=lambda1=-(lambda0=phi0=1/0),ranges=[],geoStream(e,boundsStream$2),o=ranges.length){for(ranges.sort(rangeCompare),r=1,l=ranges[0],f=[l];r<o;++r)p=ranges[r],rangeContains(l,p[0])||rangeContains(l,p[1])?(angle(l[0],p[1])>angle(l[0],l[1])&&(l[1]=p[1]),angle(p[0],l[1])>angle(l[0],l[1])&&(l[0]=p[0])):f.push(l=p);for(O=-1/0,o=f.length-1,r=0,l=f[o];r<=o;l=p,++r)p=f[r],(_=angle(l[1],p[0]))>O&&(O=_,lambda0=p[0],lambda1=l[1])}return ranges=range$3=null,lambda0===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0,phi0],[lambda1,phi1]]}var W0,W1,X0$1,Y0$1,Z0$1,X1$1,Y1$1,Z1$1,X2$1,Y2$1,Z2$1,lambda00,phi00,x0$4,y0$4,z0,centroidStream$1={sphere:noop$4,point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1,centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.lineStart=centroidLineStart$1,centroidStream$1.lineEnd=centroidLineEnd$1}};function centroidPoint$1(e,r){e*=radians,r*=radians;var o=cos$2(r);centroidPointCartesian(o*cos$2(e),o*sin$2(e),sin$2(r))}function centroidPointCartesian(e,r,o){++W0,X0$1+=(e-X0$1)/W0,Y0$1+=(r-Y0$1)/W0,Z0$1+=(o-Z0$1)/W0}function centroidLineStart$1(){centroidStream$1.point=centroidLinePointFirst}function centroidLinePointFirst(e,r){e*=radians,r*=radians;var o=cos$2(r);x0$4=o*cos$2(e),y0$4=o*sin$2(e),z0=sin$2(r),centroidStream$1.point=centroidLinePoint,centroidPointCartesian(x0$4,y0$4,z0)}function centroidLinePoint(e,r){e*=radians,r*=radians;var o=cos$2(r),l=o*cos$2(e),p=o*sin$2(e),f=sin$2(r),O=atan2$1(sqrt$3((O=y0$4*f-z0*p)*O+(O=z0*l-x0$4*f)*O+(O=x0$4*p-y0$4*l)*O),x0$4*l+y0$4*p+z0*f);W1+=O,X1$1+=O*(x0$4+(x0$4=l)),Y1$1+=O*(y0$4+(y0$4=p)),Z1$1+=O*(z0+(z0=f)),centroidPointCartesian(x0$4,y0$4,z0)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidRingPointFirst}function centroidRingEnd$1(){centroidRingPoint(lambda00,phi00),centroidStream$1.point=centroidPoint$1}function centroidRingPointFirst(e,r){lambda00=e,phi00=r,e*=radians,r*=radians,centroidStream$1.point=centroidRingPoint;var o=cos$2(r);x0$4=o*cos$2(e),y0$4=o*sin$2(e),z0=sin$2(r),centroidPointCartesian(x0$4,y0$4,z0)}function centroidRingPoint(e,r){e*=radians,r*=radians;var o=cos$2(r),l=o*cos$2(e),p=o*sin$2(e),f=sin$2(r),O=y0$4*f-z0*p,_=z0*l-x0$4*f,S=x0$4*p-y0$4*l,v=hypot(O,_,S),s=asin$2(v),d=v&&-s/v;X2$1.add(d*O),Y2$1.add(d*_),Z2$1.add(d*S),W1+=s,X1$1+=s*(x0$4+(x0$4=l)),Y1$1+=s*(y0$4+(y0$4=p)),Z1$1+=s*(z0+(z0=f)),centroidPointCartesian(x0$4,y0$4,z0)}function geoCentroid$1(e){W0=W1=X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=0,X2$1=new Adder,Y2$1=new Adder,Z2$1=new Adder,geoStream(e,centroidStream$1);var r=+X2$1,o=+Y2$1,l=+Z2$1,p=hypot(r,o,l);return p<epsilon2&&(r=X1$1,o=Y1$1,l=Z1$1,W1<epsilon$3&&(r=X0$1,o=Y0$1,l=Z0$1),p=hypot(r,o,l),p<epsilon2)?[NaN,NaN]:[atan2$1(o,r)*degrees,asin$2(l/p)*degrees]}function compose(e,r){function o(l,p){return l=e(l,p),r(l[0],l[1])}return e.invert&&r.invert&&(o.invert=function(l,p){return l=r.invert(l,p),l&&e.invert(l[0],l[1])}),o}function rotationIdentity(e,r){return abs$2(e)>pi$2&&(e-=Math.round(e/tau$1)*tau$1),[e,r]}rotationIdentity.invert=rotationIdentity;function rotateRadians(e,r,o){return(e%=tau$1)?r||o?compose(rotationLambda(e),rotationPhiGamma(r,o)):rotationLambda(e):r||o?rotationPhiGamma(r,o):rotationIdentity}function forwardRotationLambda(e){return function(r,o){return r+=e,abs$2(r)>pi$2&&(r-=Math.round(r/tau$1)*tau$1),[r,o]}}function rotationLambda(e){var r=forwardRotationLambda(e);return r.invert=forwardRotationLambda(-e),r}function rotationPhiGamma(e,r){var o=cos$2(e),l=sin$2(e),p=cos$2(r),f=sin$2(r);function O(_,S){var v=cos$2(S),s=cos$2(_)*v,d=sin$2(_)*v,g=sin$2(S),P=g*o+s*l;return[atan2$1(d*p-P*f,s*o-g*l),asin$2(P*p+d*f)]}return O.invert=function(_,S){var v=cos$2(S),s=cos$2(_)*v,d=sin$2(_)*v,g=sin$2(S),P=g*p-d*f;return[atan2$1(d*p+g*f,s*o+P*l),asin$2(P*o-s*l)]},O}function rotation(e){e=rotateRadians(e[0]*radians,e[1]*radians,e.length>2?e[2]*radians:0);function r(o){return o=e(o[0]*radians,o[1]*radians),o[0]*=degrees,o[1]*=degrees,o}return r.invert=function(o){return o=e.invert(o[0]*radians,o[1]*radians),o[0]*=degrees,o[1]*=degrees,o},r}function circleStream(e,r,o,l,p,f){if(o){var O=cos$2(r),_=sin$2(r),S=l*o;p==null?(p=r+l*tau$1,f=r-S/2):(p=circleRadius(O,p),f=circleRadius(O,f),(l>0?p<f:p>f)&&(p+=l*tau$1));for(var v,s=p;l>0?s>f:s<f;s-=S)v=spherical([O,-_*cos$2(s),-_*sin$2(s)]),e.point(v[0],v[1])}}function circleRadius(e,r){r=cartesian(r),r[0]-=e,cartesianNormalizeInPlace(r);var o=acos$1(-r[1]);return((-r[2]<0?-o:o)+tau$1-epsilon$3)%tau$1}function clipBuffer(){var e=[],r;return{point:function(o,l,p){r.push([o,l,p])},lineStart:function(){e.push(r=[])},lineEnd:noop$4,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var o=e;return e=[],r=null,o}}}function pointEqual(e,r){return abs$2(e[0]-r[0])<epsilon$3&&abs$2(e[1]-r[1])<epsilon$3}function Intersection(e,r,o,l){this.x=e,this.z=r,this.o=o,this.e=l,this.v=!1,this.n=this.p=null}function clipRejoin(e,r,o,l,p){var f=[],O=[],_,S;if(e.forEach(function(R){if(!((I=R.length-1)<=0)){var I,j=R[0],L=R[I],G;if(pointEqual(j,L)){if(!j[2]&&!L[2]){for(p.lineStart(),_=0;_<I;++_)p.point((j=R[_])[0],j[1]);p.lineEnd();return}L[0]+=2*epsilon$3}f.push(G=new Intersection(j,R,null,!0)),O.push(G.o=new Intersection(j,null,G,!1)),f.push(G=new Intersection(L,R,null,!1)),O.push(G.o=new Intersection(L,null,G,!0))}}),!!f.length){for(O.sort(r),link(f),link(O),_=0,S=O.length;_<S;++_)O[_].e=o=!o;for(var v=f[0],s,d;;){for(var g=v,P=!0;g.v;)if((g=g.n)===v)return;s=g.z,p.lineStart();do{if(g.v=g.o.v=!0,g.e){if(P)for(_=0,S=s.length;_<S;++_)p.point((d=s[_])[0],d[1]);else l(g.x,g.n.x,1,p);g=g.n}else{if(P)for(s=g.p.z,_=s.length-1;_>=0;--_)p.point((d=s[_])[0],d[1]);else l(g.x,g.p.x,-1,p);g=g.p}g=g.o,s=g.z,P=!P}while(!g.v);p.lineEnd()}}}function link(e){if(r=e.length){for(var r,o=0,l=e[0],p;++o<r;)l.n=p=e[o],p.p=l,l=p;l.n=p=e[0],p.p=l}}function longitude(e){return abs$2(e[0])<=pi$2?e[0]:sign$1(e[0])*((abs$2(e[0])+pi$2)%tau$1-pi$2)}function polygonContains(e,r){var o=longitude(r),l=r[1],p=sin$2(l),f=[sin$2(o),-cos$2(o),0],O=0,_=0,S=new Adder;p===1?l=halfPi$2+epsilon$3:p===-1&&(l=-halfPi$2-epsilon$3);for(var v=0,s=e.length;v<s;++v)if(g=(d=e[v]).length)for(var d,g,P=d[g-1],R=longitude(P),I=P[1]/2+quarterPi,j=sin$2(I),L=cos$2(I),G=0;G<g;++G,R=Q,j=Z,L=te,P=J){var J=d[G],Q=longitude(J),W=J[1]/2+quarterPi,Z=sin$2(W),te=cos$2(W),ee=Q-R,ie=ee>=0?1:-1,oe=ie*ee,se=oe>pi$2,le=j*Z;if(S.add(atan2$1(le*ie*sin$2(oe),L*te+le*cos$2(oe))),O+=se?ee+ie*tau$1:ee,se^R>=o^Q>=o){var de=cartesianCross(cartesian(P),cartesian(J));cartesianNormalizeInPlace(de);var pe=cartesianCross(f,de);cartesianNormalizeInPlace(pe);var fe=(se^ee>=0?-1:1)*asin$2(pe[2]);(l>fe||l===fe&&(de[0]||de[1]))&&(_+=se^ee>=0?1:-1)}}return(O<-epsilon$3||O<epsilon$3&&S<-epsilon2)^_&1}function clip$2(e,r,o,l){return function(p){var f=r(p),O=clipBuffer(),_=r(O),S=!1,v,s,d,g={point:P,lineStart:I,lineEnd:j,polygonStart:function(){g.point=L,g.lineStart=G,g.lineEnd=J,s=[],v=[]},polygonEnd:function(){g.point=P,g.lineStart=I,g.lineEnd=j,s=merge$3(s);var Q=polygonContains(v,l);s.length?(S||(p.polygonStart(),S=!0),clipRejoin(s,compareIntersection,Q,o,p)):Q&&(S||(p.polygonStart(),S=!0),p.lineStart(),o(null,null,1,p),p.lineEnd()),S&&(p.polygonEnd(),S=!1),s=v=null},sphere:function(){p.polygonStart(),p.lineStart(),o(null,null,1,p),p.lineEnd(),p.polygonEnd()}};function P(Q,W){e(Q,W)&&p.point(Q,W)}function R(Q,W){f.point(Q,W)}function I(){g.point=R,f.lineStart()}function j(){g.point=P,f.lineEnd()}function L(Q,W){d.push([Q,W]),_.point(Q,W)}function G(){_.lineStart(),d=[]}function J(){L(d[0][0],d[0][1]),_.lineEnd();var Q=_.clean(),W=O.result(),Z,te=W.length,ee,ie,oe;if(d.pop(),v.push(d),d=null,!!te){if(Q&1){if(ie=W[0],(ee=ie.length-1)>0){for(S||(p.polygonStart(),S=!0),p.lineStart(),Z=0;Z<ee;++Z)p.point((oe=ie[Z])[0],oe[1]);p.lineEnd()}return}te>1&&Q&2&&W.push(W.pop().concat(W.shift())),s.push(W.filter(validSegment))}}return g}}function validSegment(e){return e.length>1}function compareIntersection(e,r){return((e=e.x)[0]<0?e[1]-halfPi$2-epsilon$3:halfPi$2-e[1])-((r=r.x)[0]<0?r[1]-halfPi$2-epsilon$3:halfPi$2-r[1])}const clipAntimeridian=clip$2(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi$2]);function clipAntimeridianLine(e){var r=NaN,o=NaN,l=NaN,p;return{lineStart:function(){e.lineStart(),p=1},point:function(f,O){var _=f>0?pi$2:-pi$2,S=abs$2(f-r);abs$2(S-pi$2)<epsilon$3?(e.point(r,o=(o+O)/2>0?halfPi$2:-halfPi$2),e.point(l,o),e.lineEnd(),e.lineStart(),e.point(_,o),e.point(f,o),p=0):l!==_&&S>=pi$2&&(abs$2(r-l)<epsilon$3&&(r-=l*epsilon$3),abs$2(f-_)<epsilon$3&&(f-=_*epsilon$3),o=clipAntimeridianIntersect(r,o,f,O),e.point(l,o),e.lineEnd(),e.lineStart(),e.point(_,o),p=0),e.point(r=f,o=O),l=_},lineEnd:function(){e.lineEnd(),r=o=NaN},clean:function(){return 2-p}}}function clipAntimeridianIntersect(e,r,o,l){var p,f,O=sin$2(e-o);return abs$2(O)>epsilon$3?atan((sin$2(r)*(f=cos$2(l))*sin$2(o)-sin$2(l)*(p=cos$2(r))*sin$2(e))/(p*f*O)):(r+l)/2}function clipAntimeridianInterpolate(e,r,o,l){var p;if(e==null)p=o*halfPi$2,l.point(-pi$2,p),l.point(0,p),l.point(pi$2,p),l.point(pi$2,0),l.point(pi$2,-p),l.point(0,-p),l.point(-pi$2,-p),l.point(-pi$2,0),l.point(-pi$2,p);else if(abs$2(e[0]-r[0])>epsilon$3){var f=e[0]<r[0]?pi$2:-pi$2;p=o*f/2,l.point(-f,p),l.point(0,p),l.point(f,p)}else l.point(r[0],r[1])}function clipCircle(e){var r=cos$2(e),o=2*radians,l=r>0,p=abs$2(r)>epsilon$3;function f(s,d,g,P){circleStream(P,e,o,g,s,d)}function O(s,d){return cos$2(s)*cos$2(d)>r}function _(s){var d,g,P,R,I;return{lineStart:function(){R=P=!1,I=1},point:function(j,L){var G=[j,L],J,Q=O(j,L),W=l?Q?0:v(j,L):Q?v(j+(j<0?pi$2:-pi$2),L):0;if(!d&&(R=P=Q)&&s.lineStart(),Q!==P&&(J=S(d,G),(!J||pointEqual(d,J)||pointEqual(G,J))&&(G[2]=1)),Q!==P)I=0,Q?(s.lineStart(),J=S(G,d),s.point(J[0],J[1])):(J=S(d,G),s.point(J[0],J[1],2),s.lineEnd()),d=J;else if(p&&d&&l^Q){var Z;!(W&g)&&(Z=S(G,d,!0))&&(I=0,l?(s.lineStart(),s.point(Z[0][0],Z[0][1]),s.point(Z[1][0],Z[1][1]),s.lineEnd()):(s.point(Z[1][0],Z[1][1]),s.lineEnd(),s.lineStart(),s.point(Z[0][0],Z[0][1],3)))}Q&&(!d||!pointEqual(d,G))&&s.point(G[0],G[1]),d=G,P=Q,g=W},lineEnd:function(){P&&s.lineEnd(),d=null},clean:function(){return I|(R&&P)<<1}}}function S(s,d,g){var P=cartesian(s),R=cartesian(d),I=[1,0,0],j=cartesianCross(P,R),L=cartesianDot(j,j),G=j[0],J=L-G*G;if(!J)return!g&&s;var Q=r*L/J,W=-r*G/J,Z=cartesianCross(I,j),te=cartesianScale(I,Q),ee=cartesianScale(j,W);cartesianAddInPlace(te,ee);var ie=Z,oe=cartesianDot(te,ie),se=cartesianDot(ie,ie),le=oe*oe-se*(cartesianDot(te,te)-1);if(!(le<0)){var de=sqrt$3(le),pe=cartesianScale(ie,(-oe-de)/se);if(cartesianAddInPlace(pe,te),pe=spherical(pe),!g)return pe;var fe=s[0],he=d[0],ge=s[1],me=d[1],ye;he<fe&&(ye=fe,fe=he,he=ye);var ve=he-fe,Ae=abs$2(ve-pi$2)<epsilon$3,Pe=Ae||ve<epsilon$3;if(!Ae&&me<ge&&(ye=ge,ge=me,me=ye),Pe?Ae?ge+me>0^pe[1]<(abs$2(pe[0]-fe)<epsilon$3?ge:me):ge<=pe[1]&&pe[1]<=me:ve>pi$2^(fe<=pe[0]&&pe[0]<=he)){var Ne=cartesianScale(ie,(-oe+de)/se);return cartesianAddInPlace(Ne,te),[pe,spherical(Ne)]}}}function v(s,d){var g=l?e:pi$2-e,P=0;return s<-g?P|=1:s>g&&(P|=2),d<-g?P|=4:d>g&&(P|=8),P}return clip$2(O,_,f,l?[0,-e]:[-pi$2,e-pi$2])}function clipLine(e,r,o,l,p,f){var O=e[0],_=e[1],S=r[0],v=r[1],s=0,d=1,g=S-O,P=v-_,R;if(R=o-O,!(!g&&R>0)){if(R/=g,g<0){if(R<s)return;R<d&&(d=R)}else if(g>0){if(R>d)return;R>s&&(s=R)}if(R=p-O,!(!g&&R<0)){if(R/=g,g<0){if(R>d)return;R>s&&(s=R)}else if(g>0){if(R<s)return;R<d&&(d=R)}if(R=l-_,!(!P&&R>0)){if(R/=P,P<0){if(R<s)return;R<d&&(d=R)}else if(P>0){if(R>d)return;R>s&&(s=R)}if(R=f-_,!(!P&&R<0)){if(R/=P,P<0){if(R>d)return;R>s&&(s=R)}else if(P>0){if(R<s)return;R<d&&(d=R)}return s>0&&(e[0]=O+s*g,e[1]=_+s*P),d<1&&(r[0]=O+d*g,r[1]=_+d*P),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(e,r,o,l){function p(v,s){return e<=v&&v<=o&&r<=s&&s<=l}function f(v,s,d,g){var P=0,R=0;if(v==null||(P=O(v,d))!==(R=O(s,d))||S(v,s)<0^d>0)do g.point(P===0||P===3?e:o,P>1?l:r);while((P=(P+d+4)%4)!==R);else g.point(s[0],s[1])}function O(v,s){return abs$2(v[0]-e)<epsilon$3?s>0?0:3:abs$2(v[0]-o)<epsilon$3?s>0?2:1:abs$2(v[1]-r)<epsilon$3?s>0?1:0:s>0?3:2}function _(v,s){return S(v.x,s.x)}function S(v,s){var d=O(v,1),g=O(s,1);return d!==g?d-g:d===0?s[1]-v[1]:d===1?v[0]-s[0]:d===2?v[1]-s[1]:s[0]-v[0]}return function(v){var s=v,d=clipBuffer(),g,P,R,I,j,L,G,J,Q,W,Z,te={point:ee,lineStart:le,lineEnd:de,polygonStart:oe,polygonEnd:se};function ee(fe,he){p(fe,he)&&s.point(fe,he)}function ie(){for(var fe=0,he=0,ge=P.length;he<ge;++he)for(var me=P[he],ye=1,ve=me.length,Ae=me[0],Pe,Ne,Ee=Ae[0],Ce=Ae[1];ye<ve;++ye)Pe=Ee,Ne=Ce,Ae=me[ye],Ee=Ae[0],Ce=Ae[1],Ne<=l?Ce>l&&(Ee-Pe)*(l-Ne)>(Ce-Ne)*(e-Pe)&&++fe:Ce<=l&&(Ee-Pe)*(l-Ne)<(Ce-Ne)*(e-Pe)&&--fe;return fe}function oe(){s=d,g=[],P=[],Z=!0}function se(){var fe=ie(),he=Z&&fe,ge=(g=merge$3(g)).length;(he||ge)&&(v.polygonStart(),he&&(v.lineStart(),f(null,null,1,v),v.lineEnd()),ge&&clipRejoin(g,_,fe,f,v),v.polygonEnd()),s=v,g=P=R=null}function le(){te.point=pe,P&&P.push(R=[]),W=!0,Q=!1,G=J=NaN}function de(){g&&(pe(I,j),L&&Q&&d.rejoin(),g.push(d.result())),te.point=ee,Q&&s.lineEnd()}function pe(fe,he){var ge=p(fe,he);if(P&&R.push([fe,he]),W)I=fe,j=he,L=ge,W=!1,ge&&(s.lineStart(),s.point(fe,he));else if(ge&&Q)s.point(fe,he);else{var me=[G=Math.max(clipMin,Math.min(clipMax,G)),J=Math.max(clipMin,Math.min(clipMax,J))],ye=[fe=Math.max(clipMin,Math.min(clipMax,fe)),he=Math.max(clipMin,Math.min(clipMax,he))];clipLine(me,ye,e,r,o,l)?(Q||(s.lineStart(),s.point(me[0],me[1])),s.point(ye[0],ye[1]),ge||s.lineEnd(),Z=!1):ge&&(s.lineStart(),s.point(fe,he),Z=!1)}G=fe,J=he,Q=ge}return te}}function graticuleX(e,r,o){var l=range$4(e,r-epsilon$3,o).concat(r);return function(p){return l.map(function(f){return[p,f]})}}function graticuleY(e,r,o){var l=range$4(e,r-epsilon$3,o).concat(r);return function(p){return l.map(function(f){return[f,p]})}}function graticule(){var e,r,o,l,p,f,O,_,S=10,v=S,s=90,d=360,g,P,R,I,j=2.5;function L(){return{type:"MultiLineString",coordinates:G()}}function G(){return range$4(ceil(l/s)*s,o,s).map(R).concat(range$4(ceil(_/d)*d,O,d).map(I)).concat(range$4(ceil(r/S)*S,e,S).filter(function(J){return abs$2(J%s)>epsilon$3}).map(g)).concat(range$4(ceil(f/v)*v,p,v).filter(function(J){return abs$2(J%d)>epsilon$3}).map(P))}return L.lines=function(){return G().map(function(J){return{type:"LineString",coordinates:J}})},L.outline=function(){return{type:"Polygon",coordinates:[R(l).concat(I(O).slice(1),R(o).reverse().slice(1),I(_).reverse().slice(1))]}},L.extent=function(J){return arguments.length?L.extentMajor(J).extentMinor(J):L.extentMinor()},L.extentMajor=function(J){return arguments.length?(l=+J[0][0],o=+J[1][0],_=+J[0][1],O=+J[1][1],l>o&&(J=l,l=o,o=J),_>O&&(J=_,_=O,O=J),L.precision(j)):[[l,_],[o,O]]},L.extentMinor=function(J){return arguments.length?(r=+J[0][0],e=+J[1][0],f=+J[0][1],p=+J[1][1],r>e&&(J=r,r=e,e=J),f>p&&(J=f,f=p,p=J),L.precision(j)):[[r,f],[e,p]]},L.step=function(J){return arguments.length?L.stepMajor(J).stepMinor(J):L.stepMinor()},L.stepMajor=function(J){return arguments.length?(s=+J[0],d=+J[1],L):[s,d]},L.stepMinor=function(J){return arguments.length?(S=+J[0],v=+J[1],L):[S,v]},L.precision=function(J){return arguments.length?(j=+J,g=graticuleX(f,p,90),P=graticuleY(r,e,j),R=graticuleX(_,O,90),I=graticuleY(l,o,j),L):j},L.extentMajor([[-180,-90+epsilon$3],[180,90-epsilon$3]]).extentMinor([[-180,-80-epsilon$3],[180,80+epsilon$3]])}const identity$4=e=>e;var areaSum=new Adder,areaRingSum=new Adder,x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$4,lineStart:noop$4,lineEnd:noop$4,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$4,areaSum.add(abs$2(areaRingSum)),areaRingSum=new Adder},result:function(){var e=areaSum/2;return areaSum=new Adder,e}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(e,r){areaStream.point=areaPoint,x00$2=x0$3=e,y00$2=y0$3=r}function areaPoint(e,r){areaRingSum.add(y0$3*e-x0$3*r),x0$3=e,y0$3=r}function areaRingEnd(){areaPoint(x00$2,y00$2)}const pathArea=areaStream;var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$4,lineEnd:noop$4,polygonStart:noop$4,polygonEnd:noop$4,result:function(){var e=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),e}};function boundsPoint(e,r){e<x0$2&&(x0$2=e),e>x1&&(x1=e),r<y0$2&&(y0$2=r),r>y1&&(y1=r)}const boundsStream$1=boundsStream;var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var e=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,e}};function centroidPoint(e,r){X0+=e,Y0+=r,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(e,r){centroidStream.point=centroidPointLine,centroidPoint(x0$1=e,y0$1=r)}function centroidPointLine(e,r){var o=e-x0$1,l=r-y0$1,p=sqrt$3(o*o+l*l);X1+=p*(x0$1+e)/2,Y1+=p*(y0$1+r)/2,Z1+=p,centroidPoint(x0$1=e,y0$1=r)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(e,r){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=e,y00$1=y0$1=r)}function centroidPointRing(e,r){var o=e-x0$1,l=r-y0$1,p=sqrt$3(o*o+l*l);X1+=p*(x0$1+e)/2,Y1+=p*(y0$1+r)/2,Z1+=p,p=y0$1*e-x0$1*r,X2+=p*(x0$1+e),Y2+=p*(y0$1+r),Z2+=p*3,centroidPoint(x0$1=e,y0$1=r)}const pathCentroid=centroidStream;function PathContext(e){this._context=e}PathContext.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,r){switch(this._point){case 0:{this._context.moveTo(e,r),this._point=1;break}case 1:{this._context.lineTo(e,r);break}default:{this._context.moveTo(e+this._radius,r),this._context.arc(e,r,this._radius,0,tau$1);break}}},result:noop$4};var lengthSum=new Adder,lengthRing,x00,y00,x0,y0,lengthStream={point:noop$4,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$4},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var e=+lengthSum;return lengthSum=new Adder,e}};function lengthPointFirst(e,r){lengthStream.point=lengthPoint,x00=x0=e,y00=y0=r}function lengthPoint(e,r){x0-=e,y0-=r,lengthSum.add(sqrt$3(x0*x0+y0*y0)),x0=e,y0=r}const pathMeasure=lengthStream;let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(r){this._append=r==null?append$1:appendRound(r),this._radius=4.5,this._=""}pointRadius(r){return this._radius=+r,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(r,o){switch(this._point){case 0:{this._append`M${r},${o}`,this._point=1;break}case 1:{this._append`L${r},${o}`;break}default:{if(this._append`M${r},${o}`,this._radius!==cacheRadius||this._append!==cacheAppend){const l=this._radius,p=this._;this._="",this._append`m0,${l}a${l},${l} 0 1,1 0,${-2*l}a${l},${l} 0 1,1 0,${2*l}z`,cacheRadius=l,cacheAppend=this._append,cacheCircle=this._,this._=p}this._+=cacheCircle;break}}}result(){const r=this._;return this._="",r.length?r:null}}function append$1(e){let r=1;this._+=e[0];for(const o=e.length;r<o;++r)this._+=arguments[r]+e[r]}function appendRound(e){const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);if(r>15)return append$1;if(r!==cacheDigits){const o=10**r;cacheDigits=r,cacheAppend=function(p){let f=1;this._+=p[0];for(const O=p.length;f<O;++f)this._+=Math.round(arguments[f]*o)/o+p[f]}}return cacheAppend}function geoPath(e,r){let o=3,l=4.5,p,f;function O(_){return _&&(typeof l=="function"&&f.pointRadius(+l.apply(this,arguments)),geoStream(_,p(f))),f.result()}return O.area=function(_){return geoStream(_,p(pathArea)),pathArea.result()},O.measure=function(_){return geoStream(_,p(pathMeasure)),pathMeasure.result()},O.bounds=function(_){return geoStream(_,p(boundsStream$1)),boundsStream$1.result()},O.centroid=function(_){return geoStream(_,p(pathCentroid)),pathCentroid.result()},O.projection=function(_){return arguments.length?(p=_==null?(e=null,identity$4):(e=_).stream,O):e},O.context=function(_){return arguments.length?(f=_==null?(r=null,new PathString(o)):new PathContext(r=_),typeof l!="function"&&f.pointRadius(l),O):r},O.pointRadius=function(_){return arguments.length?(l=typeof _=="function"?_:(f.pointRadius(+_),+_),O):l},O.digits=function(_){if(!arguments.length)return o;if(_==null)o=null;else{const S=Math.floor(_);if(!(S>=0))throw new RangeError(`invalid digits: ${_}`);o=S}return r===null&&(f=new PathString(o)),O},O.projection(e).digits(o).context(r)}function transformer$3(e){return function(r){var o=new TransformStream;for(var l in e)o[l]=e[l];return o.stream=r,o}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(e,r){this.stream.point(e,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit$1(e,r,o){var l=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),l!=null&&e.clipExtent(null),geoStream(o,e.stream(boundsStream$1)),r(boundsStream$1.result()),l!=null&&e.clipExtent(l),e}function fitExtent(e,r,o){return fit$1(e,function(l){var p=r[1][0]-r[0][0],f=r[1][1]-r[0][1],O=Math.min(p/(l[1][0]-l[0][0]),f/(l[1][1]-l[0][1])),_=+r[0][0]+(p-O*(l[1][0]+l[0][0]))/2,S=+r[0][1]+(f-O*(l[1][1]+l[0][1]))/2;e.scale(150*O).translate([_,S])},o)}function fitSize(e,r,o){return fitExtent(e,[[0,0],r],o)}function fitWidth(e,r,o){return fit$1(e,function(l){var p=+r,f=p/(l[1][0]-l[0][0]),O=(p-f*(l[1][0]+l[0][0]))/2,_=-f*l[0][1];e.scale(150*f).translate([O,_])},o)}function fitHeight(e,r,o){return fit$1(e,function(l){var p=+r,f=p/(l[1][1]-l[0][1]),O=-f*l[0][0],_=(p-f*(l[1][1]+l[0][1]))/2;e.scale(150*f).translate([O,_])},o)}var maxDepth=16,cosMinDistance=cos$2(30*radians);function resample(e,r){return+r?resample$1(e,r):resampleNone(e)}function resampleNone(e){return transformer$3({point:function(r,o){r=e(r,o),this.stream.point(r[0],r[1])}})}function resample$1(e,r){function o(l,p,f,O,_,S,v,s,d,g,P,R,I,j){var L=v-l,G=s-p,J=L*L+G*G;if(J>4*r&&I--){var Q=O+g,W=_+P,Z=S+R,te=sqrt$3(Q*Q+W*W+Z*Z),ee=asin$2(Z/=te),ie=abs$2(abs$2(Z)-1)<epsilon$3||abs$2(f-d)<epsilon$3?(f+d)/2:atan2$1(W,Q),oe=e(ie,ee),se=oe[0],le=oe[1],de=se-l,pe=le-p,fe=G*de-L*pe;(fe*fe/J>r||abs$2((L*de+G*pe)/J-.5)>.3||O*g+_*P+S*R<cosMinDistance)&&(o(l,p,f,O,_,S,se,le,ie,Q/=te,W/=te,Z,I,j),j.point(se,le),o(se,le,ie,Q,W,Z,v,s,d,g,P,R,I,j))}}return function(l){var p,f,O,_,S,v,s,d,g,P,R,I,j={point:L,lineStart:G,lineEnd:Q,polygonStart:function(){l.polygonStart(),j.lineStart=W},polygonEnd:function(){l.polygonEnd(),j.lineStart=G}};function L(ee,ie){ee=e(ee,ie),l.point(ee[0],ee[1])}function G(){d=NaN,j.point=J,l.lineStart()}function J(ee,ie){var oe=cartesian([ee,ie]),se=e(ee,ie);o(d,g,s,P,R,I,d=se[0],g=se[1],s=ee,P=oe[0],R=oe[1],I=oe[2],maxDepth,l),l.point(d,g)}function Q(){j.point=L,l.lineEnd()}function W(){G(),j.point=Z,j.lineEnd=te}function Z(ee,ie){J(p=ee,ie),f=d,O=g,_=P,S=R,v=I,j.point=J}function te(){o(d,g,s,P,R,I,f,O,p,_,S,v,maxDepth,l),j.lineEnd=Q,Q()}return j}}var transformRadians=transformer$3({point:function(e,r){this.stream.point(e*radians,r*radians)}});function transformRotate(e){return transformer$3({point:function(r,o){var l=e(r,o);return this.stream.point(l[0],l[1])}})}function scaleTranslate(e,r,o,l,p){function f(O,_){return O*=l,_*=p,[r+e*O,o-e*_]}return f.invert=function(O,_){return[(O-r)/e*l,(o-_)/e*p]},f}function scaleTranslateRotate(e,r,o,l,p,f){if(!f)return scaleTranslate(e,r,o,l,p);var O=cos$2(f),_=sin$2(f),S=O*e,v=_*e,s=O/e,d=_/e,g=(_*o-O*r)/e,P=(_*r+O*o)/e;function R(I,j){return I*=l,j*=p,[S*I-v*j+r,o-v*I-S*j]}return R.invert=function(I,j){return[l*(s*I-d*j+g),p*(P-d*I-s*j)]},R}function projection$1(e){return projectionMutator(function(){return e})()}function projectionMutator(e){var r,o=150,l=480,p=250,f=0,O=0,_=0,S=0,v=0,s,d=0,g=1,P=1,R=null,I=clipAntimeridian,j=null,L,G,J,Q=identity$4,W=.5,Z,te,ee,ie,oe;function se(fe){return ee(fe[0]*radians,fe[1]*radians)}function le(fe){return fe=ee.invert(fe[0],fe[1]),fe&&[fe[0]*degrees,fe[1]*degrees]}se.stream=function(fe){return ie&&oe===fe?ie:ie=transformRadians(transformRotate(s)(I(Z(Q(oe=fe)))))},se.preclip=function(fe){return arguments.length?(I=fe,R=void 0,pe()):I},se.postclip=function(fe){return arguments.length?(Q=fe,j=L=G=J=null,pe()):Q},se.clipAngle=function(fe){return arguments.length?(I=+fe?clipCircle(R=fe*radians):(R=null,clipAntimeridian),pe()):R*degrees},se.clipExtent=function(fe){return arguments.length?(Q=fe==null?(j=L=G=J=null,identity$4):clipRectangle(j=+fe[0][0],L=+fe[0][1],G=+fe[1][0],J=+fe[1][1]),pe()):j==null?null:[[j,L],[G,J]]},se.scale=function(fe){return arguments.length?(o=+fe,de()):o},se.translate=function(fe){return arguments.length?(l=+fe[0],p=+fe[1],de()):[l,p]},se.center=function(fe){return arguments.length?(f=fe[0]%360*radians,O=fe[1]%360*radians,de()):[f*degrees,O*degrees]},se.rotate=function(fe){return arguments.length?(_=fe[0]%360*radians,S=fe[1]%360*radians,v=fe.length>2?fe[2]%360*radians:0,de()):[_*degrees,S*degrees,v*degrees]},se.angle=function(fe){return arguments.length?(d=fe%360*radians,de()):d*degrees},se.reflectX=function(fe){return arguments.length?(g=fe?-1:1,de()):g<0},se.reflectY=function(fe){return arguments.length?(P=fe?-1:1,de()):P<0},se.precision=function(fe){return arguments.length?(Z=resample(te,W=fe*fe),pe()):sqrt$3(W)},se.fitExtent=function(fe,he){return fitExtent(se,fe,he)},se.fitSize=function(fe,he){return fitSize(se,fe,he)},se.fitWidth=function(fe,he){return fitWidth(se,fe,he)},se.fitHeight=function(fe,he){return fitHeight(se,fe,he)};function de(){var fe=scaleTranslateRotate(o,0,0,g,P,d).apply(null,r(f,O)),he=scaleTranslateRotate(o,l-fe[0],p-fe[1],g,P,d);return s=rotateRadians(_,S,v),te=compose(r,he),ee=compose(s,te),Z=resample(te,W),pe()}function pe(){return ie=oe=null,se}return function(){return r=e.apply(this,arguments),se.invert=r.invert&&le,de()}}function conicProjection(e){var r=0,o=pi$2/3,l=projectionMutator(e),p=l(r,o);return p.parallels=function(f){return arguments.length?l(r=f[0]*radians,o=f[1]*radians):[r*degrees,o*degrees]},p}function cylindricalEqualAreaRaw(e){var r=cos$2(e);function o(l,p){return[l*r,sin$2(p)/r]}return o.invert=function(l,p){return[l/r,asin$2(p*r)]},o}function conicEqualAreaRaw(e,r){var o=sin$2(e),l=(o+sin$2(r))/2;if(abs$2(l)<epsilon$3)return cylindricalEqualAreaRaw(e);var p=1+o*(2*l-o),f=sqrt$3(p)/l;function O(_,S){var v=sqrt$3(p-2*l*sin$2(S))/l;return[v*sin$2(_*=l),f-v*cos$2(_)]}return O.invert=function(_,S){var v=f-S,s=atan2$1(_,abs$2(v))*sign$1(v);return v*l<0&&(s-=pi$2*sign$1(_)*sign$1(v)),[s/l,asin$2((p-(_*_+v*v)*l*l)/(2*l))]},O}function geoConicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(e){var r=e.length;return{point:function(o,l){for(var p=-1;++p<r;)e[p].point(o,l)},sphere:function(){for(var o=-1;++o<r;)e[o].sphere()},lineStart:function(){for(var o=-1;++o<r;)e[o].lineStart()},lineEnd:function(){for(var o=-1;++o<r;)e[o].lineEnd()},polygonStart:function(){for(var o=-1;++o<r;)e[o].polygonStart()},polygonEnd:function(){for(var o=-1;++o<r;)e[o].polygonEnd()}}}function geoAlbersUsa(){var e,r,o=geoAlbers(),l,p=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f,O=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),_,S,v={point:function(g,P){S=[g,P]}};function s(g){var P=g[0],R=g[1];return S=null,l.point(P,R),S||(f.point(P,R),S)||(_.point(P,R),S)}s.invert=function(g){var P=o.scale(),R=o.translate(),I=(g[0]-R[0])/P,j=(g[1]-R[1])/P;return(j>=.12&&j<.234&&I>=-.425&&I<-.214?p:j>=.166&&j<.234&&I>=-.214&&I<-.115?O:o).invert(g)},s.stream=function(g){return e&&r===g?e:e=multiplex([o.stream(r=g),p.stream(g),O.stream(g)])},s.precision=function(g){return arguments.length?(o.precision(g),p.precision(g),O.precision(g),d()):o.precision()},s.scale=function(g){return arguments.length?(o.scale(g),p.scale(g*.35),O.scale(g),s.translate(o.translate())):o.scale()},s.translate=function(g){if(!arguments.length)return o.translate();var P=o.scale(),R=+g[0],I=+g[1];return l=o.translate(g).clipExtent([[R-.455*P,I-.238*P],[R+.455*P,I+.238*P]]).stream(v),f=p.translate([R-.307*P,I+.201*P]).clipExtent([[R-.425*P+epsilon$3,I+.12*P+epsilon$3],[R-.214*P-epsilon$3,I+.234*P-epsilon$3]]).stream(v),_=O.translate([R-.205*P,I+.212*P]).clipExtent([[R-.214*P+epsilon$3,I+.166*P+epsilon$3],[R-.115*P-epsilon$3,I+.234*P-epsilon$3]]).stream(v),d()},s.fitExtent=function(g,P){return fitExtent(s,g,P)},s.fitSize=function(g,P){return fitSize(s,g,P)},s.fitWidth=function(g,P){return fitWidth(s,g,P)},s.fitHeight=function(g,P){return fitHeight(s,g,P)};function d(){return e=r=null,s}return s.scale(1070)}function azimuthalRaw(e){return function(r,o){var l=cos$2(r),p=cos$2(o),f=e(l*p);return f===1/0?[2,0]:[f*p*sin$2(r),f*sin$2(o)]}}function azimuthalInvert(e){return function(r,o){var l=sqrt$3(r*r+o*o),p=e(l),f=sin$2(p),O=cos$2(p);return[atan2$1(r*f,l*O),asin$2(l&&o*f/l)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(e){return sqrt$3(2/(1+e))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(e){return 2*asin$2(e/2)});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw(function(e){return(e=acos$1(e))&&e/sin$2(e)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(e){return e});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(e,r){return[e,log$4(tan((halfPi$2+r)/2))]}mercatorRaw.invert=function(e,r){return[e,2*atan(exp$2(r))-halfPi$2]};function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$1)}function mercatorProjection(e){var r=projection$1(e),o=r.center,l=r.scale,p=r.translate,f=r.clipExtent,O=null,_,S,v;r.scale=function(d){return arguments.length?(l(d),s()):l()},r.translate=function(d){return arguments.length?(p(d),s()):p()},r.center=function(d){return arguments.length?(o(d),s()):o()},r.clipExtent=function(d){return arguments.length?(d==null?O=_=S=v=null:(O=+d[0][0],_=+d[0][1],S=+d[1][0],v=+d[1][1]),s()):O==null?null:[[O,_],[S,v]]};function s(){var d=pi$2*l(),g=r(rotation(r.rotate()).invert([0,0]));return f(O==null?[[g[0]-d,g[1]-d],[g[0]+d,g[1]+d]]:e===mercatorRaw?[[Math.max(g[0]-d,O),_],[Math.min(g[0]+d,S),v]]:[[O,Math.max(g[1]-d,_)],[S,Math.min(g[1]+d,v)]])}return s()}function tany(e){return tan((halfPi$2+e)/2)}function conicConformalRaw(e,r){var o=cos$2(e),l=e===r?sin$2(e):log$4(o/cos$2(r))/log$4(tany(r)/tany(e)),p=o*pow$3(tany(e),l)/l;if(!l)return mercatorRaw;function f(O,_){p>0?_<-halfPi$2+epsilon$3&&(_=-halfPi$2+epsilon$3):_>halfPi$2-epsilon$3&&(_=halfPi$2-epsilon$3);var S=p/pow$3(tany(_),l);return[S*sin$2(l*O),p-S*cos$2(l*O)]}return f.invert=function(O,_){var S=p-_,v=sign$1(l)*sqrt$3(O*O+S*S),s=atan2$1(O,abs$2(S))*sign$1(S);return S*l<0&&(s-=pi$2*sign$1(O)*sign$1(S)),[s/l,2*atan(pow$3(p/v,1/l))-halfPi$2]},f}function geoConicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(e,r){return[e,r]}equirectangularRaw.invert=equirectangularRaw;function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(e,r){var o=cos$2(e),l=e===r?sin$2(e):(o-cos$2(r))/(r-e),p=o/l+e;if(abs$2(l)<epsilon$3)return equirectangularRaw;function f(O,_){var S=p-_,v=l*O;return[S*sin$2(v),p-S*cos$2(v)]}return f.invert=function(O,_){var S=p-_,v=atan2$1(O,abs$2(S))*sign$1(S);return S*l<0&&(v-=pi$2*sign$1(O)*sign$1(S)),[v/l,p-sign$1(l)*sqrt$3(O*O+S*S)]},f}function geoConicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$3(3)/2,iterations=12;function equalEarthRaw(e,r){var o=asin$2(M*sin$2(r)),l=o*o,p=l*l*l;return[e*cos$2(o)/(M*(A1+3*A2*l+p*(7*A3+9*A4*l))),o*(A1+A2*l+p*(A3+A4*l))]}equalEarthRaw.invert=function(e,r){for(var o=r,l=o*o,p=l*l*l,f=0,O,_,S;f<iterations&&(_=o*(A1+A2*l+p*(A3+A4*l))-r,S=A1+3*A2*l+p*(7*A3+9*A4*l),o-=O=_/S,l=o*o,p=l*l*l,!(abs$2(O)<epsilon2));++f);return[M*e*(A1+3*A2*l+p*(7*A3+9*A4*l))/cos$2(o),asin$2(sin$2(o)/M)]};function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(e,r){var o=cos$2(r),l=cos$2(e)*o;return[o*sin$2(e)/l,sin$2(r)/l]}gnomonicRaw.invert=azimuthalInvert(atan);function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function geoIdentity(){var e=1,r=0,o=0,l=1,p=1,f=0,O,_,S=null,v,s,d,g=1,P=1,R=transformer$3({point:function(Q,W){var Z=J([Q,W]);this.stream.point(Z[0],Z[1])}}),I=identity$4,j,L;function G(){return g=e*l,P=e*p,j=L=null,J}function J(Q){var W=Q[0]*g,Z=Q[1]*P;if(f){var te=Z*O-W*_;W=W*O+Z*_,Z=te}return[W+r,Z+o]}return J.invert=function(Q){var W=Q[0]-r,Z=Q[1]-o;if(f){var te=Z*O+W*_;W=W*O-Z*_,Z=te}return[W/g,Z/P]},J.stream=function(Q){return j&&L===Q?j:j=R(I(L=Q))},J.postclip=function(Q){return arguments.length?(I=Q,S=v=s=d=null,G()):I},J.clipExtent=function(Q){return arguments.length?(I=Q==null?(S=v=s=d=null,identity$4):clipRectangle(S=+Q[0][0],v=+Q[0][1],s=+Q[1][0],d=+Q[1][1]),G()):S==null?null:[[S,v],[s,d]]},J.scale=function(Q){return arguments.length?(e=+Q,G()):e},J.translate=function(Q){return arguments.length?(r=+Q[0],o=+Q[1],G()):[r,o]},J.angle=function(Q){return arguments.length?(f=Q%360*radians,_=sin$2(f),O=cos$2(f),G()):f*degrees},J.reflectX=function(Q){return arguments.length?(l=Q?-1:1,G()):l<0},J.reflectY=function(Q){return arguments.length?(p=Q?-1:1,G()):p<0},J.fitExtent=function(Q,W){return fitExtent(J,Q,W)},J.fitSize=function(Q,W){return fitSize(J,Q,W)},J.fitWidth=function(Q,W){return fitWidth(J,Q,W)},J.fitHeight=function(Q,W){return fitHeight(J,Q,W)},J}function naturalEarth1Raw(e,r){var o=r*r,l=o*o;return[e*(.8707-.131979*o+l*(-.013791+l*(.003971*o-.001529*l))),r*(1.007226+o*(.015085+l*(-.044475+.028874*o-.005916*l)))]}naturalEarth1Raw.invert=function(e,r){var o=r,l=25,p;do{var f=o*o,O=f*f;o-=p=(o*(1.007226+f*(.015085+O*(-.044475+.028874*f-.005916*O)))-r)/(1.007226+f*(.015085*3+O*(-.044475*7+.028874*9*f-.005916*11*O)))}while(abs$2(p)>epsilon$3&&--l>0);return[e/(.8707+(f=o*o)*(-.131979+f*(-.013791+f*f*f*(.003971-.001529*f)))),o]};function geoNaturalEarth1(){return projection$1(naturalEarth1Raw).scale(175.295)}function orthographicRaw(e,r){return[cos$2(r)*sin$2(e),sin$2(r)]}orthographicRaw.invert=azimuthalInvert(asin$2);function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$3)}function stereographicRaw(e,r){var o=cos$2(r),l=1+cos$2(e)*o;return[o*sin$2(e)/l,sin$2(r)/l]}stereographicRaw.invert=azimuthalInvert(function(e){return 2*atan(e)});function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(e,r){return[log$4(tan((halfPi$2+r)/2)),-e]}transverseMercatorRaw.invert=function(e,r){return[-r,2*atan(exp$2(e))-halfPi$2]};function geoTransverseMercator(){var e=mercatorProjection(transverseMercatorRaw),r=e.center,o=e.rotate;return e.center=function(l){return arguments.length?r([-l[1],l[0]]):(l=r(),[l[1],-l[0]])},e.rotate=function(l){return arguments.length?o([l[0],l[1],l.length>2?l[2]+90:90]):(l=o(),[l[0],l[1],l[2]-90])},o([0,0,90]).scale(159.155)}function defaultSeparation$2(e,r){return e.parent===r.parent?1:2}function meanX(e){return e.reduce(meanXReduce,0)/e.length}function meanXReduce(e,r){return e+r.x}function maxY(e){return 1+e.reduce(maxYReduce,0)}function maxYReduce(e,r){return Math.max(e,r.y)}function leafLeft(e){for(var r;r=e.children;)e=r[0];return e}function leafRight(e){for(var r;r=e.children;)e=r[r.length-1];return e}function cluster(){var e=defaultSeparation$2,r=1,o=1,l=!1;function p(f){var O,_=0;f.eachAfter(function(g){var P=g.children;P?(g.x=meanX(P),g.y=maxY(P)):(g.x=O?_+=e(g,O):0,g.y=0,O=g)});var S=leafLeft(f),v=leafRight(f),s=S.x-e(S,v)/2,d=v.x+e(v,S)/2;return f.eachAfter(l?function(g){g.x=(g.x-f.x)*r,g.y=(f.y-g.y)*o}:function(g){g.x=(g.x-s)/(d-s)*r,g.y=(1-(f.y?g.y/f.y:1))*o})}return p.separation=function(f){return arguments.length?(e=f,p):e},p.size=function(f){return arguments.length?(l=!1,r=+f[0],o=+f[1],p):l?null:[r,o]},p.nodeSize=function(f){return arguments.length?(l=!0,r=+f[0],o=+f[1],p):l?[r,o]:null},p}function count$1(e){var r=0,o=e.children,l=o&&o.length;if(!l)r=1;else for(;--l>=0;)r+=o[l].value;e.value=r}function node_count(){return this.eachAfter(count$1)}function node_each(e,r){let o=-1;for(const l of this)e.call(r,l,++o,this);return this}function node_eachBefore(e,r){for(var o=this,l=[o],p,f,O=-1;o=l.pop();)if(e.call(r,o,++O,this),p=o.children)for(f=p.length-1;f>=0;--f)l.push(p[f]);return this}function node_eachAfter(e,r){for(var o=this,l=[o],p=[],f,O,_,S=-1;o=l.pop();)if(p.push(o),f=o.children)for(O=0,_=f.length;O<_;++O)l.push(f[O]);for(;o=p.pop();)e.call(r,o,++S,this);return this}function node_find(e,r){let o=-1;for(const l of this)if(e.call(r,l,++o,this))return l}function node_sum(e){return this.eachAfter(function(r){for(var o=+e(r.data)||0,l=r.children,p=l&&l.length;--p>=0;)o+=l[p].value;r.value=o})}function node_sort(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function node_path(e){for(var r=this,o=leastCommonAncestor(r,e),l=[r];r!==o;)r=r.parent,l.push(r);for(var p=l.length;e!==o;)l.splice(p,0,e),e=e.parent;return l}function leastCommonAncestor(e,r){if(e===r)return e;var o=e.ancestors(),l=r.ancestors(),p=null;for(e=o.pop(),r=l.pop();e===r;)p=e,e=o.pop(),r=l.pop();return p}function node_ancestors(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function node_descendants(){return Array.from(this)}function node_leaves(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function node_links(){var e=this,r=[];return e.each(function(o){o!==e&&r.push({source:o.parent,target:o})}),r}function*node_iterator(){var e=this,r,o=[e],l,p,f;do for(r=o.reverse(),o=[];e=r.pop();)if(yield e,l=e.children)for(p=0,f=l.length;p<f;++p)o.push(l[p]);while(o.length)}function hierarchy(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=mapChildren)):r===void 0&&(r=objectChildren);for(var o=new Node$2(e),l,p=[o],f,O,_,S;l=p.pop();)if((O=r(l.data))&&(S=(O=Array.from(O)).length))for(l.children=O,_=S-1;_>=0;--_)p.push(f=O[_]=new Node$2(O[_])),f.parent=l,f.depth=l.depth+1;return o.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function objectChildren(e){return e.children}function mapChildren(e){return Array.isArray(e)?e[1]:null}function copyData(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function computeHeight(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function Node$2(e){this.data=e,this.depth=this.height=0,this.parent=null}Node$2.prototype=hierarchy.prototype={constructor:Node$2,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,find:node_find,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy,[Symbol.iterator]:node_iterator};function optional(e){return e==null?null:required(e)}function required(e){if(typeof e!="function")throw new Error;return e}function constantZero(){return 0}function constant$3(e){return function(){return e}}const a=1664525,c=1013904223,m=4294967296;function lcg(){let e=1;return()=>(e=(a*e+c)%m)/m}function array$7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function shuffle(e,r){let o=e.length,l,p;for(;o;)p=r()*o--|0,l=e[o],e[o]=e[p],e[p]=l;return e}function packEncloseRandom(e,r){for(var o=0,l=(e=shuffle(Array.from(e),r)).length,p=[],f,O;o<l;)f=e[o],O&&enclosesWeak(O,f)?++o:(O=encloseBasis(p=extendBasis(p,f)),o=0);return O}function extendBasis(e,r){var o,l;if(enclosesWeakAll(r,e))return[r];for(o=0;o<e.length;++o)if(enclosesNot(r,e[o])&&enclosesWeakAll(encloseBasis2(e[o],r),e))return[e[o],r];for(o=0;o<e.length-1;++o)for(l=o+1;l<e.length;++l)if(enclosesNot(encloseBasis2(e[o],e[l]),r)&&enclosesNot(encloseBasis2(e[o],r),e[l])&&enclosesNot(encloseBasis2(e[l],r),e[o])&&enclosesWeakAll(encloseBasis3(e[o],e[l],r),e))return[e[o],e[l],r];throw new Error}function enclosesNot(e,r){var o=e.r-r.r,l=r.x-e.x,p=r.y-e.y;return o<0||o*o<l*l+p*p}function enclosesWeak(e,r){var o=e.r-r.r+Math.max(e.r,r.r,1)*1e-9,l=r.x-e.x,p=r.y-e.y;return o>0&&o*o>l*l+p*p}function enclosesWeakAll(e,r){for(var o=0;o<r.length;++o)if(!enclosesWeak(e,r[o]))return!1;return!0}function encloseBasis(e){switch(e.length){case 1:return encloseBasis1(e[0]);case 2:return encloseBasis2(e[0],e[1]);case 3:return encloseBasis3(e[0],e[1],e[2])}}function encloseBasis1(e){return{x:e.x,y:e.y,r:e.r}}function encloseBasis2(e,r){var o=e.x,l=e.y,p=e.r,f=r.x,O=r.y,_=r.r,S=f-o,v=O-l,s=_-p,d=Math.sqrt(S*S+v*v);return{x:(o+f+S/d*s)/2,y:(l+O+v/d*s)/2,r:(d+p+_)/2}}function encloseBasis3(e,r,o){var l=e.x,p=e.y,f=e.r,O=r.x,_=r.y,S=r.r,v=o.x,s=o.y,d=o.r,g=l-O,P=l-v,R=p-_,I=p-s,j=S-f,L=d-f,G=l*l+p*p-f*f,J=G-O*O-_*_+S*S,Q=G-v*v-s*s+d*d,W=P*R-g*I,Z=(R*Q-I*J)/(W*2)-l,te=(I*j-R*L)/W,ee=(P*J-g*Q)/(W*2)-p,ie=(g*L-P*j)/W,oe=te*te+ie*ie-1,se=2*(f+Z*te+ee*ie),le=Z*Z+ee*ee-f*f,de=-(Math.abs(oe)>1e-6?(se+Math.sqrt(se*se-4*oe*le))/(2*oe):le/se);return{x:l+Z+te*de,y:p+ee+ie*de,r:de}}function place(e,r,o){var l=e.x-r.x,p,f,O=e.y-r.y,_,S,v=l*l+O*O;v?(f=r.r+o.r,f*=f,S=e.r+o.r,S*=S,f>S?(p=(v+S-f)/(2*v),_=Math.sqrt(Math.max(0,S/v-p*p)),o.x=e.x-p*l-_*O,o.y=e.y-p*O+_*l):(p=(v+f-S)/(2*v),_=Math.sqrt(Math.max(0,f/v-p*p)),o.x=r.x+p*l-_*O,o.y=r.y+p*O+_*l)):(o.x=r.x+o.r,o.y=r.y)}function intersects(e,r){var o=e.r+r.r-1e-6,l=r.x-e.x,p=r.y-e.y;return o>0&&o*o>l*l+p*p}function score(e){var r=e._,o=e.next._,l=r.r+o.r,p=(r.x*o.r+o.x*r.r)/l,f=(r.y*o.r+o.y*r.r)/l;return p*p+f*f}function Node$1(e){this._=e,this.next=null,this.previous=null}function packSiblingsRandom(e,r){if(!(f=(e=array$7(e)).length))return 0;var o,l,p,f,O,_,S,v,s,d,g;if(o=e[0],o.x=0,o.y=0,!(f>1))return o.r;if(l=e[1],o.x=-l.r,l.x=o.r,l.y=0,!(f>2))return o.r+l.r;place(l,o,p=e[2]),o=new Node$1(o),l=new Node$1(l),p=new Node$1(p),o.next=p.previous=l,l.next=o.previous=p,p.next=l.previous=o;e:for(S=3;S<f;++S){place(o._,l._,p=e[S]),p=new Node$1(p),v=l.next,s=o.previous,d=l._.r,g=o._.r;do if(d<=g){if(intersects(v._,p._)){l=v,o.next=l,l.previous=o,--S;continue e}d+=v._.r,v=v.next}else{if(intersects(s._,p._)){o=s,o.next=l,l.previous=o,--S;continue e}g+=s._.r,s=s.previous}while(v!==s.next);for(p.previous=o,p.next=l,o.next=l.previous=l=p,O=score(o);(p=p.next)!==l;)(_=score(p))<O&&(o=p,O=_);l=o.next}for(o=[l._],p=l;(p=p.next)!==l;)o.push(p._);for(p=packEncloseRandom(o,r),S=0;S<f;++S)o=e[S],o.x-=p.x,o.y-=p.y;return p.r}function defaultRadius(e){return Math.sqrt(e.value)}function pack(){var e=null,r=1,o=1,l=constantZero;function p(f){const O=lcg();return f.x=r/2,f.y=o/2,e?f.eachBefore(radiusLeaf(e)).eachAfter(packChildrenRandom(l,.5,O)).eachBefore(translateChild(1)):f.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildrenRandom(constantZero,1,O)).eachAfter(packChildrenRandom(l,f.r/Math.min(r,o),O)).eachBefore(translateChild(Math.min(r,o)/(2*f.r))),f}return p.radius=function(f){return arguments.length?(e=optional(f),p):e},p.size=function(f){return arguments.length?(r=+f[0],o=+f[1],p):[r,o]},p.padding=function(f){return arguments.length?(l=typeof f=="function"?f:constant$3(+f),p):l},p}function radiusLeaf(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function packChildrenRandom(e,r,o){return function(l){if(p=l.children){var p,f,O=p.length,_=e(l)*r||0,S;if(_)for(f=0;f<O;++f)p[f].r+=_;if(S=packSiblingsRandom(p,o),_)for(f=0;f<O;++f)p[f].r-=_;l.r=S+_}}}function translateChild(e){return function(r){var o=r.parent;r.r*=e,o&&(r.x=o.x+e*r.x,r.y=o.y+e*r.y)}}function roundNode(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function treemapDice(e,r,o,l,p){for(var f=e.children,O,_=-1,S=f.length,v=e.value&&(l-r)/e.value;++_<S;)O=f[_],O.y0=o,O.y1=p,O.x0=r,O.x1=r+=O.value*v}function partition$4(){var e=1,r=1,o=0,l=!1;function p(O){var _=O.height+1;return O.x0=O.y0=o,O.x1=e,O.y1=r/_,O.eachBefore(f(r,_)),l&&O.eachBefore(roundNode),O}function f(O,_){return function(S){S.children&&treemapDice(S,S.x0,O*(S.depth+1)/_,S.x1,O*(S.depth+2)/_);var v=S.x0,s=S.y0,d=S.x1-o,g=S.y1-o;d<v&&(v=d=(v+d)/2),g<s&&(s=g=(s+g)/2),S.x0=v,S.y0=s,S.x1=d,S.y1=g}}return p.round=function(O){return arguments.length?(l=!!O,p):l},p.size=function(O){return arguments.length?(e=+O[0],r=+O[1],p):[e,r]},p.padding=function(O){return arguments.length?(o=+O,p):o},p}var preroot={depth:-1},ambiguous={},imputed={};function defaultId(e){return e.id}function defaultParentId(e){return e.parentId}function stratify(){var e=defaultId,r=defaultParentId,o;function l(p){var f=Array.from(p),O=e,_=r,S,v,s,d,g,P,R,I,j=new Map;if(o!=null){const L=f.map((Q,W)=>normalize$1(o(Q,W,p))),G=L.map(parentof),J=new Set(L).add("");for(const Q of G)J.has(Q)||(J.add(Q),L.push(Q),G.push(parentof(Q)),f.push(imputed));O=(Q,W)=>L[W],_=(Q,W)=>G[W]}for(s=0,S=f.length;s<S;++s)v=f[s],P=f[s]=new Node$2(v),(R=O(v,s,p))!=null&&(R+="")&&(I=P.id=R,j.set(I,j.has(I)?ambiguous:P)),(R=_(v,s,p))!=null&&(R+="")&&(P.parent=R);for(s=0;s<S;++s)if(P=f[s],R=P.parent){if(g=j.get(R),!g)throw new Error("missing: "+R);if(g===ambiguous)throw new Error("ambiguous: "+R);g.children?g.children.push(P):g.children=[P],P.parent=g}else{if(d)throw new Error("multiple roots");d=P}if(!d)throw new Error("no root");if(o!=null){for(;d.data===imputed&&d.children.length===1;)d=d.children[0],--S;for(let L=f.length-1;L>=0&&(P=f[L],P.data===imputed);--L)P.data=null}if(d.parent=preroot,d.eachBefore(function(L){L.depth=L.parent.depth+1,--S}).eachBefore(computeHeight),d.parent=null,S>0)throw new Error("cycle");return d}return l.id=function(p){return arguments.length?(e=optional(p),l):e},l.parentId=function(p){return arguments.length?(r=optional(p),l):r},l.path=function(p){return arguments.length?(o=optional(p),l):o},l}function normalize$1(e){e=`${e}`;let r=e.length;return slash(e,r-1)&&!slash(e,r-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function parentof(e){let r=e.length;if(r<2)return"";for(;--r>1&&!slash(e,r););return e.slice(0,r)}function slash(e,r){if(e[r]==="/"){let o=0;for(;r>0&&e[--r]==="\\";)++o;if(!(o&1))return!0}return!1}function defaultSeparation$1(e,r){return e.parent===r.parent?1:2}function nextLeft(e){var r=e.children;return r?r[0]:e.t}function nextRight(e){var r=e.children;return r?r[r.length-1]:e.t}function moveSubtree(e,r,o){var l=o/(r.i-e.i);r.c-=l,r.s+=o,e.c+=l,r.z+=o,r.m+=o}function executeShifts(e){for(var r=0,o=0,l=e.children,p=l.length,f;--p>=0;)f=l[p],f.z+=r,f.m+=r,r+=f.s+(o+=f.c)}function nextAncestor(e,r,o){return e.a.parent===r.parent?e.a:o}function TreeNode(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}TreeNode.prototype=Object.create(Node$2.prototype);function treeRoot(e){for(var r=new TreeNode(e,0),o,l=[r],p,f,O,_;o=l.pop();)if(f=o._.children)for(o.children=new Array(_=f.length),O=_-1;O>=0;--O)l.push(p=o.children[O]=new TreeNode(f[O],O)),p.parent=o;return(r.parent=new TreeNode(null,0)).children=[r],r}function tree$1(){var e=defaultSeparation$1,r=1,o=1,l=null;function p(v){var s=treeRoot(v);if(s.eachAfter(f),s.parent.m=-s.z,s.eachBefore(O),l)v.eachBefore(S);else{var d=v,g=v,P=v;v.eachBefore(function(G){G.x<d.x&&(d=G),G.x>g.x&&(g=G),G.depth>P.depth&&(P=G)});var R=d===g?1:e(d,g)/2,I=R-d.x,j=r/(g.x+R+I),L=o/(P.depth||1);v.eachBefore(function(G){G.x=(G.x+I)*j,G.y=G.depth*L})}return v}function f(v){var s=v.children,d=v.parent.children,g=v.i?d[v.i-1]:null;if(s){executeShifts(v);var P=(s[0].z+s[s.length-1].z)/2;g?(v.z=g.z+e(v._,g._),v.m=v.z-P):v.z=P}else g&&(v.z=g.z+e(v._,g._));v.parent.A=_(v,g,v.parent.A||d[0])}function O(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function _(v,s,d){if(s){for(var g=v,P=v,R=s,I=g.parent.children[0],j=g.m,L=P.m,G=R.m,J=I.m,Q;R=nextRight(R),g=nextLeft(g),R&&g;)I=nextLeft(I),P=nextRight(P),P.a=v,Q=R.z+G-g.z-j+e(R._,g._),Q>0&&(moveSubtree(nextAncestor(R,v,d),v,Q),j+=Q,L+=Q),G+=R.m,j+=g.m,J+=I.m,L+=P.m;R&&!nextRight(P)&&(P.t=R,P.m+=G-L),g&&!nextLeft(I)&&(I.t=g,I.m+=j-J,d=v)}return d}function S(v){v.x*=r,v.y=v.depth*o}return p.separation=function(v){return arguments.length?(e=v,p):e},p.size=function(v){return arguments.length?(l=!1,r=+v[0],o=+v[1],p):l?null:[r,o]},p.nodeSize=function(v){return arguments.length?(l=!0,r=+v[0],o=+v[1],p):l?[r,o]:null},p}function treemapSlice(e,r,o,l,p){for(var f=e.children,O,_=-1,S=f.length,v=e.value&&(p-o)/e.value;++_<S;)O=f[_],O.x0=r,O.x1=l,O.y0=o,O.y1=o+=O.value*v}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(e,r,o,l,p,f){for(var O=[],_=r.children,S,v,s=0,d=0,g=_.length,P,R,I=r.value,j,L,G,J,Q,W,Z;s<g;){P=p-o,R=f-l;do j=_[d++].value;while(!j&&d<g);for(L=G=j,W=Math.max(R/P,P/R)/(I*e),Z=j*j*W,Q=Math.max(G/Z,Z/L);d<g;++d){if(j+=v=_[d].value,v<L&&(L=v),v>G&&(G=v),Z=j*j*W,J=Math.max(G/Z,Z/L),J>Q){j-=v;break}Q=J}O.push(S={value:j,dice:P<R,children:_.slice(s,d)}),S.dice?treemapDice(S,o,l,p,I?l+=R*j/I:f):treemapSlice(S,o,l,I?o+=P*j/I:p,f),I-=j,s=d}return O}const treemapSquarify=function e(r){function o(l,p,f,O,_){squarifyRatio(r,l,p,f,O,_)}return o.ratio=function(l){return e((l=+l)>1?l:1)},o}(phi);function treemap(){var e=treemapSquarify,r=!1,o=1,l=1,p=[0],f=constantZero,O=constantZero,_=constantZero,S=constantZero,v=constantZero;function s(g){return g.x0=g.y0=0,g.x1=o,g.y1=l,g.eachBefore(d),p=[0],r&&g.eachBefore(roundNode),g}function d(g){var P=p[g.depth],R=g.x0+P,I=g.y0+P,j=g.x1-P,L=g.y1-P;j<R&&(R=j=(R+j)/2),L<I&&(I=L=(I+L)/2),g.x0=R,g.y0=I,g.x1=j,g.y1=L,g.children&&(P=p[g.depth+1]=f(g)/2,R+=v(g)-P,I+=O(g)-P,j-=_(g)-P,L-=S(g)-P,j<R&&(R=j=(R+j)/2),L<I&&(I=L=(I+L)/2),e(g,R,I,j,L))}return s.round=function(g){return arguments.length?(r=!!g,s):r},s.size=function(g){return arguments.length?(o=+g[0],l=+g[1],s):[o,l]},s.tile=function(g){return arguments.length?(e=required(g),s):e},s.padding=function(g){return arguments.length?s.paddingInner(g).paddingOuter(g):s.paddingInner()},s.paddingInner=function(g){return arguments.length?(f=typeof g=="function"?g:constant$3(+g),s):f},s.paddingOuter=function(g){return arguments.length?s.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):s.paddingTop()},s.paddingTop=function(g){return arguments.length?(O=typeof g=="function"?g:constant$3(+g),s):O},s.paddingRight=function(g){return arguments.length?(_=typeof g=="function"?g:constant$3(+g),s):_},s.paddingBottom=function(g){return arguments.length?(S=typeof g=="function"?g:constant$3(+g),s):S},s.paddingLeft=function(g){return arguments.length?(v=typeof g=="function"?g:constant$3(+g),s):v},s}function treemapBinary(e,r,o,l,p){var f=e.children,O,_=f.length,S,v=new Array(_+1);for(v[0]=S=O=0;O<_;++O)v[O+1]=S+=f[O].value;s(0,_,e.value,r,o,l,p);function s(d,g,P,R,I,j,L){if(d>=g-1){var G=f[d];G.x0=R,G.y0=I,G.x1=j,G.y1=L;return}for(var J=v[d],Q=P/2+J,W=d+1,Z=g-1;W<Z;){var te=W+Z>>>1;v[te]<Q?W=te+1:Z=te}Q-v[W-1]<v[W]-Q&&d+1<W&&--W;var ee=v[W]-J,ie=P-ee;if(j-R>L-I){var oe=P?(R*ie+j*ee)/P:j;s(d,W,ee,R,I,oe,L),s(W,g,ie,oe,I,j,L)}else{var se=P?(I*ie+L*ee)/P:L;s(d,W,ee,R,I,j,se),s(W,g,ie,R,se,j,L)}}}function treemapSliceDice(e,r,o,l,p){(e.depth&1?treemapSlice:treemapDice)(e,r,o,l,p)}const treemapResquarify=function e(r){function o(l,p,f,O,_){if((S=l._squarify)&&S.ratio===r)for(var S,v,s,d,g=-1,P,R=S.length,I=l.value;++g<R;){for(v=S[g],s=v.children,d=v.value=0,P=s.length;d<P;++d)v.value+=s[d].value;v.dice?treemapDice(v,p,f,O,I?f+=(_-f)*v.value/I:_):treemapSlice(v,p,f,I?p+=(O-p)*v.value/I:O,_),I-=v.value}else l._squarify=S=squarifyRatio(r,l,p,f,O,_),S.ratio=r}return o.ratio=function(l){return e((l=+l)>1?l:1)},o}(phi);function initRange(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function initInterpolator(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,r=[],o=[],l=implicit;function p(f){let O=e.get(f);if(O===void 0){if(l!==implicit)return l;e.set(f,O=r.push(f)-1)}return o[O%o.length]}return p.domain=function(f){if(!arguments.length)return r.slice();r=[],e=new InternMap;for(const O of f)e.has(O)||e.set(O,r.push(O)-1);return p},p.range=function(f){return arguments.length?(o=Array.from(f),p):o.slice()},p.unknown=function(f){return arguments.length?(l=f,p):l},p.copy=function(){return ordinal(r,o).unknown(l)},initRange.apply(p,arguments),p}function constants$1(e){return function(){return e}}function number$4(e){return+e}var unit=[0,1];function identity$3(e){return e}function normalize(e,r){return(r-=e=+e)?function(o){return(o-e)/r}:constants$1(isNaN(r)?NaN:.5)}function clamper(e,r){var o;return e>r&&(o=e,e=r,r=o),function(l){return Math.max(e,Math.min(r,l))}}function bimap(e,r,o){var l=e[0],p=e[1],f=r[0],O=r[1];return p<l?(l=normalize(p,l),f=o(O,f)):(l=normalize(l,p),f=o(f,O)),function(_){return f(l(_))}}function polymap(e,r,o){var l=Math.min(e.length,r.length)-1,p=new Array(l),f=new Array(l),O=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++O<l;)p[O]=normalize(e[O],e[O+1]),f[O]=o(r[O],r[O+1]);return function(_){var S=bisect$2(e,_,1,l)-1;return f[S](p[S](_))}}function copy$2(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,r=unit,o=interpolate$1,l,p,f,O=identity$3,_,S,v;function s(){var g=Math.min(e.length,r.length);return O!==identity$3&&(O=clamper(e[0],e[g-1])),_=g>2?polymap:bimap,S=v=null,d}function d(g){return g==null||isNaN(g=+g)?f:(S||(S=_(e.map(l),r,o)))(l(O(g)))}return d.invert=function(g){return O(p((v||(v=_(r,e.map(l),interpolateNumber)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,number$4),s()):e.slice()},d.range=function(g){return arguments.length?(r=Array.from(g),s()):r.slice()},d.rangeRound=function(g){return r=Array.from(g),o=interpolateRound,s()},d.clamp=function(g){return arguments.length?(O=g?!0:identity$3,s()):O!==identity$3},d.interpolate=function(g){return arguments.length?(o=g,s()):o},d.unknown=function(g){return arguments.length?(f=g,d):f},function(g,P){return l=g,p=P,s()}}function continuous$1(){return transformer$2()(identity$3,identity$3)}function tickFormat$1(e,r,o,l){var p=tickStep(e,r,o),f;switch(l=formatSpecifier(l??",f"),l.type){case"s":{var O=Math.max(Math.abs(e),Math.abs(r));return l.precision==null&&!isNaN(f=precisionPrefix(p,O))&&(l.precision=f),formatPrefix(l,O)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(f=precisionRound(p,Math.max(Math.abs(e),Math.abs(r))))&&(l.precision=f-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(f=precisionFixed(p))&&(l.precision=f-(l.type==="%")*2);break}}return format$3(l)}function linearish(e){var r=e.domain;return e.ticks=function(o){var l=r();return ticks(l[0],l[l.length-1],o??10)},e.tickFormat=function(o,l){var p=r();return tickFormat$1(p[0],p[p.length-1],o??10,l)},e.nice=function(o){o==null&&(o=10);var l=r(),p=0,f=l.length-1,O=l[p],_=l[f],S,v,s=10;for(_<O&&(v=O,O=_,_=v,v=p,p=f,f=v);s-- >0;){if(v=tickIncrement(O,_,o),v===S)return l[p]=O,l[f]=_,r(l);if(v>0)O=Math.floor(O/v)*v,_=Math.ceil(_/v)*v;else if(v<0)O=Math.ceil(O*v)/v,_=Math.floor(_*v)/v;else break;S=v}return e},e}function linear$1(){var e=continuous$1();return e.copy=function(){return copy$2(e,linear$1())},initRange.apply(e,arguments),linearish(e)}function identity$2(e){var r;function o(l){return l==null||isNaN(l=+l)?r:l}return o.invert=o,o.domain=o.range=function(l){return arguments.length?(e=Array.from(l,number$4),o):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.copy=function(){return identity$2(e).unknown(r)},e=arguments.length?Array.from(e,number$4):[0,1],linearish(o)}function nice(e,r){e=e.slice();var o=0,l=e.length-1,p=e[o],f=e[l],O;return f<p&&(O=o,o=l,l=O,O=p,p=f,f=O),e[o]=r.floor(p),e[l]=r.ceil(f),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:r=>Math.pow(e,r)}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function reflect(e){return(r,o)=>-e(-r,o)}function loggish(e){const r=e(transformLog,transformExp),o=r.domain;let l=10,p,f;function O(){return p=logp(l),f=powp(l),o()[0]<0?(p=reflect(p),f=reflect(f),e(transformLogn,transformExpn)):e(transformLog,transformExp),r}return r.base=function(_){return arguments.length?(l=+_,O()):l},r.domain=function(_){return arguments.length?(o(_),O()):o()},r.ticks=_=>{const S=o();let v=S[0],s=S[S.length-1];const d=s<v;d&&([v,s]=[s,v]);let g=p(v),P=p(s),R,I;const j=_==null?10:+_;let L=[];if(!(l%1)&&P-g<j){if(g=Math.floor(g),P=Math.ceil(P),v>0){for(;g<=P;++g)for(R=1;R<l;++R)if(I=g<0?R/f(-g):R*f(g),!(I<v)){if(I>s)break;L.push(I)}}else for(;g<=P;++g)for(R=l-1;R>=1;--R)if(I=g>0?R/f(-g):R*f(g),!(I<v)){if(I>s)break;L.push(I)}L.length*2<j&&(L=ticks(v,s,j))}else L=ticks(g,P,Math.min(P-g,j)).map(f);return d?L.reverse():L},r.tickFormat=(_,S)=>{if(_==null&&(_=10),S==null&&(S=l===10?"s":","),typeof S!="function"&&(!(l%1)&&(S=formatSpecifier(S)).precision==null&&(S.trim=!0),S=format$3(S)),_===1/0)return S;const v=Math.max(1,l*_/r.ticks().length);return s=>{let d=s/f(Math.round(p(s)));return d*l<l-.5&&(d*=l),d<=v?S(s):""}},r.nice=()=>o(nice(o(),{floor:_=>f(Math.floor(p(_))),ceil:_=>f(Math.ceil(p(_)))})),r}function log$3(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$2(e,log$3()).base(e.base()),initRange.apply(e,arguments),e}function transformSymlog(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function transformSymexp(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function symlogish(e){var r=1,o=e(transformSymlog(r),transformSymexp(r));return o.constant=function(l){return arguments.length?e(transformSymlog(r=+l),transformSymexp(r)):r},linearish(o)}function symlog$1(){var e=symlogish(transformer$2());return e.copy=function(){return copy$2(e,symlog$1()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var r=e(identity$3,identity$3),o=1;function l(){return o===1?e(identity$3,identity$3):o===.5?e(transformSqrt,transformSquare):e(transformPow(o),transformPow(1/o))}return r.exponent=function(p){return arguments.length?(o=+p,l()):o},linearish(r)}function pow$2(){var e=powish(transformer$2());return e.copy=function(){return copy$2(e,pow$2()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt$2(){return pow$2.apply(null,arguments).exponent(.5)}function quantile$1(){var e=[],r=[],o=[],l;function p(){var O=0,_=Math.max(1,r.length);for(o=new Array(_-1);++O<_;)o[O-1]=quantileSorted(e,O/_);return f}function f(O){return O==null||isNaN(O=+O)?l:r[bisect$2(o,O)]}return f.invertExtent=function(O){var _=r.indexOf(O);return _<0?[NaN,NaN]:[_>0?o[_-1]:e[0],_<o.length?o[_]:e[e.length-1]]},f.domain=function(O){if(!arguments.length)return e.slice();e=[];for(let _ of O)_!=null&&!isNaN(_=+_)&&e.push(_);return e.sort(ascending$3),p()},f.range=function(O){return arguments.length?(r=Array.from(O),p()):r.slice()},f.unknown=function(O){return arguments.length?(l=O,f):l},f.quantiles=function(){return o.slice()},f.copy=function(){return quantile$1().domain(e).range(r).unknown(l)},initRange.apply(f,arguments)}function quantize$1(){var e=0,r=1,o=1,l=[.5],p=[0,1],f;function O(S){return S!=null&&S<=S?p[bisect$2(l,S,0,o)]:f}function _(){var S=-1;for(l=new Array(o);++S<o;)l[S]=((S+1)*r-(S-o)*e)/(o+1);return O}return O.domain=function(S){return arguments.length?([e,r]=S,e=+e,r=+r,_()):[e,r]},O.range=function(S){return arguments.length?(o=(p=Array.from(S)).length-1,_()):p.slice()},O.invertExtent=function(S){var v=p.indexOf(S);return v<0?[NaN,NaN]:v<1?[e,l[0]]:v>=o?[l[o-1],r]:[l[v-1],l[v]]},O.unknown=function(S){return arguments.length&&(f=S),O},O.thresholds=function(){return l.slice()},O.copy=function(){return quantize$1().domain([e,r]).range(p).unknown(f)},initRange.apply(linearish(O),arguments)}function threshold(){var e=[.5],r=[0,1],o,l=1;function p(f){return f!=null&&f<=f?r[bisect$2(e,f,0,l)]:o}return p.domain=function(f){return arguments.length?(e=Array.from(f),l=Math.min(e.length,r.length-1),p):e.slice()},p.range=function(f){return arguments.length?(r=Array.from(f),l=Math.min(e.length,r.length-1),p):r.slice()},p.invertExtent=function(f){var O=r.indexOf(f);return[e[O-1],e[O]]},p.unknown=function(f){return arguments.length?(o=f,p):o},p.copy=function(){return threshold().domain(e).range(r).unknown(o)},initRange.apply(p,arguments)}const t0$2=new Date,t1$1=new Date;function timeInterval$1(e,r,o,l){function p(f){return e(f=arguments.length===0?new Date:new Date(+f)),f}return p.floor=f=>(e(f=new Date(+f)),f),p.ceil=f=>(e(f=new Date(f-1)),r(f,1),e(f),f),p.round=f=>{const O=p(f),_=p.ceil(f);return f-O<_-f?O:_},p.offset=(f,O)=>(r(f=new Date(+f),O==null?1:Math.floor(O)),f),p.range=(f,O,_)=>{const S=[];if(f=p.ceil(f),_=_==null?1:Math.floor(_),!(f<O)||!(_>0))return S;let v;do S.push(v=new Date(+f)),r(f,_),e(f);while(v<f&&f<O);return S},p.filter=f=>timeInterval$1(O=>{if(O>=O)for(;e(O),!f(O);)O.setTime(O-1)},(O,_)=>{if(O>=O)if(_<0)for(;++_<=0;)for(;r(O,-1),!f(O););else for(;--_>=0;)for(;r(O,1),!f(O););}),o&&(p.count=(f,O)=>(t0$2.setTime(+f),t1$1.setTime(+O),e(t0$2),e(t1$1),Math.floor(o(t0$2,t1$1))),p.every=f=>(f=Math.floor(f),!isFinite(f)||!(f>0)?null:f>1?p.filter(l?O=>l(O)%f===0:O=>p.count(0,O)%f===0):p)),p}const millisecond=timeInterval$1(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);millisecond.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?timeInterval$1(r=>{r.setTime(Math.floor(r/e)*e)},(r,o)=>{r.setTime(+r+o*e)},(r,o)=>(o-r)/e):millisecond);millisecond.range;const durationSecond$1=1e3,durationMinute$1=durationSecond$1*60,durationHour$1=durationMinute$1*60,durationDay$1=durationHour$1*24,durationWeek$1=durationDay$1*7,durationMonth$1=durationDay$1*30,durationYear$1=durationDay$1*365,second=timeInterval$1(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*durationSecond$1)},(e,r)=>(r-e)/durationSecond$1,e=>e.getUTCSeconds());second.range;const timeMinute=timeInterval$1(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond$1)},(e,r)=>{e.setTime(+e+r*durationMinute$1)},(e,r)=>(r-e)/durationMinute$1,e=>e.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*durationMinute$1)},(e,r)=>(r-e)/durationMinute$1,e=>e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond$1-e.getMinutes()*durationMinute$1)},(e,r)=>{e.setTime(+e+r*durationHour$1)},(e,r)=>(r-e)/durationHour$1,e=>e.getHours());timeHour.range;const utcHour=timeInterval$1(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*durationHour$1)},(e,r)=>(r-e)/durationHour$1,e=>e.getUTCHours());utcHour.range;const timeDay=timeInterval$1(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute$1)/durationDay$1,e=>e.getDate()-1);timeDay.range;const utcDay=timeInterval$1(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/durationDay$1,e=>e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/durationDay$1,e=>Math.floor(e/durationDay$1));unixDay.range;function timeWeekday(e){return timeInterval$1(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,o)=>{r.setDate(r.getDate()+o*7)},(r,o)=>(o-r-(o.getTimezoneOffset()-r.getTimezoneOffset())*durationMinute$1)/durationWeek$1)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(e){return timeInterval$1(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,o)=>{r.setUTCDate(r.getUTCDate()+o*7)},(r,o)=>(o-r)/durationWeek$1)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval$1(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());timeMonth.range;const utcMonth=timeInterval$1(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());timeYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval$1(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,o)=>{r.setFullYear(r.getFullYear()+o*e)});timeYear.range;const utcYear=timeInterval$1(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());utcYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval$1(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,o)=>{r.setUTCFullYear(r.getUTCFullYear()+o*e)});utcYear.range;function ticker(e,r,o,l,p,f){const O=[[second,1,durationSecond$1],[second,5,5*durationSecond$1],[second,15,15*durationSecond$1],[second,30,30*durationSecond$1],[f,1,durationMinute$1],[f,5,5*durationMinute$1],[f,15,15*durationMinute$1],[f,30,30*durationMinute$1],[p,1,durationHour$1],[p,3,3*durationHour$1],[p,6,6*durationHour$1],[p,12,12*durationHour$1],[l,1,durationDay$1],[l,2,2*durationDay$1],[o,1,durationWeek$1],[r,1,durationMonth$1],[r,3,3*durationMonth$1],[e,1,durationYear$1]];function _(v,s,d){const g=s<v;g&&([v,s]=[s,v]);const P=d&&typeof d.range=="function"?d:S(v,s,d),R=P?P.range(v,+s+1):[];return g?R.reverse():R}function S(v,s,d){const g=Math.abs(s-v)/d,P=bisector$1(([,,j])=>j).right(O,g);if(P===O.length)return e.every(tickStep(v/durationYear$1,s/durationYear$1,d));if(P===0)return millisecond.every(Math.max(tickStep(v,s,d),1));const[R,I]=O[g/O[P-1][2]<O[P][2]/g?P-1:P];return R.every(I)}return[_,S]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate$1(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate$1(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,r,o){return{y:e,m:r,d:o,H:0,M:0,S:0,L:0}}function formatLocale(e){var r=e.dateTime,o=e.date,l=e.time,p=e.periods,f=e.days,O=e.shortDays,_=e.months,S=e.shortMonths,v=formatRe(p),s=formatLookup(p),d=formatRe(f),g=formatLookup(f),P=formatRe(O),R=formatLookup(O),I=formatRe(_),j=formatLookup(_),L=formatRe(S),G=formatLookup(S),J={a:ge,A:me,b:ye,B:ve,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Ae,q:Pe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Q={a:Ne,A:Ee,b:Ce,B:Se,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Te,q:Oe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},W={a:oe,A:se,b:le,B:de,c:pe,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:ie,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:fe,X:he,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};J.x=Z(o,J),J.X=Z(l,J),J.c=Z(r,J),Q.x=Z(o,Q),Q.X=Z(l,Q),Q.c=Z(r,Q);function Z(ce,k){return function(F){var V=[],ne=-1,ue=0,we=ce.length,be,N,q;for(F instanceof Date||(F=new Date(+F));++ne<we;)ce.charCodeAt(ne)===37&&(V.push(ce.slice(ue,ne)),(N=pads[be=ce.charAt(++ne)])!=null?be=ce.charAt(++ne):N=be==="e"?" ":"0",(q=k[be])&&(be=q(F,N)),V.push(be),ue=ne+1);return V.push(ce.slice(ue,ne)),V.join("")}}function te(ce,k){return function(F){var V=newDate(1900,void 0,1),ne=ee(V,ce,F+="",0),ue,we;if(ne!=F.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(k&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ue=utcDate$1(newDate(V.y,0,1)),we=ue.getUTCDay(),ue=we>4||we===0?utcMonday.ceil(ue):utcMonday(ue),ue=utcDay.offset(ue,(V.V-1)*7),V.y=ue.getUTCFullYear(),V.m=ue.getUTCMonth(),V.d=ue.getUTCDate()+(V.w+6)%7):(ue=localDate$1(newDate(V.y,0,1)),we=ue.getDay(),ue=we>4||we===0?timeMonday.ceil(ue):timeMonday(ue),ue=timeDay.offset(ue,(V.V-1)*7),V.y=ue.getFullYear(),V.m=ue.getMonth(),V.d=ue.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),we="Z"in V?utcDate$1(newDate(V.y,0,1)).getUTCDay():localDate$1(newDate(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(we+5)%7:V.w+V.U*7-(we+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,utcDate$1(V)):localDate$1(V)}}function ee(ce,k,F,V){for(var ne=0,ue=k.length,we=F.length,be,N;ne<ue;){if(V>=we)return-1;if(be=k.charCodeAt(ne++),be===37){if(be=k.charAt(ne++),N=W[be in pads?k.charAt(ne++):be],!N||(V=N(ce,F,V))<0)return-1}else if(be!=F.charCodeAt(V++))return-1}return V}function ie(ce,k,F){var V=v.exec(k.slice(F));return V?(ce.p=s.get(V[0].toLowerCase()),F+V[0].length):-1}function oe(ce,k,F){var V=P.exec(k.slice(F));return V?(ce.w=R.get(V[0].toLowerCase()),F+V[0].length):-1}function se(ce,k,F){var V=d.exec(k.slice(F));return V?(ce.w=g.get(V[0].toLowerCase()),F+V[0].length):-1}function le(ce,k,F){var V=L.exec(k.slice(F));return V?(ce.m=G.get(V[0].toLowerCase()),F+V[0].length):-1}function de(ce,k,F){var V=I.exec(k.slice(F));return V?(ce.m=j.get(V[0].toLowerCase()),F+V[0].length):-1}function pe(ce,k,F){return ee(ce,r,k,F)}function fe(ce,k,F){return ee(ce,o,k,F)}function he(ce,k,F){return ee(ce,l,k,F)}function ge(ce){return O[ce.getDay()]}function me(ce){return f[ce.getDay()]}function ye(ce){return S[ce.getMonth()]}function ve(ce){return _[ce.getMonth()]}function Ae(ce){return p[+(ce.getHours()>=12)]}function Pe(ce){return 1+~~(ce.getMonth()/3)}function Ne(ce){return O[ce.getUTCDay()]}function Ee(ce){return f[ce.getUTCDay()]}function Ce(ce){return S[ce.getUTCMonth()]}function Se(ce){return _[ce.getUTCMonth()]}function Te(ce){return p[+(ce.getUTCHours()>=12)]}function Oe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var k=Z(ce+="",J);return k.toString=function(){return ce},k},parse:function(ce){var k=te(ce+="",!1);return k.toString=function(){return ce},k},utcFormat:function(ce){var k=Z(ce+="",Q);return k.toString=function(){return ce},k},utcParse:function(ce){var k=te(ce+="",!0);return k.toString=function(){return ce},k}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$2(e,r,o){var l=e<0?"-":"",p=(l?-e:e)+"",f=p.length;return l+(f<o?new Array(o-f+1).join(r)+p:p)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((r,o)=>[r.toLowerCase(),o]))}function parseWeekdayNumberSunday(e,r,o){var l=numberRe.exec(r.slice(o,o+1));return l?(e.w=+l[0],o+l[0].length):-1}function parseWeekdayNumberMonday(e,r,o){var l=numberRe.exec(r.slice(o,o+1));return l?(e.u=+l[0],o+l[0].length):-1}function parseWeekNumberSunday(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.U=+l[0],o+l[0].length):-1}function parseWeekNumberISO(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.V=+l[0],o+l[0].length):-1}function parseWeekNumberMonday(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.W=+l[0],o+l[0].length):-1}function parseFullYear(e,r,o){var l=numberRe.exec(r.slice(o,o+4));return l?(e.y=+l[0],o+l[0].length):-1}function parseYear(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.y=+l[0]+(+l[0]>68?1900:2e3),o+l[0].length):-1}function parseZone(e,r,o){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(o,o+6));return l?(e.Z=l[1]?0:-(l[2]+(l[3]||"00")),o+l[0].length):-1}function parseQuarter(e,r,o){var l=numberRe.exec(r.slice(o,o+1));return l?(e.q=l[0]*3-3,o+l[0].length):-1}function parseMonthNumber(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.m=l[0]-1,o+l[0].length):-1}function parseDayOfMonth(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.d=+l[0],o+l[0].length):-1}function parseDayOfYear(e,r,o){var l=numberRe.exec(r.slice(o,o+3));return l?(e.m=0,e.d=+l[0],o+l[0].length):-1}function parseHour24(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.H=+l[0],o+l[0].length):-1}function parseMinutes(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.M=+l[0],o+l[0].length):-1}function parseSeconds(e,r,o){var l=numberRe.exec(r.slice(o,o+2));return l?(e.S=+l[0],o+l[0].length):-1}function parseMilliseconds(e,r,o){var l=numberRe.exec(r.slice(o,o+3));return l?(e.L=+l[0],o+l[0].length):-1}function parseMicroseconds(e,r,o){var l=numberRe.exec(r.slice(o,o+6));return l?(e.L=Math.floor(l[0]/1e3),o+l[0].length):-1}function parseLiteralPercent(e,r,o){var l=percentRe.exec(r.slice(o,o+1));return l?o+l[0].length:-1}function parseUnixTimestamp(e,r,o){var l=numberRe.exec(r.slice(o));return l?(e.Q=+l[0],o+l[0].length):-1}function parseUnixTimestampSeconds(e,r,o){var l=numberRe.exec(r.slice(o));return l?(e.s=+l[0],o+l[0].length):-1}function formatDayOfMonth(e,r){return pad$2(e.getDate(),r,2)}function formatHour24(e,r){return pad$2(e.getHours(),r,2)}function formatHour12(e,r){return pad$2(e.getHours()%12||12,r,2)}function formatDayOfYear(e,r){return pad$2(1+timeDay.count(timeYear(e),e),r,3)}function formatMilliseconds(e,r){return pad$2(e.getMilliseconds(),r,3)}function formatMicroseconds(e,r){return formatMilliseconds(e,r)+"000"}function formatMonthNumber(e,r){return pad$2(e.getMonth()+1,r,2)}function formatMinutes(e,r){return pad$2(e.getMinutes(),r,2)}function formatSeconds(e,r){return pad$2(e.getSeconds(),r,2)}function formatWeekdayNumberMonday(e){var r=e.getDay();return r===0?7:r}function formatWeekNumberSunday(e,r){return pad$2(timeSunday.count(timeYear(e)-1,e),r,2)}function dISO(e){var r=e.getDay();return r>=4||r===0?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,r){return e=dISO(e),pad$2(timeThursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),r,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,r){return pad$2(timeMonday.count(timeYear(e)-1,e),r,2)}function formatYear$1(e,r){return pad$2(e.getFullYear()%100,r,2)}function formatYearISO(e,r){return e=dISO(e),pad$2(e.getFullYear()%100,r,2)}function formatFullYear(e,r){return pad$2(e.getFullYear()%1e4,r,4)}function formatFullYearISO(e,r){var o=e.getDay();return e=o>=4||o===0?timeThursday(e):timeThursday.ceil(e),pad$2(e.getFullYear()%1e4,r,4)}function formatZone(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+pad$2(r/60|0,"0",2)+pad$2(r%60,"0",2)}function formatUTCDayOfMonth(e,r){return pad$2(e.getUTCDate(),r,2)}function formatUTCHour24(e,r){return pad$2(e.getUTCHours(),r,2)}function formatUTCHour12(e,r){return pad$2(e.getUTCHours()%12||12,r,2)}function formatUTCDayOfYear(e,r){return pad$2(1+utcDay.count(utcYear(e),e),r,3)}function formatUTCMilliseconds(e,r){return pad$2(e.getUTCMilliseconds(),r,3)}function formatUTCMicroseconds(e,r){return formatUTCMilliseconds(e,r)+"000"}function formatUTCMonthNumber(e,r){return pad$2(e.getUTCMonth()+1,r,2)}function formatUTCMinutes(e,r){return pad$2(e.getUTCMinutes(),r,2)}function formatUTCSeconds(e,r){return pad$2(e.getUTCSeconds(),r,2)}function formatUTCWeekdayNumberMonday(e){var r=e.getUTCDay();return r===0?7:r}function formatUTCWeekNumberSunday(e,r){return pad$2(utcSunday.count(utcYear(e)-1,e),r,2)}function UTCdISO(e){var r=e.getUTCDay();return r>=4||r===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,r){return e=UTCdISO(e),pad$2(utcThursday.count(utcYear(e),e)+(utcYear(e).getUTCDay()===4),r,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,r){return pad$2(utcMonday.count(utcYear(e)-1,e),r,2)}function formatUTCYear(e,r){return pad$2(e.getUTCFullYear()%100,r,2)}function formatUTCYearISO(e,r){return e=UTCdISO(e),pad$2(e.getUTCFullYear()%100,r,2)}function formatUTCFullYear(e,r){return pad$2(e.getUTCFullYear()%1e4,r,4)}function formatUTCFullYearISO(e,r){var o=e.getUTCDay();return e=o>=4||o===0?utcThursday(e):utcThursday.ceil(e),pad$2(e.getUTCFullYear()%1e4,r,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale$1,timeFormat$1,timeParse$1,utcFormat$1,utcParse$1;defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale$1(e){return locale$1=formatLocale(e),timeFormat$1=locale$1.format,timeParse$1=locale$1.parse,utcFormat$1=locale$1.utcFormat,utcParse$1=locale$1.utcParse,locale$1}function date$1(e){return new Date(e)}function number$3(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,r,o,l,p,f,O,_,S,v){var s=continuous$1(),d=s.invert,g=s.domain,P=v(".%L"),R=v(":%S"),I=v("%I:%M"),j=v("%I %p"),L=v("%a %d"),G=v("%b %d"),J=v("%B"),Q=v("%Y");function W(Z){return(S(Z)<Z?P:_(Z)<Z?R:O(Z)<Z?I:f(Z)<Z?j:l(Z)<Z?p(Z)<Z?L:G:o(Z)<Z?J:Q)(Z)}return s.invert=function(Z){return new Date(d(Z))},s.domain=function(Z){return arguments.length?g(Array.from(Z,number$3)):g().map(date$1)},s.ticks=function(Z){var te=g();return e(te[0],te[te.length-1],Z??10)},s.tickFormat=function(Z,te){return te==null?W:v(te)},s.nice=function(Z){var te=g();return(!Z||typeof Z.range!="function")&&(Z=r(te[0],te[te.length-1],Z??10)),Z?g(nice(te,Z)):s},s.copy=function(){return copy$2(s,calendar(e,r,o,l,p,f,O,_,S,v))},s}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat$1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat$1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,r=1,o,l,p,f,O=identity$3,_=!1,S;function v(d){return d==null||isNaN(d=+d)?S:O(p===0?.5:(d=(f(d)-o)*p,_?Math.max(0,Math.min(1,d)):d))}v.domain=function(d){return arguments.length?([e,r]=d,o=f(e=+e),l=f(r=+r),p=o===l?0:1/(l-o),v):[e,r]},v.clamp=function(d){return arguments.length?(_=!!d,v):_},v.interpolator=function(d){return arguments.length?(O=d,v):O};function s(d){return function(g){var P,R;return arguments.length?([P,R]=g,O=d(P,R),v):[O(0),O(1)]}}return v.range=s(interpolate$1),v.rangeRound=s(interpolateRound),v.unknown=function(d){return arguments.length?(S=d,v):S},function(d){return f=d,o=d(e),l=d(r),p=o===l?0:1/(l-o),v}}function copy$1(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$3));return e.copy=function(){return copy$1(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy$1(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy$1(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy$1(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function transformer(){var e=0,r=.5,o=1,l=1,p,f,O,_,S,v=identity$3,s,d=!1,g;function P(I){return isNaN(I=+I)?g:(I=.5+((I=+s(I))-f)*(l*I<l*f?_:S),v(d?Math.max(0,Math.min(1,I)):I))}P.domain=function(I){return arguments.length?([e,r,o]=I,p=s(e=+e),f=s(r=+r),O=s(o=+o),_=p===f?0:.5/(f-p),S=f===O?0:.5/(O-f),l=f<p?-1:1,P):[e,r,o]},P.clamp=function(I){return arguments.length?(d=!!I,P):d},P.interpolator=function(I){return arguments.length?(v=I,P):v};function R(I){return function(j){var L,G,J;return arguments.length?([L,G,J]=j,v=piecewise(I,[L,G,J]),P):[v(0),v(.5),v(1)]}}return P.range=R(interpolate$1),P.rangeRound=R(interpolateRound),P.unknown=function(I){return arguments.length?(g=I,P):g},function(I){return s=I,p=I(e),f=I(r),O=I(o),_=p===f?0:.5/(f-p),S=f===O?0:.5/(O-f),l=f<p?-1:1,P}}function diverging(){var e=linearish(transformer()(identity$3));return e.copy=function(){return copy$1(e,diverging())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy$1(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy$1(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy$1(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors$1(e){for(var r=e.length/6|0,o=new Array(r),l=0;l<r;)o[l]="#"+e.slice(l*6,++l*6);return o}const schemeCategory10=colors$1("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors$1("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors$1("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors$1("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors$1("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors$1("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors$1("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors$1("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors$1("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors$1("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function constant$2(e){return function(){return e}}const abs$1=Math.abs,atan2=Math.atan2,cos$1=Math.cos,max$3=Math.max,min$2=Math.min,sin$1=Math.sin,sqrt$1=Math.sqrt,epsilon$2=1e-12,pi$1=Math.PI,halfPi$1=pi$1/2,tau=2*pi$1;function acos(e){return e>1?0:e<-1?pi$1:Math.acos(e)}function asin$1(e){return e>=1?halfPi$1:e<=-1?-halfPi$1:Math.asin(e)}function withPath(e){let r=3;return e.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);r=l}return e},()=>new Path$1(r)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect$4(e,r,o,l,p,f,O,_){var S=o-e,v=l-r,s=O-p,d=_-f,g=d*S-s*v;if(!(g*g<epsilon$2))return g=(s*(r-f)-d*(e-p))/g,[e+g*S,r+g*v]}function cornerTangents(e,r,o,l,p,f,O){var _=e-o,S=r-l,v=(O?f:-f)/sqrt$1(_*_+S*S),s=v*S,d=-v*_,g=e+s,P=r+d,R=o+s,I=l+d,j=(g+R)/2,L=(P+I)/2,G=R-g,J=I-P,Q=G*G+J*J,W=p-f,Z=g*I-R*P,te=(J<0?-1:1)*sqrt$1(max$3(0,W*W*Q-Z*Z)),ee=(Z*J-G*te)/Q,ie=(-Z*G-J*te)/Q,oe=(Z*J+G*te)/Q,se=(-Z*G+J*te)/Q,le=ee-j,de=ie-L,pe=oe-j,fe=se-L;return le*le+de*de>pe*pe+fe*fe&&(ee=oe,ie=se),{cx:ee,cy:ie,x01:-s,y01:-d,x11:ee*(p/W-1),y11:ie*(p/W-1)}}function arc$2$1(){var e=arcInnerRadius,r=arcOuterRadius,o=constant$2(0),l=null,p=arcStartAngle,f=arcEndAngle,O=arcPadAngle,_=null,S=withPath(v);function v(){var s,d,g=+e.apply(this,arguments),P=+r.apply(this,arguments),R=p.apply(this,arguments)-halfPi$1,I=f.apply(this,arguments)-halfPi$1,j=abs$1(I-R),L=I>R;if(_||(_=s=S()),P<g&&(d=P,P=g,g=d),!(P>epsilon$2))_.moveTo(0,0);else if(j>tau-epsilon$2)_.moveTo(P*cos$1(R),P*sin$1(R)),_.arc(0,0,P,R,I,!L),g>epsilon$2&&(_.moveTo(g*cos$1(I),g*sin$1(I)),_.arc(0,0,g,I,R,L));else{var G=R,J=I,Q=R,W=I,Z=j,te=j,ee=O.apply(this,arguments)/2,ie=ee>epsilon$2&&(l?+l.apply(this,arguments):sqrt$1(g*g+P*P)),oe=min$2(abs$1(P-g)/2,+o.apply(this,arguments)),se=oe,le=oe,de,pe;if(ie>epsilon$2){var fe=asin$1(ie/g*sin$1(ee)),he=asin$1(ie/P*sin$1(ee));(Z-=fe*2)>epsilon$2?(fe*=L?1:-1,Q+=fe,W-=fe):(Z=0,Q=W=(R+I)/2),(te-=he*2)>epsilon$2?(he*=L?1:-1,G+=he,J-=he):(te=0,G=J=(R+I)/2)}var ge=P*cos$1(G),me=P*sin$1(G),ye=g*cos$1(W),ve=g*sin$1(W);if(oe>epsilon$2){var Ae=P*cos$1(J),Pe=P*sin$1(J),Ne=g*cos$1(Q),Ee=g*sin$1(Q),Ce;if(j<pi$1)if(Ce=intersect$4(ge,me,Ne,Ee,Ae,Pe,ye,ve)){var Se=ge-Ce[0],Te=me-Ce[1],Oe=Ae-Ce[0],ce=Pe-Ce[1],k=1/sin$1(acos((Se*Oe+Te*ce)/(sqrt$1(Se*Se+Te*Te)*sqrt$1(Oe*Oe+ce*ce)))/2),F=sqrt$1(Ce[0]*Ce[0]+Ce[1]*Ce[1]);se=min$2(oe,(g-F)/(k-1)),le=min$2(oe,(P-F)/(k+1))}else se=le=0}te>epsilon$2?le>epsilon$2?(de=cornerTangents(Ne,Ee,ge,me,P,le,L),pe=cornerTangents(Ae,Pe,ye,ve,P,le,L),_.moveTo(de.cx+de.x01,de.cy+de.y01),le<oe?_.arc(de.cx,de.cy,le,atan2(de.y01,de.x01),atan2(pe.y01,pe.x01),!L):(_.arc(de.cx,de.cy,le,atan2(de.y01,de.x01),atan2(de.y11,de.x11),!L),_.arc(0,0,P,atan2(de.cy+de.y11,de.cx+de.x11),atan2(pe.cy+pe.y11,pe.cx+pe.x11),!L),_.arc(pe.cx,pe.cy,le,atan2(pe.y11,pe.x11),atan2(pe.y01,pe.x01),!L))):(_.moveTo(ge,me),_.arc(0,0,P,G,J,!L)):_.moveTo(ge,me),!(g>epsilon$2)||!(Z>epsilon$2)?_.lineTo(ye,ve):se>epsilon$2?(de=cornerTangents(ye,ve,Ae,Pe,g,-se,L),pe=cornerTangents(ge,me,Ne,Ee,g,-se,L),_.lineTo(de.cx+de.x01,de.cy+de.y01),se<oe?_.arc(de.cx,de.cy,se,atan2(de.y01,de.x01),atan2(pe.y01,pe.x01),!L):(_.arc(de.cx,de.cy,se,atan2(de.y01,de.x01),atan2(de.y11,de.x11),!L),_.arc(0,0,g,atan2(de.cy+de.y11,de.cx+de.x11),atan2(pe.cy+pe.y11,pe.cx+pe.x11),L),_.arc(pe.cx,pe.cy,se,atan2(pe.y11,pe.x11),atan2(pe.y01,pe.x01),!L))):_.arc(0,0,g,W,Q,L)}if(_.closePath(),s)return _=null,s+""||null}return v.centroid=function(){var s=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,d=(+p.apply(this,arguments)+ +f.apply(this,arguments))/2-pi$1/2;return[cos$1(d)*s,sin$1(d)*s]},v.innerRadius=function(s){return arguments.length?(e=typeof s=="function"?s:constant$2(+s),v):e},v.outerRadius=function(s){return arguments.length?(r=typeof s=="function"?s:constant$2(+s),v):r},v.cornerRadius=function(s){return arguments.length?(o=typeof s=="function"?s:constant$2(+s),v):o},v.padRadius=function(s){return arguments.length?(l=s==null?null:typeof s=="function"?s:constant$2(+s),v):l},v.startAngle=function(s){return arguments.length?(p=typeof s=="function"?s:constant$2(+s),v):p},v.endAngle=function(s){return arguments.length?(f=typeof s=="function"?s:constant$2(+s),v):f},v.padAngle=function(s){return arguments.length?(O=typeof s=="function"?s:constant$2(+s),v):O},v.context=function(s){return arguments.length?(_=s??null,v):_},v}function array$6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear$1(e){this._context=e}Linear$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function curveLinear(e){return new Linear$1(e)}function x$1(e){return e[0]}function y$1(e){return e[1]}function line$2$1(e,r){var o=constant$2(!0),l=null,p=curveLinear,f=null,O=withPath(_);e=typeof e=="function"?e:e===void 0?x$1:constant$2(e),r=typeof r=="function"?r:r===void 0?y$1:constant$2(r);function _(S){var v,s=(S=array$6(S)).length,d,g=!1,P;for(l==null&&(f=p(P=O())),v=0;v<=s;++v)!(v<s&&o(d=S[v],v,S))===g&&((g=!g)?f.lineStart():f.lineEnd()),g&&f.point(+e(d,v,S),+r(d,v,S));if(P)return f=null,P+""||null}return _.x=function(S){return arguments.length?(e=typeof S=="function"?S:constant$2(+S),_):e},_.y=function(S){return arguments.length?(r=typeof S=="function"?S:constant$2(+S),_):r},_.defined=function(S){return arguments.length?(o=typeof S=="function"?S:constant$2(!!S),_):o},_.curve=function(S){return arguments.length?(p=S,l!=null&&(f=p(l)),_):p},_.context=function(S){return arguments.length?(S==null?l=f=null:f=p(l=S),_):l},_}function area$2$1(e,r,o){var l=null,p=constant$2(!0),f=null,O=curveLinear,_=null,S=withPath(v);e=typeof e=="function"?e:e===void 0?x$1:constant$2(+e),r=typeof r=="function"?r:constant$2(r===void 0?0:+r),o=typeof o=="function"?o:o===void 0?y$1:constant$2(+o);function v(d){var g,P,R,I=(d=array$6(d)).length,j,L=!1,G,J=new Array(I),Q=new Array(I);for(f==null&&(_=O(G=S())),g=0;g<=I;++g){if(!(g<I&&p(j=d[g],g,d))===L)if(L=!L)P=g,_.areaStart(),_.lineStart();else{for(_.lineEnd(),_.lineStart(),R=g-1;R>=P;--R)_.point(J[R],Q[R]);_.lineEnd(),_.areaEnd()}L&&(J[g]=+e(j,g,d),Q[g]=+r(j,g,d),_.point(l?+l(j,g,d):J[g],o?+o(j,g,d):Q[g]))}if(G)return _=null,G+""||null}function s(){return line$2$1().defined(p).curve(O).context(f)}return v.x=function(d){return arguments.length?(e=typeof d=="function"?d:constant$2(+d),l=null,v):e},v.x0=function(d){return arguments.length?(e=typeof d=="function"?d:constant$2(+d),v):e},v.x1=function(d){return arguments.length?(l=d==null?null:typeof d=="function"?d:constant$2(+d),v):l},v.y=function(d){return arguments.length?(r=typeof d=="function"?d:constant$2(+d),o=null,v):r},v.y0=function(d){return arguments.length?(r=typeof d=="function"?d:constant$2(+d),v):r},v.y1=function(d){return arguments.length?(o=d==null?null:typeof d=="function"?d:constant$2(+d),v):o},v.lineX0=v.lineY0=function(){return s().x(e).y(r)},v.lineY1=function(){return s().x(e).y(o)},v.lineX1=function(){return s().x(l).y(r)},v.defined=function(d){return arguments.length?(p=typeof d=="function"?d:constant$2(!!d),v):p},v.curve=function(d){return arguments.length?(O=d,f!=null&&(_=O(f)),v):O},v.context=function(d){return arguments.length?(d==null?f=_=null:_=O(f=d),v):f},v}const circle={draw(e,r){const o=sqrt$1(r/pi$1);e.moveTo(o,0),e.arc(0,0,o,0,tau)}};function Symbol$1(e,r){let o=null,l=withPath(p);e=typeof e=="function"?e:constant$2(e||circle),r=typeof r=="function"?r:constant$2(r===void 0?64:+r);function p(){let f;if(o||(o=f=l()),e.apply(this,arguments).draw(o,+r.apply(this,arguments)),f)return o=null,f+""||null}return p.type=function(f){return arguments.length?(e=typeof f=="function"?f:constant$2(f),p):e},p.size=function(f){return arguments.length?(r=typeof f=="function"?f:constant$2(+f),p):r},p.context=function(f){return arguments.length?(o=f??null,p):o},p}function noop$3(){}function point$5(e,r,o){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+o)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$5(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:point$5(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var o=(this._x0+4*this._x1+e)/6,l=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(o,l):this._context.moveTo(o,l);break;case 3:this._point=4;default:point$5(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function curveBasisOpen(e){return new BasisOpen(e)}function Bundle(e,r){this._basis=new Basis(e),this._beta=r}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,r=this._y,o=e.length-1;if(o>0)for(var l=e[0],p=r[0],f=e[o]-l,O=r[o]-p,_=-1,S;++_<=o;)S=_/o,this._basis.point(this._beta*e[_]+(1-this._beta)*(l+S*f),this._beta*r[_]+(1-this._beta)*(p+S*O));this._x=this._y=null,this._basis.lineEnd()},point:function(e,r){this._x.push(+e),this._y.push(+r)}};const curveBundle=function e(r){function o(l){return r===1?new Basis(l):new Bundle(l,r)}return o.beta=function(l){return e(+l)},o}(.85);function point$4(e,r,o){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-r),e._y2+e._k*(e._y1-o),e._x2,e._y2)}function Cardinal(e,r){this._context=e,this._k=(1-r)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2,this._x1=e,this._y1=r;break;case 2:this._point=3;default:point$4(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const curveCardinal=function e(r){function o(l){return new Cardinal(l,r)}return o.tension=function(l){return e(+l)},o}(0);function CardinalClosed(e,r){this._context=e,this._k=(1-r)/6}CardinalClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:point$4(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const curveCardinalClosed=function e(r){function o(l){return new CardinalClosed(l,r)}return o.tension=function(l){return e(+l)},o}(0);function CardinalOpen(e,r){this._context=e,this._k=(1-r)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const curveCardinalOpen=function e(r){function o(l){return new CardinalOpen(l,r)}return o.tension=function(l){return e(+l)},o}(0);function point$3(e,r,o){var l=e._x1,p=e._y1,f=e._x2,O=e._y2;if(e._l01_a>epsilon$2){var _=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,S=3*e._l01_a*(e._l01_a+e._l12_a);l=(l*_-e._x0*e._l12_2a+e._x2*e._l01_2a)/S,p=(p*_-e._y0*e._l12_2a+e._y2*e._l01_2a)/S}if(e._l23_a>epsilon$2){var v=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);f=(f*v+e._x1*e._l23_2a-r*e._l12_2a)/s,O=(O*v+e._y1*e._l23_2a-o*e._l12_2a)/s}e._context.bezierCurveTo(l,p,f,O,e._x2,e._y2)}function CatmullRom(e,r){this._context=e,this._alpha=r}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var o=this._x2-e,l=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(o*o+l*l,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3;default:point$3(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const curveCatmullRom=function e(r){function o(l){return r?new CatmullRom(l,r):new Cardinal(l,0)}return o.alpha=function(l){return e(+l)},o}(.5);function CatmullRomClosed(e,r){this._context=e,this._alpha=r}CatmullRomClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,r){if(e=+e,r=+r,this._point){var o=this._x2-e,l=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(o*o+l*l,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:point$3(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const curveCatmullRomClosed=function e(r){function o(l){return r?new CatmullRomClosed(l,r):new CardinalClosed(l,0)}return o.alpha=function(l){return e(+l)},o}(.5);function CatmullRomOpen(e,r){this._context=e,this._alpha=r}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var o=this._x2-e,l=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(o*o+l*l,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const curveCatmullRomOpen=function e(r){function o(l){return r?new CatmullRomOpen(l,r):new CardinalOpen(l,0)}return o.alpha=function(l){return e(+l)},o}(.5);function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,r,o){var l=e._x1-e._x0,p=r-e._x1,f=(e._y1-e._y0)/(l||p<0&&-0),O=(o-e._y1)/(p||l<0&&-0),_=(f*p+O*l)/(l+p);return(sign(f)+sign(O))*Math.min(Math.abs(f),Math.abs(O),.5*Math.abs(_))||0}function slope2(e,r){var o=e._x1-e._x0;return o?(3*(e._y1-e._y0)/o-r)/2:r}function point$2(e,r,o){var l=e._x0,p=e._y0,f=e._x1,O=e._y1,_=(f-l)/3;e._context.bezierCurveTo(l+_,p+_*r,f-_,O-_*o,f,O)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$2(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var o=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,point$2(this,slope2(this,o=slope3(this,e,r)),o);break;default:point$2(this,this._t0,o=slope3(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=o}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,r){MonotoneX.prototype.point.call(this,r,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,o,l,p,f){this._context.bezierCurveTo(r,e,l,o,f,p)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,o=e.length;if(o)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),o===2)this._context.lineTo(e[1],r[1]);else for(var l=controlPoints(e),p=controlPoints(r),f=0,O=1;O<o;++f,++O)this._context.bezierCurveTo(l[0][f],p[0][f],l[1][f],p[1][f],e[O],r[O]);(this._line||this._line!==0&&o===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function controlPoints(e){var r,o=e.length-1,l,p=new Array(o),f=new Array(o),O=new Array(o);for(p[0]=0,f[0]=2,O[0]=e[0]+2*e[1],r=1;r<o-1;++r)p[r]=1,f[r]=4,O[r]=4*e[r]+2*e[r+1];for(p[o-1]=2,f[o-1]=7,O[o-1]=8*e[o-1]+e[o],r=1;r<o;++r)l=p[r]/f[r-1],f[r]-=l,O[r]-=l*O[r-1];for(p[o-1]=O[o-1]/f[o-1],r=o-2;r>=0;--r)p[r]=(O[r]-p[r+1])/f[r];for(f[o-1]=(e[o]+p[o-1])/2,r=0;r<o-1;++r)f[r]=2*e[r+1]-p[r+1];return[p,f]}function curveNatural(e){return new Natural(e)}function Step(e,r){this._context=e,this._t=r}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var o=this._x*(1-this._t)+e*this._t;this._context.lineTo(o,this._y),this._context.lineTo(o,r)}break}}this._x=e,this._y=r}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function Transform$2(e,r,o){this.k=e,this.x=r,this.y=o}Transform$2.prototype={constructor:Transform$2,scale:function(e){return e===1?this:new Transform$2(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Transform$2(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform$2.prototype;function deepcopy$1(e){return JSON.parse(JSON.stringify(e||null))}function isInstanceOf(e,r){return(e==null?void 0:e.constructor)==r}function isInstanceOfByName(e,r){var o;return((o=e==null?void 0:e.constructor)==null?void 0:o.name)===r}function isArrayOf(e,r){return isInstanceOf(e,Array)?isInstanceOf(r,Array)?e.every(o=>r.includes(o.constructor)):e.every(o=>isInstanceOf(o,r)):!1}class Datasets{constructor(){this.datasets=[]}add(r){if(!r.constructor==Dataset)throw new Error(`Wrong dataset object ${r.constructor.name}}`);return this.datasets.push(r.clone()),this}get(r){var o,l,p;return r?(l=(o=this.datasets)==null?void 0:o.filter(f=>f.name===r))==null?void 0:l[0]:(p=this.datasets)==null?void 0:p.map(f=>f.get())}clone(){var r;return(r=this.datasets)==null?void 0:r.map(o=>o.clone())}}class Dataset{constructor(r){if(this.name(r),this.data=new Data$1,!r)throw new Error("A Dataset must be created with a name.")}name(r){if(isInstanceOf(r,String))this._name=r;else throw new TypeError("A name for a Dataset must be String.");return this}set(r,o){return this.data.set(r,o),this}get(){return{name:this._name,data:this.data.get()}}clone(){let r=new Dataset(this._name);return r&&(r.data=this.data.clone()),r}}const Values$1="values",Url="url",Name="name",AllowedDataTypes=[Values$1,Url,Name];let Data$1=class yt{constructor(){this.type="unset",this.values=null,this.url=null,this.name=null}set(r,o){if(isInstanceOf(r,Dataset))this.type=Name,this.name=r._name;else if(AllowedDataTypes.includes(r))r===Values$1?(this.type=Values$1,this.values=o):r===Url?(this.type=Url,this.url=o):r===Name&&(this.type=Name,this.name=o);else throw new TypeError(`Unspported data type ${r}}. It must be either one of ${AllowedDataTypes.join(", ")}.`);return this}get(){return{type:this.type,values:deepcopy$1(this.values),url:this.url,name:this.name}}clone(){let r=new yt;return r.type=this.type,this.type===Values$1?r.values=deepcopy$1(this.values):this.type===Url?r.url=this.url:this.type===Name&&(r.name=this.name),r}};const COUNT="count",VALID="valid",DISTINCT="distinct",MEAN="mean",AVG="average",MODE="mode",MEDIAN="median",QUANTILE="quantile",STDEV="stdev",STDEVP="stdevp",VARIANCE="variance",VARIANCEP="variancep",SUM="sum",PRODUCT="product",MAX="max",MIN="min",CORR="corr",COVARIANCE="covariance",COVARIANCEP="covariancep",ZeroOPs=[COUNT],SingleOps=[VALID,DISTINCT,MEAN,AVG,MODE,MEDIAN,QUANTILE,STDEV,STDEVP,VARIANCE,VARIANCEP,SUM,PRODUCT,MAX,MIN],DoubleOps=[CORR,COVARIANCE,COVARIANCEP];let Aggregate$1=class mt{constructor(){this.aggregate=[],this._groupby=[]}add(r,o,l,p){if(ZeroOPs.includes(r)){if((o==null?void 0:o.constructor.name)!=="String")throw new Error('"as" is not provided.');this.aggregate.push({op:r,as:o})}else if(SingleOps.includes(r)){if(o===void 0||(o==null?void 0:o.constructor.name)!=="String")throw new Error('"field" is not properly provided.');if(l===void 0||(l==null?void 0:l.constructor.name)!=="String")throw new Error('"as" is not properly provided.');r===QUANTILE?(p===void 0&&(console.warn("p is not provided, so is set as 0.5."),p=.5),this.aggregate.push({op:r,field:o,as:l,p})):this.aggregate.push({op:r,field:o,as:l})}else if(DoubleOps.includes(r)){if(o===void 0||(o==null?void 0:o.constructor.name)!=="Array"||(o==null?void 0:o.length)!=2||!o.every(f=>(f==null?void 0:f.constructor.name)!=="String"))throw new Error('"field" is not properly provided.');if(l===void 0||(l==null?void 0:l.constructor.name)!=="String")throw new Error('"as" is not properly provided.');this.aggregate.push({op:r,field:[...o],as:l})}else throw new Error(`Unsupported operation type: ${r}`);return this}groupby(...r){return r.length==1&&r[0].constructor.name==="Array"&&r[0].every(o=>o.constructor.name==="String")?this._groupby=[...r[0]]:r.length>=1&&r.every(o=>o.constructor.name==="String")&&(this._groupby=[...r]),this}get(){return{aggregate:deepcopy$1(this.aggregate),groupby:deepcopy$1(this._groupby)}}clone(){let r=new mt;r.aggregate=deepcopy$1(this.aggregate),r._groupby=deepcopy$1(this._groupby)}},Bin$1=class bt{constructor(r){this._bin=r,this._as=r+"__bin",this._end=r+"__bin_end",this._nice=!0,this._maxbins=10,this._step,this._exact}as(r,o){if((r==null?void 0:r.constructor.name)==="String"&&(o==null?void 0:o.constructor.name)==="String")this._as=r,this._end=o;else throw new TypeError("Bin 'as' (start, end) value should be Strings");return this}nice(r){if((r==null?void 0:r.constructor.name)==="Boolean")this._nice=r;else throw new TypeError("Bin 'nice' value should be Boolean");return this}maxbins(r){if((r==null?void 0:r.constructor.name)==="Number"&&Math.round(r)==r)this._maxbins=r;else throw new TypeError("Bin 'maxbins' should be an integer.");return this}step(r){if((r==null?void 0:r.constructor.name)==="Number")this._step=r;else throw new TypeError("Bin 'step' value should be a Number");return this}exact(r){if((r==null?void 0:r.constructor.name)==="Array"&&r.every(o=>o.constructor.name==="Number"))this._exact=r;else throw new TypeError("Bin 'exact; value should be an array of Numbers.");return this}get(){return{bin:this._bin,as:this._as,end:this._end,nice:this._nice,maxbins:this._maxbins,step:this._step,exact:deepcopy$1(this._exact)}}clone(){let r=new bt(this._bin);return r._as=this._as,r._end=this._end,r._nice=this._nice,r._maxbins=this._maxbins,r._step=this._step,r._exact=[...this._exact],r}};class Calculate{constructor(r,o){this._calculate="",this._as,r&&this.calculate(r),o&&this.as(o)}calculate(r){if(isInstanceOf(r,String))this._calculate=r;else throw new TypeError("Calculate 'calculate' should be a String.");return this}as(r){if(isInstanceOf(r,String))this._as=r;else throw new TypeError("Calculate 'as' should be a String.");return this}get(){return{calculate:this._calculate,as:this._as}}clone(){let r=new Calculate;return this._calculate&&r.calculate(this._calculate),this._as&&r.as(this._as),r}}let Density$1=class vt{constructor(r){this._density,this._groupby=[],this._cumulative=!1,this._counts=!1,this._bandwidth,this._extent,this._minsteps=25,this._maxsteps=200,this._steps,this._as=["value","density"],r&&this.field(r)}field(r){if(isInstanceOf(r,String))this._density=r;else throw new TypeError("Density 'field' (density) value should be a String.");return this}extent(r){if(isInstanceOf(r,Array)&&r.length==2&&r.every(o=>isInstanceOf(o,Number)))this._extent=[...r];else throw new TypeError("Density 'extent' should be an Array of two Numbers.");return this}groupby(r){if(isInstanceOf(r,Array)&&r.every(o=>isInstanceOf(o,String)))this._groupby=[...r];else throw new TypeError("Density 'groupby' should be an Array of Strings.");return this}cumulative(r){if(isInstanceOf(r,Boolean))this._cumulative=r;else throw new TypeError("Density 'cumulative' must be Boolean.");return this}counts(r){if(isInstanceOf(r,Boolean))this._counts=r;else throw new TypeError("Density 'counts' must be Boolean.");return this}bandwidth(r){if(isInstanceOf(r,Number))this._bandwidth=r;else throw new TypeError("Density 'bandwidth' should be a Number.");return this}minsteps(r){if(isInstanceOf(r,Number))this._minsteps=r;else throw new TypeError("Density 'minsteps' should be a Number.");return this}maxsteps(r){if(isInstanceOf(r,Number))this._maxsteps=r;else throw new TypeError("Density 'maxsteps' should be a Number.");return this}steps(r){if(isInstanceOf(r,Number))this._steps=r;else throw new TypeError("Density 'steps' should be a Number.");return this}as(r){if(isInstanceOf(r,Array)&&r.length==2&&r.every(o=>isInstanceOf(o,String)))this._as=[...r];else throw new TypeError("Density 'as' should be an Array of two Strings.");return this}get(){return{density:this._density,extent:[...this._extent],groupby:[...this._groupby],cumulative:this._cumulative,counts:this._counts,bandwidth:this._bandwidth,minsteps:this._minsteps,maxsteps:this._maxsteps,steps:this._steps,as:[...this._as]}}clone(){let r=new vt(this._density);return r._density=this._density,r._extent=[...this._extent],this._groupby&&(r._groupby=[...this._groupby]),r._cumulative=this._cumulative,r._counts=this._counts,r._bandwidth=this._bandwidth,r._minsteps=this._minsteps,r._maxsteps=this._maxsteps,r._steps=this._steps,this._as&&(r._as=[...this._as]),r}},Filter$1=class Ot{constructor(r){this._filter="",this.filter(r)}filter(r){if(isInstanceOf(r,String))this._filter=r;else throw new TypeError("Filter 'filter' should be a String.");return this}get(){return{filter:this._filter}}clone(){return new Ot(this._filter)}},Fold$1=class wt{constructor(r,o){this._fold=[],this._by,this._exclude=!1,this._as=["key","value"],r&&this.fold(r),o&&this.by(o)}fold(r){if(isInstanceOf(r,Array)&&r.every(o=>isInstanceOf(o,String)))this._fold=[...r];else throw new TypeError("Fold 'fold' should be an Array of Strings.");return this}by(r){if(isInstanceOf(r,String))this._by=r;else throw new TypeError("Fold 'by' should be a String.");return this}exclude(r){if(isInstanceOf(r,Boolean))this._exclude=r;else throw new TypeError("Fold 'exclude' should be Boolean.");return this}as(r){if(isInstanceOf(r,Array)&&r.length==2&&r.every(o=>isInstanceOf(o,String)))this._as=[...r];else throw new TypeError("Fold 'fold' should be an Array of two Strings.");return this}get(){return{fold:this._fold,by:this._by,exclude:this._exclude,as:this._as}}clone(){let r=new wt;return this._fold&&(r._fold=deepcopy$1(this._fold)),this._by&&(r._by=deepcopy$1(this._by)),this._exclude&&(r._exclude=deepcopy$1(this._exclude)),this._as&&(r._as=deepcopy$1(this._as)),r}};const SupportedTransforms=[Aggregate$1.name,Bin$1.name,Calculate.name,Density$1.name,Filter$1.name,Fold$1.name];let Transform$1=class St{constructor(){this.transform=[]}add(r){if(isInstanceOf(r,Aggregate$1)||isInstanceOf(r,Bin$1)||isInstanceOf(r,Filter$1)||isInstanceOf(r,Calculate)||isInstanceOf(r,Density$1)||isInstanceOf(r,Fold$1))this.transform.push(r);else throw new TypeError(`A transform item must be created using a proper Erie's Transform classes: ${SupportedTransforms.join(", ")}.`);return this}get(){return this.transform.map(r=>r.get())}clone(){let r=new St;return this.transform.forEach(o=>r.add(o.clone())),r}};const FM$1="FM",AM$1="AM",SINE="sine",SQUARE="square",SAWTOOTH="sawtooth",TRIANGLE="triangle",SynthTypes=[FM$1,AM$1],OscTypes$1=[SINE,SQUARE,SAWTOOTH,TRIANGLE];let SynthTone$1=class Tt{constructor(r){if(this._name,!r)throw new Error("A sampled tone must have a name.");this.name(r),this._type="FM",this._carrierType="sine",this._carrierPitch=220,this._carrierDetune=0,this._modulatorType="sine",this._modulatorPitch=440,this._modulatorVolume=.2,this._modulation=1,this._harmonicity=1,this._attackTime=0,this._releaseTime=0}name(r){if(isInstanceOf(r,String))this._name=r;else throw new TypeError("The name of a synth tone must be String.");return this}type(r){if(SynthTypes.includes(r))this._type=r;else throw new TypeError(`The type of a synth tone must be either one of ${SynthTypes.join(", ")}.`);return this}carrierType(r){if(OscTypes$1.includes(r))this._carrierType=r;else throw new TypeError(`The type of a synth carrier must be either one of ${OscTypes$1.join(", ")}.`);return this}carrierPitch(r){if(isInstanceOf(r,Number))this._carrierPitch=r;else throw new TypeError("The pitch of a synth carrier must be Number.");return this}carrierDetune(r){if(isInstanceOf(r,Number)&&r>=-1200&&r<=1200)this._carrierDetune=r;else throw new TypeError("The detune of a synth carrier must be Number and within [-1200, 1200].");return this}modulatorType(r){if(OscTypes$1.includes(r))this._modulatorType=r;else throw new TypeError(`The type of a synth modulator must be either one of ${OscTypes$1.join(", ")}.`);return this}modulatorPitch(r){if(isInstanceOf(r,Number))this._modulatorPitch=r;else throw new TypeError("The pitch of a synth modulator must be Number.");return this}modulatorVolume(r){if(isInstanceOf(r,Number)&&r>=0&&r<=1)this.modulatorVolume=r;else throw new TypeError("The volume of a synth modulator must be Number and within [0, 1].");return this}modulation(r){if(this._type===AM$1&&console.warn("Moudlation index for an AM synth will be ignored."),isInstanceOf(r,Number)&&r>0)this._modulation=r;else throw new TypeError("The moudlation index of a synth tone must be Number and greater than 0.");return this}harmonicity(r){if(this._type===FM$1&&console.warn("Harmonicity for an FM synth will be ignored."),isInstanceOf(r,Number)&&r>0)this._harmonicity=r;else throw new TypeError("The harmonicity of a synth tone must be Number and greater than 0.");return this}attackTime(r){if(isInstanceOf(r,Number)&&r>0)this._attackTime=r;else throw new TypeError("The attack time of a synth tone must be Number and greater than -.");return this}releaseTime(r){if(isInstanceOf(r,Number)&&r>0)this._releaseTime=r;else throw new TypeError("The release time of a synth tone must be Number and greater than -.");return this}get(){return{name:this._name,type:this._type,carrierType:this._carrierType,carrierPitch:this._carrierPitch,carrierDetune:this._carrierDetune,modulatorType:this._modulatorType,modulatorPitch:this._modulatorPitch,modulatorVolume:this._modulatorVolume,modulation:this._modulation,harmonicity:this._harmonicity,attackTime:this._attackTime,releaseTime:this._releaseTime}}clone(){let r=new Tt(this._name);return r._type=this._type,r._carrierType=this._carrierType,r._carrierPitch=this._carrierPitch,r._carrierDetune=this._carrierDetune,r._modulatorType=this._modulatorType,r._modulatorPitch=this._modulatorPitch,r._modulatorVolume=this._modulatorVolume,r._modulation=this._modulation,r._harmonicity=this._harmonicity,r._attackTime=this._attackTime,r._releaseTime=this._releaseTime,r}};class Synth{constructor(){this.synth=[]}add(r){if(isInstanceOf(r,SynthTone$1))this.synth.push(r);else throw new TypeError("A synth tone must be created using SynthTone class.");return this}get(){return this.synth.map(r=>r.get())}clone(){let r=new Synth;return r.synth=this.synth.map(o=>o.clone()),r}}function scaleKeyCheck$1(e){return e.match(/^[C][0-7]$/)}class SampledTone{constructor(r,o){if(this._name,this._sample={},!r)throw new Error("A sampled tone must have a name.");if(!o)throw new Error("A sampled tone must have a sampling object.");this.setName(r),this.setSample(o)}setName(r){if(isInstanceOf(r,String))this._name=r;else throw new TypeError("The name of a sampled tone must be String.");return this}setSample(r){return Object.keys(r).forEach(o=>{if(o==="mono")this._sample.mono=r[o];else if(scaleKeyCheck$1(o))this._sample[o]=r[o];else throw new TypeError('The key of a sampling object should be "C" + "0-7".')}),this}get(){return{name:this._name,sample:deepcopy$1(this._sample||{})}}clone(){return new SampledTone(this._name,deepcopy$1(this._sample||{}))}}class Sampling{constructor(){this.sampling=[]}add(r){if(isInstanceOf(r,SampledTone))this.sampling.push(r);else throw new TypeError("A sampled tone must be created using SampledTone class.");return this}get(){return this.sampling.map(r=>r.get())}clone(){let r=new Sampling;return r.sampling=this.sampling.map(o=>o.clone()),r}}class WaveTone{constructor(r,o){if(this._name,!r)throw new Error("A sampled tone must have a name.");this.setName(r),this._disableNormalization=!1,this._real=[],this._imag=[],o&&this.wave(o)}setName(r){if(isInstanceOf(r,String))this._name=r;else throw new TypeError("The name of a synth tone must be String.");return this}real(r){if(isArrayOf(r,Number))this._real=r;else throw new TypeError('The "real" property (sine terms) of a periodic wave must be an Array of Numbers.');return this}imag(r){if(isArrayOf(r,Number))this._imag=r;else throw new TypeError('The "imag" property (cosine terms) of a periodic wave must be an Array of Numbers.');return this}wave(r){if(isInstanceOf(r,Object)&&r.real&&r.imag)this.real(r.real),this.imag(r.imag);else throw new TypeError('The definition a periodic wave must consist of "real" (sine terms) and "imag" (cosine terms) properties.');return this}disableNormalization(r){if(isInstanceOf(r,Boolean))this._disableNormalization=r;else throw new TypeError("The 'disableNormalization' value should be a Boolean.");return this}get(){return{name:this._name,real:[...this._real],imag:[...this._imag],disableNormalization:this._disableNormalization}}clone(){let r=new SynthTone(this._name);return r._real=[...this._real],r._imag=[...this._imag],r._disableNormalization=this._disableNormalization,r}}class Wave{constructor(){this.wave=[]}add(r){if(isInstanceOf(r,WaveTone))this.wave.push(r);else throw new TypeError("A wave tone must be created using WaveTone class.");return this}get(){return this.wave.map(r=>r.get())}clone(){let r=new Wave;return r.wave=this.wave.map(o=>o.clone()),r}}let Tone$1=class Et{constructor(r,o){this._type="default",this._continued=!1,r?this.set(r):this.set("default"),o!==void 0&&this.continued(o),this._filter=[]}set(r){isInstanceOf(r,SampledTone)?this._type=r._name:isInstanceOf(r,SynthTone$1)?this._type=r._name:isInstanceOf(r,WaveTone)?this._type=r._name:isInstanceOf(r,String)&&this.type(r)}type(r){if(isInstanceOf(r,String))this._type=r;else throw new TypeError("Tone type should be a String.");return this}continued(r){if(isInstanceOf(r,Boolean))this._continued=r;else throw new TypeError("Tone 'continued' should be Boolean.");return this}addFilter(r){if(isInstanceOf(r,String))this._filter.push(r);else if(isArrayOf(r,String))this._filter.push(...r);else throw new TypeError("Tone filter should be a String or String Array.");return this}get(){return{type:this._type,continued:this._continued,filter:[...this._filter]}}clone(){let r=new Et(this._type,this._continued);return r.addFilter(this._filter),r}};class Tick{constructor(r){if(r)this.setName(r);else throw new Error("A tick definition must have a name.");this._interval=.5,this._playAtTime0=!0,this._oscType="sine",this._pitch=150,this._loudness=.4}setName(r){if(isInstanceOf(r,String))this._name=r;else throw new TypeError("The name of a synth tone must be String.");return this}interval(r){if(isInstanceOf(n,Number)&&n>0)this._interval=r;else throw new TypeError("A tick interval must be a Number and greater than 0.");return this}playAtTime0(r){if(isInstanceOf(n,Boolean))this._playAtTime0=r;else throw new TypeError('A tick "playAtTime0" must be Boolean.');return this}oscType(r){if(OscTypes$1.includes(r))this._oscType=r;else throw new TypeError(`A tick oscillator type must be either one of ${OscTypes$1.join(", ")}.`);return this}pitch(r){if(isInstanceOf(n,Number)&&n>0)this._pitch=r;else throw new TypeError("A tick pitch must be a Number and greater than 0.");return this}loudness(r){if(isInstanceOf(n,Number)&&n>=0&&n<=1)this._loudness=r;else throw new TypeError("A tick loudness must be a Number and between 0 and 1.");return this}get(){return{name:this._name,interval:this._interval,playAtTime0:this._playAtTime0,oscType:this._oscType,pitch:this._pitch,loudness:this._loudness}}clone(){let r=new Tick(this._name);return r.interval(this._interval),r.pitch(this._playAtTime0),r.oscType(this._oscType),r.pitch(this._pitch),r.loudness(this._loudness),r}}class TickList{constructor(){this.tick=[]}add(r){if(isInstanceOf(r,Tick))this.tick.push(r);else throw new TypeError("A tick definition must be created using Tick class.");return this}get(){return this.tick.map(r=>r.get())}clone(){let r=new Tick;return r.tick=this.tick.map(o=>o.clone()),r}}const TIME_chn$1="time",TIME2_chn$1="time2",DUR_chn$1="duration",TAPCNT_chn$1="tapCount",TAPSPD_chn$1="tapSpeed",POST_REVERB_chn$1="postReverb",PITCH_chn$1="pitch",LOUDNESS_chn$1="loudness",PAN_chn$1="pan",SPEECH_BEFORE_chn$1="speechBefore",SPEECH_AFTER_chn$1="speechAfter",TIMBRE_chn$1="timbre",MODULATION_chn$1="modulation",HARMONICITY_chn$1="harmonicity",DETUNE_chn$1="detune",REPEAT_chn$1="repeat",QUANT$1="quantitative",ORD$1="ordinal",NOM$1="nominal",TMP$1="temporal",STATIC$1="static",SupportedEncodingTypes=[QUANT$1,ORD$1,NOM$1,TMP$1,STATIC$1],POS$2="positive",NEG$1="negative",SupportedPolarity=[POS$2,NEG$1],RampMethods$1=[!0,!1,"abrupt","linear","exponential"],SingleTapPosOptions=["start","middle","end"],REL="relative",ABS="absolute",SIM="simultaneous",TIMINGS=[REL,ABS,SIM],FormatTypes=["number","datetime"];class Channel{constructor(r,o){this.defined=!1,this._channel=void 0,this._field,this._type,r&&this.field(r,o),this._ramp="linear",this._aggregate,this._bin,this._scale={},this._condition,this._value,this._format,this._formatType}set(r){if(isInstanceOfByName(r,"TimeChannel")||isInstanceOfByName(r,"Time2Channel")||isInstanceOfByName(r,"DurationChannel")||isInstanceOfByName(r,"TapSpeedChannel")||isInstanceOfByName(r,"TapCountChannel")||isInstanceOfByName(r,"PitchChannel")||isInstanceOfByName(r,"DetuneChannel")||isInstanceOfByName(r,"LoudnessChannel")||isInstanceOfByName(r,"PanChannel")||isInstanceOfByName(r,"PostReverbChannel")||isInstanceOfByName(r,"SpeechBeforeChannel")||isInstanceOfByName(r,"SpeechAfterChannel")||isInstanceOfByName(r,"RepeatChannel")||isInstanceOfByName(r,"ModulationChannel")||isInstanceOfByName(r,"HarmonicityChannel")||isInstanceOfByName(r,"Channel")){let o=r.get();Object.assign(this,o)}}field(r,o){if(r===void 0)this._field=void 0;else if(isInstanceOf(r,String))this._field=r;else if(this._channel===REPEAT_chn$1&&isArrayOf(r,String))this._field=r;else throw new TypeError("A field for an encoding channel must be a String.");return o&&this.type(o),this.defined=!0,this}type(r){if(isInstanceOf(r,String)&&SupportedEncodingTypes.includes(r))this._type=r;else throw new TypeError(`A type for an encoding channel must be a String and either one of ${SupportedEncodingTypes.join(", ")}.`);return this}ramp(r){if(RampMethods$1.includes(r))isInstanceOf(r,String)?this._ramp=r:this._ramp=r?"linear":"abrupt";else throw new TypeError(`A ramping method for an encoding channel must be either one of ${RampMethods$1.join(", ")}.`)}aggregate(r){if(ZeroOPs.includes(r))this._field&&console.warn("A count aggregate will drop the existing field."),this._aggregate=r,this._type=QUANT$1,this.defined=!0;else if(SingleOps.includes(r))this._aggregate=r,this._type=QUANT$1,this.defined=!0;else throw DoubleOps.includes(r)?new TypeError("An aggregate operation for two fields cannot be declared here."):new TypeError(`The provided operation ${r} is not supported.`);return this}bin(...r){let o,l,p,f;if(r.length==1)isInstanceOf(r[0],Boolean)?o=r[0]:isArrayOf(r[0],Number)&&(o=!0,r[0]);else if(r.length>=2&&r.length<=3)o=!0,[p,l,f]=r;else throw new TypeError("Wrong argumetn is provided for a channel's bin.");return this._bin=o,(p||l||f)&&(this._bin={maxbins:p,nice:l,step:f}),this.defined=!0,this}scale(r,o){if(r==="domain"&&isInstanceOf(o,Array))this._scale.domain=[...o];else if(r==="range"&&isInstanceOf(o,Object)&&o.field)this._scale.range=deepcopy$1(o);else if(r==="range"&&isInstanceOf(o,Array))if(o.every(this.validator))this._scale.range=[...o],(this._scale.times!==void 0||this._scale.maxDistinct!==void 0)&&(console.warn("Existing scale settings will be ignored."),this._scale.times=void 0,this._scale.maxDistinct=void 0);else throw new TypeError("Unsupported value type");else if(r==="order"&&isInstanceOf(o,Array))this._scale.order=o;else if(r==="polarity"&&SupportedPolarity.includes(o))this._scale.polarity=o;else if(r==="maxDistinct"&&isInstanceOf(o,Boolean))this._scale.maxDistinct=o,(this._scale.range!==void 0||this._scale.times!==void 0)&&(console.warn("Existing scale settings will be ignored."),this._scale.range=void 0,this._scale.times=void 0);else if(r==="times"&&isInstanceOf(o,Number))this._scale.times=o,(this._scale.range!==void 0||this._scale.maxDistinct!==void 0)&&(console.warn("Existing scale settings will be ignored."),this._scale.range=void 0,this._scale.maxDistinct=void 0);else if(r==="zero"&&isInstanceOf(o,Boolean))this._scale.zero=o;else if(r==="description"&&(isInstanceOf(o,String)||o==null))this._scale.description=o;else if(r==="title"&&(isInstanceOf(o,String)||o==null))this._scale.title=o;else if(this._channel===TIME_chn$1&&r==="length"&&isInstanceOf(o,Number))this._scale.length=o;else if([TIME_chn$1,TAPCNT_chn$1,TAPSPD_chn$1].includes(this._channel)&&r==="band"&&isInstanceOf(o,Number))this._scale.band=o;else if(this._channel===TIME_chn$1&&r==="timing"&&TIMINGS.includes(o))this._scale.timing=o;else if(this._channel===TAPSPD_chn$1&&r==="singleTappingPosition"&&SingleTapPosOptions.includes(o))this._scale.timing=o;else throw new Error("The provide key and value is not a supported scale option.");return this.defined=!0,this}addCondition(r,o){if(isInstanceOf(r,String)&&o!==void 0)this._condition||(this._condition=[]),this._condition.push({test:r,value:o}),this._type!==STATIC$1&&(console.warn("The type of this channel is changed to static, and the scales will be droped."),this._type=STATIC$1,this._scale={});else throw new Error("The provide condition and value is not a supported condition.");return this.defined=!0,this}addConditions(r){for(const o of r)o.test&&o.value&&this.addCondition(o.test,o.value);return this.defined=!0,this}getConditions(){return this._condition?deepcopy$1(this._condition):this._condition}removeCondition(r){isInstanceOf(this._condition,Array)&&this._condition.splice(r,1)}resetCondition(){return this._condition=void 0}value(r){if(this.validator(r))this._value=r,this._type!==STATIC$1&&(console.warn("The type of this channel is changed to static, and the scales will be droped."),this._type=STATIC$1,this._scale={},this._field=void 0,this._aggregate=void 0,this._bin=void 0);else throw new TypeError("Unsupported value type");return this.defined=!0,this}speech(r){if(this._channel===REPEAT_chn$1)if(isInstanceOf(r,Boolean))this._speech=r;else throw new TypeError('The "speech" option for a channel must be Boolean.');else throw new Error("Speech option is only for a repeat channel.");return this.defined=!0,this}tick(r,o){if(this._channel===TIME_chn$1)if(isInstanceOf(r,String))this._tick||(this._tick={}),r==="name"&&isInstanceOf(o,String)?this._tick.name=o:r==="interval"&&isInstanceOf(o,Number)?this._tick.interval=o:r==="playAtTime0"&&isInstanceOf(o,Boolean)?this._tick.playAtTime0=o:r==="oscType"&&OscTypes$1.includes(o)?this._tick.playAtTime0=o:r==="pitch"&&isInstanceOf(o,Number)?this._tick.pitch=o:r==="loudness"&&isInstanceOf(o,Number)&&0<=o&&o<=1&&(this._tick.loudness=o);else if(isInstanceOf(r,Tick))this._tick={name:r._name};else throw new TypeError('The "speech" option for a channel must be Boolean.');else throw new Error("Speech option is only for a time channel.");return this.defined=!0,this}format(r,o){if(r&&o&&isInstanceOf(r,String)&&FormatTypes.includes(o))this._format=r,this._formatType=o;else if(r&&isInstanceOf(r,String))this._format=r;else throw new TypeError(`The "format" should be a String and "formatType" should be either ${FormatTypes.join(", ")}.`)}formatType(r){if(FormatTypes.includes(r))this._formatType=r;else throw new TypeError(`The "formatType" should be either ${FormatTypes.join(", ")}.`)}get(){let r={type:this._type,field:this._field,channel:this._channel,aggregate:this._aggregate,bin:this._bin?deepcopy$1(this._bin):this._bin,scale:this._scale?deepcopy$1(this._scale):this._scale,value:this._value,condition:this._condition?deepcopy$1(this._condition):this._condition,ramp:this._ramp,defined:this.defined};return this._channel===TIME_chn$1&&(r.tick=this._tick?deepcopy$1(this._tick):this._tick),this._channel===REPEAT_chn$1&&(r.tick=this._speech),r}validator(r){return!0}clone(){let r=new this.constructor,o=this.get();return Object.keys(o).forEach(l=>{l!=="defined"?r["_"+l]=o[l]:r.defined=o[l]}),r}}class Config{constructor(){this._config={speechRate:1.75,skipScaleSpeech:!1,skipDescription:!1,skipTitle:!1,skipStopSpeech:!1,overlayScaleConsistency:!0,forceOverlayScaleConsistency:!1,sequenceScaleConsistency:!0,forceSequenceScaleConsistency:!1}}set(r,o){if(configValidator(r,o))this._config[r]=o;else throw TypeError(`Wrong value type for ${r}.`);return this}get(){return deepcopy$1(this._config)}clone(){let r=new Config,o=this.get();Object.keys(o).forEach(l=>{r.set(l,o[l])})}}function configValidator(e,r){return e==="speechRate"?isInstanceOf(r,Number)&&r>0:e==="skipScaleSpeech"||e==="skipDescription"||e==="skipTitle"||e==="skipStopSpeech"||e==="overlayScaleConsistency"||e==="forceOverlayScaleConsistency"||e==="sequenceScaleConsistency"||e==="forceSequenceScaleConsistency"?isInstanceOf(r,Boolean):!0}class TimeChannel extends Channel{constructor(r,o){super(r,o),this._channel=TIME_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=0}}class Time2Channel extends Channel{constructor(r,o){super(r,o),this._channel=TIME2_chn$1}}class DurationChannel extends Channel{constructor(r,o){super(r,o),this._channel=DUR_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=0}}const MAX_LIMIT_TAP_SPEED$1=7;class TapSpeedChannel extends Channel{constructor(r,o){super(r,o),this._channel=TAPSPD_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=0&&r<=MAX_LIMIT_TAP_SPEED$1}}class TapCountChannel extends Channel{constructor(r,o){super(r,o),this._channel=TAPCNT_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=0}}const MAX_LIMIT_PITCH$1=3e3;class PitchChannel extends Channel{constructor(r,o){super(r,o),this._channel=PITCH_chn$1,this.roundToNote=!1}roundToNote(r){if(isInstanceOf(r,Boolean))this.roundToNote=r;else throw new TypeError("Round-to-note for a pitch channel must be Boolean");return this}validator(r){return isInstanceOf(r,Number)&&r>=0&&r<=MAX_LIMIT_PITCH$1||isInstanceOf(r,String)&&r.match(/^[A-F][0-9]$/gi)}}class DetuneChannel extends Channel{constructor(r,o){super(r,o),this._channel=DETUNE_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=-1200&&r<=1200}}class LoudnessChannel extends Channel{constructor(r,o){super(r,o),this._channel=LOUDNESS_chn$1}validator(r){return isInstanceOf(r,Number)}}class PanChannel extends Channel{constructor(r,o){super(r,o),this._channel=PAN_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=-1&&r<=1}}class PostReverbChannel extends Channel{constructor(r,o){super(r,o),this._channel=POST_REVERB_chn$1}validator(r){return isInstanceOf(r,Number)&&r>=0}}class SpeechBeforeChannel extends Channel{constructor(r,o){super(r,o),this._channel=SPEECH_BEFORE_chn$1}}class SpeechAfterChannel extends Channel{constructor(r,o){super(r,o),this._channel=SPEECH_AFTER_chn$1}}class RepeatChannel extends Channel{constructor(r,o){super(r,o),this._channel=REPEAT_chn$1}}class ModulationChannel extends Channel{constructor(r,o){super(r,o),this._channel=MODULATION_chn$1}validator(r){return isInstanceOf(r,Number)&&r>0}}class HarmonicityChannel extends Channel{constructor(r,o){super(r,o),this._channel=HARMONICITY_chn$1}validator(r){return isInstanceOf(r,Number)&&r>0}}class TimbreChannel extends Channel{constructor(r,o){super(r,o),this._channel=TIMBRE_chn$1}validator(r){return isInstanceOf(r,String)}}class Stream{constructor(){this.data=new Data$1,this.datasets=new Datasets,this.transform=new Transform$1,this.synth=new Synth,this.sampling=new Sampling,this.wave=new Wave,this.tone=new Tone$1,this.tick=new TickList,this.encoding={[TIME_chn$1]:new TimeChannel,[TIME2_chn$1]:new Time2Channel,[DUR_chn$1]:new DurationChannel,[TAPCNT_chn$1]:new TapCountChannel,[TAPSPD_chn$1]:new TapSpeedChannel,[POST_REVERB_chn$1]:new PostReverbChannel,[PITCH_chn$1]:new PitchChannel,[DETUNE_chn$1]:new DetuneChannel,[LOUDNESS_chn$1]:new LoudnessChannel,[PAN_chn$1]:new PanChannel,[SPEECH_BEFORE_chn$1]:new SpeechBeforeChannel,[SPEECH_AFTER_chn$1]:new SpeechAfterChannel,[TIMBRE_chn$1]:new TimbreChannel,[REPEAT_chn$1]:new RepeatChannel,[MODULATION_chn$1]:new ModulationChannel,[HARMONICITY_chn$1]:new HarmonicityChannel},this.config=new Config}name(r){if(isInstanceOf(r,String))this._name=r;else throw new TypeError("An stream name must be a String.");return this}title(r){if(isInstanceOf(r,String))this._title=r;else throw new TypeError("An stream title must be a String.");return this}description(r){if(isInstanceOf(r,String))this._description=r;else throw new TypeError("An stream description must be a String.");return this}get(){var o,l,p,f,O,_,S,v;let r={name:this._name,title:this._title,description:this._description,data:(o=this.data)==null?void 0:o.get(),datasets:(l=this.datasets)==null?void 0:l.get(),transform:this.transform.get(),tick:(p=this.tick)==null?void 0:p.get(),synth:(f=this.synth)==null?void 0:f.get(),sampling:(O=this.sampling)==null?void 0:O.get(),wave:(_=this.wave)==null?void 0:_.get(),tone:(S=this.tone)==null?void 0:S.get(),encoding:{},config:(v=this.config)==null?void 0:v.get()};return Object.keys(this.encoding).forEach(s=>{this.encoding[s].defined&&(r.encoding[s]=this.encoding[s].get())}),r}clone(){let r=new Stream;return r._name=this._name,r._title=this._title,r._description=this._description,r.data=this.data.clone(),r.datasets=this.datasets.clone(),r.transform=this.transform.clone(),r.synth=this.synth.clone(),r.sampling=this.sampling.clone(),r.wave=this.wave.clone(),r.tone=this.tone.clone(),r.encoding={},Object.keys(this.encoding).forEach(o=>{this.encoding[o].defined&&(r.encoding[o]=this.encoding[o].clone())}),r.config=this.config.clone(),r}}let ErieFilters={};async function playSystemSpeech(e,r){return new Promise((o,l)=>{var p=window.speechSynthesis,f=new SpeechSynthesisUtterance(e.speech);(r==null?void 0:r.speechRate)!==void 0?f.rate=r==null?void 0:r.speechRate:(e==null?void 0:e.speechRate)!==void 0&&(f.rate=e==null?void 0:e.speechRate),p.speak(f),f.onend=()=>{o()}})}async function notifyStop(e){e.skipStopSpeech||await playSystemSpeech({speech:"Stopped.",speechRate:e==null?void 0:e.speechRate})}async function notifyPause(e){await playSystemSpeech({speech:"Paused.",speechRate:e==null?void 0:e.speechRate})}async function notifyResume(e){await playSystemSpeech({speech:"Resumeing",speechRate:e==null?void 0:e.speechRate})}const SupportedInstruments=["piano","pianoElec","violin","metal","guitar","hithat","snare","highKick","lowKick","clap"],MultiNoteInstruments=["piano","pianoElec","violin","metal","guitar"],SingleNoteInstruments=["hithat","snare","highKick","lowKick","clap"],noteFreqRange=[{octave:0,c:16.35,cs:17.32,d:18.35,ds:19.45,e:20.6,f:21.83,fs:23.12},{octave:1,gf:23.12,g:24.5,af:25.96,a:27.5,bf:29.14,b:30.87,c:32.7,cs:34.65,d:36.71,ds:38.89,e:41.2,f:43.65,fs:46.25},{octave:2,gf:46.25,g:49,af:51.91,a:55,bf:58.27,b:61.74,c:65.41,cs:69.3,d:73.42,ds:77.78,e:82.41,f:87.31,fs:92.5},{octave:3,gf:92.5,g:98,af:103.83,a:110,bf:116.54,b:123.47,c:130.81,cs:138.59,d:146.83,ds:155.56,e:164.81,f:174.61,fs:185},{octave:4,gf:185,g:196,af:207.65,a:220,bf:233.08,b:246.94,c:261.63,cs:277.18,d:293.66,ds:311.13,e:329.63,f:349.23,fs:369.99},{octave:5,gf:369.99,g:392,af:415.3,a:440,bf:466.16,b:493.88,c:523.25,cs:554.37,d:587.33,ds:622.25,e:659.25,f:698.46,fs:739.99},{octave:6,gf:739.99,g:783.99,af:830.61,a:880,bf:932.33,b:987.77,c:1046.5,cs:1108.73,d:1174.66,ds:1244.51,e:1318.51,f:1396.91,fs:1479.98},{octave:7,gf:1479.98,g:1567.98,af:1661.22,a:1760,bf:1864.66,b:1975.53,c:2093,cs:2217.46,d:2349.32,ds:2489.02,e:2637.02,f:2793.83,fs:2959.96}],noteScaleOrder=["gf","g","af","a","bf","b","c","cs","d","ds","e","f","fs"],detuneAmmount={gf:-600,g:-500,af:-400,a:-300,bf:-200,b:-100,c:0,cs:100,d:200,ds:300,e:400,f:500,fs:600};function roundToNote(e,r){let o=5e3,l;for(const p of noteScaleOrder){let f=Math.abs(r[p]-e);f<o&&(o=f,l=p)}return{note_name:l,prev_note:noteScaleOrder[noteScaleOrder.indexOf(l)-1],next_note:noteScaleOrder[noteScaleOrder.indexOf(l)+1],note_freq:r[l],detune:detuneAmmount[l]}}function roundToNoteScale(e){let r;for(const o of noteFreqRange)(o.octave==0&&o.c<=e&&e<o.fs||o.octave==7&&o.gf<=e&&e<=o.fs||o.gf<=e&&e<o.fs)&&(r=o);return r!==void 0?roundToNote(e,r).note_freq:(console.warn("Frequence out of scope. Max possible frequency is 2959.96 and min possible frequency is 16.35."),null)}function determineNoteRange(e,r){var l,p;let o;for(const f of noteFreqRange)(f.octave==0&&f.c<=e&&e<f.fs||f.octave==7&&f.gf<=e&&e<=f.fs||f.gf<=e&&e<f.fs)&&(o=f);if(o!==void 0){let f=roundToNote(e,o);if(r!=null&&r.round)return{octave:o.octave,original_freq:e,freq:f.note_freq,note:f.note_name,detune:f.detune};{let O=f.detune,_=f.note_freq-e,S=0;if(_<0){let v=o[f.prev_note];f.prev_note||(v=(l=noteFreqRange[o.octave-1])==null?void 0:l.f),S=Math.round(-100*Math.abs(_/(v-f.note_freq)))+O,v||(S=O)}else if(_>0){let v=o[f.next_note];f.next_note||(v=(p=noteFreqRange[o.octave+1])==null?void 0:p.g),S=Math.round(100*Math.abs(_/(v-f.note_freq)))+O,v||(S=O)}else S=O;return{octave:o.octave,freq:e,detune:S}}}else return console.warn("Frequence out of scope. Max possible frequency is 2959.96 and min possible frequency is 16.35."),null}async function loadSamples(e,r,o,l){var f;let p={};if(MultiNoteInstruments.includes(r)){for(const O of noteFreqRange){let S=await(await fetch(`${l||""}audio_sample/${r}_c${O.octave}.mp3`)).arrayBuffer(),v=await e.decodeAudioData(S);p[`C${O.octave}`]=v}p.multiNote=!0}else if(SingleNoteInstruments.includes(r))p=await makeSingleScaleSamplingNode(e,`${l||""}audio_sample/${r}.mp3`),p.multiNote=!1;else if(o[r])if((f=o[r].sample)!=null&&f.mono)try{p=await makeSingleScaleSamplingNode(e,o[r].sample.mono),p.multiNote=!1}catch(O){console.error(O)}else try{p=await makeMultiScaleSamplingNode(e,o[r].sample),p.multiNote=!0}catch(O){console.error(O)}else console.warn(`The instrument "${r}" is not supported or sampled.`);return p}async function makeMultiScaleSamplingNode(e,r){let o={},l=Object.keys(r);l.every(scaleKeyCheck)||console.error("A sampling note must be 'C' in octave 0 to 7");for(const p of l){let O=await(await fetch(r[p])).arrayBuffer(),_=await e.decodeAudioData(O);o[p]=_}return o}async function makeSingleScaleSamplingNode(e,r){let o={},p=await(await fetch(r)).arrayBuffer(),f=await e.decodeAudioData(p);return o.mono=f,o}function scaleKeyCheck(e){return e.match(/^[C][0-7]$/)}function unique(e){return Array.from(new Set(e))}function deepcopy(e){return JSON.parse(JSON.stringify(e))}function firstDefined(...e){for(let r of e)if(r!==void 0)return r;return e[e.length-1]}function aRange(e,r,o){let l=[];o&&(r=r+1);for(let p=e;p<r;p++)l.push(p);return l}function round(e,r){let o=Math.pow(10,-r);return Math.round(e*o)/o}const RidLetters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split(""),NRidLetters=RidLetters.length-1;function genRid(e){e||(e=6);let r=[];for(let o=0;o<e;o++){let l=Math.round(Math.random()*NRidLetters);r.push(RidLetters[l])}return r.join("")}function getFirstDefined(...e){for(const r of e)if(r!==void 0)return r;return e[e.length-1]}function asc(e,r){return typeof e=="number"&&typeof r=="number"||(e==null?void 0:e.constructor.name)===Date.name&&(r==null?void 0:r.constructor.name)===Date.name?e-r:e!=null&&e.localeCompare?e.localeCompare(r):e>r||0}function desc$1(e,r){return typeof e=="number"&&typeof r=="number"||(e==null?void 0:e.constructor.name)===Date.name&&(r==null?void 0:r.constructor.name)===Date.name?r-e:r!=null&&r.localeCompare?r.localeCompare(e):r>e||0}const Def_Tick_Interval=.5,Def_Tick_Interval_Beat=2,Def_Tick_Duration=.1,Def_Tick_Duration_Beat=.5,Def_Tick_Loudness=.4;function makeTick(e,r,o,l){if(r){if(o){let p=[],f=round(r.interval,-2),O=r.band;O=round(O,-2);let _=f-O,S=Math.floor(o/f),v=0;r.playAtTime0===void 0&&(r.playAtTime0=!0),r.playAtTime0&&(p.push({tick:O}),v+=O);for(let P=0;P<S;P++)p.push({pause:_}),p.push({tick:O}),v+=_+O;o>v&&p.push({pause:o-v});let s=makeInstrument(e,"default");s.frequency.value=150,r.pitch&&(s.frequency.value=r.pitch),r.oscType&&(s.type=r.oscType);let d=e.createGain();s.connect(d),d.connect(e.destination),d.gain.setValueAtTime(0,e.currentTime);let g=0;for(const P of p)P.tick?(d.gain.setTargetAtTime(r.loudness||Def_Tick_Loudness,e.currentTime+g,.015),g+=P.tick):P.pause&&(d.gain.setTargetAtTime(0,e.currentTime+g,.015),g+=P.pause);return s}}else return}async function playTick(e,r,o,l,p,f){let O=e;f&&(O=makeOfflineContext(o));let _=makeTick(O,r,o);if(_.start(l),_.stop(p),f){let S=await O.startRendering();f.add(l,S)}}const FM="FM",AM="AM",DefCarrierPitch=220,DefModPitch=440,DefaultModGainAM=.5,DefaultModGainFM=10;function makeSynth(e,r){let o=new ErieSynth(e,r.type||FM);return o.generate(r),o}class ErieSynth{constructor(r,o){this.ctx=r,this.frequency=new ErieSynthFrequency(this),this.onended,this.type=o}generate(r){this.type===FM?this.generateFM(r):this.type===AM&&this.generateAM(r)}generateFM(r){this.initDef=r,this.carrier=this.ctx.createOscillator(),this.carrierPitch=r.carrierPitch!==void 0?r.carrierPitch:DefCarrierPitch,this.carrier.frequency.value=this.carrierPitch,this.carrier.type=r.carrierType||"sine",this.carrierType=r.carrierType||"sine",r.carrierDetune&&(this.carrierDetune=r.carrierDetune,this.carrier.detune.value=r.carrierDetune),this.modulator=this.ctx.createOscillator(),this.modulator.type=r.modulatorType||"sine",this.modulatorType=r.modulatorType||"sine",this.modulatorGain=this.ctx.createGain(),this.modulatorVolume=r.modulatorVolume!==void 0?r.modulatorVolume:DefaultModGainFM,this.modulatorGain.gain.value=this.modulatorVolume,r.modulatorPitch!==void 0?this.modulatorPitch=r.modulatorPitch:r.modulation!==void 0?(this.modulation=r.modulation,this.modulatorPitch=this.modulatorVolume/this.modulation):r.harmonicity!==void 0?this.modulatorPitch=r.harmonicity*this.carrierPitch:this.carrierPitch!==void 0?this.modulatorPitch=this.carrierPitch:this.modulatorPitch=DefModPitch,this.modulator.frequency.value=this.modulatorPitch,this.envelope=this.ctx.createGain(),this.attackTime=r.attackTime||.1,this.releaseTime=r.releaseTime||.1,this.sustain=r.sustain||.8,this.decayTime=r.decayTime||.2,this.modulator.connect(this.modulatorGain),this.modulatorGain.connect(this.carrier.frequency),this.carrier.connect(this.envelope)}generateAM(r){this.initDef=r,this.carrier=this.ctx.createOscillator(),this.carrierPitch=r.carrierPitch!==void 0?r.carrierPitch:DefCarrierPitch,this.carrier.frequency.value=this.carrierPitch,this.carrier.type=r.carrierType||"sine",this.carrierType=r.carrierType||"sine",r.carrierDetune&&(this.carrierDetune=r.carrierDetune,this.carrier.detune.value=r.carrierDetune),this.carrierVolume=r.carrierVolume||1,this.modulator=this.ctx.createOscillator(),this.modulator.type=r.modulatorType||"sine",this.modulatorType=r.modulatorType||"sine",this.modulatorGain=this.ctx.createGain(),r.modulation!==void 0?(this.modulation=r.modulation,this.modulatorVolume=(this.carrierVolume||1)*this.modulation):this.modulatorVolume=r.modulatorVolume!==void 0?r.modulatorVolume:DefaultModGainAM,this.modulatorGain.gain.value=this.modulatorVolume,r.modulatorPitch!==void 0?this.modulatorPitch=r.modulatorPitch:r.harmonicity!==void 0?this.modulatorPitch=r.harmonicity*this.carrierPitch:this.carrierPitch!==void 0?this.modulatorPitch=this.carrierPitch:this.modulatorPitch=DefModPitch,this.modulator.frequency.value=this.modulatorPitch,this.envelope=this.ctx.createGain(),this.attackTime=r.attackTime||.1,this.releaseTime=r.releaseTime||.05,this.sustain=r.sustain||.8,this.decayTime=r.decayTime||.1,this.modulator.connect(this.modulatorGain.gain),this.carrier.connect(this.modulatorGain),this.modulatorGain.connect(this.envelope)}connect(r){this.envelope.connect(r)}start(r){this.carrier.start(r),this.modulator.start(r)}stop(r){this.carrier.onended=this.onended,this.carrier.stop(r+this.attackTime+this.releaseTime),this.modulator.stop(r+this.attackTime+this.releaseTime)}}class ErieSynthFrequency{constructor(r){this.value=DefModPitch,this.automationRate="a-rate",this.maxValue=22050,this.minValue=-22055,this.synther=r}setValueAtTime(r,o){this.synther.carrier.frequency.setValueAtTime(r,o)}setTargetAtTime(r,o){this.synther.carrier.frequency.setTargetAtTime(r,o)}linearRampToValueAtTime(r,o){this.synther.carrier.frequency.linearRampToValueAtTime(r,o)}exponentialRampToValueAtTime(r,o){this.synther.carrier.frequency.exponentialRampToValueAtTime(r,o)}setValueCurveAtTime(r,o,l){this.synther.carrier.frequency.setValueCurveAtTime(r,o,l)}}const createExtendedExponentialRampToValueAutomationEvent=(e,r,o)=>({endTime:r,insertTime:o,type:"exponentialRampToValue",value:e}),createExtendedLinearRampToValueAutomationEvent=(e,r,o)=>({endTime:r,insertTime:o,type:"linearRampToValue",value:e}),createSetValueAutomationEvent=(e,r)=>({startTime:r,type:"setValue",value:e}),createSetValueCurveAutomationEvent=(e,r,o)=>({duration:o,startTime:r,type:"setValueCurve",values:e}),getTargetValueAtTime=(e,r,{startTime:o,target:l,timeConstant:p})=>l+(r-l)*Math.exp((o-e)/p),isExponentialRampToValueAutomationEvent=e=>e.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=e=>e.type==="linearRampToValue",isAnyRampToValueAutomationEvent=e=>isExponentialRampToValueAutomationEvent(e)||isLinearRampToValueAutomationEvent(e),isSetValueAutomationEvent=e=>e.type==="setValue",isSetValueCurveAutomationEvent=e=>e.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(e,r,o,l)=>{const p=e[r];return p===void 0?l:isAnyRampToValueAutomationEvent(p)||isSetValueAutomationEvent(p)?p.value:isSetValueCurveAutomationEvent(p)?p.values[p.values.length-1]:getTargetValueAtTime(o,getValueOfAutomationEventAtIndexAtTime(e,r-1,p.startTime,l),p)},getEndTimeAndValueOfPreviousAutomationEvent=(e,r,o,l,p)=>o===void 0?[l.insertTime,p]:isAnyRampToValueAutomationEvent(o)?[o.endTime,o.value]:isSetValueAutomationEvent(o)?[o.startTime,o.value]:isSetValueCurveAutomationEvent(o)?[o.startTime+o.duration,o.values[o.values.length-1]]:[o.startTime,getValueOfAutomationEventAtIndexAtTime(e,r-1,o.startTime,p)],isCancelAndHoldAutomationEvent=e=>e.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=e=>e.type==="cancelScheduledValues",getEventTime=e=>isCancelAndHoldAutomationEvent(e)||isCancelScheduledValuesAutomationEvent(e)?e.cancelTime:isExponentialRampToValueAutomationEvent(e)||isLinearRampToValueAutomationEvent(e)?e.endTime:e.startTime,getExponentialRampValueAtTime=(e,r,o,{endTime:l,value:p})=>o===p?p:0<o&&0<p||o<0&&p<0?o*(p/o)**((e-r)/(l-r)):0,getLinearRampValueAtTime=(e,r,o,{endTime:l,value:p})=>o+(e-r)/(l-r)*(p-o),interpolateValue=(e,r)=>{const o=Math.floor(r),l=Math.ceil(r);return o===l?e[o]:(1-(r-o))*e[o]+(1-(l-r))*e[l]},getValueCurveValueAtTime=(e,{duration:r,startTime:o,values:l})=>{const p=(e-o)/r*(l.length-1);return interpolateValue(l,p)},isSetTargetAutomationEvent=e=>e.type==="setTarget";class AutomationEventList{constructor(r){this._automationEvents=[],this._currenTime=0,this._defaultValue=r}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(r){const o=getEventTime(r);if(isCancelAndHoldAutomationEvent(r)||isCancelScheduledValuesAutomationEvent(r)){const l=this._automationEvents.findIndex(f=>isCancelScheduledValuesAutomationEvent(r)&&isSetValueCurveAutomationEvent(f)?f.startTime+f.duration>=o:getEventTime(f)>=o),p=this._automationEvents[l];if(l!==-1&&(this._automationEvents=this._automationEvents.slice(0,l)),isCancelAndHoldAutomationEvent(r)){const f=this._automationEvents[this._automationEvents.length-1];if(p!==void 0&&isAnyRampToValueAutomationEvent(p)){if(f!==void 0&&isSetTargetAutomationEvent(f))throw new Error("The internal list is malformed.");const O=f===void 0?p.insertTime:isSetValueCurveAutomationEvent(f)?f.startTime+f.duration:getEventTime(f),_=f===void 0?this._defaultValue:isSetValueCurveAutomationEvent(f)?f.values[f.values.length-1]:f.value,S=isExponentialRampToValueAutomationEvent(p)?getExponentialRampValueAtTime(o,O,_,p):getLinearRampValueAtTime(o,O,_,p),v=isExponentialRampToValueAutomationEvent(p)?createExtendedExponentialRampToValueAutomationEvent(S,o,this._currenTime):createExtendedLinearRampToValueAutomationEvent(S,o,this._currenTime);this._automationEvents.push(v)}if(f!==void 0&&isSetTargetAutomationEvent(f)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue(o),o)),f!==void 0&&isSetValueCurveAutomationEvent(f)&&f.startTime+f.duration>o){const O=o-f.startTime,_=(f.values.length-1)/f.duration,S=Math.max(2,1+Math.ceil(O*_)),v=O/(S-1)*_,s=f.values.slice(0,S);if(v<1)for(let d=1;d<S;d+=1){const g=v*d%1;s[d]=f.values[d-1]*(1-g)+f.values[d]*g}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(s,f.startTime,O)}}}else{const l=this._automationEvents.findIndex(O=>getEventTime(O)>o),p=l===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[l-1];if(p!==void 0&&isSetValueCurveAutomationEvent(p)&&getEventTime(p)+p.duration>o)return!1;const f=isExponentialRampToValueAutomationEvent(r)?createExtendedExponentialRampToValueAutomationEvent(r.value,r.endTime,this._currenTime):isLinearRampToValueAutomationEvent(r)?createExtendedLinearRampToValueAutomationEvent(r.value,o,this._currenTime):r;if(l===-1)this._automationEvents.push(f);else{if(isSetValueCurveAutomationEvent(r)&&o+r.duration>getEventTime(this._automationEvents[l]))return!1;this._automationEvents.splice(l,0,f)}}return!0}flush(r){const o=this._automationEvents.findIndex(l=>getEventTime(l)>r);if(o>1){const l=this._automationEvents.slice(o-1),p=l[0];isSetTargetAutomationEvent(p)&&l.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,o-2,p.startTime,this._defaultValue),p.startTime)),this._automationEvents=l}}getValue(r){if(this._automationEvents.length===0)return this._defaultValue;const o=this._automationEvents.findIndex(O=>getEventTime(O)>r),l=this._automationEvents[o],p=(o===-1?this._automationEvents.length:o)-1,f=this._automationEvents[p];if(f!==void 0&&isSetTargetAutomationEvent(f)&&(l===void 0||!isAnyRampToValueAutomationEvent(l)||l.insertTime>r))return getTargetValueAtTime(r,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,p-1,f.startTime,this._defaultValue),f);if(f!==void 0&&isSetValueAutomationEvent(f)&&(l===void 0||!isAnyRampToValueAutomationEvent(l)))return f.value;if(f!==void 0&&isSetValueCurveAutomationEvent(f)&&(l===void 0||!isAnyRampToValueAutomationEvent(l)||f.startTime+f.duration>r))return r<f.startTime+f.duration?getValueCurveValueAtTime(r,f):f.values[f.values.length-1];if(f!==void 0&&isAnyRampToValueAutomationEvent(f)&&(l===void 0||!isAnyRampToValueAutomationEvent(l)))return f.value;if(l!==void 0&&isExponentialRampToValueAutomationEvent(l)){const[O,_]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,p,f,l,this._defaultValue);return getExponentialRampValueAtTime(r,O,_,l)}if(l!==void 0&&isLinearRampToValueAutomationEvent(l)){const[O,_]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,p,f,l,this._defaultValue);return getLinearRampValueAtTime(r,O,_,l)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=e=>({cancelTime:e,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=e=>({cancelTime:e,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(e,r)=>({endTime:r,type:"exponentialRampToValue",value:e}),createLinearRampToValueAutomationEvent=(e,r)=>({endTime:r,type:"linearRampToValue",value:e}),createSetTargetAutomationEvent=(e,r,o)=>({startTime:r,target:e,timeConstant:o,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=e=>(r,o,[l,p,f],O)=>{e(r[p],[o,l,f],_=>_[0]===o&&_[1]===l,O)},createAddAudioNodeConnections=e=>(r,o,l)=>{const p=[];for(let f=0;f<l.numberOfInputs;f+=1)p.push(new Set);e.set(r,{activeInputs:p,outputs:new Set,passiveInputs:new WeakMap,renderer:o})},createAddAudioParamConnections=e=>(r,o)=>{e.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:o})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=e=>{try{const r=new Proxy(e,handler);new r}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(e,r)=>{const o=[];let l=e.replace(/^[\s]+/,""),p=l.match(IMPORT_STATEMENT_REGEX);for(;p!==null;){const f=p[1].slice(1,-1),O=p[0].replace(/([\s]+)?;?$/,"").replace(f,new URL(f,r).toString());o.push(O),l=l.slice(p[0].length).replace(/^[\s]+/,""),p=l.match(IMPORT_STATEMENT_REGEX)}return[o.join(";"),l]},verifyParameterDescriptors=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=e=>{if(!isConstructible(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(e,r,o,l,p,f,O,_,S,v,s,d,g)=>{let P=0;return(R,I,j={credentials:"omit"})=>{const L=s.get(R);if(L!==void 0&&L.has(I))return Promise.resolve();const G=v.get(R);if(G!==void 0){const W=G.get(I);if(W!==void 0)return W}const J=f(R),Q=J.audioWorklet===void 0?p(I).then(([W,Z])=>{const[te,ee]=splitImportStatements(W,Z),ie=`${te};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${ee}
})})(window,'_AWGS')`;return o(ie)}).then(()=>{const W=g._AWGS.pop();if(W===void 0)throw new SyntaxError;l(J.currentTime,J.sampleRate,()=>W(class{},void 0,(Z,te)=>{if(Z.trim()==="")throw r();const ee=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(J);if(ee!==void 0){if(ee.has(Z))throw r();verifyProcessorCtor(te),verifyParameterDescriptors(te.parameterDescriptors),ee.set(Z,te)}else verifyProcessorCtor(te),verifyParameterDescriptors(te.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(J,new Map([[Z,te]]))},J.sampleRate,void 0,void 0))}):Promise.all([p(I),Promise.resolve(e(d,d))]).then(([[W,Z],te])=>{const ee=P+1;P=ee;const[ie,oe]=splitImportStatements(W,Z),pe=`${ie};((AudioWorkletProcessor,registerProcessor)=>{${oe}
})(${te?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${te?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${te?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${ee}',class extends AudioWorkletProcessor{process(){return !1}})`,fe=new Blob([pe],{type:"application/javascript; charset=utf-8"}),he=URL.createObjectURL(fe);return J.audioWorklet.addModule(he,j).then(()=>{if(_(J))return J;const ge=O(J);return ge.audioWorklet.addModule(he,j).then(()=>ge)}).then(ge=>{if(S===null)throw new SyntaxError;try{new S(ge,`__sac${ee}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(he))});return G===void 0?v.set(R,new Map([[I,Q]])):G.set(I,Q),Q.then(()=>{const W=s.get(R);W===void 0?s.set(R,new Set([I])):W.add(I)}).finally(()=>{const W=v.get(R);W!==void 0&&W.delete(I)}),Q}},getValueForKey=(e,r)=>{const o=e.get(r);if(o===void 0)throw new Error("A value with the given key could not be found.");return o},pickElementFromSet=(e,r)=>{const o=Array.from(e).filter(r);if(o.length>1)throw Error("More than one element was found.");if(o.length===0)throw Error("No element was found.");const[l]=o;return e.delete(l),l},deletePassiveInputConnectionToAudioNode=(e,r,o,l)=>{const p=getValueForKey(e,r),f=pickElementFromSet(p,O=>O[0]===o&&O[1]===l);return p.size===0&&e.delete(r),f},getEventListenersOfAudioNode=e=>getValueForKey(EVENT_LISTENERS,e),setInternalStateToActive=e=>{if(ACTIVE_AUDIO_NODE_STORE.has(e))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(e),getEventListenersOfAudioNode(e).forEach(r=>r(!0))},isAudioWorkletNode=e=>"port"in e,setInternalStateToPassive=e=>{if(!ACTIVE_AUDIO_NODE_STORE.has(e))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(e),getEventListenersOfAudioNode(e).forEach(r=>r(!1))},setInternalStateToPassiveWhenNecessary=(e,r)=>{!isAudioWorkletNode(e)&&r.every(o=>o.size===0)&&setInternalStateToPassive(e)},createAddConnectionToAudioNode=(e,r,o,l,p,f,O,_,S,v,s,d,g)=>{const P=new WeakMap;return(R,I,j,L,G)=>{const{activeInputs:J,passiveInputs:Q}=f(I),{outputs:W}=f(R),Z=_(R),te=ee=>{const ie=S(I),oe=S(R);if(ee){const se=deletePassiveInputConnectionToAudioNode(Q,R,j,L);e(J,R,se,!1),!G&&!d(R)&&o(oe,ie,j,L),g(I)&&setInternalStateToActive(I)}else{const se=l(J,R,j,L);r(Q,L,se,!1),!G&&!d(R)&&p(oe,ie,j,L);const le=O(I);if(le===0)s(I)&&setInternalStateToPassiveWhenNecessary(I,J);else{const de=P.get(I);de!==void 0&&clearTimeout(de),P.set(I,setTimeout(()=>{s(I)&&setInternalStateToPassiveWhenNecessary(I,J)},le*1e3))}}};return v(W,[I,j,L],ee=>ee[0]===I&&ee[1]===j&&ee[2]===L,!0)?(Z.add(te),s(R)?e(J,R,[j,L,te],!0):r(Q,L,[R,j,te],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=e=>(r,o,[l,p,f],O)=>{const _=r.get(l);_===void 0?r.set(l,new Set([[p,o,f]])):e(_,[p,o,f],S=>S[0]===p&&S[1]===o,O)},createAddSilentConnection=e=>(r,o)=>{const l=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.connect(l).connect(r.destination);const p=()=>{o.removeEventListener("ended",p),o.disconnect(l),l.disconnect()};o.addEventListener("ended",p)},DEFAULT_OPTIONS$h={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},createAnalyserNodeConstructor=(e,r,o,l,p,f)=>class extends e{constructor(_,S){const v=p(_),s={...DEFAULT_OPTIONS$h,...S},d=l(v,s),g=f(v)?r():null;super(_,!1,d,g),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(_){this._nativeAnalyserNode.fftSize=_}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(_){const S=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=_,!(_>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=S,o()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(_){const S=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=_,!(this._nativeAnalyserNode.maxDecibels>_))throw this._nativeAnalyserNode.minDecibels=S,o()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(_){this._nativeAnalyserNode.smoothingTimeConstant=_}getByteFrequencyData(_){this._nativeAnalyserNode.getByteFrequencyData(_)}getByteTimeDomainData(_){this._nativeAnalyserNode.getByteTimeDomainData(_)}getFloatFrequencyData(_){this._nativeAnalyserNode.getFloatFrequencyData(_)}getFloatTimeDomainData(_){this._nativeAnalyserNode.getFloatTimeDomainData(_)}},isOwnedByContext=(e,r)=>e.context===r,createAnalyserNodeRendererFactory=(e,r,o)=>()=>{const l=new WeakMap,p=async(f,O)=>{let _=r(f);if(!isOwnedByContext(_,O)){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,fftSize:_.fftSize,maxDecibels:_.maxDecibels,minDecibels:_.minDecibels,smoothingTimeConstant:_.smoothingTimeConstant};_=e(O,v)}return l.set(O,_),await o(f,O,_),_};return{render(f,O){const _=l.get(O);return _!==void 0?Promise.resolve(_):p(f,O)}}},testAudioBufferCopyChannelMethodsOutOfBoundsSupport=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=e=>{e.getChannelData=(r=>o=>{try{return r.call(e,o)}catch(l){throw l.code===12?createIndexSizeError():l}})(e.getChannelData)},DEFAULT_OPTIONS$g={numberOfChannels:1},createAudioBufferConstructor=(e,r,o,l,p,f,O,_)=>{let S=null;return class Pt{constructor(s){if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:g,sampleRate:P}={...DEFAULT_OPTIONS$g,...s};S===null&&(S=new p(1,1,44100));const R=l!==null&&r(f,f)?new l({length:d,numberOfChannels:g,sampleRate:P}):S.createBuffer(g,d,P);if(R.numberOfChannels===0)throw o();return typeof R.copyFromChannel!="function"?(O(R),wrapAudioBufferGetChannelDataMethod(R)):r(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(R))||_(R),e.add(R),R}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===Pt.prototype||e.has(s)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=e=>ACTIVE_AUDIO_NODE_STORE.has(e),DEFAULT_OPTIONS$f={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(e,r,o,l,p,f,O,_)=>class extends e{constructor(v,s){const d=f(v),g={...DEFAULT_OPTIONS$f,...s},P=p(d,g),R=O(d),I=R?r():null;super(v,!1,P,I),this._audioBufferSourceNodeRenderer=I,this._isBufferNullified=!1,this._isBufferSet=g.buffer!==null,this._nativeAudioBufferSourceNode=P,this._onended=null,this._playbackRate=o(this,R,P.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(v){if(this._nativeAudioBufferSourceNode.buffer=v,v!==null){if(this._isBufferSet)throw l();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(v){this._nativeAudioBufferSourceNode.loop=v}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(v){this._nativeAudioBufferSourceNode.loopEnd=v}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(v){this._nativeAudioBufferSourceNode.loopStart=v}get onended(){return this._onended}set onended(v){const s=typeof v=="function"?_(this,v):null;this._nativeAudioBufferSourceNode.onended=s;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===s?v:d}get playbackRate(){return this._playbackRate}start(v=0,s=0,d){if(this._nativeAudioBufferSourceNode.start(v,s,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[v,s]:[v,s,d]),this.context.state!=="closed"){setInternalStateToActive(this);const g=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",g),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",g)}}stop(v=0){this._nativeAudioBufferSourceNode.stop(v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=v)}},createAudioBufferSourceNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap;let O=null,_=null;const S=async(v,s)=>{let d=o(v);const g=isOwnedByContext(d,s);if(!g){const P={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=r(s,P),O!==null&&d.start(...O),_!==null&&d.stop(_)}return f.set(s,d),g?await e(s,v.playbackRate,d.playbackRate):await l(s,v.playbackRate,d.playbackRate),await p(v,s,d),d};return{set start(v){O=v},set stop(v){_=v},render(v,s){const d=f.get(s);return d!==void 0?Promise.resolve(d):S(v,s)}}},isAudioBufferSourceNode=e=>"playbackRate"in e,isBiquadFilterNode=e=>"frequency"in e&&"gain"in e,isConstantSourceNode=e=>"offset"in e,isGainNode=e=>!("frequency"in e)&&"gain"in e,isOscillatorNode=e=>"detune"in e&&"frequency"in e&&!("gain"in e),isStereoPannerNode=e=>"pan"in e,getAudioNodeConnections=e=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,e),getAudioParamConnections=e=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,e),deactivateActiveAudioNodeInputConnections=(e,r)=>{const{activeInputs:o}=getAudioNodeConnections(e);o.forEach(p=>p.forEach(([f])=>{r.includes(e)||deactivateActiveAudioNodeInputConnections(f,[...r,e])}));const l=isAudioBufferSourceNode(e)?[e.playbackRate]:isAudioWorkletNode(e)?Array.from(e.parameters.values()):isBiquadFilterNode(e)?[e.Q,e.detune,e.frequency,e.gain]:isConstantSourceNode(e)?[e.offset]:isGainNode(e)?[e.gain]:isOscillatorNode(e)?[e.detune,e.frequency]:isStereoPannerNode(e)?[e.pan]:[];for(const p of l){const f=getAudioParamConnections(p);f!==void 0&&f.activeInputs.forEach(([O])=>deactivateActiveAudioNodeInputConnections(O,r))}isActiveAudioNode(e)&&setInternalStateToPassive(e)},deactivateAudioGraph=e=>{deactivateActiveAudioNodeInputConnections(e.destination,[])},isValidLatencyHint=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),createAudioContextConstructor=(e,r,o,l,p,f,O,_,S)=>class extends e{constructor(s={}){if(S===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new S(s)}catch(R){throw R.code===12&&R.message==="sampleRate is not in range"?o():R}if(d===null)throw l();if(!isValidLatencyHint(s.latencyHint))throw new TypeError(`The provided value '${s.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(s.sampleRate!==void 0&&d.sampleRate!==s.sampleRate)throw o();super(d,2);const{latencyHint:g}=s,{sampleRate:P}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:g==="balanced"?512/P:g==="interactive"||g===void 0?256/P:g==="playback"?1024/P:Math.max(2,Math.min(128,Math.round(g*P/128)))*128/P,this._nativeAudioContext=d,S.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const R=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",R)};d.addEventListener("statechange",R)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw r()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}createMediaElementSource(s){return new p(this,{mediaElement:s})}createMediaStreamDestination(){return new f(this)}createMediaStreamSource(s){return new O(this,{mediaStream:s})}createMediaStreamTrackSource(s){return new _(this,{mediaStreamTrack:s})}resume(){return this._state==="suspended"?new Promise((s,d)=>{const g=()=>{this._nativeAudioContext.removeEventListener("statechange",g),this._nativeAudioContext.state==="running"?s():this.resume().then(s,d)};this._nativeAudioContext.addEventListener("statechange",g)}):this._nativeAudioContext.resume().catch(s=>{throw s===void 0||s.code===15?r():s})}suspend(){return this._nativeAudioContext.suspend().catch(s=>{throw s===void 0?r():s})}},createAudioDestinationNodeConstructor=(e,r,o,l,p,f,O,_)=>class extends e{constructor(v,s){const d=f(v),g=O(d),P=p(d,s,g),R=g?r(_):null;super(v,!1,P,R),this._isNodeOfNativeOfflineAudioContext=g,this._nativeAudioDestinationNode=P}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(v){if(this._isNodeOfNativeOfflineAudioContext)throw l();if(v>this._nativeAudioDestinationNode.maxChannelCount)throw o();this._nativeAudioDestinationNode.channelCount=v}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(v){if(this._isNodeOfNativeOfflineAudioContext)throw l();this._nativeAudioDestinationNode.channelCountMode=v}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=e=>{const r=new WeakMap,o=async(l,p)=>{const f=p.destination;return r.set(p,f),await e(l,p,f),f};return{render(l,p){const f=r.get(p);return f!==void 0?Promise.resolve(f):o(l,p)}}},createAudioListenerFactory=(e,r,o,l,p,f,O,_)=>(S,v)=>{const s=v.listener,d=()=>{const W=new Float32Array(1),Z=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),te=O(v);let ee=!1,ie=[0,0,-1,0,1,0],oe=[0,0,0];const se=()=>{if(ee)return;ee=!0;const fe=l(v,256,9,0);fe.onaudioprocess=({inputBuffer:he})=>{const ge=[f(he,W,0),f(he,W,1),f(he,W,2),f(he,W,3),f(he,W,4),f(he,W,5)];ge.some((ye,ve)=>ye!==ie[ve])&&(s.setOrientation(...ge),ie=ge);const me=[f(he,W,6),f(he,W,7),f(he,W,8)];me.some((ye,ve)=>ye!==oe[ve])&&(s.setPosition(...me),oe=me)},Z.connect(fe)},le=fe=>he=>{he!==ie[fe]&&(ie[fe]=he,s.setOrientation(...ie))},de=fe=>he=>{he!==oe[fe]&&(oe[fe]=he,s.setPosition(...oe))},pe=(fe,he,ge)=>{const me=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he});me.connect(Z,0,fe),me.start(),Object.defineProperty(me.offset,"defaultValue",{get(){return he}});const ye=e({context:S},te,me.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return _(ye,"value",ve=>()=>ve.call(ye),ve=>Ae=>{try{ve.call(ye,Ae)}catch(Pe){if(Pe.code!==9)throw Pe}se(),te&&ge(Ae)}),ye.cancelAndHoldAtTime=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.cancelAndHoldAtTime),ye.cancelScheduledValues=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.cancelScheduledValues),ye.exponentialRampToValueAtTime=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.exponentialRampToValueAtTime),ye.linearRampToValueAtTime=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.linearRampToValueAtTime),ye.setTargetAtTime=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.setTargetAtTime),ye.setValueAtTime=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.setValueAtTime),ye.setValueCurveAtTime=(ve=>te?()=>{throw p()}:(...Ae)=>{const Pe=ve.apply(ye,Ae);return se(),Pe})(ye.setValueCurveAtTime),ye};return{forwardX:pe(0,0,le(0)),forwardY:pe(1,0,le(1)),forwardZ:pe(2,-1,le(2)),positionX:pe(6,0,de(0)),positionY:pe(7,0,de(1)),positionZ:pe(8,0,de(2)),upX:pe(3,0,le(3)),upY:pe(4,1,le(4)),upZ:pe(5,0,le(5))}},{forwardX:g,forwardY:P,forwardZ:R,positionX:I,positionY:j,positionZ:L,upX:G,upY:J,upZ:Q}=s.forwardX===void 0?d():s;return{get forwardX(){return g},get forwardY(){return P},get forwardZ(){return R},get positionX(){return I},get positionY(){return j},get positionZ(){return L},get upX(){return G},get upY(){return J},get upZ(){return Q}}},isAudioNode=e=>"context"in e,isAudioNodeOutputConnection=e=>isAudioNode(e[0]),insertElementInSet=(e,r,o,l)=>{for(const p of e)if(o(p)){if(l)return!1;throw Error("The set contains at least one similar element.")}return e.add(r),!0},addActiveInputConnectionToAudioParam=(e,r,[o,l],p)=>{insertElementInSet(e,[r,o,l],f=>f[0]===r&&f[1]===o,p)},addPassiveInputConnectionToAudioParam=(e,[r,o,l],p)=>{const f=e.get(r);f===void 0?e.set(r,new Set([[o,l]])):insertElementInSet(f,[o,l],O=>O[0]===o,p)},isNativeAudioNodeFaker=e=>"inputs"in e,connectNativeAudioNodeToNativeAudioNode=(e,r,o,l)=>{if(isNativeAudioNodeFaker(r)){const p=r.inputs[l];return e.connect(p,o,0),[p,o,0]}return e.connect(r,o,l),[r,o,l]},deleteActiveInputConnection=(e,r,o)=>{for(const l of e)if(l[0]===r&&l[1]===o)return e.delete(l),l;return null},deleteActiveInputConnectionToAudioParam=(e,r,o)=>pickElementFromSet(e,l=>l[0]===r&&l[1]===o),deleteEventListenerOfAudioNode=(e,r)=>{if(!getEventListenersOfAudioNode(e).delete(r))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(e,r,o)=>{const l=getValueForKey(e,r),p=pickElementFromSet(l,f=>f[0]===o);return l.size===0&&e.delete(r),p},disconnectNativeAudioNodeFromNativeAudioNode=(e,r,o,l)=>{isNativeAudioNodeFaker(r)?e.disconnect(r.inputs[l],o,0):e.disconnect(r,o,l)},getNativeAudioNode=e=>getValueForKey(AUDIO_NODE_STORE,e),getNativeAudioParam=e=>getValueForKey(AUDIO_PARAM_STORE,e),isPartOfACycle=e=>CYCLE_COUNTERS.has(e),isPassiveAudioNode=e=>!ACTIVE_AUDIO_NODE_STORE.has(e),testAudioNodeDisconnectMethodSupport=(e,r)=>new Promise(o=>{if(r!==null)o(!0);else{const l=e.createScriptProcessor(256,1,1),p=e.createGain(),f=e.createBuffer(1,2,44100),O=f.getChannelData(0);O[0]=1,O[1]=1;const _=e.createBufferSource();_.buffer=f,_.loop=!0,_.connect(l).connect(e.destination),_.connect(p),_.disconnect(p),l.onaudioprocess=S=>{const v=S.inputBuffer.getChannelData(0);Array.prototype.some.call(v,s=>s===1)?o(!0):o(!1),_.stop(),l.onaudioprocess=null,_.disconnect(l),l.disconnect(e.destination)},_.start()}}),visitEachAudioNodeOnce=(e,r)=>{const o=new Map;for(const l of e)for(const p of l){const f=o.get(p);o.set(p,f===void 0?1:f+1)}o.forEach((l,p)=>r(p,l))},isNativeAudioNode$1=e=>"context"in e,wrapAudioNodeDisconnectMethod=e=>{const r=new Map;e.connect=(o=>(l,p=0,f=0)=>{const O=isNativeAudioNode$1(l)?o(l,p,f):o(l,p),_=r.get(l);return _===void 0?r.set(l,[{input:f,output:p}]):_.every(S=>S.input!==f||S.output!==p)&&_.push({input:f,output:p}),O})(e.connect.bind(e)),e.disconnect=(o=>(l,p,f)=>{if(o.apply(e),l===void 0)r.clear();else if(typeof l=="number")for(const[O,_]of r){const S=_.filter(v=>v.output!==l);S.length===0?r.delete(O):r.set(O,S)}else if(r.has(l))if(p===void 0)r.delete(l);else{const O=r.get(l);if(O!==void 0){const _=O.filter(S=>S.output!==p&&(S.input!==f||f===void 0));_.length===0?r.delete(l):r.set(l,_)}}for(const[O,_]of r)_.forEach(S=>{isNativeAudioNode$1(O)?e.connect(O,S.output,S.input):e.connect(O,S.output)})})(e.disconnect)},addConnectionToAudioParamOfAudioContext=(e,r,o,l)=>{const{activeInputs:p,passiveInputs:f}=getAudioParamConnections(r),{outputs:O}=getAudioNodeConnections(e),_=getEventListenersOfAudioNode(e),S=v=>{const s=getNativeAudioNode(e),d=getNativeAudioParam(r);if(v){const g=deletePassiveInputConnectionToAudioParam(f,e,o);addActiveInputConnectionToAudioParam(p,e,g,!1),!l&&!isPartOfACycle(e)&&s.connect(d,o)}else{const g=deleteActiveInputConnectionToAudioParam(p,e,o);addPassiveInputConnectionToAudioParam(f,g,!1),!l&&!isPartOfACycle(e)&&s.disconnect(d,o)}};return insertElementInSet(O,[r,o],v=>v[0]===r&&v[1]===o,!0)?(_.add(S),isActiveAudioNode(e)?addActiveInputConnectionToAudioParam(p,e,[o,S],!0):addPassiveInputConnectionToAudioParam(f,[e,o,S],!0),!0):!1},deleteInputConnectionOfAudioNode=(e,r,o,l)=>{const{activeInputs:p,passiveInputs:f}=getAudioNodeConnections(r),O=deleteActiveInputConnection(p[l],e,o);return O===null?[deletePassiveInputConnectionToAudioNode(f,e,o,l)[2],!1]:[O[2],!0]},deleteInputConnectionOfAudioParam=(e,r,o)=>{const{activeInputs:l,passiveInputs:p}=getAudioParamConnections(r),f=deleteActiveInputConnection(l,e,o);return f===null?[deletePassiveInputConnectionToAudioParam(p,e,o)[1],!1]:[f[2],!0]},deleteInputsOfAudioNode=(e,r,o,l,p)=>{const[f,O]=deleteInputConnectionOfAudioNode(e,o,l,p);if(f!==null&&(deleteEventListenerOfAudioNode(e,f),O&&!r&&!isPartOfACycle(e)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(e),getNativeAudioNode(o),l,p)),isActiveAudioNode(o)){const{activeInputs:_}=getAudioNodeConnections(o);setInternalStateToPassiveWhenNecessary(o,_)}},deleteInputsOfAudioParam=(e,r,o,l)=>{const[p,f]=deleteInputConnectionOfAudioParam(e,o,l);p!==null&&(deleteEventListenerOfAudioNode(e,p),f&&!r&&!isPartOfACycle(e)&&getNativeAudioNode(e).disconnect(getNativeAudioParam(o),l))},deleteAnyConnection=(e,r)=>{const o=getAudioNodeConnections(e),l=[];for(const p of o.outputs)isAudioNodeOutputConnection(p)?deleteInputsOfAudioNode(e,r,...p):deleteInputsOfAudioParam(e,r,...p),l.push(p[0]);return o.outputs.clear(),l},deleteConnectionAtOutput=(e,r,o)=>{const l=getAudioNodeConnections(e),p=[];for(const f of l.outputs)f[1]===o&&(isAudioNodeOutputConnection(f)?deleteInputsOfAudioNode(e,r,...f):deleteInputsOfAudioParam(e,r,...f),p.push(f[0]),l.outputs.delete(f));return p},deleteConnectionToDestination=(e,r,o,l,p)=>{const f=getAudioNodeConnections(e);return Array.from(f.outputs).filter(O=>O[0]===o&&(l===void 0||O[1]===l)&&(p===void 0||O[2]===p)).map(O=>(isAudioNodeOutputConnection(O)?deleteInputsOfAudioNode(e,r,...O):deleteInputsOfAudioParam(e,r,...O),f.outputs.delete(O),O[0]))},createAudioNodeConstructor=(e,r,o,l,p,f,O,_,S,v,s,d,g,P,R,I)=>class extends v{constructor(L,G,J,Q){super(J),this._context=L,this._nativeAudioNode=J;const W=s(L);d(W)&&o(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(W,I))!==!0&&wrapAudioNodeDisconnectMethod(J),AUDIO_NODE_STORE.set(this,J),EVENT_LISTENERS.set(this,new Set),L.state!=="closed"&&G&&setInternalStateToActive(this),e(this,Q,J)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(L){this._nativeAudioNode.channelCount=L}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(L){this._nativeAudioNode.channelCountMode=L}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(L){this._nativeAudioNode.channelInterpretation=L}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(L,G=0,J=0){if(G<0||G>=this._nativeAudioNode.numberOfOutputs)throw p();const Q=s(this._context),W=R(Q);if(g(L)||P(L))throw f();if(isAudioNode(L)){const ee=getNativeAudioNode(L);try{const oe=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,ee,G,J),se=isPassiveAudioNode(this);(W||se)&&this._nativeAudioNode.disconnect(...oe),this.context.state!=="closed"&&!se&&isPassiveAudioNode(L)&&setInternalStateToActive(L)}catch(oe){throw oe.code===12?f():oe}if(r(this,L,G,J,W)){const oe=S([this],L);visitEachAudioNodeOnce(oe,l(W))}return L}const Z=getNativeAudioParam(L);if(Z.name==="playbackRate"&&Z.maxValue===1024)throw O();try{this._nativeAudioNode.connect(Z,G),(W||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(Z,G)}catch(ee){throw ee.code===12?f():ee}if(addConnectionToAudioParamOfAudioContext(this,L,G,W)){const ee=S([this],L);visitEachAudioNodeOnce(ee,l(W))}}disconnect(L,G,J){let Q;const W=s(this._context),Z=R(W);if(L===void 0)Q=deleteAnyConnection(this,Z);else if(typeof L=="number"){if(L<0||L>=this.numberOfOutputs)throw p();Q=deleteConnectionAtOutput(this,Z,L)}else{if(G!==void 0&&(G<0||G>=this.numberOfOutputs)||isAudioNode(L)&&J!==void 0&&(J<0||J>=L.numberOfInputs))throw p();if(Q=deleteConnectionToDestination(this,Z,L,G,J),Q.length===0)throw f()}for(const te of Q){const ee=S([this],te);visitEachAudioNodeOnce(ee,_)}}},createAudioParamFactory=(e,r,o,l,p,f,O,_,S,v,s,d,g)=>(P,R,I,j=null,L=null)=>{const G=I.value,J=new AutomationEventList(G),Q=R?l(J):null,W={get defaultValue(){return G},get maxValue(){return j===null?I.maxValue:j},get minValue(){return L===null?I.minValue:L},get value(){return I.value},set value(Z){I.value=Z,W.setValueAtTime(Z,P.context.currentTime)},cancelAndHoldAtTime(Z){if(typeof I.cancelAndHoldAtTime=="function")Q===null&&J.flush(P.context.currentTime),J.add(p(Z)),I.cancelAndHoldAtTime(Z);else{const te=Array.from(J).pop();Q===null&&J.flush(P.context.currentTime),J.add(p(Z));const ee=Array.from(J).pop();I.cancelScheduledValues(Z),te!==ee&&ee!==void 0&&(ee.type==="exponentialRampToValue"?I.exponentialRampToValueAtTime(ee.value,ee.endTime):ee.type==="linearRampToValue"?I.linearRampToValueAtTime(ee.value,ee.endTime):ee.type==="setValue"?I.setValueAtTime(ee.value,ee.startTime):ee.type==="setValueCurve"&&I.setValueCurveAtTime(ee.values,ee.startTime,ee.duration))}return W},cancelScheduledValues(Z){return Q===null&&J.flush(P.context.currentTime),J.add(f(Z)),I.cancelScheduledValues(Z),W},exponentialRampToValueAtTime(Z,te){if(Z===0)throw new RangeError;if(!Number.isFinite(te)||te<0)throw new RangeError;const ee=P.context.currentTime;return Q===null&&J.flush(ee),Array.from(J).length===0&&(J.add(v(G,ee)),I.setValueAtTime(G,ee)),J.add(O(Z,te)),I.exponentialRampToValueAtTime(Z,te),W},linearRampToValueAtTime(Z,te){const ee=P.context.currentTime;return Q===null&&J.flush(ee),Array.from(J).length===0&&(J.add(v(G,ee)),I.setValueAtTime(G,ee)),J.add(_(Z,te)),I.linearRampToValueAtTime(Z,te),W},setTargetAtTime(Z,te,ee){return Q===null&&J.flush(P.context.currentTime),J.add(S(Z,te,ee)),I.setTargetAtTime(Z,te,ee),W},setValueAtTime(Z,te){return Q===null&&J.flush(P.context.currentTime),J.add(v(Z,te)),I.setValueAtTime(Z,te),W},setValueCurveAtTime(Z,te,ee){const ie=Z instanceof Float32Array?Z:new Float32Array(Z);if(d!==null&&d.name==="webkitAudioContext"){const oe=te+ee,se=P.context.sampleRate,le=Math.ceil(te*se),de=Math.floor(oe*se),pe=de-le,fe=new Float32Array(pe);for(let ge=0;ge<pe;ge+=1){const me=(ie.length-1)/ee*((le+ge)/se-te),ye=Math.floor(me),ve=Math.ceil(me);fe[ge]=ye===ve?ie[ye]:(1-(me-ye))*ie[ye]+(1-(ve-me))*ie[ve]}Q===null&&J.flush(P.context.currentTime),J.add(s(fe,te,ee)),I.setValueCurveAtTime(fe,te,ee);const he=de/se;he<oe&&g(W,fe[fe.length-1],he),g(W,ie[ie.length-1],oe)}else Q===null&&J.flush(P.context.currentTime),J.add(s(ie,te,ee)),I.setValueCurveAtTime(ie,te,ee);return W}};return o.set(W,I),r.set(W,P),e(W,Q),W},createAudioParamRenderer=e=>({replay(r){for(const o of e)if(o.type==="exponentialRampToValue"){const{endTime:l,value:p}=o;r.exponentialRampToValueAtTime(p,l)}else if(o.type==="linearRampToValue"){const{endTime:l,value:p}=o;r.linearRampToValueAtTime(p,l)}else if(o.type==="setTarget"){const{startTime:l,target:p,timeConstant:f}=o;r.setTargetAtTime(p,l,f)}else if(o.type==="setValue"){const{startTime:l,value:p}=o;r.setValueAtTime(p,l)}else if(o.type==="setValueCurve"){const{duration:l,startTime:p,values:f}=o;r.setValueCurveAtTime(f,p,l)}else throw new Error("Can't apply an unknown automation.")}}),createBaseAudioContextConstructor=(e,r,o,l,p,f,O,_,S,v,s,d,g,P,R,I,j,L,G,J)=>class extends R{constructor(W,Z){super(W,Z),this._nativeContext=W,this._audioWorklet=e===void 0?void 0:{addModule:(te,ee)=>e(this,te,ee)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new p(this)}createBuffer(W,Z,te){return new o({length:Z,numberOfChannels:W,sampleRate:te})}createBufferSource(){return new l(this)}createChannelMerger(W=6){return new f(this,{numberOfInputs:W})}createChannelSplitter(W=6){return new O(this,{numberOfOutputs:W})}createConstantSource(){return new _(this)}createConvolver(){return new S(this)}createDelay(W=1){return new s(this,{maxDelayTime:W})}createDynamicsCompressor(){return new d(this)}createGain(){return new g(this)}createIIRFilter(W,Z){return new P(this,{feedback:Z,feedforward:W})}createOscillator(){return new I(this)}createPanner(){return new j(this)}createPeriodicWave(W,Z,te={disableNormalization:!1}){return new L(this,{...te,imag:Z,real:W})}createStereoPanner(){return new G(this)}createWaveShaper(){return new J(this)}decodeAudioData(W,Z,te){return v(this._nativeContext,W).then(ee=>(typeof Z=="function"&&Z(ee),ee),ee=>{throw typeof te=="function"&&te(ee),ee})}},DEFAULT_OPTIONS$e={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},createBiquadFilterNodeConstructor=(e,r,o,l,p,f,O,_)=>class extends e{constructor(v,s){const d=f(v),g={...DEFAULT_OPTIONS$e,...s},P=p(d,g),R=O(d),I=R?o():null;super(v,!1,P,I),this._Q=r(this,R,P.Q,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._detune=r(this,R,P.detune,1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT),-1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT)),this._frequency=r(this,R,P.frequency,v.sampleRate/2,0),this._gain=r(this,R,P.gain,40*Math.log10(MOST_POSITIVE_SINGLE_FLOAT),MOST_NEGATIVE_SINGLE_FLOAT),this._nativeBiquadFilterNode=P,_(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(v){this._nativeBiquadFilterNode.type=v}getFrequencyResponse(v,s,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(v,s,d)}catch(g){throw g.code===11?l():g}if(v.length!==s.length||s.length!==d.length)throw l()}},createBiquadFilterNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap,O=async(_,S)=>{let v=o(_);const s=isOwnedByContext(v,S);if(!s){const d={Q:v.Q.value,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,detune:v.detune.value,frequency:v.frequency.value,gain:v.gain.value,type:v.type};v=r(S,d)}return f.set(S,v),s?(await e(S,_.Q,v.Q),await e(S,_.detune,v.detune),await e(S,_.frequency,v.frequency),await e(S,_.gain,v.gain)):(await l(S,_.Q,v.Q),await l(S,_.detune,v.detune),await l(S,_.frequency,v.frequency),await l(S,_.gain,v.gain)),await p(_,S,v),v};return{render(_,S){const v=f.get(S);return v!==void 0?Promise.resolve(v):O(_,S)}}},createCacheTestResult=(e,r)=>(o,l)=>{const p=r.get(o);if(p!==void 0)return p;const f=e.get(o);if(f!==void 0)return f;try{const O=l();return O instanceof Promise?(e.set(o,O),O.catch(()=>!1).then(_=>(e.delete(o),r.set(o,_),_))):(r.set(o,O),O)}catch{return r.set(o,!1),!1}},DEFAULT_OPTIONS$d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},createChannelMergerNodeConstructor=(e,r,o,l,p)=>class extends e{constructor(O,_){const S=l(O),v={...DEFAULT_OPTIONS$d,..._},s=o(S,v),d=p(S)?r():null;super(O,!1,s,d)}},createChannelMergerNodeRendererFactory=(e,r,o)=>()=>{const l=new WeakMap,p=async(f,O)=>{let _=r(f);if(!isOwnedByContext(_,O)){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,numberOfInputs:_.numberOfInputs};_=e(O,v)}return l.set(O,_),await o(f,O,_),_};return{render(f,O){const _=l.get(O);return _!==void 0?Promise.resolve(_):p(f,O)}}},DEFAULT_OPTIONS$c={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},createChannelSplitterNodeConstructor=(e,r,o,l,p,f)=>class extends e{constructor(_,S){const v=l(_),s=f({...DEFAULT_OPTIONS$c,...S}),d=o(v,s),g=p(v)?r():null;super(_,!1,d,g)}},createChannelSplitterNodeRendererFactory=(e,r,o)=>()=>{const l=new WeakMap,p=async(f,O)=>{let _=r(f);if(!isOwnedByContext(_,O)){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,numberOfOutputs:_.numberOfOutputs};_=e(O,v)}return l.set(O,_),await o(f,O,_),_};return{render(f,O){const _=l.get(O);return _!==void 0?Promise.resolve(_):p(f,O)}}},createConnectAudioParam=e=>(r,o,l)=>e(o,r,l),createConnectedNativeAudioBufferSourceNodeFactory=e=>(r,o)=>{const l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=r.createBuffer(1,2,44100);return l.buffer=p,l.loop=!0,l.connect(o),l.start(),()=>{l.stop(),l.disconnect(o)}},DEFAULT_OPTIONS$b={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},createConstantSourceNodeConstructor=(e,r,o,l,p,f,O)=>class extends e{constructor(S,v){const s=p(S),d={...DEFAULT_OPTIONS$b,...v},g=l(s,d),P=f(s),R=P?o():null;super(S,!1,g,R),this._constantSourceNodeRenderer=R,this._nativeConstantSourceNode=g,this._offset=r(this,P,g.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(S){const v=typeof S=="function"?O(this,S):null;this._nativeConstantSourceNode.onended=v;const s=this._nativeConstantSourceNode.onended;this._onended=s!==null&&s===v?S:s}start(S=0){if(this._nativeConstantSourceNode.start(S),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=S),this.context.state!=="closed"){setInternalStateToActive(this);const v=()=>{this._nativeConstantSourceNode.removeEventListener("ended",v),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeConstantSourceNode.addEventListener("ended",v)}}stop(S=0){this._nativeConstantSourceNode.stop(S),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=S)}},createConstantSourceNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap;let O=null,_=null;const S=async(v,s)=>{let d=o(v);const g=isOwnedByContext(d,s);if(!g){const P={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=r(s,P),O!==null&&d.start(O),_!==null&&d.stop(_)}return f.set(s,d),g?await e(s,v.offset,d.offset):await l(s,v.offset,d.offset),await p(v,s,d),d};return{set start(v){O=v},set stop(v){_=v},render(v,s){const d=f.get(s);return d!==void 0?Promise.resolve(d):S(v,s)}}},createConvertNumberToUnsignedLong=e=>r=>(e[0]=r,e[0]),DEFAULT_OPTIONS$a={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},createConvolverNodeConstructor=(e,r,o,l,p,f)=>class extends e{constructor(_,S){const v=l(_),s={...DEFAULT_OPTIONS$a,...S},d=o(v,s),P=p(v)?r():null;super(_,!1,d,P),this._isBufferNullified=!1,this._nativeConvolverNode=d,s.buffer!==null&&f(this,s.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(_){if(this._nativeConvolverNode.buffer=_,_===null&&this._nativeConvolverNode.buffer!==null){const S=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=S.createBuffer(1,1,S.sampleRate),this._isBufferNullified=!0,f(this,0)}else this._isBufferNullified=!1,f(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(_){this._nativeConvolverNode.normalize=_}},createConvolverNodeRendererFactory=(e,r,o)=>()=>{const l=new WeakMap,p=async(f,O)=>{let _=r(f);if(!isOwnedByContext(_,O)){const v={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,disableNormalization:!_.normalize};_=e(O,v)}return l.set(O,_),isNativeAudioNodeFaker(_)?await o(f,O,_.inputs[0]):await o(f,O,_),_};return{render(f,O){const _=l.get(O);return _!==void 0?Promise.resolve(_):p(f,O)}}},createDataCloneError=()=>new DOMException("","DataCloneError"),detachArrayBuffer=e=>{const{port1:r,port2:o}=new MessageChannel;return new Promise(l=>{const p=()=>{o.onmessage=null,r.close(),o.close(),l()};o.onmessage=()=>p();try{r.postMessage(e,[e])}catch{}finally{p()}})},createDecodeAudioData=(e,r,o,l,p,f,O,_,S,v,s)=>(d,g)=>{const P=O(d)?d:f(d);if(p.has(g)){const R=o();return Promise.reject(R)}try{p.add(g)}catch{}return r(S,()=>S(P))?P.decodeAudioData(g).then(R=>(detachArrayBuffer(g).catch(()=>{}),r(_,()=>_(R))||s(R),e.add(R),R)):new Promise((R,I)=>{const j=async()=>{try{await detachArrayBuffer(g)}catch{}},L=G=>{I(G),j()};try{P.decodeAudioData(g,G=>{typeof G.copyFromChannel!="function"&&(v(G),wrapAudioBufferGetChannelDataMethod(G)),e.add(G),j().then(()=>R(G))},G=>{L(G===null?l():G)})}catch(G){L(G)}})},createDecrementCycleCounter=(e,r,o,l,p,f,O,_)=>(S,v)=>{const s=r.get(S);if(s===void 0)throw new Error("Missing the expected cycle count.");const d=f(S.context),g=_(d);if(s===v){if(r.delete(S),!g&&O(S)){const P=l(S),{outputs:R}=o(S);for(const I of R)if(isAudioNodeOutputConnection(I)){const j=l(I[0]);e(P,j,I[1],I[2])}else{const j=p(I[0]);P.connect(j,I[1])}}}else r.set(S,s-v)},DEFAULT_OPTIONS$9={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},createDelayNodeConstructor=(e,r,o,l,p,f,O)=>class extends e{constructor(S,v){const s=p(S),d={...DEFAULT_OPTIONS$9,...v},g=l(s,d),P=f(s),R=P?o(d.maxDelayTime):null;super(S,!1,g,R),this._delayTime=r(this,P,g.delayTime),O(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},createDelayNodeRendererFactory=(e,r,o,l,p)=>f=>{const O=new WeakMap,_=async(S,v)=>{let s=o(S);const d=isOwnedByContext(s,v);if(!d){const g={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,delayTime:s.delayTime.value,maxDelayTime:f};s=r(v,g)}return O.set(v,s),d?await e(v,S.delayTime,s.delayTime):await l(v,S.delayTime,s.delayTime),await p(S,v,s),s};return{render(S,v){const s=O.get(v);return s!==void 0?Promise.resolve(s):_(S,v)}}},createDeleteActiveInputConnectionToAudioNode=e=>(r,o,l,p)=>e(r[p],f=>f[0]===o&&f[1]===l),isDelayNode=e=>"delayTime"in e,createDetectCycles=(e,r,o)=>function l(p,f){const O=isAudioNode(f)?f:o(e,f);if(isDelayNode(O))return[];if(p[0]===O)return[p];if(p.includes(O))return[];const{outputs:_}=r(O);return Array.from(_).map(S=>l([...p,O],S[0])).reduce((S,v)=>S.concat(v),[])},DEFAULT_OPTIONS$8={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},createDynamicsCompressorNodeConstructor=(e,r,o,l,p,f,O,_)=>class extends e{constructor(v,s){const d=f(v),g={...DEFAULT_OPTIONS$8,...s},P=l(d,g),R=O(d),I=R?o():null;super(v,!1,P,I),this._attack=r(this,R,P.attack),this._knee=r(this,R,P.knee),this._nativeDynamicsCompressorNode=P,this._ratio=r(this,R,P.ratio),this._release=r(this,R,P.release),this._threshold=r(this,R,P.threshold),_(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(v){const s=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=v,v>2)throw this._nativeDynamicsCompressorNode.channelCount=s,p()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(v){const s=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=v,v==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=s,p()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},createDynamicsCompressorNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap,O=async(_,S)=>{let v=o(_);const s=isOwnedByContext(v,S);if(!s){const d={attack:v.attack.value,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,knee:v.knee.value,ratio:v.ratio.value,release:v.release.value,threshold:v.threshold.value};v=r(S,d)}return f.set(S,v),s?(await e(S,_.attack,v.attack),await e(S,_.knee,v.knee),await e(S,_.ratio,v.ratio),await e(S,_.release,v.release),await e(S,_.threshold,v.threshold)):(await l(S,_.attack,v.attack),await l(S,_.knee,v.knee),await l(S,_.ratio,v.ratio),await l(S,_.release,v.release),await l(S,_.threshold,v.threshold)),await p(_,S,v),v};return{render(_,S){const v=f.get(S);return v!==void 0?Promise.resolve(v):O(_,S)}}},createEncodingError=()=>new DOMException("","EncodingError"),createEvaluateSource=e=>r=>new Promise((o,l)=>{if(e===null){l(new SyntaxError);return}const p=e.document.head;if(p===null)l(new SyntaxError);else{const f=e.document.createElement("script"),O=new Blob([r],{type:"application/javascript"}),_=URL.createObjectURL(O),S=e.onerror,v=()=>{e.onerror=S,URL.revokeObjectURL(_)};e.onerror=(s,d,g,P,R)=>{if(d===_||d===e.location.href&&g===1&&P===1)return v(),l(R),!1;if(S!==null)return S(s,d,g,P,R)},f.onerror=()=>{v(),l(new SyntaxError)},f.onload=()=>{v(),o()},f.src=_,f.type="module",p.appendChild(f)}}),createEventTargetConstructor=e=>class{constructor(o){this._nativeEventTarget=o,this._listeners=new WeakMap}addEventListener(o,l,p){if(l!==null){let f=this._listeners.get(l);f===void 0&&(f=e(this,l),typeof l=="function"&&this._listeners.set(l,f)),this._nativeEventTarget.addEventListener(o,f,p)}}dispatchEvent(o){return this._nativeEventTarget.dispatchEvent(o)}removeEventListener(o,l,p){const f=l===null?void 0:this._listeners.get(l);this._nativeEventTarget.removeEventListener(o,f===void 0?null:f,p)}},createExposeCurrentFrameAndCurrentTime=e=>(r,o,l)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(r*o)}},currentTime:{configurable:!0,get(){return r}}});try{return l()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},createFetchSource=e=>async r=>{try{const o=await fetch(r);if(o.ok)return[await o.text(),o.url]}catch{}throw e()},DEFAULT_OPTIONS$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},createGainNodeConstructor=(e,r,o,l,p,f)=>class extends e{constructor(_,S){const v=p(_),s={...DEFAULT_OPTIONS$7,...S},d=l(v,s),g=f(v),P=g?o():null;super(_,!1,d,P),this._gain=r(this,g,d.gain,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get gain(){return this._gain}},createGainNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap,O=async(_,S)=>{let v=o(_);const s=isOwnedByContext(v,S);if(!s){const d={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:v.gain.value};v=r(S,d)}return f.set(S,v),s?await e(S,_.gain,v.gain):await l(S,_.gain,v.gain),await p(_,S,v),v};return{render(_,S){const v=f.get(S);return v!==void 0?Promise.resolve(v):O(_,S)}}},createGetAudioNodeRenderer=e=>r=>{const o=e(r);if(o.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return o.renderer},createGetAudioNodeTailTime=e=>r=>{var o;return(o=e.get(r))!==null&&o!==void 0?o:0},createGetAudioParamRenderer=e=>r=>{const o=e(r);if(o.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return o.renderer},createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=e=>r=>{const o=e.get(r);if(o===void 0)throw createInvalidStateError();return o},createGetOrCreateBackupOfflineAudioContext=(e,r)=>o=>{let l=e.get(o);if(l!==void 0)return l;if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");return l=new r(1,1,44100),e.set(o,l),l},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),wrapIIRFilterNodeGetFrequencyResponseMethod=e=>{e.getFrequencyResponse=(r=>(o,l,p)=>{if(o.length!==l.length||l.length!==p.length)throw createInvalidAccessError();return r.call(e,o,l,p)})(e.getFrequencyResponse)},DEFAULT_OPTIONS$6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},createIIRFilterNodeConstructor=(e,r,o,l,p,f)=>class extends e{constructor(_,S){const v=l(_),s=p(v),d={...DEFAULT_OPTIONS$6,...S},g=r(v,s?null:_.baseLatency,d),P=s?o(d.feedback,d.feedforward):null;super(_,!1,g,P),wrapIIRFilterNodeGetFrequencyResponseMethod(g),this._nativeIIRFilterNode=g,f(this,1)}getFrequencyResponse(_,S,v){return this._nativeIIRFilterNode.getFrequencyResponse(_,S,v)}},filterBuffer=(e,r,o,l,p,f,O,_,S,v,s)=>{const d=v.length;let g=_;for(let P=0;P<d;P+=1){let R=o[0]*v[P];for(let I=1;I<p;I+=1){const j=g-I&S-1;R+=o[I]*f[j],R-=e[I]*O[j]}for(let I=p;I<l;I+=1)R+=o[I]*f[g-I&S-1];for(let I=p;I<r;I+=1)R-=e[I]*O[g-I&S-1];f[g]=v[P],O[g]=R,g=g+1&S-1,s[P]=R}return g},filterFullBuffer=(e,r,o,l)=>{const p=o instanceof Float64Array?o:new Float64Array(o),f=l instanceof Float64Array?l:new Float64Array(l),O=p.length,_=f.length,S=Math.min(O,_);if(p[0]!==1){for(let R=0;R<O;R+=1)f[R]/=p[0];for(let R=1;R<_;R+=1)p[R]/=p[0]}const v=32,s=new Float32Array(v),d=new Float32Array(v),g=r.createBuffer(e.numberOfChannels,e.length,e.sampleRate),P=e.numberOfChannels;for(let R=0;R<P;R+=1){const I=e.getChannelData(R),j=g.getChannelData(R);s.fill(0),d.fill(0),filterBuffer(p,O,f,_,S,s,d,0,v,I,j)}return g},createIIRFilterNodeRendererFactory=(e,r,o,l,p)=>(f,O)=>{const _=new WeakMap;let S=null;const v=async(s,d)=>{let g=null,P=r(s);const R=isOwnedByContext(P,d);if(d.createIIRFilter===void 0?g=e(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):R||(P=d.createIIRFilter(O,f)),_.set(d,g===null?P:g),g!==null){if(S===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new o(s.context.destination.channelCount,s.context.length,d.sampleRate);S=(async()=>{await l(s,j,j.destination);const L=await p(j);return filterFullBuffer(L,d,f,O)})()}const I=await S;return g.buffer=I,g.start(0),g}return await l(s,d,P),P};return{render(s,d){const g=_.get(d);return g!==void 0?Promise.resolve(g):v(s,d)}}},createIncrementCycleCounterFactory=(e,r,o,l,p,f)=>O=>(_,S)=>{const v=e.get(_);if(v===void 0){if(!O&&f(_)){const s=l(_),{outputs:d}=o(_);for(const g of d)if(isAudioNodeOutputConnection(g)){const P=l(g[0]);r(s,P,g[1],g[2])}else{const P=p(g[0]);s.disconnect(P,g[1])}}e.set(_,S)}else e.set(_,v+S)},createIsNativeAudioContext=e=>r=>e!==null&&r instanceof e,createIsNativeAudioNode=e=>r=>e!==null&&typeof e.AudioNode=="function"&&r instanceof e.AudioNode,createIsNativeAudioParam=e=>r=>e!==null&&typeof e.AudioParam=="function"&&r instanceof e.AudioParam,createIsNativeContext=(e,r)=>o=>e(o)||r(o),createIsNativeOfflineAudioContext=e=>r=>e!==null&&r instanceof e,createIsSecureContext=e=>e!==null&&e.isSecureContext,createMediaElementAudioSourceNodeConstructor=(e,r,o,l)=>class extends e{constructor(f,O){const _=o(f),S=r(_,O);if(l(_))throw TypeError();super(f,!0,S,null),this._nativeMediaElementAudioSourceNode=S}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DEFAULT_OPTIONS$5={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},createMediaStreamAudioDestinationNodeConstructor=(e,r,o,l)=>class extends e{constructor(f,O){const _=o(f);if(l(_))throw new TypeError;const S={...DEFAULT_OPTIONS$5,...O},v=r(_,S);super(f,!1,v,null),this._nativeMediaStreamAudioDestinationNode=v}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},createMediaStreamAudioSourceNodeConstructor=(e,r,o,l)=>class extends e{constructor(f,O){const _=o(f),S=r(_,O);if(l(_))throw new TypeError;super(f,!0,S,null),this._nativeMediaStreamAudioSourceNode=S}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMediaStreamTrackAudioSourceNodeConstructor=(e,r,o)=>class extends e{constructor(p,f){const O=o(p),_=r(O,f);super(p,!0,_,null)}},createMinimalBaseAudioContextConstructor=(e,r,o,l,p,f)=>class extends o{constructor(_,S){super(_),this._nativeContext=_,CONTEXT_STORE.set(this,_),l(_)&&p.set(_,new Set),this._destination=new e(this,S),this._listener=r(this,_),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(_){const S=typeof _=="function"?f(this,_):null;this._nativeContext.onstatechange=S;const v=this._nativeContext.onstatechange;this._onstatechange=v!==null&&v===S?_:v}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=e=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const o=e.decodeAudioData(r.buffer,()=>{});return o===void 0?!1:(o.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(e,r)=>(o,l,p)=>{const f=new Set;return o.connect=(O=>(_,S=0,v=0)=>{const s=f.size===0;if(r(_))return O.call(o,_,S,v),e(f,[_,S,v],d=>d[0]===_&&d[1]===S&&d[2]===v,!0),s&&l(),_;O.call(o,_,S),e(f,[_,S],d=>d[0]===_&&d[1]===S,!0),s&&l()})(o.connect),o.disconnect=(O=>(_,S,v)=>{const s=f.size>0;if(_===void 0)O.apply(o),f.clear();else if(typeof _=="number"){O.call(o,_);for(const g of f)g[1]===_&&f.delete(g)}else{r(_)?O.call(o,_,S,v):O.call(o,_,S);for(const g of f)g[0]===_&&(S===void 0||g[1]===S)&&(v===void 0||g[2]===v)&&f.delete(g)}const d=f.size===0;s&&d&&p()})(o.disconnect),o},assignNativeAudioNodeOption=(e,r,o)=>{const l=r[o];l!==void 0&&l!==e[o]&&(e[o]=l)},assignNativeAudioNodeOptions=(e,r)=>{assignNativeAudioNodeOption(e,r,"channelCount"),assignNativeAudioNodeOption(e,r,"channelCountMode"),assignNativeAudioNodeOption(e,r,"channelInterpretation")},testAnalyserNodeGetFloatTimeDomainDataMethodSupport=e=>typeof e.getFloatTimeDomainData=="function",wrapAnalyserNodeGetFloatTimeDomainDataMethod=e=>{e.getFloatTimeDomainData=r=>{const o=new Uint8Array(r.length);e.getByteTimeDomainData(o);const l=Math.max(o.length,e.fftSize);for(let p=0;p<l;p+=1)r[p]=(o[p]-128)*.0078125;return r}},createNativeAnalyserNodeFactory=(e,r)=>(o,l)=>{const p=o.createAnalyser();if(assignNativeAudioNodeOptions(p,l),!(l.maxDecibels>l.minDecibels))throw r();return assignNativeAudioNodeOption(p,l,"fftSize"),assignNativeAudioNodeOption(p,l,"maxDecibels"),assignNativeAudioNodeOption(p,l,"minDecibels"),assignNativeAudioNodeOption(p,l,"smoothingTimeConstant"),e(testAnalyserNodeGetFloatTimeDomainDataMethodSupport,()=>testAnalyserNodeGetFloatTimeDomainDataMethodSupport(p))||wrapAnalyserNodeGetFloatTimeDomainDataMethod(p),p},createNativeAudioBufferConstructor=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(e,r,o)=>{const l=r[o];l!==void 0&&l!==e[o].value&&(e[o].value=l)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=e=>{e.start=(r=>{let o=!1;return(l=0,p=0,f)=>{if(o)throw createInvalidStateError();r.call(e,l,p,f),o=!0}})(e.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=e=>{e.start=(r=>(o=0,l=0,p)=>{if(typeof p=="number"&&p<0||l<0||o<0)throw new RangeError("The parameters can't be negative.");r.call(e,o,l,p)})(e.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=e=>{e.stop=(r=>(o=0)=>{if(o<0)throw new RangeError("The parameter can't be negative.");r.call(e,o)})(e.stop)},createNativeAudioBufferSourceNodeFactory=(e,r,o,l,p,f,O,_,S,v,s)=>(d,g)=>{const P=d.createBufferSource();return assignNativeAudioNodeOptions(P,g),assignNativeAudioNodeAudioParamValue(P,g,"playbackRate"),assignNativeAudioNodeOption(P,g,"buffer"),assignNativeAudioNodeOption(P,g,"loop"),assignNativeAudioNodeOption(P,g,"loopEnd"),assignNativeAudioNodeOption(P,g,"loopStart"),r(o,()=>o(d))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(P),r(l,()=>l(d))||S(P),r(p,()=>p(d))||v(P,d),r(f,()=>f(d))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(P),r(O,()=>O(d))||s(P,d),r(_,()=>_(d))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(P),e(d,P),P},createNativeAudioContextConstructor=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(e,r)=>(o,l,p)=>{const f=o.destination;if(f.channelCount!==l)try{f.channelCount=l}catch{}p&&f.channelCountMode!=="explicit"&&(f.channelCountMode="explicit"),f.maxChannelCount===0&&Object.defineProperty(f,"maxChannelCount",{value:l});const O=e(o,{channelCount:l,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});return r(O,"channelCount",_=>()=>_.call(O),_=>S=>{_.call(O,S);try{f.channelCount=S}catch(v){if(S>f.maxChannelCount)throw v}}),r(O,"channelCountMode",_=>()=>_.call(O),_=>S=>{_.call(O,S),f.channelCountMode=S}),r(O,"channelInterpretation",_=>()=>_.call(O),_=>S=>{_.call(O,S),f.channelInterpretation=S}),Object.defineProperty(O,"maxChannelCount",{get:()=>f.maxChannelCount}),O.connect(f),O},createNativeAudioWorkletNodeConstructor=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,computeBufferSize=(e,r)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*r))))),createNativeBiquadFilterNode=(e,r)=>{const o=e.createBiquadFilter();return assignNativeAudioNodeOptions(o,r),assignNativeAudioNodeAudioParamValue(o,r,"Q"),assignNativeAudioNodeAudioParamValue(o,r,"detune"),assignNativeAudioNodeAudioParamValue(o,r,"frequency"),assignNativeAudioNodeAudioParamValue(o,r,"gain"),assignNativeAudioNodeOption(o,r,"type"),o},createNativeChannelMergerNodeFactory=(e,r)=>(o,l)=>{const p=o.createChannelMerger(l.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&r(o,p),assignNativeAudioNodeOptions(p,l),p},wrapChannelSplitterNode=e=>{const r=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>r,set:o=>{if(o!==r)throw createInvalidStateError()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:o=>{if(o!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:o=>{if(o!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(e,r)=>{const o=e.createChannelSplitter(r.numberOfOutputs);return assignNativeAudioNodeOptions(o,r),wrapChannelSplitterNode(o),o},createNativeConstantSourceNodeFactory=(e,r,o,l,p)=>(f,O)=>{if(f.createConstantSource===void 0)return o(f,O);const _=f.createConstantSource();return assignNativeAudioNodeOptions(_,O),assignNativeAudioNodeAudioParamValue(_,O,"offset"),r(l,()=>l(f))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(_),r(p,()=>p(f))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(_),e(f,_),_},interceptConnections=(e,r)=>(e.connect=r.connect.bind(r),e.disconnect=r.disconnect.bind(r),e),createNativeConstantSourceNodeFakerFactory=(e,r,o,l)=>(p,{offset:f,...O})=>{const _=p.createBuffer(1,2,44100),S=r(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),v=o(p,{...O,gain:f}),s=_.getChannelData(0);s[0]=1,s[1]=1,S.buffer=_,S.loop=!0;const d={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(R){v.channelCount=R},get channelCountMode(){return v.channelCountMode},set channelCountMode(R){v.channelCountMode=R},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(R){v.channelInterpretation=R},get context(){return v.context},get inputs(){return[]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get offset(){return v.gain},get onended(){return S.onended},set onended(R){S.onended=R},addEventListener(...R){return S.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return S.dispatchEvent(R[0])},removeEventListener(...R){return S.removeEventListener(R[0],R[1],R[2])},start(R=0){S.start.call(S,R)},stop(R=0){S.stop.call(S,R)}},g=()=>S.connect(v),P=()=>S.disconnect(v);return e(p,S),l(interceptConnections(d,v),g,P)},createNativeConvolverNodeFactory=(e,r)=>(o,l)=>{const p=o.createConvolver();if(assignNativeAudioNodeOptions(p,l),l.disableNormalization===p.normalize&&(p.normalize=!l.disableNormalization),assignNativeAudioNodeOption(p,l,"buffer"),l.channelCount>2||(r(p,"channelCount",f=>()=>f.call(p),f=>O=>{if(O>2)throw e();return f.call(p,O)}),l.channelCountMode==="max"))throw e();return r(p,"channelCountMode",f=>()=>f.call(p),f=>O=>{if(O==="max")throw e();return f.call(p,O)}),p},createNativeDelayNode=(e,r)=>{const o=e.createDelay(r.maxDelayTime);return assignNativeAudioNodeOptions(o,r),assignNativeAudioNodeAudioParamValue(o,r,"delayTime"),o},createNativeDynamicsCompressorNodeFactory=e=>(r,o)=>{const l=r.createDynamicsCompressor();if(assignNativeAudioNodeOptions(l,o),o.channelCount>2||o.channelCountMode==="max")throw e();return assignNativeAudioNodeAudioParamValue(l,o,"attack"),assignNativeAudioNodeAudioParamValue(l,o,"knee"),assignNativeAudioNodeAudioParamValue(l,o,"ratio"),assignNativeAudioNodeAudioParamValue(l,o,"release"),assignNativeAudioNodeAudioParamValue(l,o,"threshold"),l},createNativeGainNode=(e,r)=>{const o=e.createGain();return assignNativeAudioNodeOptions(o,r),assignNativeAudioNodeAudioParamValue(o,r,"gain"),o},createNativeIIRFilterNodeFactory=e=>(r,o,l)=>{if(r.createIIRFilter===void 0)return e(r,o,l);const p=r.createIIRFilter(l.feedforward,l.feedback);return assignNativeAudioNodeOptions(p,l),p};function divide(e,r){const o=r[0]*r[0]+r[1]*r[1];return[(e[0]*r[0]+e[1]*r[1])/o,(e[1]*r[0]-e[0]*r[1])/o]}function multiply(e,r){return[e[0]*r[0]-e[1]*r[1],e[0]*r[1]+e[1]*r[0]]}function evaluatePolynomial(e,r){let o=[0,0];for(let l=e.length-1;l>=0;l-=1)o=multiply(o,r),o[0]+=e[l];return o}const createNativeIIRFilterNodeFakerFactory=(e,r,o,l)=>(p,f,{channelCount:O,channelCountMode:_,channelInterpretation:S,feedback:v,feedforward:s})=>{const d=computeBufferSize(f,p.sampleRate),g=v instanceof Float64Array?v:new Float64Array(v),P=s instanceof Float64Array?s:new Float64Array(s),R=g.length,I=P.length,j=Math.min(R,I);if(R===0||R>20)throw l();if(g[0]===0)throw r();if(I===0||I>20)throw l();if(P[0]===0)throw r();if(g[0]!==1){for(let ee=0;ee<I;ee+=1)P[ee]/=g[0];for(let ee=1;ee<R;ee+=1)g[ee]/=g[0]}const L=o(p,d,O,O);L.channelCount=O,L.channelCountMode=_,L.channelInterpretation=S;const G=32,J=[],Q=[],W=[];for(let ee=0;ee<O;ee+=1){J.push(0);const ie=new Float32Array(G),oe=new Float32Array(G);ie.fill(0),oe.fill(0),Q.push(ie),W.push(oe)}L.onaudioprocess=ee=>{const ie=ee.inputBuffer,oe=ee.outputBuffer,se=ie.numberOfChannels;for(let le=0;le<se;le+=1){const de=ie.getChannelData(le),pe=oe.getChannelData(le);J[le]=filterBuffer(g,R,P,I,j,Q[le],W[le],J[le],G,de,pe)}};const Z=p.sampleRate/2;return interceptConnections({get bufferSize(){return d},get channelCount(){return L.channelCount},set channelCount(ee){L.channelCount=ee},get channelCountMode(){return L.channelCountMode},set channelCountMode(ee){L.channelCountMode=ee},get channelInterpretation(){return L.channelInterpretation},set channelInterpretation(ee){L.channelInterpretation=ee},get context(){return L.context},get inputs(){return[L]},get numberOfInputs(){return L.numberOfInputs},get numberOfOutputs(){return L.numberOfOutputs},addEventListener(...ee){return L.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return L.dispatchEvent(ee[0])},getFrequencyResponse(ee,ie,oe){if(ee.length!==ie.length||ie.length!==oe.length)throw e();const se=ee.length;for(let le=0;le<se;le+=1){const de=-Math.PI*(ee[le]/Z),pe=[Math.cos(de),Math.sin(de)],fe=evaluatePolynomial(P,pe),he=evaluatePolynomial(g,pe),ge=divide(fe,he);ie[le]=Math.sqrt(ge[0]*ge[0]+ge[1]*ge[1]),oe[le]=Math.atan2(ge[1],ge[0])}},removeEventListener(...ee){return L.removeEventListener(ee[0],ee[1],ee[2])}},L)},createNativeMediaElementAudioSourceNode=(e,r)=>e.createMediaElementSource(r.mediaElement),createNativeMediaStreamAudioDestinationNode=(e,r)=>{const o=e.createMediaStreamDestination();return assignNativeAudioNodeOptions(o,r),o.numberOfOutputs===1&&Object.defineProperty(o,"numberOfOutputs",{get:()=>0}),o},createNativeMediaStreamAudioSourceNode=(e,{mediaStream:r})=>{const o=r.getAudioTracks();o.sort((f,O)=>f.id<O.id?-1:f.id>O.id?1:0);const l=o.slice(0,1),p=e.createMediaStreamSource(new MediaStream(l));return Object.defineProperty(p,"mediaStream",{value:r}),p},createNativeMediaStreamTrackAudioSourceNodeFactory=(e,r)=>(o,{mediaStreamTrack:l})=>{if(typeof o.createMediaStreamTrackSource=="function")return o.createMediaStreamTrackSource(l);const p=new MediaStream([l]),f=o.createMediaStreamSource(p);if(l.kind!=="audio")throw e();if(r(o))throw new TypeError;return f},createNativeOfflineAudioContextConstructor=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,createNativeOscillatorNodeFactory=(e,r,o,l,p,f)=>(O,_)=>{const S=O.createOscillator();return assignNativeAudioNodeOptions(S,_),assignNativeAudioNodeAudioParamValue(S,_,"detune"),assignNativeAudioNodeAudioParamValue(S,_,"frequency"),_.periodicWave!==void 0?S.setPeriodicWave(_.periodicWave):assignNativeAudioNodeOption(S,_,"type"),r(o,()=>o(O))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(S),r(l,()=>l(O))||f(S,O),r(p,()=>p(O))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(S),e(O,S),S},createNativePannerNodeFactory=e=>(r,o)=>{const l=r.createPanner();return l.orientationX===void 0?e(r,o):(assignNativeAudioNodeOptions(l,o),assignNativeAudioNodeAudioParamValue(l,o,"orientationX"),assignNativeAudioNodeAudioParamValue(l,o,"orientationY"),assignNativeAudioNodeAudioParamValue(l,o,"orientationZ"),assignNativeAudioNodeAudioParamValue(l,o,"positionX"),assignNativeAudioNodeAudioParamValue(l,o,"positionY"),assignNativeAudioNodeAudioParamValue(l,o,"positionZ"),assignNativeAudioNodeOption(l,o,"coneInnerAngle"),assignNativeAudioNodeOption(l,o,"coneOuterAngle"),assignNativeAudioNodeOption(l,o,"coneOuterGain"),assignNativeAudioNodeOption(l,o,"distanceModel"),assignNativeAudioNodeOption(l,o,"maxDistance"),assignNativeAudioNodeOption(l,o,"panningModel"),assignNativeAudioNodeOption(l,o,"refDistance"),assignNativeAudioNodeOption(l,o,"rolloffFactor"),l)},createNativePannerNodeFakerFactory=(e,r,o,l,p,f,O,_,S,v)=>(s,{coneInnerAngle:d,coneOuterAngle:g,coneOuterGain:P,distanceModel:R,maxDistance:I,orientationX:j,orientationY:L,orientationZ:G,panningModel:J,positionX:Q,positionY:W,positionZ:Z,refDistance:te,rolloffFactor:ee,...ie})=>{const oe=s.createPanner();if(ie.channelCount>2||ie.channelCountMode==="max")throw O();assignNativeAudioNodeOptions(oe,ie);const se={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},le=o(s,{...se,channelInterpretation:"speakers",numberOfInputs:6}),de=l(s,{...ie,gain:1}),pe=l(s,{...se,gain:1}),fe=l(s,{...se,gain:0}),he=l(s,{...se,gain:0}),ge=l(s,{...se,gain:0}),me=l(s,{...se,gain:0}),ye=l(s,{...se,gain:0}),ve=p(s,256,6,1),Ae=f(s,{...se,curve:new Float32Array([1,1]),oversample:"none"});let Pe=[j,L,G],Ne=[Q,W,Z];const Ee=new Float32Array(1);ve.onaudioprocess=({inputBuffer:Oe})=>{const ce=[S(Oe,Ee,0),S(Oe,Ee,1),S(Oe,Ee,2)];ce.some((F,V)=>F!==Pe[V])&&(oe.setOrientation(...ce),Pe=ce);const k=[S(Oe,Ee,3),S(Oe,Ee,4),S(Oe,Ee,5)];k.some((F,V)=>F!==Ne[V])&&(oe.setPosition(...k),Ne=k)},Object.defineProperty(fe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ge.gain,"defaultValue",{get:()=>0}),Object.defineProperty(me.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ye.gain,"defaultValue",{get:()=>0});const Ce={get bufferSize(){},get channelCount(){return oe.channelCount},set channelCount(Oe){if(Oe>2)throw O();de.channelCount=Oe,oe.channelCount=Oe},get channelCountMode(){return oe.channelCountMode},set channelCountMode(Oe){if(Oe==="max")throw O();de.channelCountMode=Oe,oe.channelCountMode=Oe},get channelInterpretation(){return oe.channelInterpretation},set channelInterpretation(Oe){de.channelInterpretation=Oe,oe.channelInterpretation=Oe},get coneInnerAngle(){return oe.coneInnerAngle},set coneInnerAngle(Oe){oe.coneInnerAngle=Oe},get coneOuterAngle(){return oe.coneOuterAngle},set coneOuterAngle(Oe){oe.coneOuterAngle=Oe},get coneOuterGain(){return oe.coneOuterGain},set coneOuterGain(Oe){if(Oe<0||Oe>1)throw r();oe.coneOuterGain=Oe},get context(){return oe.context},get distanceModel(){return oe.distanceModel},set distanceModel(Oe){oe.distanceModel=Oe},get inputs(){return[de]},get maxDistance(){return oe.maxDistance},set maxDistance(Oe){if(Oe<0)throw new RangeError;oe.maxDistance=Oe},get numberOfInputs(){return oe.numberOfInputs},get numberOfOutputs(){return oe.numberOfOutputs},get orientationX(){return pe.gain},get orientationY(){return fe.gain},get orientationZ(){return he.gain},get panningModel(){return oe.panningModel},set panningModel(Oe){oe.panningModel=Oe},get positionX(){return ge.gain},get positionY(){return me.gain},get positionZ(){return ye.gain},get refDistance(){return oe.refDistance},set refDistance(Oe){if(Oe<0)throw new RangeError;oe.refDistance=Oe},get rolloffFactor(){return oe.rolloffFactor},set rolloffFactor(Oe){if(Oe<0)throw new RangeError;oe.rolloffFactor=Oe},addEventListener(...Oe){return de.addEventListener(Oe[0],Oe[1],Oe[2])},dispatchEvent(...Oe){return de.dispatchEvent(Oe[0])},removeEventListener(...Oe){return de.removeEventListener(Oe[0],Oe[1],Oe[2])}};d!==Ce.coneInnerAngle&&(Ce.coneInnerAngle=d),g!==Ce.coneOuterAngle&&(Ce.coneOuterAngle=g),P!==Ce.coneOuterGain&&(Ce.coneOuterGain=P),R!==Ce.distanceModel&&(Ce.distanceModel=R),I!==Ce.maxDistance&&(Ce.maxDistance=I),j!==Ce.orientationX.value&&(Ce.orientationX.value=j),L!==Ce.orientationY.value&&(Ce.orientationY.value=L),G!==Ce.orientationZ.value&&(Ce.orientationZ.value=G),J!==Ce.panningModel&&(Ce.panningModel=J),Q!==Ce.positionX.value&&(Ce.positionX.value=Q),W!==Ce.positionY.value&&(Ce.positionY.value=W),Z!==Ce.positionZ.value&&(Ce.positionZ.value=Z),te!==Ce.refDistance&&(Ce.refDistance=te),ee!==Ce.rolloffFactor&&(Ce.rolloffFactor=ee),(Pe[0]!==1||Pe[1]!==0||Pe[2]!==0)&&oe.setOrientation(...Pe),(Ne[0]!==0||Ne[1]!==0||Ne[2]!==0)&&oe.setPosition(...Ne);const Se=()=>{de.connect(oe),e(de,Ae,0,0),Ae.connect(pe).connect(le,0,0),Ae.connect(fe).connect(le,0,1),Ae.connect(he).connect(le,0,2),Ae.connect(ge).connect(le,0,3),Ae.connect(me).connect(le,0,4),Ae.connect(ye).connect(le,0,5),le.connect(ve).connect(s.destination)},Te=()=>{de.disconnect(oe),_(de,Ae,0,0),Ae.disconnect(pe),pe.disconnect(le),Ae.disconnect(fe),fe.disconnect(le),Ae.disconnect(he),he.disconnect(le),Ae.disconnect(ge),ge.disconnect(le),Ae.disconnect(me),me.disconnect(le),Ae.disconnect(ye),ye.disconnect(le),le.disconnect(ve),ve.disconnect(s.destination)};return v(interceptConnections(Ce,oe),Se,Te)},createNativePeriodicWaveFactory=e=>(r,{disableNormalization:o,imag:l,real:p})=>{const f=l instanceof Float32Array?l:new Float32Array(l),O=p instanceof Float32Array?p:new Float32Array(p),_=r.createPeriodicWave(O,f,{disableNormalization:o});if(Array.from(l).length<2)throw e();return _},createNativeScriptProcessorNode=(e,r,o,l)=>e.createScriptProcessor(r,o,l),createNativeStereoPannerNodeFactory=(e,r)=>(o,l)=>{const p=l.channelCountMode;if(p==="clamped-max")throw r();if(o.createStereoPanner===void 0)return e(o,l);const f=o.createStereoPanner();return assignNativeAudioNodeOptions(f,l),assignNativeAudioNodeAudioParamValue(f,l,"pan"),Object.defineProperty(f,"channelCountMode",{get:()=>p,set:O=>{if(O!==p)throw r()}}),f},createNativeStereoPannerNodeFakerFactory=(e,r,o,l,p,f)=>{const _=new Float32Array([1,1]),S=Math.PI/2,v={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},s={...v,oversample:"none"},d=(R,I,j,L)=>{const G=new Float32Array(16385),J=new Float32Array(16385);for(let ie=0;ie<16385;ie+=1){const oe=ie/16384*S;G[ie]=Math.cos(oe),J[ie]=Math.sin(oe)}const Q=o(R,{...v,gain:0}),W=l(R,{...s,curve:G}),Z=l(R,{...s,curve:_}),te=o(R,{...v,gain:0}),ee=l(R,{...s,curve:J});return{connectGraph(){I.connect(Q),I.connect(Z.inputs===void 0?Z:Z.inputs[0]),I.connect(te),Z.connect(j),j.connect(W.inputs===void 0?W:W.inputs[0]),j.connect(ee.inputs===void 0?ee:ee.inputs[0]),W.connect(Q.gain),ee.connect(te.gain),Q.connect(L,0,0),te.connect(L,0,1)},disconnectGraph(){I.disconnect(Q),I.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),I.disconnect(te),Z.disconnect(j),j.disconnect(W.inputs===void 0?W:W.inputs[0]),j.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),W.disconnect(Q.gain),ee.disconnect(te.gain),Q.disconnect(L,0,0),te.disconnect(L,0,1)}}},g=(R,I,j,L)=>{const G=new Float32Array(16385),J=new Float32Array(16385),Q=new Float32Array(16385),W=new Float32Array(16385),Z=Math.floor(16385/2);for(let ge=0;ge<16385;ge+=1)if(ge>Z){const me=(ge-Z)/(16384-Z)*S;G[ge]=Math.cos(me),J[ge]=Math.sin(me),Q[ge]=0,W[ge]=1}else{const me=ge/(16384-Z)*S;G[ge]=1,J[ge]=0,Q[ge]=Math.cos(me),W[ge]=Math.sin(me)}const te=r(R,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),ee=o(R,{...v,gain:0}),ie=l(R,{...s,curve:G}),oe=o(R,{...v,gain:0}),se=l(R,{...s,curve:J}),le=l(R,{...s,curve:_}),de=o(R,{...v,gain:0}),pe=l(R,{...s,curve:Q}),fe=o(R,{...v,gain:0}),he=l(R,{...s,curve:W});return{connectGraph(){I.connect(te),I.connect(le.inputs===void 0?le:le.inputs[0]),te.connect(ee,0),te.connect(oe,0),te.connect(de,1),te.connect(fe,1),le.connect(j),j.connect(ie.inputs===void 0?ie:ie.inputs[0]),j.connect(se.inputs===void 0?se:se.inputs[0]),j.connect(pe.inputs===void 0?pe:pe.inputs[0]),j.connect(he.inputs===void 0?he:he.inputs[0]),ie.connect(ee.gain),se.connect(oe.gain),pe.connect(de.gain),he.connect(fe.gain),ee.connect(L,0,0),de.connect(L,0,0),oe.connect(L,0,1),fe.connect(L,0,1)},disconnectGraph(){I.disconnect(te),I.disconnect(le.inputs===void 0?le:le.inputs[0]),te.disconnect(ee,0),te.disconnect(oe,0),te.disconnect(de,1),te.disconnect(fe,1),le.disconnect(j),j.disconnect(ie.inputs===void 0?ie:ie.inputs[0]),j.disconnect(se.inputs===void 0?se:se.inputs[0]),j.disconnect(pe.inputs===void 0?pe:pe.inputs[0]),j.disconnect(he.inputs===void 0?he:he.inputs[0]),ie.disconnect(ee.gain),se.disconnect(oe.gain),pe.disconnect(de.gain),he.disconnect(fe.gain),ee.disconnect(L,0,0),de.disconnect(L,0,0),oe.disconnect(L,0,1),fe.disconnect(L,0,1)}}},P=(R,I,j,L,G)=>{if(I===1)return d(R,j,L,G);if(I===2)return g(R,j,L,G);throw p()};return(R,{channelCount:I,channelCountMode:j,pan:L,...G})=>{if(j==="max")throw p();const J=e(R,{...G,channelCount:1,channelCountMode:j,numberOfInputs:2}),Q=o(R,{...G,channelCount:I,channelCountMode:j,gain:1}),W=o(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:L});let{connectGraph:Z,disconnectGraph:te}=P(R,I,Q,W,J);Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"maxValue",{get:()=>1}),Object.defineProperty(W.gain,"minValue",{get:()=>-1});const ee={get bufferSize(){},get channelCount(){return Q.channelCount},set channelCount(le){Q.channelCount!==le&&(ie&&te(),{connectGraph:Z,disconnectGraph:te}=P(R,le,Q,W,J),ie&&Z()),Q.channelCount=le},get channelCountMode(){return Q.channelCountMode},set channelCountMode(le){if(le==="clamped-max"||le==="max")throw p();Q.channelCountMode=le},get channelInterpretation(){return Q.channelInterpretation},set channelInterpretation(le){Q.channelInterpretation=le},get context(){return Q.context},get inputs(){return[Q]},get numberOfInputs(){return Q.numberOfInputs},get numberOfOutputs(){return Q.numberOfOutputs},get pan(){return W.gain},addEventListener(...le){return Q.addEventListener(le[0],le[1],le[2])},dispatchEvent(...le){return Q.dispatchEvent(le[0])},removeEventListener(...le){return Q.removeEventListener(le[0],le[1],le[2])}};let ie=!1;const oe=()=>{Z(),ie=!0},se=()=>{te(),ie=!1};return f(interceptConnections(ee,J),oe,se)}},createNativeWaveShaperNodeFactory=(e,r,o,l,p,f,O)=>(_,S)=>{const v=_.createWaveShaper();if(f!==null&&f.name==="webkitAudioContext"&&_.createGain().gain.automationRate===void 0)return o(_,S);assignNativeAudioNodeOptions(v,S);const s=S.curve===null||S.curve instanceof Float32Array?S.curve:new Float32Array(S.curve);if(s!==null&&s.length<2)throw r();assignNativeAudioNodeOption(v,{curve:s},"curve"),assignNativeAudioNodeOption(v,S,"oversample");let d=null,g=!1;return O(v,"curve",I=>()=>I.call(v),I=>j=>(I.call(v,j),g&&(l(j)&&d===null?d=e(_,v):!l(j)&&d!==null&&(d(),d=null)),j)),p(v,()=>{g=!0,l(v.curve)&&(d=e(_,v))},()=>{g=!1,d!==null&&(d(),d=null)})},createNativeWaveShaperNodeFakerFactory=(e,r,o,l,p)=>(f,{curve:O,oversample:_,...S})=>{const v=f.createWaveShaper(),s=f.createWaveShaper();assignNativeAudioNodeOptions(v,S),assignNativeAudioNodeOptions(s,S);const d=o(f,{...S,gain:1}),g=o(f,{...S,gain:-1}),P=o(f,{...S,gain:1}),R=o(f,{...S,gain:-1});let I=null,j=!1,L=null;const G={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(W){d.channelCount=W,g.channelCount=W,v.channelCount=W,P.channelCount=W,s.channelCount=W,R.channelCount=W},get channelCountMode(){return v.channelCountMode},set channelCountMode(W){d.channelCountMode=W,g.channelCountMode=W,v.channelCountMode=W,P.channelCountMode=W,s.channelCountMode=W,R.channelCountMode=W},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(W){d.channelInterpretation=W,g.channelInterpretation=W,v.channelInterpretation=W,P.channelInterpretation=W,s.channelInterpretation=W,R.channelInterpretation=W},get context(){return v.context},get curve(){return L},set curve(W){if(W!==null&&W.length<2)throw r();if(W===null)v.curve=W,s.curve=W;else{const Z=W.length,te=new Float32Array(Z+2-Z%2),ee=new Float32Array(Z+2-Z%2);te[0]=W[0],ee[0]=-W[Z-1];const ie=Math.ceil((Z+1)/2),oe=(Z+1)/2-1;for(let se=1;se<ie;se+=1){const le=se/ie*oe,de=Math.floor(le),pe=Math.ceil(le);te[se]=de===pe?W[de]:(1-(le-de))*W[de]+(1-(pe-le))*W[pe],ee[se]=de===pe?-W[Z-1-de]:-((1-(le-de))*W[Z-1-de])-(1-(pe-le))*W[Z-1-pe]}te[ie]=Z%2===1?W[ie-1]:(W[ie-2]+W[ie-1])/2,v.curve=te,s.curve=ee}L=W,j&&(l(L)&&I===null?I=e(f,d):I!==null&&(I(),I=null))},get inputs(){return[d]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get oversample(){return v.oversample},set oversample(W){v.oversample=W,s.oversample=W},addEventListener(...W){return d.addEventListener(W[0],W[1],W[2])},dispatchEvent(...W){return d.dispatchEvent(W[0])},removeEventListener(...W){return d.removeEventListener(W[0],W[1],W[2])}};O!==null&&(G.curve=O instanceof Float32Array?O:new Float32Array(O)),_!==G.oversample&&(G.oversample=_);const J=()=>{d.connect(v).connect(P),d.connect(g).connect(s).connect(R).connect(P),j=!0,l(L)&&(I=e(f,d))},Q=()=>{d.disconnect(v),v.disconnect(P),d.disconnect(g),g.disconnect(s),s.disconnect(R),R.disconnect(P),j=!1,I!==null&&(I(),I=null)};return p(interceptConnections(G,P),J,Q)},createNotSupportedError=()=>new DOMException("","NotSupportedError"),DEFAULT_OPTIONS$4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},createOscillatorNodeConstructor=(e,r,o,l,p,f,O)=>class extends e{constructor(S,v){const s=p(S),d={...DEFAULT_OPTIONS$4,...v},g=o(s,d),P=f(s),R=P?l():null,I=S.sampleRate/2;super(S,!1,g,R),this._detune=r(this,P,g.detune,153600,-153600),this._frequency=r(this,P,g.frequency,I,-I),this._nativeOscillatorNode=g,this._onended=null,this._oscillatorNodeRenderer=R,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(S){const v=typeof S=="function"?O(this,S):null;this._nativeOscillatorNode.onended=v;const s=this._nativeOscillatorNode.onended;this._onended=s!==null&&s===v?S:s}get type(){return this._nativeOscillatorNode.type}set type(S){this._nativeOscillatorNode.type=S,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(S){this._nativeOscillatorNode.setPeriodicWave(S),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=S)}start(S=0){if(this._nativeOscillatorNode.start(S),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=S),this.context.state!=="closed"){setInternalStateToActive(this);const v=()=>{this._nativeOscillatorNode.removeEventListener("ended",v),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeOscillatorNode.addEventListener("ended",v)}}stop(S=0){this._nativeOscillatorNode.stop(S),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=S)}},createOscillatorNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap;let O=null,_=null,S=null;const v=async(s,d)=>{let g=o(s);const P=isOwnedByContext(g,d);if(!P){const R={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,detune:g.detune.value,frequency:g.frequency.value,periodicWave:O===null?void 0:O,type:g.type};g=r(d,R),_!==null&&g.start(_),S!==null&&g.stop(S)}return f.set(d,g),P?(await e(d,s.detune,g.detune),await e(d,s.frequency,g.frequency)):(await l(d,s.detune,g.detune),await l(d,s.frequency,g.frequency)),await p(s,d,g),g};return{set periodicWave(s){O=s},set start(s){_=s},set stop(s){S=s},render(s,d){const g=f.get(d);return g!==void 0?Promise.resolve(g):v(s,d)}}},DEFAULT_OPTIONS$3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},createPannerNodeConstructor=(e,r,o,l,p,f,O)=>class extends e{constructor(S,v){const s=p(S),d={...DEFAULT_OPTIONS$3,...v},g=o(s,d),P=f(s),R=P?l():null;super(S,!1,g,R),this._nativePannerNode=g,this._orientationX=r(this,P,g.orientationX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationY=r(this,P,g.orientationY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationZ=r(this,P,g.orientationZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionX=r(this,P,g.positionX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionY=r(this,P,g.positionY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionZ=r(this,P,g.positionZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),O(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(S){this._nativePannerNode.coneInnerAngle=S}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(S){this._nativePannerNode.coneOuterAngle=S}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(S){this._nativePannerNode.coneOuterGain=S}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(S){this._nativePannerNode.distanceModel=S}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(S){this._nativePannerNode.maxDistance=S}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(S){this._nativePannerNode.panningModel=S}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(S){this._nativePannerNode.refDistance=S}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(S){this._nativePannerNode.rolloffFactor=S}},createPannerNodeRendererFactory=(e,r,o,l,p,f,O,_,S,v)=>()=>{const s=new WeakMap;let d=null;const g=async(P,R)=>{let I=null,j=f(P);const L={channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation},G={...L,coneInnerAngle:j.coneInnerAngle,coneOuterAngle:j.coneOuterAngle,coneOuterGain:j.coneOuterGain,distanceModel:j.distanceModel,maxDistance:j.maxDistance,panningModel:j.panningModel,refDistance:j.refDistance,rolloffFactor:j.rolloffFactor},J=isOwnedByContext(j,R);if("bufferSize"in j)I=l(R,{...L,gain:1});else if(!J){const Q={...G,orientationX:j.orientationX.value,orientationY:j.orientationY.value,orientationZ:j.orientationZ.value,positionX:j.positionX.value,positionY:j.positionY.value,positionZ:j.positionZ.value};j=p(R,Q)}if(s.set(R,I===null?j:I),I!==null){if(d===null){if(O===null)throw new Error("Missing the native OfflineAudioContext constructor.");const se=new O(6,P.context.length,R.sampleRate),le=r(se,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});le.connect(se.destination),d=(async()=>{const de=await Promise.all([P.orientationX,P.orientationY,P.orientationZ,P.positionX,P.positionY,P.positionZ].map(async(pe,fe)=>{const he=o(se,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:fe===0?1:0});return await _(se,pe,he.offset),he}));for(let pe=0;pe<6;pe+=1)de[pe].connect(le,0,pe),de[pe].start(0);return v(se)})()}const Q=await d,W=l(R,{...L,gain:1});await S(P,R,W);const Z=[];for(let se=0;se<Q.numberOfChannels;se+=1)Z.push(Q.getChannelData(se));let te=[Z[0][0],Z[1][0],Z[2][0]],ee=[Z[3][0],Z[4][0],Z[5][0]],ie=l(R,{...L,gain:1}),oe=p(R,{...G,orientationX:te[0],orientationY:te[1],orientationZ:te[2],positionX:ee[0],positionY:ee[1],positionZ:ee[2]});W.connect(ie).connect(oe.inputs[0]),oe.connect(I);for(let se=128;se<Q.length;se+=128){const le=[Z[0][se],Z[1][se],Z[2][se]],de=[Z[3][se],Z[4][se],Z[5][se]];if(le.some((pe,fe)=>pe!==te[fe])||de.some((pe,fe)=>pe!==ee[fe])){te=le,ee=de;const pe=se/R.sampleRate;ie.gain.setValueAtTime(0,pe),ie=l(R,{...L,gain:0}),oe=p(R,{...G,orientationX:te[0],orientationY:te[1],orientationZ:te[2],positionX:ee[0],positionY:ee[1],positionZ:ee[2]}),ie.gain.setValueAtTime(1,pe),W.connect(ie).connect(oe.inputs[0]),oe.connect(I)}}return I}return J?(await e(R,P.orientationX,j.orientationX),await e(R,P.orientationY,j.orientationY),await e(R,P.orientationZ,j.orientationZ),await e(R,P.positionX,j.positionX),await e(R,P.positionY,j.positionY),await e(R,P.positionZ,j.positionZ)):(await _(R,P.orientationX,j.orientationX),await _(R,P.orientationY,j.orientationY),await _(R,P.orientationZ,j.orientationZ),await _(R,P.positionX,j.positionX),await _(R,P.positionY,j.positionY),await _(R,P.positionZ,j.positionZ)),isNativeAudioNodeFaker(j)?await S(P,R,j.inputs[0]):await S(P,R,j),j};return{render(P,R){const I=s.get(R);return I!==void 0?Promise.resolve(I):g(P,R)}}},DEFAULT_OPTIONS$2={disableNormalization:!1},createPeriodicWaveConstructor=(e,r,o,l)=>class xt{constructor(f,O){const _=r(f),S=l({...DEFAULT_OPTIONS$2,...O}),v=e(_,S);return o.add(v),v}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===xt.prototype||o.has(f)}},createRenderAutomation=(e,r)=>(o,l,p)=>(e(l).replay(p),r(l,o,p)),createRenderInputsOfAudioNode=(e,r,o)=>async(l,p,f)=>{const O=e(l);await Promise.all(O.activeInputs.map((_,S)=>Array.from(_).map(async([v,s])=>{const g=await r(v).render(v,p),P=l.context.destination;!o(v)&&(l!==P||!o(l))&&g.connect(f,s,S)})).reduce((_,S)=>[..._,...S],[]))},createRenderInputsOfAudioParam=(e,r,o)=>async(l,p,f)=>{const O=r(l);await Promise.all(Array.from(O.activeInputs).map(async([_,S])=>{const s=await e(_).render(_,p);o(_)||s.connect(f,S)}))},createRenderNativeOfflineAudioContext=(e,r,o,l)=>p=>e(testPromiseSupport,()=>testPromiseSupport(p))?Promise.resolve(e(l,l)).then(f=>{if(!f){const O=o(p,512,0,1);p.oncomplete=()=>{O.onaudioprocess=null,O.disconnect()},O.onaudioprocess=()=>p.currentTime,O.connect(p.destination)}return p.startRendering()}):new Promise(f=>{const O=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});p.oncomplete=_=>{O.disconnect(),f(_.renderedBuffer)},O.connect(p.destination),p.startRendering()}),createSetAudioNodeTailTime=e=>(r,o)=>e.set(r,o),DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},createStereoPannerNodeConstructor=(e,r,o,l,p,f)=>class extends e{constructor(_,S){const v=p(_),s={...DEFAULT_OPTIONS$1,...S},d=o(v,s),g=f(v),P=g?l():null;super(_,!1,d,P),this._pan=r(this,g,d.pan)}get pan(){return this._pan}},createStereoPannerNodeRendererFactory=(e,r,o,l,p)=>()=>{const f=new WeakMap,O=async(_,S)=>{let v=o(_);const s=isOwnedByContext(v,S);if(!s){const d={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,pan:v.pan.value};v=r(S,d)}return f.set(S,v),s?await e(S,_.pan,v.pan):await l(S,_.pan,v.pan),isNativeAudioNodeFaker(v)?await p(_,S,v.inputs[0]):await p(_,S,v),v};return{render(_,S){const v=f.get(S);return v!==void 0?Promise.resolve(v):O(_,S)}}},createTestAudioBufferConstructorSupport=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(e,r)=>async()=>{if(e===null)return!0;if(r===null)return!1;const o=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),l=new r(1,128,44100),p=URL.createObjectURL(o);let f=!1,O=!1;try{await l.audioWorklet.addModule(p);const _=new e(l,"a",{numberOfOutputs:0}),S=l.createOscillator();_.port.onmessage=()=>f=!0,_.onprocessorerror=()=>O=!0,S.connect(_),S.start(0),await l.startRendering(),await new Promise(v=>setTimeout(v))}catch{}finally{URL.revokeObjectURL(p)}return f&&!O},createTestOfflineAudioContextCurrentTimeSupport=(e,r)=>()=>{if(r===null)return Promise.resolve(!1);const o=new r(1,1,44100),l=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(p=>{o.oncomplete=()=>{l.disconnect(),p(o.currentTime!==0)},o.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),DEFAULT_OPTIONS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},createWaveShaperNodeConstructor=(e,r,o,l,p,f,O)=>class extends e{constructor(S,v){const s=p(S),d={...DEFAULT_OPTIONS,...v},g=o(s,d),R=f(s)?l():null;super(S,!0,g,R),this._isCurveNullified=!1,this._nativeWaveShaperNode=g,O(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(S){if(S===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(S.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=S}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(S){this._nativeWaveShaperNode.oversample=S}},createWaveShaperNodeRendererFactory=(e,r,o)=>()=>{const l=new WeakMap,p=async(f,O)=>{let _=r(f);if(!isOwnedByContext(_,O)){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,curve:_.curve,oversample:_.oversample};_=e(O,v)}return l.set(O,_),isNativeAudioNodeFaker(_)?await o(f,O,_.inputs[0]):await o(f,O,_),_};return{render(f,O){const _=l.get(O);return _!==void 0?Promise.resolve(_):p(f,O)}}},createWindow=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(e,r)=>o=>{o.copyFromChannel=(l,p,f=0)=>{const O=e(f),_=e(p);if(_>=o.numberOfChannels)throw r();const S=o.length,v=o.getChannelData(_),s=l.length;for(let d=O<0?-O:0;d+O<S&&d<s;d+=1)l[d]=v[d+O]},o.copyToChannel=(l,p,f=0)=>{const O=e(f),_=e(p);if(_>=o.numberOfChannels)throw r();const S=o.length,v=o.getChannelData(_),s=l.length;for(let d=O<0?-O:0;d+O<S&&d<s;d+=1)v[d+O]=l[d]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=e=>r=>{r.copyFromChannel=(o=>(l,p,f=0)=>{const O=e(f),_=e(p);if(O<r.length)return o.call(r,l,_,O)})(r.copyFromChannel),r.copyToChannel=(o=>(l,p,f=0)=>{const O=e(f),_=e(p);if(O<r.length)return o.call(r,l,_,O)})(r.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=e=>(r,o)=>{const l=o.createBuffer(1,1,44100);r.buffer===null&&(r.buffer=l),e(r,"buffer",p=>()=>{const f=p.call(r);return f===l?null:f},p=>f=>p.call(r,f===null?l:f))},createWrapChannelMergerNode=(e,r)=>(o,l)=>{l.channelCount=1,l.channelCountMode="explicit",Object.defineProperty(l,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const p=o.createBufferSource();r(l,()=>{const _=l.numberOfInputs;for(let S=0;S<_;S+=1)p.connect(l,0,S)},()=>p.disconnect(l))},getFirstSample=(e,r,o)=>e.copyFromChannel===void 0?e.getChannelData(o)[0]:(e.copyFromChannel(r,o),r[0]),isDCCurve=e=>{if(e===null)return!1;const r=e.length;return r%2!==0?e[Math.floor(r/2)]!==0:e[r/2-1]+e[r/2]!==0},overwriteAccessors=(e,r,o,l)=>{let p=e;for(;!p.hasOwnProperty(r);)p=Object.getPrototypeOf(p);const{get:f,set:O}=Object.getOwnPropertyDescriptor(p,r);Object.defineProperty(e,r,{get:o(f),set:l(O)})},sanitizeChannelSplitterOptions=e=>({...e,channelCount:e.numberOfOutputs}),sanitizePeriodicWaveOptions=e=>{const{imag:r,real:o}=e;return r===void 0?o===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(o,()=>0),real:o}:o===void 0?{...e,imag:r,real:Array.from(r,()=>0)}:{...e,imag:r,real:o}},setValueAtTimeUntilPossible=(e,r,o)=>{try{e.setValueAtTime(r,o)}catch(l){if(l.code!==9)throw l;setValueAtTimeUntilPossible(e,r,o+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=e=>{const r=e.createBufferSource();r.start();try{r.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=e=>{const r=e.createBufferSource(),o=e.createBuffer(1,1,44100);r.buffer=o;try{r.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=e=>{const r=e.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=e=>{const r=e.createOscillator();try{r.start(-1)}catch(o){return o instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=e=>{const r=e.createBuffer(1,1,44100),o=e.createBufferSource();o.buffer=r,o.start(),o.stop();try{return o.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=e=>{const r=e.createOscillator();try{r.stop(-1)}catch(o){return o instanceof RangeError}return!1},wrapAudioBufferSourceNodeStartMethodOffsetClamping=e=>{e.start=(r=>(o=0,l=0,p)=>{const f=e.buffer,O=f===null?l:Math.min(f.duration,l);f!==null&&O>f.duration-.5/e.context.sampleRate?r.call(e,o,0,0):r.call(e,o,O,p)})(e.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(e,r)=>{const o=r.createGain();e.connect(o);const l=(p=>()=>{p.call(e,o),e.removeEventListener("ended",l)})(e.disconnect);e.addEventListener("ended",l),interceptConnections(e,o),e.stop=(p=>{let f=!1;return(O=0)=>{if(f)try{p.call(e,O)}catch{o.gain.setValueAtTime(0,O)}else p.call(e,O),f=!0}})(e.stop)},wrapEventListener=(e,r)=>o=>{const l={value:e};return Object.defineProperties(o,{currentTarget:l,target:l}),typeof r=="function"?r.call(e,o):r.handleEvent.call(e,o)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$2=createWindow(),createNativeAnalyserNode=createNativeAnalyserNodeFactory(cacheTestResult,createIndexSizeError),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),createAnalyserNodeRenderer=createAnalyserNodeRendererFactory(createNativeAnalyserNode,getNativeAudioNode,renderInputsOfAudioNode),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$2),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$2),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$2),isNativeAudioParam=createIsNativeAudioParam(window$2),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$2),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),analyserNodeConstructor=createAnalyserNodeConstructor(audioNodeConstructor,createAnalyserNodeRenderer,createIndexSizeError,createNativeAnalyserNode,getNativeContext,isNativeOfflineAudioContext),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$2),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),createBiquadFilterNodeRenderer=createBiquadFilterNodeRendererFactory(connectAudioParam,createNativeBiquadFilterNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),setAudioNodeTailTime=createSetAudioNodeTailTime(audioNodeTailTimeStore),biquadFilterNodeConstructor=createBiquadFilterNodeConstructor(audioNodeConstructor,createAudioParam,createBiquadFilterNodeRenderer,createInvalidAccessError,createNativeBiquadFilterNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createChannelMergerNodeRenderer=createChannelMergerNodeRendererFactory(createNativeChannelMergerNode,getNativeAudioNode,renderInputsOfAudioNode),channelMergerNodeConstructor=createChannelMergerNodeConstructor(audioNodeConstructor,createChannelMergerNodeRenderer,createNativeChannelMergerNode,getNativeContext,isNativeOfflineAudioContext),createChannelSplitterNodeRenderer=createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode,getNativeAudioNode,renderInputsOfAudioNode),channelSplitterNodeConstructor=createChannelSplitterNodeConstructor(audioNodeConstructor,createChannelSplitterNodeRenderer,createNativeChannelSplitterNode,getNativeContext,isNativeOfflineAudioContext,sanitizeChannelSplitterOptions),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),createConstantSourceNodeRenderer=createConstantSourceNodeRendererFactory(connectAudioParam,createNativeConstantSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),constantSourceNodeConstructor=createConstantSourceNodeConstructor(audioNodeConstructor,createAudioParam,createConstantSourceNodeRenderer,createNativeConstantSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createNativeConvolverNode=createNativeConvolverNodeFactory(createNotSupportedError,overwriteAccessors),createConvolverNodeRenderer=createConvolverNodeRendererFactory(createNativeConvolverNode,getNativeAudioNode,renderInputsOfAudioNode),convolverNodeConstructor=createConvolverNodeConstructor(audioNodeConstructor,createConvolverNodeRenderer,createNativeConvolverNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createDelayNodeRenderer=createDelayNodeRendererFactory(connectAudioParam,createNativeDelayNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),delayNodeConstructor=createDelayNodeConstructor(audioNodeConstructor,createAudioParam,createDelayNodeRenderer,createNativeDelayNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativeDynamicsCompressorNode=createNativeDynamicsCompressorNodeFactory(createNotSupportedError),createDynamicsCompressorNodeRenderer=createDynamicsCompressorNodeRendererFactory(connectAudioParam,createNativeDynamicsCompressorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),dynamicsCompressorNodeConstructor=createDynamicsCompressorNodeConstructor(audioNodeConstructor,createAudioParam,createDynamicsCompressorNodeRenderer,createNativeDynamicsCompressorNode,createNotSupportedError,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createGainNodeRenderer=createGainNodeRendererFactory(connectAudioParam,createNativeGainNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),gainNodeConstructor=createGainNodeConstructor(audioNodeConstructor,createAudioParam,createGainNodeRenderer,createNativeGainNode,getNativeContext,isNativeOfflineAudioContext),createNativeIIRFilterNodeFaker=createNativeIIRFilterNodeFakerFactory(createInvalidAccessError,createInvalidStateError,createNativeScriptProcessorNode,createNotSupportedError),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createIIRFilterNodeRenderer=createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderInputsOfAudioNode,renderNativeOfflineAudioContext),createNativeIIRFilterNode=createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker),iIRFilterNodeConstructor=createIIRFilterNodeConstructor(audioNodeConstructor,createNativeIIRFilterNode,createIIRFilterNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener),createNativeOscillatorNode=createNativeOscillatorNodeFactory(addSilentConnection,cacheTestResult,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),createOscillatorNodeRenderer=createOscillatorNodeRendererFactory(connectAudioParam,createNativeOscillatorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),oscillatorNodeConstructor=createOscillatorNodeConstructor(audioNodeConstructor,createAudioParam,createNativeOscillatorNode,createOscillatorNodeRenderer,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createConnectedNativeAudioBufferSourceNode=createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode),createNativeWaveShaperNodeFaker=createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeGainNode,isDCCurve,monitorConnections),createNativeWaveShaperNode=createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeWaveShaperNodeFaker,isDCCurve,monitorConnections,nativeAudioContextConstructor,overwriteAccessors),createNativePannerNodeFaker=createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode,createInvalidStateError,createNativeChannelMergerNode,createNativeGainNode,createNativeScriptProcessorNode,createNativeWaveShaperNode,createNotSupportedError,disconnectNativeAudioNodeFromNativeAudioNode,getFirstSample,monitorConnections),createNativePannerNode=createNativePannerNodeFactory(createNativePannerNodeFaker),createPannerNodeRenderer=createPannerNodeRendererFactory(connectAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeGainNode,createNativePannerNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),pannerNodeConstructor=createPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativePannerNode,createPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativePeriodicWave=createNativePeriodicWaveFactory(createIndexSizeError),periodicWaveConstructor=createPeriodicWaveConstructor(createNativePeriodicWave,getNativeContext,new WeakSet,sanitizePeriodicWaveOptions),nativeStereoPannerNodeFakerFactory=createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeGainNode,createNativeWaveShaperNode,createNotSupportedError,monitorConnections),createNativeStereoPannerNode=createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory,createNotSupportedError),createStereoPannerNodeRenderer=createStereoPannerNodeRendererFactory(connectAudioParam,createNativeStereoPannerNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),stereoPannerNodeConstructor=createStereoPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativeStereoPannerNode,createStereoPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext),createWaveShaperNodeRenderer=createWaveShaperNodeRendererFactory(createNativeWaveShaperNode,getNativeAudioNode,renderInputsOfAudioNode),waveShaperNodeConstructor=createWaveShaperNodeConstructor(audioNodeConstructor,createInvalidStateError,createNativeWaveShaperNode,createWaveShaperNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),isSecureContext=createIsSecureContext(window$2),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$2),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$2),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$2):void 0,isNativeContext=createIsNativeContext(isNativeAudioContext,isNativeOfflineAudioContext),decodeAudioData=createDecodeAudioData(audioBufferStore,cacheTestResult,createDataCloneError,createEncodingError,new WeakSet,getNativeContext,isNativeContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,testPromiseSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),baseAudioContextConstructor=createBaseAudioContextConstructor(addAudioWorkletModule,analyserNodeConstructor,audioBufferConstructor,audioBufferSourceNodeConstructor,biquadFilterNodeConstructor,channelMergerNodeConstructor,channelSplitterNodeConstructor,constantSourceNodeConstructor,convolverNodeConstructor,decodeAudioData,delayNodeConstructor,dynamicsCompressorNodeConstructor,gainNodeConstructor,iIRFilterNodeConstructor,minimalBaseAudioContextConstructor,oscillatorNodeConstructor,pannerNodeConstructor,periodicWaveConstructor,stereoPannerNodeConstructor,waveShaperNodeConstructor),mediaElementAudioSourceNodeConstructor=createMediaElementAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaElementAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioDestinationNodeConstructor=createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioDestinationNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),createNativeMediaStreamTrackAudioSourceNode=createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError,isNativeOfflineAudioContext),mediaStreamTrackAudioSourceNodeConstructor=createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamTrackAudioSourceNode,getNativeContext),audioContextConstructor=createAudioContextConstructor(baseAudioContextConstructor,createInvalidStateError,createNotSupportedError,createUnknownError,mediaElementAudioSourceNodeConstructor,mediaStreamAudioDestinationNodeConstructor,mediaStreamAudioSourceNodeConstructor,mediaStreamTrackAudioSourceNodeConstructor,nativeAudioContextConstructor),WhiteNoise="whiteNoise",PinkNoise="pinkNoise",BrownNoise="brownNoise",NoiseTypes=[WhiteNoise,PinkNoise,BrownNoise];function makeNoiseNode(e,r,o,l){const p=e.sampleRate*o,f=new audioBufferConstructor({length:p,sampleRate:e.sampleRate,numberOfChannels:2}),O=f.getChannelData(0),_=f.getChannelData(0);let S={p0:0,p1:0,p2:0,p3:0,p4:0,p5:0,p6:0,o:0};for(let s=0;s<p;s++)r===PinkNoise?(PinkNoiseFunction(S),O[s]=S.o):r===BrownNoise?(BrownNoiseFunction(S),O[s]=S.o):O[s]=WhiteNoiseFunction(),_[s]=O[s];const v=e.createBufferSource();return v.buffer=f,v}function WhiteNoiseFunction(){return Math.random()*2-1}function PinkNoiseFunction(e){let r=WhiteNoiseFunction();e.p0=.99886*e.p0+r*.0555179,e.p1=.99332*e.p1+r*.0750759,e.p2=.969*e.p2+r*.153852,e.p3=.8665*e.p3+r*.3104856,e.p4=.55*e.p4+r*.5329522,e.p5=-.7616*e.p5-r*.016898,e.o=e.p0+e.p1+e.p2+e.p3+e.p4+e.p5+e.p6+r*.5362,e.o*=.11,e.p6=r*.115926}function BrownNoiseFunction(e){let r=WhiteNoiseFunction();e.o=(e.p0+.02*r)/1.02,e.p0=e.o,e.o*=3.5}class BiquadFilter{constructor(r){this.ctx=r,this.filter=r.createBiquadFilter(),this.destination=this.filter}initialize(r){this.filter.gain.setValueAtTime(1,r)}connect(r){this.filter.connect(r)}disconnect(r){this.filter.disconnect(r)}}class LowpassBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="lowpass",this.destination=this.filter}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class HighpassBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="highpass",this.destination=this.filter}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class BandpassBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="bandpass",this.destination=this.filter}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class LowshelfBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="lowshelf",this.destination=this.filter,this.useGain=!0}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class HighshelfBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="highshelf",this.destination=this.filter,this.useGain=!0}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class PeakingBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="peaking",this.destination=this.filter,this.useGain=!0}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class NotchBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="notch",this.destination=this.filter}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}class AllpassBiquadFilter extends BiquadFilter{constructor(r){super(r),this.filter.type="allpass",this.destination=this.filter}connect(r){this.destination.connect(r)}disconnect(r){this.destination.disconnect(r)}}function BiquadEncoder(e,r,o){var l,p,f,O,_;e.useGain&&(o>0?e.filter.gain.linearRampToValueAtTime(((l=r==null?void 0:r.others)==null?void 0:l.biquadGain)||1,o):e.filter.gain.setValueAtTime(((p=r==null?void 0:r.others)==null?void 0:p.biquadGain)||1,o)),((f=r==null?void 0:r.others)==null?void 0:f.biquadPitch)!==void 0&&(o>0?e.filter.frequency.linearRampToValueAtTime(r.others.biquadPitch||1,o):e.filter.frequency.setValueAtTime(r.others.biquadPitch||1,o)),((O=r==null?void 0:r.others)==null?void 0:O.biquadQ)!==void 0&&(o>0?e.filter.Q.linearRampToValueAtTime(r.others.biquadQ||1,o):e.filter.Q.setValueAtTime(r.others.biquadQ||1,o)),((_=r==null?void 0:r.others)==null?void 0:_.biquadDetune)!==void 0&&(o>0?e.filter.detune.linearRampToValueAtTime(r.others.biquadDetune||1,o):e.filter.detune.setValueAtTime(r.others.biquadDetune||1,o))}function BiquadFinisher(e,r,o,l){var p,f,O;e.useGain&&e.filter.gain.setValueAtTime((r==null?void 0:r.others.biquadGain)||1,o+l),((p=r==null?void 0:r.others)==null?void 0:p.biquadPitch)!==void 0&&e.filter.frequency.setValueAtTime(r.others.biquadPitch||1,o+l),((f=r==null?void 0:r.others)==null?void 0:f.biquadQ)!==void 0&&e.filter.Q.setValueAtTime(r.others.biquadQ||1,o+l),((O=r==null?void 0:r.others)==null?void 0:O.biquadDetune)!==void 0&&e.filter.detune.setValueAtTime(r.others.biquadDetune||1,o+l)}class DefaultDynamicCompressor{constructor(r){this.ctx=r,this.compressor=r.createDynamicsCompressor(),this.destination=this.compressor}initialize(){this.compressor.attack.value=20,this.compressor.knee.value=40,this.compressor.ratio.value=18,this.compressor.release.value=.25,this.compressor.threshold.value=-50}finisher(){}connect(r){this.compressor.connect(r)}disconnect(r){this.compressor.disconnect(r)}}function CompressorEncoder(e,r,o){r.others.dcAttack!==void 0&&e.compressor.attack.linearRampToValueAtTime(r.others.dcAttack||1,o),r.others.dcKnee!==void 0&&e.compressor.knee.linearRampToValueAtTime(r.others.dcKnee||1,o),r.others.dcRatio!==void 0&&e.compressor.ratio.linearRampToValueAtTime(r.others.dcRatio||1,o),r.others.dcReduction!==void 0&&e.compressor.release.linearRampToValueAtTime(r.others.dcReduction||1,o),r.others.dcThreshold!==void 0&&e.compressor.threshold.linearRampToValueAtTime(r.others.dcThreshold||1,o)}function CompressorFinisher(e,r,o,l){}class DistortionFilter{constructor(r){this.ctx=r,this.distortion=r.createWaveShaper(),this.destination=this.distortion}initialize(r,o){this.distortion.curve=makeDistortionCurve(o)}finisher(){}connect(r){this.distortion.connect(r)}disconnect(r){this.distortion.disconnect(r)}}function makeDistortionCurve(e){const r=typeof e=="number"?e:50,o=44100,l=new Float32Array(o),p=Math.PI/180;for(let f=0;f<o;f++){const O=f*2/o-1;l[f]=(3+r)*O*10*p/(Math.PI+r*Math.abs(O))}return l}function DistortionEncoder(e,r,o){r.others.distortion!==void 0?e.distortion.curve=makeDistortionCurve(r.others.distortion):e.distortion.curve=makeDistortionCurve(100)}function DistortionFinisher(e,r,o,l){e.distortion.curve=makeDistortionCurve(50)}class GainerFilter{constructor(r){this.ctx=r,this.attackTime=.1,this.releaseTime=.1,this.gainer=r.createGain(),this.destination=this.gainer}initialize(r){this.gainer.gain.cancelScheduledValues(r),this.gainer.gain.setValueAtTime(0,r)}finisher(r,o){this.gainer.gain.linearRampToValueAtTime(0,(r||0)+(o||1)-this.releaseTime)}connect(r){this.gainer.connect(r)}disconnect(r){this.gainer.disconnect(r)}}function GainerEncoder(e,r,o){var l;e.gainer.gain.linearRampToValueAtTime(((l=r.others)==null?void 0:l.gain2)||1,o+e.attackTime)}function GainerFinisher(e,r,o,l){e.gainer.gain.linearRampToValueAtTime(0,(o||0)+(l||1)-e.releaseTime)}const NOM="nominal",ORD="ordinal",QUANT="quantitative",TMP="temporal",STATIC="static",POS$1="positive",NEG="negative",TIME_chn="time",TIME2_chn="time2",DUR_chn="duration",TAPCNT_chn="tapCount",TAPSPD_chn="tapSpeed",POST_REVERB_chn="postReverb",PITCH_chn="pitch",DETUNE_chn="detune",LOUDNESS_chn="loudness",PAN_chn="pan",SPEECH_chn="speech",SPEECH_BEFORE_chn="speechBefore",SPEECH_AFTER_chn="speechAfter",TIMBRE_chn="timbre",REPEAT_chn="repeat",MODULATION_chn="modulation",HARMONICITY_chn="harmonicity",MIN_TIME=0,MIN_PITCH=207.65,MAX_PITCH=1600,MAX_LIMIT_PITCH=3e3,MAX_DETUNE=1200,MIN_DETUNE=-1200,MIN_LOUD=0,MAX_LOUD=10,MIN_PAN=-1,MAX_PAN=1,MIN_DUR=0,MAX_DUR=20,DEF_DUR=.5,MAX_POST_REVERB=4,MAX_TAP_COUNT=25,MIN_TAP_SPEED=0,MAX_TAP_SPEED=5,MAX_LIMIT_TAP_SPEED=7,DEF_SPEECH_RATE=1.75,ChannelThresholds={[TIME_chn]:{min:0},[PITCH_chn]:{max:MAX_PITCH,min:MIN_PITCH},[DETUNE_chn]:{max:MAX_DETUNE,min:MIN_DETUNE},[LOUDNESS_chn]:{max:MAX_LOUD,min:MIN_LOUD},[PAN_chn]:{max:MAX_PAN,min:MIN_PAN},[DUR_chn]:{max:MAX_DUR,min:MIN_DUR},[POST_REVERB_chn]:{max:MAX_POST_REVERB,min:0},[TAPCNT_chn]:{max:MAX_TAP_COUNT,min:0},[TAPSPD_chn]:{max:MAX_TAP_SPEED,min:MIN_TAP_SPEED}},ChannelCaps={[TIME_chn]:{max:1/0,min:MIN_TIME},[PITCH_chn]:{max:MAX_LIMIT_PITCH,min:0},[DETUNE_chn]:{max:MAX_DETUNE,min:MIN_DETUNE},[LOUDNESS_chn]:{max:1/0,min:-1/0},[PAN_chn]:{max:MAX_PAN,min:MIN_PAN},[DUR_chn]:{max:1/0,min:MIN_DUR},[POST_REVERB_chn]:{max:1/0,min:0},[TAPCNT_chn]:{max:1/0,min:0},[TAPSPD_chn]:{max:MAX_LIMIT_TAP_SPEED,min:MIN_TAP_SPEED}},TimeChannels=[TIME_chn,TIME2_chn],SpeechChannels=[SPEECH_chn,SPEECH_BEFORE_chn,SPEECH_AFTER_chn],TapChannels=[TAPCNT_chn,TAPSPD_chn],DefaultChannels=[TIME_chn,TIME2_chn,PITCH_chn,DETUNE_chn,LOUDNESS_chn,PAN_chn,DUR_chn,SPEECH_chn,SPEECH_BEFORE_chn,SPEECH_AFTER_chn,POST_REVERB_chn,TAPCNT_chn,TAPSPD_chn,MODULATION_chn,HARMONICITY_chn],SQRT="sqrt",POW="pow",LOG="log",SYMLOG="symlog",REL_TIMING="relative",SIM_TIMING="simultaneous",DEF_TAP_PAUSE_RATE=.4,MAX_TAPPING_DUR=.3,DEF_TAPPING_DUR=.2,DEF_TAPPING_DUR_BEAT=1,DEF_TAP_DUR=2,DEF_TAP_DUR_BEAT=4,SINGLE_TAP_MIDDLE="middle",SINGLE_TAP_START="start",ScaleDescriptionOrder=[REPEAT_chn,TIME_chn,TIMBRE_chn,DUR_chn,TAPCNT_chn,TAPSPD_chn,PITCH_chn,DETUNE_chn,LOUDNESS_chn,PAN_chn,MODULATION_chn,HARMONICITY_chn,POST_REVERB_chn],SKIP$3="skip",NONSKIP="nonskip",SEQUENCE="sequence",OVERLAY="overlay",RampMethods=[!0,!1,"abrupt","linear","exponential"],PresetFilters={gainer:{filter:GainerFilter,encoder:GainerEncoder,finisher:GainerFinisher},lowpass:{filter:LowpassBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},highpass:{filter:HighpassBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},bandpass:{filter:BandpassBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},lowshelf:{filter:LowshelfBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},highshelf:{filter:HighshelfBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},peaking:{filter:PeakingBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},notch:{filter:NotchBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},allpass:{filter:AllpassBiquadFilter,encoder:BiquadEncoder,finisher:BiquadFinisher},defaultCompressor:{filter:DefaultDynamicCompressor,encoder:CompressorEncoder,finisher:CompressorFinisher},distortion:{filter:DistortionFilter,encoder:DistortionEncoder,finisher:DistortionFinisher}},FilterExtraChannelTypes={gain2:{type:LOUDNESS_chn},biquadDetune:{type:DETUNE_chn},biquadPitch:{type:PITCH_chn}};function isBrowserEventPossible(){var e;return typeof document=="object"&&((e=document==null?void 0:document.body)==null?void 0:e.dispatchEvent)}function sendToneStartEvent(e){if(isBrowserEventPossible()){let r=new CustomEvent("erieOnPlayTone",{detail:e});document.body.dispatchEvent(r);let o=new CustomEvent("erieOnStatusChange",{detail:{status:"tone-started"}});document.body.dispatchEvent(o)}}function sendToneFinishEvent(e){if(isBrowserEventPossible()){let r=new CustomEvent("erieOnFinishTone",{detail:e});document.body.dispatchEvent(r);let o=new CustomEvent("erieOnStatusChange",{detail:{status:"tone-finished"}});document.body.dispatchEvent(o)}}function sendSpeechStartEvent(e){if(isBrowserEventPossible()){let r=new CustomEvent("erieOnPlaySpeech",{detail:e});document.body.dispatchEvent(r);let o=new CustomEvent("erieOnStatusChange",{detail:{status:"speech-started"}});document.body.dispatchEvent(o)}}function sendSpeechFinishEvent(e){if(isBrowserEventPossible()){let r=new CustomEvent("erieOnFinishSpeech",{detail:e});document.body.dispatchEvent(r);let o=new CustomEvent("erieOnStatusChange",{detail:{status:"speech-finished"}});document.body.dispatchEvent(o)}}function sendQueueStartEvent(e){if(isBrowserEventPossible()){let r=new CustomEvent("erieOnPlayQueue",{detail:e});document.body.dispatchEvent(r);let o=new CustomEvent("erieOnStatusChange",{detail:{status:"started"}});document.body.dispatchEvent(o)}}function sendQueueFinishEvent(e){if(isBrowserEventPossible()){let r=new CustomEvent("erieOnFinishQueue",{detail:e});document.body.dispatchEvent(r);let o=new CustomEvent("erieOnStatusChange",{detail:{status:"finished"}});document.body.dispatchEvent(o)}}function emitNotePlayEvent(e,r){isBrowserEventPossible()&&document.body.dispatchEvent(new CustomEvent("erieOnNotePlay",{detail:{type:e,note:r}}))}function emitNoteStopEvent(e,r){isBrowserEventPossible()&&document.body.dispatchEvent(new CustomEvent("erieOnNoteStop",{detail:{type:e,note:r}}))}let ErieGlobalSynth;async function WebSpeechGenerator(e,r,o,l,p){var O,_;ErieGlobalSynth||(ErieGlobalSynth=window.speechSynthesis);var f=new SpeechSynthesisUtterance(e.speech);(r==null?void 0:r.speechRate)!==void 0?f.rate=r==null?void 0:r.speechRate:(e==null?void 0:e.speechRate)!==void 0&&(f.rate=e==null?void 0:e.speechRate),(e==null?void 0:e.pitch)!==void 0&&(f.pitch=e.pitch),(e==null?void 0:e.loudness)!==void 0&&(f.volume=e.loudness),e!=null&&e.language?f.lang=bcp47language.includes(e.language)?e.language:(O=(typeof document!==void 0?document:{}).documentElement)==null?void 0:O.lang:f.lang=(_=(typeof document!==void 0?document:{}).documentElement)==null?void 0:_.lang,o(),ErieGlobalSynth.speak(f),setErieGlobalControl({type:Speech,player:ErieGlobalSynth}),f.onend=()=>{l(),p&&p()}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var o=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var p=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(o,l,p.get?p:{enumerable:!0,get:function(){return e[l]}})}),o}var src$6={},v1$3={},text_to_speech_client$1={};const nested$4={google:{nested:{cloud:{nested:{texttospeech:{nested:{v1:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.Cloud.TextToSpeech.V1",go_package:"cloud.google.com/go/texttospeech/apiv1/texttospeechpb;texttospeechpb",java_multiple_files:!0,java_outer_classname:"TextToSpeechLongAudioSynthesisProto",java_package:"com.google.cloud.texttospeech.v1",php_namespace:"Google\\Cloud\\TextToSpeech\\V1",ruby_package:"Google::Cloud::TextToSpeech::V1","(google.api.resource_definition).type":"automl.googleapis.com/Model","(google.api.resource_definition).pattern":"projects/{project}/locations/{location}/models/{model}"},nested:{TextToSpeech:{options:{"(google.api.default_host)":"texttospeech.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},methods:{ListVoices:{requestType:"ListVoicesRequest",responseType:"ListVoicesResponse",options:{"(google.api.http).get":"/v1/voices","(google.api.method_signature)":"language_code"},parsedOptions:[{"(google.api.http)":{get:"/v1/voices"}},{"(google.api.method_signature)":"language_code"}]},SynthesizeSpeech:{requestType:"SynthesizeSpeechRequest",responseType:"SynthesizeSpeechResponse",options:{"(google.api.http).post":"/v1/text:synthesize","(google.api.http).body":"*","(google.api.method_signature)":"input,voice,audio_config"},parsedOptions:[{"(google.api.http)":{post:"/v1/text:synthesize",body:"*"}},{"(google.api.method_signature)":"input,voice,audio_config"}]}}},SsmlVoiceGender:{values:{SSML_VOICE_GENDER_UNSPECIFIED:0,MALE:1,FEMALE:2,NEUTRAL:3}},AudioEncoding:{values:{AUDIO_ENCODING_UNSPECIFIED:0,LINEAR16:1,MP3:2,OGG_OPUS:3,MULAW:5,ALAW:6}},ListVoicesRequest:{fields:{languageCode:{type:"string",id:1,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},ListVoicesResponse:{fields:{voices:{rule:"repeated",type:"Voice",id:1}}},Voice:{fields:{languageCodes:{rule:"repeated",type:"string",id:1},name:{type:"string",id:2},ssmlGender:{type:"SsmlVoiceGender",id:3},naturalSampleRateHertz:{type:"int32",id:4}}},SynthesizeSpeechRequest:{fields:{input:{type:"SynthesisInput",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},voice:{type:"VoiceSelectionParams",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},audioConfig:{type:"AudioConfig",id:3,options:{"(google.api.field_behavior)":"REQUIRED"}}}},SynthesisInput:{oneofs:{inputSource:{oneof:["text","ssml"]}},fields:{text:{type:"string",id:1},ssml:{type:"string",id:2}}},VoiceSelectionParams:{fields:{languageCode:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},name:{type:"string",id:2},ssmlGender:{type:"SsmlVoiceGender",id:3},customVoice:{type:"CustomVoiceParams",id:4}}},AudioConfig:{fields:{audioEncoding:{type:"AudioEncoding",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},speakingRate:{type:"double",id:2,options:{"(google.api.field_behavior)":"OPTIONAL"}},pitch:{type:"double",id:3,options:{"(google.api.field_behavior)":"OPTIONAL"}},volumeGainDb:{type:"double",id:4,options:{"(google.api.field_behavior)":"OPTIONAL"}},sampleRateHertz:{type:"int32",id:5,options:{"(google.api.field_behavior)":"OPTIONAL"}},effectsProfileId:{rule:"repeated",type:"string",id:6,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},CustomVoiceParams:{fields:{model:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"automl.googleapis.com/Model"}},reportedUsage:{type:"ReportedUsage",id:3,options:{deprecated:!0,"(google.api.field_behavior)":"OPTIONAL"}}},nested:{ReportedUsage:{values:{REPORTED_USAGE_UNSPECIFIED:0,REALTIME:1,OFFLINE:2}}}},SynthesizeSpeechResponse:{fields:{audioContent:{type:"bytes",id:1}}},TextToSpeechLongAudioSynthesize:{options:{"(google.api.default_host)":"texttospeech.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},methods:{SynthesizeLongAudio:{requestType:"SynthesizeLongAudioRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{parent=projects/*/locations/*}:synthesizeLongAudio","(google.api.http).body":"*","(google.longrunning.operation_info).response_type":"google.cloud.texttospeech.v1.SynthesizeLongAudioResponse","(google.longrunning.operation_info).metadata_type":"google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/locations/*}:synthesizeLongAudio",body:"*"}},{"(google.longrunning.operation_info)":{response_type:"google.cloud.texttospeech.v1.SynthesizeLongAudioResponse",metadata_type:"google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata"}}]}}},SynthesizeLongAudioRequest:{fields:{parent:{type:"string",id:1},input:{type:"SynthesisInput",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},audioConfig:{type:"AudioConfig",id:3,options:{"(google.api.field_behavior)":"REQUIRED"}},outputGcsUri:{type:"string",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},voice:{type:"VoiceSelectionParams",id:5,options:{"(google.api.field_behavior)":"REQUIRED"}}}},SynthesizeLongAudioResponse:{fields:{}},SynthesizeLongAudioMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},lastUpdateTime:{type:"google.protobuf.Timestamp",id:2,options:{deprecated:!0}},progressPercentage:{type:"double",id:3}}}}},v1beta1:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.Cloud.TextToSpeech.V1Beta1",go_package:"cloud.google.com/go/texttospeech/apiv1beta1/texttospeechpb;texttospeechpb",java_multiple_files:!0,java_outer_classname:"TextToSpeechLongAudioSynthesisProto",java_package:"com.google.cloud.texttospeech.v1beta1",php_namespace:"Google\\Cloud\\TextToSpeech\\V1beta1",ruby_package:"Google::Cloud::TextToSpeech::V1beta1","(google.api.resource_definition).type":"automl.googleapis.com/Model","(google.api.resource_definition).pattern":"projects/{project}/locations/{location}/models/{model}"},nested:{TextToSpeech:{options:{"(google.api.default_host)":"texttospeech.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},methods:{ListVoices:{requestType:"ListVoicesRequest",responseType:"ListVoicesResponse",options:{"(google.api.http).get":"/v1beta1/voices","(google.api.method_signature)":"language_code"},parsedOptions:[{"(google.api.http)":{get:"/v1beta1/voices"}},{"(google.api.method_signature)":"language_code"}]},SynthesizeSpeech:{requestType:"SynthesizeSpeechRequest",responseType:"SynthesizeSpeechResponse",options:{"(google.api.http).post":"/v1beta1/text:synthesize","(google.api.http).body":"*","(google.api.method_signature)":"input,voice,audio_config"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/text:synthesize",body:"*"}},{"(google.api.method_signature)":"input,voice,audio_config"}]}}},SsmlVoiceGender:{values:{SSML_VOICE_GENDER_UNSPECIFIED:0,MALE:1,FEMALE:2,NEUTRAL:3}},AudioEncoding:{values:{AUDIO_ENCODING_UNSPECIFIED:0,LINEAR16:1,MP3:2,MP3_64_KBPS:4,OGG_OPUS:3,MULAW:5,ALAW:6}},ListVoicesRequest:{fields:{languageCode:{type:"string",id:1,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},ListVoicesResponse:{fields:{voices:{rule:"repeated",type:"Voice",id:1}}},Voice:{fields:{languageCodes:{rule:"repeated",type:"string",id:1},name:{type:"string",id:2},ssmlGender:{type:"SsmlVoiceGender",id:3},naturalSampleRateHertz:{type:"int32",id:4}}},SynthesizeSpeechRequest:{fields:{input:{type:"SynthesisInput",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},voice:{type:"VoiceSelectionParams",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},audioConfig:{type:"AudioConfig",id:3,options:{"(google.api.field_behavior)":"REQUIRED"}},enableTimePointing:{rule:"repeated",type:"TimepointType",id:4}},nested:{TimepointType:{values:{TIMEPOINT_TYPE_UNSPECIFIED:0,SSML_MARK:1}}}},SynthesisInput:{oneofs:{inputSource:{oneof:["text","ssml"]}},fields:{text:{type:"string",id:1},ssml:{type:"string",id:2}}},VoiceSelectionParams:{fields:{languageCode:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},name:{type:"string",id:2},ssmlGender:{type:"SsmlVoiceGender",id:3},customVoice:{type:"CustomVoiceParams",id:4}}},AudioConfig:{fields:{audioEncoding:{type:"AudioEncoding",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},speakingRate:{type:"double",id:2,options:{"(google.api.field_behavior)":"OPTIONAL"}},pitch:{type:"double",id:3,options:{"(google.api.field_behavior)":"OPTIONAL"}},volumeGainDb:{type:"double",id:4,options:{"(google.api.field_behavior)":"OPTIONAL"}},sampleRateHertz:{type:"int32",id:5,options:{"(google.api.field_behavior)":"OPTIONAL"}},effectsProfileId:{rule:"repeated",type:"string",id:6,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},CustomVoiceParams:{fields:{model:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"automl.googleapis.com/Model"}},reportedUsage:{type:"ReportedUsage",id:3,options:{deprecated:!0,"(google.api.field_behavior)":"OPTIONAL"}}},nested:{ReportedUsage:{values:{REPORTED_USAGE_UNSPECIFIED:0,REALTIME:1,OFFLINE:2}}}},SynthesizeSpeechResponse:{fields:{audioContent:{type:"bytes",id:1},timepoints:{rule:"repeated",type:"Timepoint",id:2},audioConfig:{type:"AudioConfig",id:4}}},Timepoint:{fields:{markName:{type:"string",id:4},timeSeconds:{type:"double",id:3}}},TextToSpeechLongAudioSynthesize:{options:{"(google.api.default_host)":"texttospeech.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},methods:{SynthesizeLongAudio:{requestType:"SynthesizeLongAudioRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1beta1/{parent=projects/*/locations/*}:synthesizeLongAudio","(google.api.http).body":"*","(google.longrunning.operation_info).response_type":"google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse","(google.longrunning.operation_info).metadata_type":"google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{parent=projects/*/locations/*}:synthesizeLongAudio",body:"*"}},{"(google.longrunning.operation_info)":{response_type:"google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse",metadata_type:"google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata"}}]}}},SynthesizeLongAudioRequest:{fields:{parent:{type:"string",id:1},input:{type:"SynthesisInput",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},audioConfig:{type:"AudioConfig",id:3,options:{"(google.api.field_behavior)":"REQUIRED"}},outputGcsUri:{type:"string",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},voice:{type:"VoiceSelectionParams",id:5,options:{"(google.api.field_behavior)":"REQUIRED"}}}},SynthesizeLongAudioResponse:{fields:{}},SynthesizeLongAudioMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},lastUpdateTime:{type:"google.protobuf.Timestamp",id:2,options:{deprecated:!0}},progressPercentage:{type:"double",id:3}}}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ResourceProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},CommonLanguageSettings:{fields:{referenceDocsUri:{type:"string",id:1,options:{deprecated:!0}},destinations:{rule:"repeated",type:"ClientLibraryDestination",id:2}}},ClientLibrarySettings:{fields:{version:{type:"string",id:1},launchStage:{type:"LaunchStage",id:2},restNumericEnums:{type:"bool",id:3},javaSettings:{type:"JavaSettings",id:21},cppSettings:{type:"CppSettings",id:22},phpSettings:{type:"PhpSettings",id:23},pythonSettings:{type:"PythonSettings",id:24},nodeSettings:{type:"NodeSettings",id:25},dotnetSettings:{type:"DotnetSettings",id:26},rubySettings:{type:"RubySettings",id:27},goSettings:{type:"GoSettings",id:28}}},Publishing:{fields:{methodSettings:{rule:"repeated",type:"MethodSettings",id:2},newIssueUri:{type:"string",id:101},documentationUri:{type:"string",id:102},apiShortName:{type:"string",id:103},githubLabel:{type:"string",id:104},codeownerGithubTeams:{rule:"repeated",type:"string",id:105},docTagPrefix:{type:"string",id:106},organization:{type:"ClientLibraryOrganization",id:107},librarySettings:{rule:"repeated",type:"ClientLibrarySettings",id:109},protoReferenceDocumentationUri:{type:"string",id:110}}},JavaSettings:{fields:{libraryPackage:{type:"string",id:1},serviceClassNames:{keyType:"string",type:"string",id:2},common:{type:"CommonLanguageSettings",id:3}}},CppSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PhpSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PythonSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},NodeSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},DotnetSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},renamedServices:{keyType:"string",type:"string",id:2},renamedResources:{keyType:"string",type:"string",id:3},ignoredResources:{rule:"repeated",type:"string",id:4},forcedNamespaceAliases:{rule:"repeated",type:"string",id:5},handwrittenSignatures:{rule:"repeated",type:"string",id:6}}},RubySettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},GoSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},MethodSettings:{fields:{selector:{type:"string",id:1},longRunning:{type:"LongRunning",id:2},autoPopulatedFields:{rule:"repeated",type:"string",id:3}},nested:{LongRunning:{fields:{initialPollDelay:{type:"google.protobuf.Duration",id:1},pollDelayMultiplier:{type:"float",id:2},maxPollDelay:{type:"google.protobuf.Duration",id:3},totalPollTimeout:{type:"google.protobuf.Duration",id:4}}}}},ClientLibraryOrganization:{values:{CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED:0,CLOUD:1,ADS:2,PHOTOS:3,STREET_VIEW:4,SHOPPING:5,GEO:6,GENERATIVE_AI:7}},ClientLibraryDestination:{values:{CLIENT_LIBRARY_DESTINATION_UNSPECIFIED:0,GITHUB:10,PACKAGE_MANAGER:20}},LaunchStage:{values:{LAUNCH_STAGE_UNSPECIFIED:0,UNIMPLEMENTED:6,PRELAUNCH:7,EARLY_ACCESS:1,ALPHA:2,BETA:3,GA:4,DEPRECATED:5}},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7,IDENTIFIER:8}},resourceReference:{type:"google.api.ResourceReference",id:1055,extend:"google.protobuf.FieldOptions"},resourceDefinition:{rule:"repeated",type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.FileOptions"},resource:{type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.MessageOptions"},ResourceDescriptor:{fields:{type:{type:"string",id:1},pattern:{rule:"repeated",type:"string",id:2},nameField:{type:"string",id:3},history:{type:"History",id:4},plural:{type:"string",id:5},singular:{type:"string",id:6},style:{rule:"repeated",type:"Style",id:10}},nested:{History:{values:{HISTORY_UNSPECIFIED:0,ORIGINALLY_SINGLE_PATTERN:1,FUTURE_MULTI_PATTERN:2}},Style:{values:{STYLE_UNSPECIFIED:0,DECLARATIVE_FRIENDLY:1}}}},ResourceReference:{fields:{type:{type:"string",id:1},childType:{type:"string",id:2}}}}},protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},Edition:{values:{EDITION_UNKNOWN:0,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},unverifiedLazy:{type:"bool",id:15,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},debugRedact:{type:"bool",id:16,options:{default:!1}},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19,options:{packed:!1}},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}}}},OneofOptions:{fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},extensions:[[1e3,1e3],[1001,1001],[9995,9999]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}}}},FeatureSetDefaults:{fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},features:{type:"FeatureSet",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Empty:{fields:{}},Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},longrunning:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.LongRunning",go_package:"cloud.google.com/go/longrunning/autogen/longrunningpb;longrunningpb",java_multiple_files:!0,java_outer_classname:"OperationsProto",java_package:"com.google.longrunning",php_namespace:"Google\\LongRunning"},nested:{operationInfo:{type:"google.longrunning.OperationInfo",id:1049,extend:"google.protobuf.MethodOptions"},Operations:{options:{"(google.api.default_host)":"longrunning.googleapis.com"},methods:{ListOperations:{requestType:"ListOperationsRequest",responseType:"ListOperationsResponse",options:{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},GetOperation:{requestType:"GetOperationRequest",responseType:"Operation",options:{"(google.api.http).get":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},DeleteOperation:{requestType:"DeleteOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},CancelOperation:{requestType:"CancelOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=operations/**}:cancel",body:"*"}},{"(google.api.method_signature)":"name"}]},WaitOperation:{requestType:"WaitOperationRequest",responseType:"Operation"}}},Operation:{oneofs:{result:{oneof:["error","response"]}},fields:{name:{type:"string",id:1},metadata:{type:"google.protobuf.Any",id:2},done:{type:"bool",id:3},error:{type:"google.rpc.Status",id:4},response:{type:"google.protobuf.Any",id:5}}},GetOperationRequest:{fields:{name:{type:"string",id:1}}},ListOperationsRequest:{fields:{name:{type:"string",id:4},filter:{type:"string",id:1},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListOperationsResponse:{fields:{operations:{rule:"repeated",type:"Operation",id:1},nextPageToken:{type:"string",id:2}}},CancelOperationRequest:{fields:{name:{type:"string",id:1}}},DeleteOperationRequest:{fields:{name:{type:"string",id:1}}},WaitOperationRequest:{fields:{name:{type:"string",id:1},timeout:{type:"google.protobuf.Duration",id:2}}},OperationInfo:{fields:{responseType:{type:"string",id:1},metadataType:{type:"string",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},require$$0$1={nested:nested$4},interfaces$6={"google.cloud.texttospeech.v1.TextToSpeech":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{ListVoices:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},SynthesizeSpeech:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"}}}},require$$1$3={interfaces:interfaces$6},name$4="@google-cloud/text-to-speech",description$3="Cloud Text-to-Speech API client for Node.js",version$a="5.3.0",license$3="Apache-2.0",author$3="Google LLC",engines$3={node:">=14.0.0"},repository$3={type:"git",directory:"packages/google-cloud-texttospeech",url:"https://github.com/googleapis/google-cloud-node.git"},main$3="build/src/index.js",files$3=["build/protos","build/src","!build/src/**/*.map"],keywords$5=["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","google texttospeech","texttospeech","Cloud Text-to-Speech API"],scripts$3={clean:"gts clean",compile:"tsc -p . && cp -r protos build/","compile-protos":"compileProtos src",docs:"jsdoc -c .jsdoc.js","predocs-test":"npm run docs","docs-test":"linkinator docs",fix:"gts fix",lint:"gts check",prepare:"npm run compile",prelint:"cd samples; npm link ../; npm i",postpack:"minifyProtoJson","samples-test":"cd samples/ && npm link ../ && npm i && npm test","system-test":"c8 mocha build/system-test",test:"c8 mocha build/test"},dependencies$3={"google-gax":"^4.0.3"},devDependencies$3={"@types/mocha":"^9.0.0","@types/node":"^20.4.5","@types/sinon":"^17.0.0",c8:"^9.0.0",codecov:"^3.0.0","gapic-tools":"^0.4.0",gts:"^5.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0",linkinator:"4.1.2",long:"^5.2.3",mocha:"^9.2.2","pack-n-play":"^2.0.0",sinon:"^17.0.0",typescript:"^5.1.6"},homepage$1="https://github.com/googleapis/google-cloud-node/tree/main/packages/google-cloud-texttospeech",require$$2$1={name:name$4,description:description$3,version:version$a,license:license$3,author:author$3,engines:engines$3,repository:repository$3,main:main$3,files:files$3,keywords:keywords$5,scripts:scripts$3,dependencies:dependencies$3,devDependencies:devDependencies$3,homepage:homepage$1};var fallback={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var object_hash={exports:{}},hasRequiredObject_hash;function requireObject_hash(){return hasRequiredObject_hash||(hasRequiredObject_hash=1,function(e,r){(function(o){e.exports=o()})(function(){return function o(l,p,f){function O(v,s){if(!p[v]){if(!l[v]){var d=typeof commonjsRequire=="function"&&commonjsRequire;if(!s&&d)return d(v,!0);if(_)return _(v,!0);throw new Error("Cannot find module '"+v+"'")}s=p[v]={exports:{}},l[v][0].call(s.exports,function(g){var P=l[v][1][g];return O(P||g)},s,s.exports,o,l,p,f)}return p[v].exports}for(var _=typeof commonjsRequire=="function"&&commonjsRequire,S=0;S<f.length;S++)O(f[S]);return O}({1:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){var R=o("crypto");function I(Z,te){te=G(Z,te);var ee;return(ee=te.algorithm!=="passthrough"?R.createHash(te.algorithm):new W).write===void 0&&(ee.write=ee.update,ee.end=ee.update),Q(te,ee).dispatch(Z),ee.update||ee.end(""),ee.digest?ee.digest(te.encoding==="buffer"?void 0:te.encoding):(Z=ee.read(),te.encoding!=="buffer"?Z.toString(te.encoding):Z)}(p=l.exports=I).sha1=function(Z){return I(Z)},p.keys=function(Z){return I(Z,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},p.MD5=function(Z){return I(Z,{algorithm:"md5",encoding:"hex"})},p.keysMD5=function(Z){return I(Z,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var j=R.getHashes?R.getHashes().slice():["sha1","md5"],L=(j.push("passthrough"),["buffer","hex","binary","base64"]);function G(Z,te){var ee={};if(ee.algorithm=(te=te||{}).algorithm||"sha1",ee.encoding=te.encoding||"hex",ee.excludeValues=!!te.excludeValues,ee.algorithm=ee.algorithm.toLowerCase(),ee.encoding=ee.encoding.toLowerCase(),ee.ignoreUnknown=te.ignoreUnknown===!0,ee.respectType=te.respectType!==!1,ee.respectFunctionNames=te.respectFunctionNames!==!1,ee.respectFunctionProperties=te.respectFunctionProperties!==!1,ee.unorderedArrays=te.unorderedArrays===!0,ee.unorderedSets=te.unorderedSets!==!1,ee.unorderedObjects=te.unorderedObjects!==!1,ee.replacer=te.replacer||void 0,ee.excludeKeys=te.excludeKeys||void 0,Z===void 0)throw new Error("Object argument required.");for(var ie=0;ie<j.length;++ie)j[ie].toLowerCase()===ee.algorithm.toLowerCase()&&(ee.algorithm=j[ie]);if(j.indexOf(ee.algorithm)===-1)throw new Error('Algorithm "'+ee.algorithm+'"  not supported. supported values: '+j.join(", "));if(L.indexOf(ee.encoding)===-1&&ee.algorithm!=="passthrough")throw new Error('Encoding "'+ee.encoding+'"  not supported. supported values: '+L.join(", "));return ee}function J(Z){if(typeof Z=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(Z))!=null}function Q(Z,te,ee){ee=ee||[];function ie(oe){return te.update?te.update(oe,"utf8"):te.write(oe,"utf8")}return{dispatch:function(oe){return this["_"+((oe=Z.replacer?Z.replacer(oe):oe)===null?"null":typeof oe)](oe)},_object:function(oe){var se,le=Object.prototype.toString.call(oe),de=/\[object (.*)\]/i.exec(le);if(de=(de=de?de[1]:"unknown:["+le+"]").toLowerCase(),0<=(le=ee.indexOf(oe)))return this.dispatch("[CIRCULAR:"+le+"]");if(ee.push(oe),_!==void 0&&_.isBuffer&&_.isBuffer(oe))return ie("buffer:"),ie(oe);if(de==="object"||de==="function"||de==="asyncfunction")return le=Object.keys(oe),Z.unorderedObjects&&(le=le.sort()),Z.respectType===!1||J(oe)||le.splice(0,0,"prototype","__proto__","constructor"),Z.excludeKeys&&(le=le.filter(function(pe){return!Z.excludeKeys(pe)})),ie("object:"+le.length+":"),se=this,le.forEach(function(pe){se.dispatch(pe),ie(":"),Z.excludeValues||se.dispatch(oe[pe]),ie(",")});if(!this["_"+de]){if(Z.ignoreUnknown)return ie("["+de+"]");throw new Error('Unknown object type "'+de+'"')}this["_"+de](oe)},_array:function(oe,pe){pe=pe!==void 0?pe:Z.unorderedArrays!==!1;var le=this;if(ie("array:"+oe.length+":"),!pe||oe.length<=1)return oe.forEach(function(fe){return le.dispatch(fe)});var de=[],pe=oe.map(function(fe){var he=new W,ge=ee.slice();return Q(Z,he,ge).dispatch(fe),de=de.concat(ge.slice(ee.length)),he.read().toString()});return ee=ee.concat(de),pe.sort(),this._array(pe,!1)},_date:function(oe){return ie("date:"+oe.toJSON())},_symbol:function(oe){return ie("symbol:"+oe.toString())},_error:function(oe){return ie("error:"+oe.toString())},_boolean:function(oe){return ie("bool:"+oe.toString())},_string:function(oe){ie("string:"+oe.length+":"),ie(oe.toString())},_function:function(oe){ie("fn:"),J(oe)?this.dispatch("[native]"):this.dispatch(oe.toString()),Z.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(oe.name)),Z.respectFunctionProperties&&this._object(oe)},_number:function(oe){return ie("number:"+oe.toString())},_xml:function(oe){return ie("xml:"+oe.toString())},_null:function(){return ie("Null")},_undefined:function(){return ie("Undefined")},_regexp:function(oe){return ie("regex:"+oe.toString())},_uint8array:function(oe){return ie("uint8array:"),this.dispatch(Array.prototype.slice.call(oe))},_uint8clampedarray:function(oe){return ie("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(oe))},_int8array:function(oe){return ie("int8array:"),this.dispatch(Array.prototype.slice.call(oe))},_uint16array:function(oe){return ie("uint16array:"),this.dispatch(Array.prototype.slice.call(oe))},_int16array:function(oe){return ie("int16array:"),this.dispatch(Array.prototype.slice.call(oe))},_uint32array:function(oe){return ie("uint32array:"),this.dispatch(Array.prototype.slice.call(oe))},_int32array:function(oe){return ie("int32array:"),this.dispatch(Array.prototype.slice.call(oe))},_float32array:function(oe){return ie("float32array:"),this.dispatch(Array.prototype.slice.call(oe))},_float64array:function(oe){return ie("float64array:"),this.dispatch(Array.prototype.slice.call(oe))},_arraybuffer:function(oe){return ie("arraybuffer:"),this.dispatch(new Uint8Array(oe))},_url:function(oe){return ie("url:"+oe.toString())},_map:function(oe){return ie("map:"),oe=Array.from(oe),this._array(oe,Z.unorderedSets!==!1)},_set:function(oe){return ie("set:"),oe=Array.from(oe),this._array(oe,Z.unorderedSets!==!1)},_file:function(oe){return ie("file:"),this.dispatch([oe.name,oe.size,oe.type,oe.lastModfied])},_blob:function(){if(Z.ignoreUnknown)return ie("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return ie("domwindow")},_bigint:function(oe){return ie("bigint:"+oe.toString())},_process:function(){return ie("process")},_timer:function(){return ie("timer")},_pipe:function(){return ie("pipe")},_tcp:function(){return ie("tcp")},_udp:function(){return ie("udp")},_tty:function(){return ie("tty")},_statwatcher:function(){return ie("statwatcher")},_securecontext:function(){return ie("securecontext")},_connection:function(){return ie("connection")},_zlib:function(){return ie("zlib")},_context:function(){return ie("context")},_nodescript:function(){return ie("nodescript")},_httpparser:function(){return ie("httpparser")},_dataview:function(){return ie("dataview")},_signal:function(){return ie("signal")},_fsevent:function(){return ie("fsevent")},_tlswrap:function(){return ie("tlswrap")}}}function W(){return{buf:"",write:function(Z){this.buf+=Z},end:function(Z){this.buf+=Z},read:function(){return this.buf}}}p.writeToStream=function(Z,te,ee){return ee===void 0&&(ee=te,te={}),Q(te=G(Z,te),ee).dispatch(Z)}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){(function(R){var I=typeof Uint8Array<"u"?Uint8Array:Array,j="+".charCodeAt(0),L="/".charCodeAt(0),G="0".charCodeAt(0),J="a".charCodeAt(0),Q="A".charCodeAt(0),W="-".charCodeAt(0),Z="_".charCodeAt(0);function te(ee){return ee=ee.charCodeAt(0),ee===j||ee===W?62:ee===L||ee===Z?63:ee<G?-1:ee<G+10?ee-G+26+26:ee<Q+26?ee-Q:ee<J+26?ee-J+26:void 0}R.toByteArray=function(ee){var ie,oe;if(0<ee.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var se=ee.length,se=ee.charAt(se-2)==="="?2:ee.charAt(se-1)==="="?1:0,le=new I(3*ee.length/4-se),de=0<se?ee.length-4:ee.length,pe=0;function fe(he){le[pe++]=he}for(ie=0;ie<de;ie+=4,0)fe((16711680&(oe=te(ee.charAt(ie))<<18|te(ee.charAt(ie+1))<<12|te(ee.charAt(ie+2))<<6|te(ee.charAt(ie+3))))>>16),fe((65280&oe)>>8),fe(255&oe);return se==2?fe(255&(oe=te(ee.charAt(ie))<<2|te(ee.charAt(ie+1))>>4)):se==1&&(fe((oe=te(ee.charAt(ie))<<10|te(ee.charAt(ie+1))<<4|te(ee.charAt(ie+2))>>2)>>8&255),fe(255&oe)),le},R.fromByteArray=function(ee){var ie,oe,se,le,de=ee.length%3,pe="";function fe(he){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he)}for(ie=0,se=ee.length-de;ie<se;ie+=3)oe=(ee[ie]<<16)+(ee[ie+1]<<8)+ee[ie+2],pe+=fe((le=oe)>>18&63)+fe(le>>12&63)+fe(le>>6&63)+fe(63&le);switch(de){case 1:pe=(pe+=fe((oe=ee[ee.length-1])>>2))+fe(oe<<4&63)+"==";break;case 2:pe=(pe=(pe+=fe((oe=(ee[ee.length-2]<<8)+ee[ee.length-1])>>10))+fe(oe>>4&63))+fe(oe<<2&63)+"="}return pe}})(p===void 0?this.base64js={}:p)}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(o,l,p){(function(f,O,j,S,v,s,d,g,P){var R=o("base64-js"),I=o("ieee754");function j(ce,k,F){if(!(this instanceof j))return new j(ce,k,F);var V,ne,ue,we,be=typeof ce;if(k==="base64"&&be=="string")for(ce=(we=ce).trim?we.trim():we.replace(/^\s+|\s+$/g,"");ce.length%4!=0;)ce+="=";if(be=="number")V=me(ce);else if(be=="string")V=j.byteLength(ce,k);else{if(be!="object")throw new Error("First argument needs to be a number, array or string.");V=me(ce.length)}if(j._useTypedArrays?ne=j._augment(new Uint8Array(V)):((ne=this).length=V,ne._isBuffer=!0),j._useTypedArrays&&typeof ce.byteLength=="number")ne._set(ce);else if(ye(we=ce)||j.isBuffer(we)||we&&typeof we=="object"&&typeof we.length=="number")for(ue=0;ue<V;ue++)j.isBuffer(ce)?ne[ue]=ce.readUInt8(ue):ne[ue]=ce[ue];else if(be=="string")ne.write(ce,0,k);else if(be=="number"&&!j._useTypedArrays&&!F)for(ue=0;ue<V;ue++)ne[ue]=0;return ne}function L(ce,k,F,V){return j._charsWritten=Ne(function(ne){for(var ue=[],we=0;we<ne.length;we++)ue.push(255&ne.charCodeAt(we));return ue}(k),ce,F,V)}function G(ce,k,F,V){return j._charsWritten=Ne(function(ne){for(var ue,we,be=[],N=0;N<ne.length;N++)we=ne.charCodeAt(N),ue=we>>8,we=we%256,be.push(we),be.push(ue);return be}(k),ce,F,V)}function J(ce,k,F){var V="";F=Math.min(ce.length,F);for(var ne=k;ne<F;ne++)V+=String.fromCharCode(ce[ne]);return V}function Q(ce,k,F,ue){ue||(Oe(typeof F=="boolean","missing or invalid endian"),Oe(k!=null,"missing offset"),Oe(k+1<ce.length,"Trying to read beyond buffer length"));var ne,ue=ce.length;if(!(ue<=k))return F?(ne=ce[k],k+1<ue&&(ne|=ce[k+1]<<8)):(ne=ce[k]<<8,k+1<ue&&(ne|=ce[k+1])),ne}function W(ce,k,F,ue){ue||(Oe(typeof F=="boolean","missing or invalid endian"),Oe(k!=null,"missing offset"),Oe(k+3<ce.length,"Trying to read beyond buffer length"));var ne,ue=ce.length;if(!(ue<=k))return F?(k+2<ue&&(ne=ce[k+2]<<16),k+1<ue&&(ne|=ce[k+1]<<8),ne|=ce[k],k+3<ue&&(ne+=ce[k+3]<<24>>>0)):(k+1<ue&&(ne=ce[k+1]<<16),k+2<ue&&(ne|=ce[k+2]<<8),k+3<ue&&(ne|=ce[k+3]),ne+=ce[k]<<24>>>0),ne}function Z(ce,k,F,V){if(V||(Oe(typeof F=="boolean","missing or invalid endian"),Oe(k!=null,"missing offset"),Oe(k+1<ce.length,"Trying to read beyond buffer length")),!(ce.length<=k))return V=Q(ce,k,F,!0),32768&V?-1*(65535-V+1):V}function te(ce,k,F,V){if(V||(Oe(typeof F=="boolean","missing or invalid endian"),Oe(k!=null,"missing offset"),Oe(k+3<ce.length,"Trying to read beyond buffer length")),!(ce.length<=k))return V=W(ce,k,F,!0),2147483648&V?-1*(4294967295-V+1):V}function ee(ce,k,F,V){return V||(Oe(typeof F=="boolean","missing or invalid endian"),Oe(k+3<ce.length,"Trying to read beyond buffer length")),I.read(ce,k,F,23,4)}function ie(ce,k,F,V){return V||(Oe(typeof F=="boolean","missing or invalid endian"),Oe(k+7<ce.length,"Trying to read beyond buffer length")),I.read(ce,k,F,52,8)}function oe(ce,k,F,V,ne){if(ne||(Oe(k!=null,"missing value"),Oe(typeof V=="boolean","missing or invalid endian"),Oe(F!=null,"missing offset"),Oe(F+1<ce.length,"trying to write beyond buffer length"),Ce(k,65535)),ne=ce.length,!(ne<=F))for(var ue=0,we=Math.min(ne-F,2);ue<we;ue++)ce[F+ue]=(k&255<<8*(V?ue:1-ue))>>>8*(V?ue:1-ue)}function se(ce,k,F,V,ne){if(ne||(Oe(k!=null,"missing value"),Oe(typeof V=="boolean","missing or invalid endian"),Oe(F!=null,"missing offset"),Oe(F+3<ce.length,"trying to write beyond buffer length"),Ce(k,4294967295)),ne=ce.length,!(ne<=F))for(var ue=0,we=Math.min(ne-F,4);ue<we;ue++)ce[F+ue]=k>>>8*(V?ue:3-ue)&255}function le(ce,k,F,V,ne){ne||(Oe(k!=null,"missing value"),Oe(typeof V=="boolean","missing or invalid endian"),Oe(F!=null,"missing offset"),Oe(F+1<ce.length,"Trying to write beyond buffer length"),Se(k,32767,-32768)),ce.length<=F||oe(ce,0<=k?k:65535+k+1,F,V,ne)}function de(ce,k,F,V,ne){ne||(Oe(k!=null,"missing value"),Oe(typeof V=="boolean","missing or invalid endian"),Oe(F!=null,"missing offset"),Oe(F+3<ce.length,"Trying to write beyond buffer length"),Se(k,2147483647,-2147483648)),ce.length<=F||se(ce,0<=k?k:4294967295+k+1,F,V,ne)}function pe(ce,k,F,V,ne){ne||(Oe(k!=null,"missing value"),Oe(typeof V=="boolean","missing or invalid endian"),Oe(F!=null,"missing offset"),Oe(F+3<ce.length,"Trying to write beyond buffer length"),Te(k,34028234663852886e22,-34028234663852886e22)),ce.length<=F||I.write(ce,k,F,V,23,4)}function fe(ce,k,F,V,ne){ne||(Oe(k!=null,"missing value"),Oe(typeof V=="boolean","missing or invalid endian"),Oe(F!=null,"missing offset"),Oe(F+7<ce.length,"Trying to write beyond buffer length"),Te(k,17976931348623157e292,-17976931348623157e292)),ce.length<=F||I.write(ce,k,F,V,52,8)}p.Buffer=j,p.SlowBuffer=j,p.INSPECT_MAX_BYTES=50,j.poolSize=8192,j._useTypedArrays=function(){try{var ce=new ArrayBuffer(0),k=new Uint8Array(ce);return k.foo=function(){return 42},k.foo()===42&&typeof k.subarray=="function"}catch{return!1}}(),j.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.isBuffer=function(ce){return!(ce==null||!ce._isBuffer)},j.byteLength=function(ce,k){var F;switch(ce+="",k||"utf8"){case"hex":F=ce.length/2;break;case"utf8":case"utf-8":F=Ae(ce).length;break;case"ascii":case"binary":case"raw":F=ce.length;break;case"base64":F=Pe(ce).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":F=2*ce.length;break;default:throw new Error("Unknown encoding")}return F},j.concat=function(ce,k){if(Oe(ye(ce),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),ce.length===0)return new j(0);if(ce.length===1)return ce[0];if(typeof k!="number")for(ne=k=0;ne<ce.length;ne++)k+=ce[ne].length;for(var F=new j(k),V=0,ne=0;ne<ce.length;ne++){var ue=ce[ne];ue.copy(F,V),V+=ue.length}return F},j.prototype.write=function(ce,k,F,V){isFinite(k)?isFinite(F)||(V=F,F=void 0):(N=V,V=k,k=F,F=N),k=Number(k)||0;var ne,ue,we,be,N=this.length-k;switch((!F||N<(F=Number(F)))&&(F=N),V=String(V||"utf8").toLowerCase()){case"hex":ne=function(q,H,T,U){T=Number(T)||0;var z=q.length-T;(!U||z<(U=Number(U)))&&(U=z),Oe((z=H.length)%2==0,"Invalid hex string"),z/2<U&&(U=z/2);for(var ae=0;ae<U;ae++){var xe=parseInt(H.substr(2*ae,2),16);Oe(!isNaN(xe),"Invalid hex string"),q[T+ae]=xe}return j._charsWritten=2*ae,ae}(this,ce,k,F);break;case"utf8":case"utf-8":ue=this,we=k,be=F,ne=j._charsWritten=Ne(Ae(ce),ue,we,be);break;case"ascii":case"binary":ne=L(this,ce,k,F);break;case"base64":ue=this,we=k,be=F,ne=j._charsWritten=Ne(Pe(ce),ue,we,be);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ne=G(this,ce,k,F);break;default:throw new Error("Unknown encoding")}return ne},j.prototype.toString=function(ce,k,F){var V,ne,ue,we,be=this;if(ce=String(ce||"utf8").toLowerCase(),k=Number(k)||0,(F=F!==void 0?Number(F):be.length)===k)return"";switch(ce){case"hex":V=function(N,q,H){var T=N.length;(!q||q<0)&&(q=0),(!H||H<0||T<H)&&(H=T);for(var U="",z=q;z<H;z++)U+=ve(N[z]);return U}(be,k,F);break;case"utf8":case"utf-8":V=function(N,q,H){var T="",U="";H=Math.min(N.length,H);for(var z=q;z<H;z++)N[z]<=127?(T+=Ee(U)+String.fromCharCode(N[z]),U=""):U+="%"+N[z].toString(16);return T+Ee(U)}(be,k,F);break;case"ascii":case"binary":V=J(be,k,F);break;case"base64":ne=be,we=F,V=(ue=k)===0&&we===ne.length?R.fromByteArray(ne):R.fromByteArray(ne.slice(ue,we));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":V=function(N,q,H){for(var T=N.slice(q,H),U="",z=0;z<T.length;z+=2)U+=String.fromCharCode(T[z]+256*T[z+1]);return U}(be,k,F);break;default:throw new Error("Unknown encoding")}return V},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},j.prototype.copy=function(ce,k,F,V){if(k=k||0,(V=V||V===0?V:this.length)!==(F=F||0)&&ce.length!==0&&this.length!==0){Oe(F<=V,"sourceEnd < sourceStart"),Oe(0<=k&&k<ce.length,"targetStart out of bounds"),Oe(0<=F&&F<this.length,"sourceStart out of bounds"),Oe(0<=V&&V<=this.length,"sourceEnd out of bounds"),V>this.length&&(V=this.length);var ne=(V=ce.length-k<V-F?ce.length-k+F:V)-F;if(ne<100||!j._useTypedArrays)for(var ue=0;ue<ne;ue++)ce[ue+k]=this[ue+F];else ce._set(this.subarray(F,F+ne),k)}},j.prototype.slice=function(ce,k){var F=this.length;if(ce=ge(ce,F,0),k=ge(k,F,F),j._useTypedArrays)return j._augment(this.subarray(ce,k));for(var V=k-ce,ne=new j(V,void 0,!0),ue=0;ue<V;ue++)ne[ue]=this[ue+ce];return ne},j.prototype.get=function(ce){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(ce)},j.prototype.set=function(ce,k){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(ce,k)},j.prototype.readUInt8=function(ce,k){if(k||(Oe(ce!=null,"missing offset"),Oe(ce<this.length,"Trying to read beyond buffer length")),!(ce>=this.length))return this[ce]},j.prototype.readUInt16LE=function(ce,k){return Q(this,ce,!0,k)},j.prototype.readUInt16BE=function(ce,k){return Q(this,ce,!1,k)},j.prototype.readUInt32LE=function(ce,k){return W(this,ce,!0,k)},j.prototype.readUInt32BE=function(ce,k){return W(this,ce,!1,k)},j.prototype.readInt8=function(ce,k){if(k||(Oe(ce!=null,"missing offset"),Oe(ce<this.length,"Trying to read beyond buffer length")),!(ce>=this.length))return 128&this[ce]?-1*(255-this[ce]+1):this[ce]},j.prototype.readInt16LE=function(ce,k){return Z(this,ce,!0,k)},j.prototype.readInt16BE=function(ce,k){return Z(this,ce,!1,k)},j.prototype.readInt32LE=function(ce,k){return te(this,ce,!0,k)},j.prototype.readInt32BE=function(ce,k){return te(this,ce,!1,k)},j.prototype.readFloatLE=function(ce,k){return ee(this,ce,!0,k)},j.prototype.readFloatBE=function(ce,k){return ee(this,ce,!1,k)},j.prototype.readDoubleLE=function(ce,k){return ie(this,ce,!0,k)},j.prototype.readDoubleBE=function(ce,k){return ie(this,ce,!1,k)},j.prototype.writeUInt8=function(ce,k,F){F||(Oe(ce!=null,"missing value"),Oe(k!=null,"missing offset"),Oe(k<this.length,"trying to write beyond buffer length"),Ce(ce,255)),k>=this.length||(this[k]=ce)},j.prototype.writeUInt16LE=function(ce,k,F){oe(this,ce,k,!0,F)},j.prototype.writeUInt16BE=function(ce,k,F){oe(this,ce,k,!1,F)},j.prototype.writeUInt32LE=function(ce,k,F){se(this,ce,k,!0,F)},j.prototype.writeUInt32BE=function(ce,k,F){se(this,ce,k,!1,F)},j.prototype.writeInt8=function(ce,k,F){F||(Oe(ce!=null,"missing value"),Oe(k!=null,"missing offset"),Oe(k<this.length,"Trying to write beyond buffer length"),Se(ce,127,-128)),k>=this.length||(0<=ce?this.writeUInt8(ce,k,F):this.writeUInt8(255+ce+1,k,F))},j.prototype.writeInt16LE=function(ce,k,F){le(this,ce,k,!0,F)},j.prototype.writeInt16BE=function(ce,k,F){le(this,ce,k,!1,F)},j.prototype.writeInt32LE=function(ce,k,F){de(this,ce,k,!0,F)},j.prototype.writeInt32BE=function(ce,k,F){de(this,ce,k,!1,F)},j.prototype.writeFloatLE=function(ce,k,F){pe(this,ce,k,!0,F)},j.prototype.writeFloatBE=function(ce,k,F){pe(this,ce,k,!1,F)},j.prototype.writeDoubleLE=function(ce,k,F){fe(this,ce,k,!0,F)},j.prototype.writeDoubleBE=function(ce,k,F){fe(this,ce,k,!1,F)},j.prototype.fill=function(ce,k,F){if(k=k||0,F=F||this.length,Oe(typeof(ce=typeof(ce=ce||0)=="string"?ce.charCodeAt(0):ce)=="number"&&!isNaN(ce),"value is not a number"),Oe(k<=F,"end < start"),F!==k&&this.length!==0){Oe(0<=k&&k<this.length,"start out of bounds"),Oe(0<=F&&F<=this.length,"end out of bounds");for(var V=k;V<F;V++)this[V]=ce}},j.prototype.inspect=function(){for(var ce=[],k=this.length,F=0;F<k;F++)if(ce[F]=ve(this[F]),F===p.INSPECT_MAX_BYTES){ce[F+1]="...";break}return"<Buffer "+ce.join(" ")+">"},j.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(j._useTypedArrays)return new j(this).buffer;for(var ce=new Uint8Array(this.length),k=0,F=ce.length;k<F;k+=1)ce[k]=this[k];return ce.buffer};var he=j.prototype;function ge(ce,k,F){return typeof ce!="number"?F:k<=(ce=~~ce)?k:0<=ce||0<=(ce+=k)?ce:0}function me(ce){return(ce=~~Math.ceil(+ce))<0?0:ce}function ye(ce){return(Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"})(ce)}function ve(ce){return ce<16?"0"+ce.toString(16):ce.toString(16)}function Ae(ce){for(var k=[],F=0;F<ce.length;F++){var V=ce.charCodeAt(F);if(V<=127)k.push(ce.charCodeAt(F));else for(var ne=F,ue=(55296<=V&&V<=57343&&F++,encodeURIComponent(ce.slice(ne,F+1)).substr(1).split("%")),we=0;we<ue.length;we++)k.push(parseInt(ue[we],16))}return k}function Pe(ce){return R.toByteArray(ce)}function Ne(ce,k,F,V){for(var ne=0;ne<V&&!(ne+F>=k.length||ne>=ce.length);ne++)k[ne+F]=ce[ne];return ne}function Ee(ce){try{return decodeURIComponent(ce)}catch{return String.fromCharCode(65533)}}function Ce(ce,k){Oe(typeof ce=="number","cannot write a non-number as a number"),Oe(0<=ce,"specified a negative value for writing an unsigned value"),Oe(ce<=k,"value is larger than maximum value for type"),Oe(Math.floor(ce)===ce,"value has a fractional component")}function Se(ce,k,F){Oe(typeof ce=="number","cannot write a non-number as a number"),Oe(ce<=k,"value larger than maximum allowed value"),Oe(F<=ce,"value smaller than minimum allowed value"),Oe(Math.floor(ce)===ce,"value has a fractional component")}function Te(ce,k,F){Oe(typeof ce=="number","cannot write a non-number as a number"),Oe(ce<=k,"value larger than maximum allowed value"),Oe(F<=ce,"value smaller than minimum allowed value")}function Oe(ce,k){if(!ce)throw new Error(k||"Failed assertion")}j._augment=function(ce){return ce._isBuffer=!0,ce._get=ce.get,ce._set=ce.set,ce.get=he.get,ce.set=he.set,ce.write=he.write,ce.toString=he.toString,ce.toLocaleString=he.toString,ce.toJSON=he.toJSON,ce.copy=he.copy,ce.slice=he.slice,ce.readUInt8=he.readUInt8,ce.readUInt16LE=he.readUInt16LE,ce.readUInt16BE=he.readUInt16BE,ce.readUInt32LE=he.readUInt32LE,ce.readUInt32BE=he.readUInt32BE,ce.readInt8=he.readInt8,ce.readInt16LE=he.readInt16LE,ce.readInt16BE=he.readInt16BE,ce.readInt32LE=he.readInt32LE,ce.readInt32BE=he.readInt32BE,ce.readFloatLE=he.readFloatLE,ce.readFloatBE=he.readFloatBE,ce.readDoubleLE=he.readDoubleLE,ce.readDoubleBE=he.readDoubleBE,ce.writeUInt8=he.writeUInt8,ce.writeUInt16LE=he.writeUInt16LE,ce.writeUInt16BE=he.writeUInt16BE,ce.writeUInt32LE=he.writeUInt32LE,ce.writeUInt32BE=he.writeUInt32BE,ce.writeInt8=he.writeInt8,ce.writeInt16LE=he.writeInt16LE,ce.writeInt16BE=he.writeInt16BE,ce.writeInt32LE=he.writeInt32LE,ce.writeInt32BE=he.writeInt32BE,ce.writeFloatLE=he.writeFloatLE,ce.writeFloatBE=he.writeFloatBE,ce.writeDoubleLE=he.writeDoubleLE,ce.writeDoubleBE=he.writeDoubleBE,ce.fill=he.fill,ce.inspect=he.inspect,ce.toArrayBuffer=he.toArrayBuffer,ce}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(o,l,p){(function(f,O,R,S,v,s,d,g,P){var R=o("buffer").Buffer,I=4,j=new R(I);j.fill(0),l.exports={hash:function(L,G,J,Q){for(var W=G(function(oe,se){oe.length%I!=0&&(le=oe.length+(I-oe.length%I),oe=R.concat([oe,j],le));for(var le,de=[],pe=se?oe.readInt32BE:oe.readInt32LE,fe=0;fe<oe.length;fe+=I)de.push(pe.call(oe,fe));return de}(L=R.isBuffer(L)?L:new R(L),Q),8*L.length),G=Q,Z=new R(J),te=G?Z.writeInt32BE:Z.writeInt32LE,ee=0;ee<W.length;ee++)te.call(Z,W[ee],4*ee,!0);return Z}}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(o,l,p){(function(f,O,R,S,v,s,d,g,P){var R=o("buffer").Buffer,I=o("./sha"),j=o("./sha256"),L=o("./rng"),G={sha1:I,sha256:j,md5:o("./md5")},J=64,Q=new R(J);function W(oe,se){var le=G[oe=oe||"sha1"],de=[];return le||Z("algorithm:",oe,"is not yet supported"),{update:function(pe){return R.isBuffer(pe)||(pe=new R(pe)),de.push(pe),pe.length,this},digest:function(pe){var fe=R.concat(de),fe=se?function(he,ge,me){R.isBuffer(ge)||(ge=new R(ge)),R.isBuffer(me)||(me=new R(me)),ge.length>J?ge=he(ge):ge.length<J&&(ge=R.concat([ge,Q],J));for(var ye=new R(J),ve=new R(J),Ae=0;Ae<J;Ae++)ye[Ae]=54^ge[Ae],ve[Ae]=92^ge[Ae];return me=he(R.concat([ye,me])),he(R.concat([ve,me]))}(le,se,fe):le(fe);return de=null,pe?fe.toString(pe):fe}}}function Z(){var oe=[].slice.call(arguments).join(" ");throw new Error([oe,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}Q.fill(0),p.createHash=function(oe){return W(oe)},p.createHmac=W,p.randomBytes=function(oe,se){if(!se||!se.call)return new R(L(oe));try{se.call(this,void 0,new R(L(oe)))}catch(le){se(le)}};var te,ee=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],ie=function(oe){p[oe]=function(){Z("sorry,",oe,"is not implemented yet")}};for(te in ee)ie(ee[te])}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){var R=o("./helpers");function I(Z,te){Z[te>>5]|=128<<te%32,Z[14+(te+64>>>9<<4)]=te;for(var ee=1732584193,ie=-271733879,oe=-1732584194,se=271733878,le=0;le<Z.length;le+=16){var de=ee,pe=ie,fe=oe,he=se,ee=L(ee,ie,oe,se,Z[le+0],7,-680876936),se=L(se,ee,ie,oe,Z[le+1],12,-389564586),oe=L(oe,se,ee,ie,Z[le+2],17,606105819),ie=L(ie,oe,se,ee,Z[le+3],22,-1044525330);ee=L(ee,ie,oe,se,Z[le+4],7,-176418897),se=L(se,ee,ie,oe,Z[le+5],12,1200080426),oe=L(oe,se,ee,ie,Z[le+6],17,-1473231341),ie=L(ie,oe,se,ee,Z[le+7],22,-45705983),ee=L(ee,ie,oe,se,Z[le+8],7,1770035416),se=L(se,ee,ie,oe,Z[le+9],12,-1958414417),oe=L(oe,se,ee,ie,Z[le+10],17,-42063),ie=L(ie,oe,se,ee,Z[le+11],22,-1990404162),ee=L(ee,ie,oe,se,Z[le+12],7,1804603682),se=L(se,ee,ie,oe,Z[le+13],12,-40341101),oe=L(oe,se,ee,ie,Z[le+14],17,-1502002290),ee=G(ee,ie=L(ie,oe,se,ee,Z[le+15],22,1236535329),oe,se,Z[le+1],5,-165796510),se=G(se,ee,ie,oe,Z[le+6],9,-1069501632),oe=G(oe,se,ee,ie,Z[le+11],14,643717713),ie=G(ie,oe,se,ee,Z[le+0],20,-373897302),ee=G(ee,ie,oe,se,Z[le+5],5,-701558691),se=G(se,ee,ie,oe,Z[le+10],9,38016083),oe=G(oe,se,ee,ie,Z[le+15],14,-660478335),ie=G(ie,oe,se,ee,Z[le+4],20,-405537848),ee=G(ee,ie,oe,se,Z[le+9],5,568446438),se=G(se,ee,ie,oe,Z[le+14],9,-1019803690),oe=G(oe,se,ee,ie,Z[le+3],14,-187363961),ie=G(ie,oe,se,ee,Z[le+8],20,1163531501),ee=G(ee,ie,oe,se,Z[le+13],5,-1444681467),se=G(se,ee,ie,oe,Z[le+2],9,-51403784),oe=G(oe,se,ee,ie,Z[le+7],14,1735328473),ee=J(ee,ie=G(ie,oe,se,ee,Z[le+12],20,-1926607734),oe,se,Z[le+5],4,-378558),se=J(se,ee,ie,oe,Z[le+8],11,-2022574463),oe=J(oe,se,ee,ie,Z[le+11],16,1839030562),ie=J(ie,oe,se,ee,Z[le+14],23,-35309556),ee=J(ee,ie,oe,se,Z[le+1],4,-1530992060),se=J(se,ee,ie,oe,Z[le+4],11,1272893353),oe=J(oe,se,ee,ie,Z[le+7],16,-155497632),ie=J(ie,oe,se,ee,Z[le+10],23,-1094730640),ee=J(ee,ie,oe,se,Z[le+13],4,681279174),se=J(se,ee,ie,oe,Z[le+0],11,-358537222),oe=J(oe,se,ee,ie,Z[le+3],16,-722521979),ie=J(ie,oe,se,ee,Z[le+6],23,76029189),ee=J(ee,ie,oe,se,Z[le+9],4,-640364487),se=J(se,ee,ie,oe,Z[le+12],11,-421815835),oe=J(oe,se,ee,ie,Z[le+15],16,530742520),ee=Q(ee,ie=J(ie,oe,se,ee,Z[le+2],23,-995338651),oe,se,Z[le+0],6,-198630844),se=Q(se,ee,ie,oe,Z[le+7],10,1126891415),oe=Q(oe,se,ee,ie,Z[le+14],15,-1416354905),ie=Q(ie,oe,se,ee,Z[le+5],21,-57434055),ee=Q(ee,ie,oe,se,Z[le+12],6,1700485571),se=Q(se,ee,ie,oe,Z[le+3],10,-1894986606),oe=Q(oe,se,ee,ie,Z[le+10],15,-1051523),ie=Q(ie,oe,se,ee,Z[le+1],21,-2054922799),ee=Q(ee,ie,oe,se,Z[le+8],6,1873313359),se=Q(se,ee,ie,oe,Z[le+15],10,-30611744),oe=Q(oe,se,ee,ie,Z[le+6],15,-1560198380),ie=Q(ie,oe,se,ee,Z[le+13],21,1309151649),ee=Q(ee,ie,oe,se,Z[le+4],6,-145523070),se=Q(se,ee,ie,oe,Z[le+11],10,-1120210379),oe=Q(oe,se,ee,ie,Z[le+2],15,718787259),ie=Q(ie,oe,se,ee,Z[le+9],21,-343485551),ee=W(ee,de),ie=W(ie,pe),oe=W(oe,fe),se=W(se,he)}return Array(ee,ie,oe,se)}function j(Z,te,ee,ie,oe,se){return W((te=W(W(te,Z),W(ie,se)))<<oe|te>>>32-oe,ee)}function L(Z,te,ee,ie,oe,se,le){return j(te&ee|~te&ie,Z,te,oe,se,le)}function G(Z,te,ee,ie,oe,se,le){return j(te&ie|ee&~ie,Z,te,oe,se,le)}function J(Z,te,ee,ie,oe,se,le){return j(te^ee^ie,Z,te,oe,se,le)}function Q(Z,te,ee,ie,oe,se,le){return j(ee^(te|~ie),Z,te,oe,se,le)}function W(Z,te){var ee=(65535&Z)+(65535&te);return(Z>>16)+(te>>16)+(ee>>16)<<16|65535&ee}l.exports=function(Z){return R.hash(Z,I,16)}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){l.exports=function(R){for(var I,j=new Array(R),L=0;L<R;L++)!(3&L)&&(I=4294967296*Math.random()),j[L]=I>>>((3&L)<<3)&255;return j}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){var R=o("./helpers");function I(G,J){G[J>>5]|=128<<24-J%32,G[15+(J+64>>9<<4)]=J;for(var Q,W,Z,te=Array(80),ee=1732584193,ie=-271733879,oe=-1732584194,se=271733878,le=-1009589776,de=0;de<G.length;de+=16){for(var pe=ee,fe=ie,he=oe,ge=se,me=le,ye=0;ye<80;ye++){te[ye]=ye<16?G[de+ye]:L(te[ye-3]^te[ye-8]^te[ye-14]^te[ye-16],1);var ve=j(j(L(ee,5),(ve=ie,W=oe,Z=se,(Q=ye)<20?ve&W|~ve&Z:!(Q<40)&&Q<60?ve&W|ve&Z|W&Z:ve^W^Z)),j(j(le,te[ye]),(Q=ye)<20?1518500249:Q<40?1859775393:Q<60?-1894007588:-899497514)),le=se,se=oe,oe=L(ie,30),ie=ee,ee=ve}ee=j(ee,pe),ie=j(ie,fe),oe=j(oe,he),se=j(se,ge),le=j(le,me)}return Array(ee,ie,oe,se,le)}function j(G,J){var Q=(65535&G)+(65535&J);return(G>>16)+(J>>16)+(Q>>16)<<16|65535&Q}function L(G,J){return G<<J|G>>>32-J}l.exports=function(G){return R.hash(G,I,20,!0)}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){function R(J,Q){var W=(65535&J)+(65535&Q);return(J>>16)+(Q>>16)+(W>>16)<<16|65535&W}function I(J,Q){var W,Z=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),te=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),ee=new Array(64);J[Q>>5]|=128<<24-Q%32,J[15+(Q+64>>9<<4)]=Q;for(var ie,oe,se=0;se<J.length;se+=16){for(var le=te[0],de=te[1],pe=te[2],fe=te[3],he=te[4],ge=te[5],me=te[6],ye=te[7],ve=0;ve<64;ve++)ee[ve]=ve<16?J[ve+se]:R(R(R((oe=ee[ve-2],L(oe,17)^L(oe,19)^G(oe,10)),ee[ve-7]),(oe=ee[ve-15],L(oe,7)^L(oe,18)^G(oe,3))),ee[ve-16]),W=R(R(R(R(ye,L(oe=he,6)^L(oe,11)^L(oe,25)),he&ge^~he&me),Z[ve]),ee[ve]),ie=R(L(ie=le,2)^L(ie,13)^L(ie,22),le&de^le&pe^de&pe),ye=me,me=ge,ge=he,he=R(fe,W),fe=pe,pe=de,de=le,le=R(W,ie);te[0]=R(le,te[0]),te[1]=R(de,te[1]),te[2]=R(pe,te[2]),te[3]=R(fe,te[3]),te[4]=R(he,te[4]),te[5]=R(ge,te[5]),te[6]=R(me,te[6]),te[7]=R(ye,te[7])}return te}var j=o("./helpers"),L=function(J,Q){return J>>>Q|J<<32-Q},G=function(J,Q){return J>>>Q};l.exports=function(J){return j.hash(J,I,32,!0)}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){p.read=function(R,I,j,L,se){var J,Q,W=8*se-L-1,Z=(1<<W)-1,te=Z>>1,ee=-7,ie=j?se-1:0,oe=j?-1:1,se=R[I+ie];for(ie+=oe,J=se&(1<<-ee)-1,se>>=-ee,ee+=W;0<ee;J=256*J+R[I+ie],ie+=oe,ee-=8);for(Q=J&(1<<-ee)-1,J>>=-ee,ee+=L;0<ee;Q=256*Q+R[I+ie],ie+=oe,ee-=8);if(J===0)J=1-te;else{if(J===Z)return Q?NaN:1/0*(se?-1:1);Q+=Math.pow(2,L),J-=te}return(se?-1:1)*Q*Math.pow(2,J-L)},p.write=function(R,I,j,L,G,le){var Q,W,Z=8*le-G-1,te=(1<<Z)-1,ee=te>>1,ie=G===23?Math.pow(2,-24)-Math.pow(2,-77):0,oe=L?0:le-1,se=L?1:-1,le=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(W=isNaN(I)?1:0,Q=te):(Q=Math.floor(Math.log(I)/Math.LN2),I*(L=Math.pow(2,-Q))<1&&(Q--,L*=2),2<=(I+=1<=Q+ee?ie/L:ie*Math.pow(2,1-ee))*L&&(Q++,L/=2),te<=Q+ee?(W=0,Q=te):1<=Q+ee?(W=(I*L-1)*Math.pow(2,G),Q+=ee):(W=I*Math.pow(2,ee-1)*Math.pow(2,G),Q=0));8<=G;R[j+oe]=255&W,oe+=se,W/=256,G-=8);for(Q=Q<<G|W,Z+=G;0<Z;R[j+oe]=255&Q,oe+=se,Q/=256,Z-=8);R[j+oe-se]|=128*le}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(o,l,p){(function(f,O,_,S,v,s,d,g,P){var R,I,j;function L(){}(f=l.exports={}).nextTick=(I=typeof window<"u"&&window.setImmediate,j=typeof window<"u"&&window.postMessage&&window.addEventListener,I?function(G){return window.setImmediate(G)}:j?(R=[],window.addEventListener("message",function(G){var J=G.source;J!==window&&J!==null||G.data!=="process-tick"||(G.stopPropagation(),0<R.length&&R.shift()())},!0),function(G){R.push(G),window.postMessage("process-tick","*")}):function(G){setTimeout(G,0)}),f.title="browser",f.browser=!0,f.env={},f.argv=[],f.on=L,f.addListener=L,f.once=L,f.off=L,f.removeListener=L,f.removeAllListeners=L,f.emit=L,f.binding=function(G){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(G){throw new Error("process.chdir is not supported")}}).call(this,o("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},o("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})}(object_hash)),object_hash.exports}var src$5={exports:{}},indexLight={exports:{}},indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=e;function e(r,o){for(var l=new Array(arguments.length-1),p=0,f=2,O=!0;f<arguments.length;)l[p++]=arguments[f++];return new Promise(function(S,v){l[p]=function(d){if(O)if(O=!1,d)v(d);else{for(var g=new Array(arguments.length-1),P=0;P<g.length;)g[P++]=arguments[P];S.apply(null,g)}};try{r.apply(o||null,l)}catch(s){O&&(O=!1,v(s))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(e){var r=e;r.length=function(_){var S=_.length;if(!S)return 0;for(var v=0;--S%4>1&&_.charAt(S)==="=";)++v;return Math.ceil(_.length*3)/4-v};for(var o=new Array(64),l=new Array(123),p=0;p<64;)l[o[p]=p<26?p+65:p<52?p+71:p<62?p-4:p-59|43]=p++;r.encode=function(_,S,v){for(var s=null,d=[],g=0,P=0,R;S<v;){var I=_[S++];switch(P){case 0:d[g++]=o[I>>2],R=(I&3)<<4,P=1;break;case 1:d[g++]=o[R|I>>4],R=(I&15)<<2,P=2;break;case 2:d[g++]=o[R|I>>6],d[g++]=o[I&63],P=0;break}g>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,d)),g=0)}return P&&(d[g++]=o[R],d[g++]=61,P===1&&(d[g++]=61)),s?(g&&s.push(String.fromCharCode.apply(String,d.slice(0,g))),s.join("")):String.fromCharCode.apply(String,d.slice(0,g))};var f="invalid encoding";r.decode=function(_,S,v){for(var s=v,d=0,g,P=0;P<_.length;){var R=_.charCodeAt(P++);if(R===61&&d>1)break;if((R=l[R])===void 0)throw Error(f);switch(d){case 0:g=R,d=1;break;case 1:S[v++]=g<<2|(R&48)>>4,g=R,d=2;break;case 2:S[v++]=(g&15)<<4|(R&60)>>2,g=R,d=3;break;case 3:S[v++]=(g&3)<<6|R,d=0;break}}if(d===1)throw Error(f);return v-s},r.test=function(_){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(_)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=e;function e(){this._listeners={}}return e.prototype.on=function(o,l,p){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:l,ctx:p||this}),this},e.prototype.off=function(o,l){if(o===void 0)this._listeners={};else if(l===void 0)this._listeners[o]=[];else for(var p=this._listeners[o],f=0;f<p.length;)p[f].fn===l?p.splice(f,1):++f;return this},e.prototype.emit=function(o){var l=this._listeners[o];if(l){for(var p=[],f=1;f<arguments.length;)p.push(arguments[f++]);for(f=0;f<l.length;)l[f].fn.apply(l[f++].ctx,p)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=e(e);function e(f){return typeof Float32Array<"u"?function(){var O=new Float32Array([-0]),_=new Uint8Array(O.buffer),S=_[3]===128;function v(P,R,I){O[0]=P,R[I]=_[0],R[I+1]=_[1],R[I+2]=_[2],R[I+3]=_[3]}function s(P,R,I){O[0]=P,R[I]=_[3],R[I+1]=_[2],R[I+2]=_[1],R[I+3]=_[0]}f.writeFloatLE=S?v:s,f.writeFloatBE=S?s:v;function d(P,R){return _[0]=P[R],_[1]=P[R+1],_[2]=P[R+2],_[3]=P[R+3],O[0]}function g(P,R){return _[3]=P[R],_[2]=P[R+1],_[1]=P[R+2],_[0]=P[R+3],O[0]}f.readFloatLE=S?d:g,f.readFloatBE=S?g:d}():function(){function O(S,v,s,d){var g=v<0?1:0;if(g&&(v=-v),v===0)S(1/v>0?0:2147483648,s,d);else if(isNaN(v))S(2143289344,s,d);else if(v>34028234663852886e22)S((g<<31|2139095040)>>>0,s,d);else if(v<11754943508222875e-54)S((g<<31|Math.round(v/1401298464324817e-60))>>>0,s,d);else{var P=Math.floor(Math.log(v)/Math.LN2),R=Math.round(v*Math.pow(2,-P)*8388608)&8388607;S((g<<31|P+127<<23|R)>>>0,s,d)}}f.writeFloatLE=O.bind(null,r),f.writeFloatBE=O.bind(null,o);function _(S,v,s){var d=S(v,s),g=(d>>31)*2+1,P=d>>>23&255,R=d&8388607;return P===255?R?NaN:g*(1/0):P===0?g*1401298464324817e-60*R:g*Math.pow(2,P-150)*(R+8388608)}f.readFloatLE=_.bind(null,l),f.readFloatBE=_.bind(null,p)}(),typeof Float64Array<"u"?function(){var O=new Float64Array([-0]),_=new Uint8Array(O.buffer),S=_[7]===128;function v(P,R,I){O[0]=P,R[I]=_[0],R[I+1]=_[1],R[I+2]=_[2],R[I+3]=_[3],R[I+4]=_[4],R[I+5]=_[5],R[I+6]=_[6],R[I+7]=_[7]}function s(P,R,I){O[0]=P,R[I]=_[7],R[I+1]=_[6],R[I+2]=_[5],R[I+3]=_[4],R[I+4]=_[3],R[I+5]=_[2],R[I+6]=_[1],R[I+7]=_[0]}f.writeDoubleLE=S?v:s,f.writeDoubleBE=S?s:v;function d(P,R){return _[0]=P[R],_[1]=P[R+1],_[2]=P[R+2],_[3]=P[R+3],_[4]=P[R+4],_[5]=P[R+5],_[6]=P[R+6],_[7]=P[R+7],O[0]}function g(P,R){return _[7]=P[R],_[6]=P[R+1],_[5]=P[R+2],_[4]=P[R+3],_[3]=P[R+4],_[2]=P[R+5],_[1]=P[R+6],_[0]=P[R+7],O[0]}f.readDoubleLE=S?d:g,f.readDoubleBE=S?g:d}():function(){function O(S,v,s,d,g,P){var R=d<0?1:0;if(R&&(d=-d),d===0)S(0,g,P+v),S(1/d>0?0:2147483648,g,P+s);else if(isNaN(d))S(0,g,P+v),S(2146959360,g,P+s);else if(d>17976931348623157e292)S(0,g,P+v),S((R<<31|2146435072)>>>0,g,P+s);else{var I;if(d<22250738585072014e-324)I=d/5e-324,S(I>>>0,g,P+v),S((R<<31|I/4294967296)>>>0,g,P+s);else{var j=Math.floor(Math.log(d)/Math.LN2);j===1024&&(j=1023),I=d*Math.pow(2,-j),S(I*4503599627370496>>>0,g,P+v),S((R<<31|j+1023<<20|I*1048576&1048575)>>>0,g,P+s)}}}f.writeDoubleLE=O.bind(null,r,0,4),f.writeDoubleBE=O.bind(null,o,4,0);function _(S,v,s,d,g){var P=S(d,g+v),R=S(d,g+s),I=(R>>31)*2+1,j=R>>>20&2047,L=4294967296*(R&1048575)+P;return j===2047?L?NaN:I*(1/0):j===0?I*5e-324*L:I*Math.pow(2,j-1075)*(L+4503599627370496)}f.readDoubleLE=_.bind(null,l,0,4),f.readDoubleBE=_.bind(null,p,4,0)}(),f}function r(f,O,_){O[_]=f&255,O[_+1]=f>>>8&255,O[_+2]=f>>>16&255,O[_+3]=f>>>24}function o(f,O,_){O[_]=f>>>24,O[_+1]=f>>>16&255,O[_+2]=f>>>8&255,O[_+3]=f&255}function l(f,O){return(f[O]|f[O+1]<<8|f[O+2]<<16|f[O+3]<<24)>>>0}function p(f,O){return(f[O]<<24|f[O+1]<<16|f[O+2]<<8|f[O+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(e){var r=e;r.length=function(l){for(var p=0,f=0,O=0;O<l.length;++O)f=l.charCodeAt(O),f<128?p+=1:f<2048?p+=2:(f&64512)===55296&&(l.charCodeAt(O+1)&64512)===56320?(++O,p+=4):p+=3;return p},r.read=function(l,p,f){var O=f-p;if(O<1)return"";for(var _=null,S=[],v=0,s;p<f;)s=l[p++],s<128?S[v++]=s:s>191&&s<224?S[v++]=(s&31)<<6|l[p++]&63:s>239&&s<365?(s=((s&7)<<18|(l[p++]&63)<<12|(l[p++]&63)<<6|l[p++]&63)-65536,S[v++]=55296+(s>>10),S[v++]=56320+(s&1023)):S[v++]=(s&15)<<12|(l[p++]&63)<<6|l[p++]&63,v>8191&&((_||(_=[])).push(String.fromCharCode.apply(String,S)),v=0);return _?(v&&_.push(String.fromCharCode.apply(String,S.slice(0,v))),_.join("")):String.fromCharCode.apply(String,S.slice(0,v))},r.write=function(l,p,f){for(var O=f,_,S,v=0;v<l.length;++v)_=l.charCodeAt(v),_<128?p[f++]=_:_<2048?(p[f++]=_>>6|192,p[f++]=_&63|128):(_&64512)===55296&&((S=l.charCodeAt(v+1))&64512)===56320?(_=65536+((_&1023)<<10)+(S&1023),++v,p[f++]=_>>18|240,p[f++]=_>>12&63|128,p[f++]=_>>6&63|128,p[f++]=_&63|128):(p[f++]=_>>12|224,p[f++]=_>>6&63|128,p[f++]=_&63|128);return f-O}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=e;function e(r,o,l){var p=l||8192,f=p>>>1,O=null,_=p;return function(v){if(v<1||v>f)return r(v);_+v>p&&(O=r(p),_=0);var s=o.call(O,_,_+=v);return _&7&&(_=(_|7)+1),s}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=r;var e=requireMinimal$1();function r(f,O){this.lo=f>>>0,this.hi=O>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var l=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(O){if(O===0)return o;var _=O<0;_&&(O=-O);var S=O>>>0,v=(O-S)/4294967296>>>0;return _&&(v=~v>>>0,S=~S>>>0,++S>4294967295&&(S=0,++v>4294967295&&(v=0))),new r(S,v)},r.from=function(O){if(typeof O=="number")return r.fromNumber(O);if(e.isString(O))if(e.Long)O=e.Long.fromString(O);else return r.fromNumber(parseInt(O,10));return O.low||O.high?new r(O.low>>>0,O.high>>>0):o},r.prototype.toNumber=function(O){if(!O&&this.hi>>>31){var _=~this.lo+1>>>0,S=~this.hi>>>0;return _||(S=S+1>>>0),-(_+S*4294967296)}return this.lo+this.hi*4294967296},r.prototype.toLong=function(O){return e.Long?new e.Long(this.lo|0,this.hi|0,!!O):{low:this.lo|0,high:this.hi|0,unsigned:!!O}};var p=String.prototype.charCodeAt;return r.fromHash=function(O){return O===l?o:new r((p.call(O,0)|p.call(O,1)<<8|p.call(O,2)<<16|p.call(O,3)<<24)>>>0,(p.call(O,4)|p.call(O,5)<<8|p.call(O,6)<<16|p.call(O,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var O=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^O)>>>0,this.lo=(this.lo<<1^O)>>>0,this},r.prototype.zzDecode=function(){var O=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^O)>>>0,this.hi=(this.hi>>>1^O)>>>0,this},r.prototype.length=function(){var O=this.lo,_=(this.lo>>>28|this.hi<<4)>>>0,S=this.hi>>>24;return S===0?_===0?O<16384?O<128?1:2:O<2097152?3:4:_<16384?_<128?5:6:_<2097152?7:8:S<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(e){var r=e;r.asPromise=requireAspromise(),r.base64=requireBase64(),r.EventEmitter=requireEventemitter(),r.float=requireFloat(),r.inquire=requireInquire(),r.utf8=requireUtf8(),r.pool=requirePool(),r.LongBits=requireLongbits(),r.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),r.global=r.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(f){return typeof f=="number"&&isFinite(f)&&Math.floor(f)===f},r.isString=function(f){return typeof f=="string"||f instanceof String},r.isObject=function(f){return f&&typeof f=="object"},r.isset=r.isSet=function(f,O){var _=f[O];return _!=null&&f.hasOwnProperty(O)?typeof _!="object"||(Array.isArray(_)?_.length:Object.keys(_).length)>0:!1},r.Buffer=function(){try{var p=r.inquire("buffer").Buffer;return p.prototype.utf8Write?p:null}catch{return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(f){return typeof f=="number"?r.Buffer?r._Buffer_allocUnsafe(f):new r.Array(f):r.Buffer?r._Buffer_from(f):typeof Uint8Array>"u"?f:new Uint8Array(f)},r.Array=typeof Uint8Array<"u"?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(f){return f?r.LongBits.from(f).toHash():r.LongBits.zeroHash},r.longFromHash=function(f,O){var _=r.LongBits.fromHash(f);return r.Long?r.Long.fromBits(_.lo,_.hi,O):_.toNumber(!!O)};function o(p,f,O){for(var _=Object.keys(f),S=0;S<_.length;++S)(p[_[S]]===void 0||!O)&&(p[_[S]]=f[_[S]]);return p}r.merge=o,r.lcFirst=function(f){return f.charAt(0).toLowerCase()+f.substring(1)};function l(p){function f(O,_){if(!(this instanceof f))return new f(O,_);Object.defineProperty(this,"message",{get:function(){return O}}),Error.captureStackTrace?Error.captureStackTrace(this,f):Object.defineProperty(this,"stack",{value:new Error().stack||""}),_&&o(this,_)}return f.prototype=Object.create(Error.prototype,{constructor:{value:f,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return p},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),f}r.newError=l,r.ProtocolError=l("ProtocolError"),r.oneOfGetter=function(f){for(var O={},_=0;_<f.length;++_)O[f[_]]=1;return function(){for(var S=Object.keys(this),v=S.length-1;v>-1;--v)if(O[S[v]]===1&&this[S[v]]!==void 0&&this[S[v]]!==null)return S[v]}},r.oneOfSetter=function(f){return function(O){for(var _=0;_<f.length;++_)f[_]!==O&&delete this[f[_]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var p=r.Buffer;if(!p){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=p.from!==Uint8Array.from&&p.from||function(O,_){return new p(O,_)},r._Buffer_allocUnsafe=p.allocUnsafe||function(O){return new p(O)}}}(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=S;var e=requireMinimal$1(),r,o=e.LongBits,l=e.base64,p=e.utf8;function f(j,L,G){this.fn=j,this.len=L,this.next=void 0,this.val=G}function O(){}function _(j){this.head=j.head,this.tail=j.tail,this.len=j.len,this.next=j.states}function S(){this.len=0,this.head=new f(O,0,0),this.tail=this.head,this.states=null}var v=function(){return e.Buffer?function(){return(S.create=function(){return new r})()}:function(){return new S}};S.create=v(),S.alloc=function(L){return new e.Array(L)},e.Array!==Array&&(S.alloc=e.pool(S.alloc,e.Array.prototype.subarray)),S.prototype._push=function(L,G,J){return this.tail=this.tail.next=new f(L,G,J),this.len+=G,this};function s(j,L,G){L[G]=j&255}function d(j,L,G){for(;j>127;)L[G++]=j&127|128,j>>>=7;L[G]=j}function g(j,L){this.len=j,this.next=void 0,this.val=L}g.prototype=Object.create(f.prototype),g.prototype.fn=d,S.prototype.uint32=function(L){return this.len+=(this.tail=this.tail.next=new g((L=L>>>0)<128?1:L<16384?2:L<2097152?3:L<268435456?4:5,L)).len,this},S.prototype.int32=function(L){return L<0?this._push(P,10,o.fromNumber(L)):this.uint32(L)},S.prototype.sint32=function(L){return this.uint32((L<<1^L>>31)>>>0)};function P(j,L,G){for(;j.hi;)L[G++]=j.lo&127|128,j.lo=(j.lo>>>7|j.hi<<25)>>>0,j.hi>>>=7;for(;j.lo>127;)L[G++]=j.lo&127|128,j.lo=j.lo>>>7;L[G++]=j.lo}S.prototype.uint64=function(L){var G=o.from(L);return this._push(P,G.length(),G)},S.prototype.int64=S.prototype.uint64,S.prototype.sint64=function(L){var G=o.from(L).zzEncode();return this._push(P,G.length(),G)},S.prototype.bool=function(L){return this._push(s,1,L?1:0)};function R(j,L,G){L[G]=j&255,L[G+1]=j>>>8&255,L[G+2]=j>>>16&255,L[G+3]=j>>>24}S.prototype.fixed32=function(L){return this._push(R,4,L>>>0)},S.prototype.sfixed32=S.prototype.fixed32,S.prototype.fixed64=function(L){var G=o.from(L);return this._push(R,4,G.lo)._push(R,4,G.hi)},S.prototype.sfixed64=S.prototype.fixed64,S.prototype.float=function(L){return this._push(e.float.writeFloatLE,4,L)},S.prototype.double=function(L){return this._push(e.float.writeDoubleLE,8,L)};var I=e.Array.prototype.set?function(L,G,J){G.set(L,J)}:function(L,G,J){for(var Q=0;Q<L.length;++Q)G[J+Q]=L[Q]};return S.prototype.bytes=function(L){var G=L.length>>>0;if(!G)return this._push(s,1,0);if(e.isString(L)){var J=S.alloc(G=l.length(L));l.decode(L,J,0),L=J}return this.uint32(G)._push(I,G,L)},S.prototype.string=function(L){var G=p.length(L);return G?this.uint32(G)._push(p.write,G,L):this._push(s,1,0)},S.prototype.fork=function(){return this.states=new _(this),this.head=this.tail=new f(O,0,0),this.len=0,this},S.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(O,0,0),this.len=0),this},S.prototype.ldelim=function(){var L=this.head,G=this.tail,J=this.len;return this.reset().uint32(J),J&&(this.tail.next=L.next,this.tail=G,this.len+=J),this},S.prototype.finish=function(){for(var L=this.head.next,G=this.constructor.alloc(this.len),J=0;L;)L.fn(L.val,G,J),J+=L.len,L=L.next;return G},S._configure=function(j){r=j,S.create=v(),r._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=o;var e=requireWriter();(o.prototype=Object.create(e.prototype)).constructor=o;var r=requireMinimal$1();function o(){e.call(this)}o._configure=function(){o.alloc=r._Buffer_allocUnsafe,o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&r.Buffer.prototype.set.name==="set"?function(f,O,_){O.set(f,_)}:function(f,O,_){if(f.copy)f.copy(O,_,0,f.length);else for(var S=0;S<f.length;)O[_++]=f[S++]}},o.prototype.bytes=function(f){r.isString(f)&&(f=r._Buffer_from(f,"base64"));var O=f.length>>>0;return this.uint32(O),O&&this._push(o.writeBytesBuffer,O,f),this};function l(p,f,O){p.length<40?r.utf8.write(p,f,O):f.utf8Write?f.utf8Write(p,O):f.write(p,O)}return o.prototype.string=function(f){var O=r.Buffer.byteLength(f);return this.uint32(O),O&&this._push(l,O,f),this},o._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=f;var e=requireMinimal$1(),r,o=e.LongBits,l=e.utf8;function p(d,g){return RangeError("index out of range: "+d.pos+" + "+(g||1)+" > "+d.len)}function f(d){this.buf=d,this.pos=0,this.len=d.length}var O=typeof Uint8Array<"u"?function(g){if(g instanceof Uint8Array||Array.isArray(g))return new f(g);throw Error("illegal buffer")}:function(g){if(Array.isArray(g))return new f(g);throw Error("illegal buffer")},_=function(){return e.Buffer?function(P){return(f.create=function(I){return e.Buffer.isBuffer(I)?new r(I):O(I)})(P)}:O};f.create=_(),f.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,f.prototype.uint32=function(){var g=4294967295;return function(){if(g=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(g=(g|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,p(this,10);return g}}(),f.prototype.int32=function(){return this.uint32()|0},f.prototype.sint32=function(){var g=this.uint32();return g>>>1^-(g&1)|0};function S(){var d=new o(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(d.lo=(d.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return d;if(d.lo=(d.lo|(this.buf[this.pos]&127)<<28)>>>0,d.hi=(d.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return d;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw p(this);if(d.lo=(d.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return d}return d.lo=(d.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,d}if(this.len-this.pos>4){for(;g<5;++g)if(d.hi=(d.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return d}else for(;g<5;++g){if(this.pos>=this.len)throw p(this);if(d.hi=(d.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return d}throw Error("invalid varint encoding")}f.prototype.bool=function(){return this.uint32()!==0};function v(d,g){return(d[g-4]|d[g-3]<<8|d[g-2]<<16|d[g-1]<<24)>>>0}f.prototype.fixed32=function(){if(this.pos+4>this.len)throw p(this,4);return v(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw p(this,4);return v(this.buf,this.pos+=4)|0};function s(){if(this.pos+8>this.len)throw p(this,8);return new o(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}return f.prototype.float=function(){if(this.pos+4>this.len)throw p(this,4);var g=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},f.prototype.double=function(){if(this.pos+8>this.len)throw p(this,4);var g=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},f.prototype.bytes=function(){var g=this.uint32(),P=this.pos,R=this.pos+g;if(R>this.len)throw p(this,g);if(this.pos+=g,Array.isArray(this.buf))return this.buf.slice(P,R);if(P===R){var I=e.Buffer;return I?I.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,P,R)},f.prototype.string=function(){var g=this.bytes();return l.read(g,0,g.length)},f.prototype.skip=function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw p(this,g);this.pos+=g}else do if(this.pos>=this.len)throw p(this);while(this.buf[this.pos++]&128);return this},f.prototype.skipType=function(d){switch(d){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(d=this.uint32()&7)!==4;)this.skipType(d);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+d+" at offset "+this.pos)}return this},f._configure=function(d){r=d,f.create=_(),r._configure();var g=e.Long?"toLong":"toNumber";e.merge(f.prototype,{int64:function(){return S.call(this)[g](!1)},uint64:function(){return S.call(this)[g](!0)},sint64:function(){return S.call(this).zzDecode()[g](!1)},fixed64:function(){return s.call(this)[g](!0)},sfixed64:function(){return s.call(this)[g](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=o;var e=requireReader();(o.prototype=Object.create(e.prototype)).constructor=o;var r=requireMinimal$1();function o(l){e.call(this,l)}return o._configure=function(){r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice)},o.prototype.string=function(){var p=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+p,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+p,this.len))},o._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=r;var e=requireMinimal$1();(r.prototype=Object.create(e.EventEmitter.prototype)).constructor=r;function r(o,l,p){if(typeof o!="function")throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!l,this.responseDelimited=!!p}return r.prototype.rpcCall=function o(l,p,f,O,_){if(!O)throw TypeError("request must be specified");var S=this;if(!_)return e.asPromise(o,S,l,p,f,O);if(!S.rpcImpl){setTimeout(function(){_(Error("already ended"))},0);return}try{return S.rpcImpl(l,p[S.requestDelimited?"encodeDelimited":"encode"](O).finish(),function(s,d){if(s)return S.emit("error",s,l),_(s);if(d===null){S.end(!0);return}if(!(d instanceof f))try{d=f[S.responseDelimited?"decodeDelimited":"decode"](d)}catch(g){return S.emit("error",g,l),_(g)}return S.emit("data",d,l),_(null,d)})}catch(v){S.emit("error",v,l),setTimeout(function(){_(v)},0);return}},r.prototype.end=function(l){return this.rpcImpl&&(l||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(e){var r=e;r.Service=requireService$1()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(e){var r=e;r.build="minimal",r.Writer=requireWriter(),r.BufferWriter=requireWriter_buffer(),r.Reader=requireReader(),r.BufferReader=requireReader_buffer(),r.util=requireMinimal$1(),r.rpc=requireRpc(),r.roots=requireRoots(),r.configure=o;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}o()}(indexMinimal)),indexMinimal}var util$4={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=e;function e(r,o){typeof r=="string"&&(o=r,r=void 0);var l=[];function p(O){if(typeof O!="string"){var _=f();if(e.verbose&&console.log("codegen: "+_),_="return "+_,O){for(var S=Object.keys(O),v=new Array(S.length+1),s=new Array(S.length),d=0;d<S.length;)v[d]=S[d],s[d]=O[S[d++]];return v[d]=_,Function.apply(null,v).apply(null,s)}return Function(_)()}for(var g=new Array(arguments.length-1),P=0;P<g.length;)g[P]=arguments[++P];if(P=0,O=O.replace(/%([%dfijs])/g,function(I,j){var L=g[P++];switch(j){case"d":case"f":return String(Number(L));case"i":return String(Math.floor(L));case"j":return JSON.stringify(L);case"s":return String(L)}return"%"}),P!==g.length)throw Error("parameter count mismatch");return l.push(O),p}function f(O){return"function "+(O||o||"")+"("+(r&&r.join(",")||"")+`){
  `+l.join(`
  `)+`
}`}return p.toString=f,p}return e.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=l;var e=requireAspromise(),r=requireInquire(),o=r("fs");function l(p,f,O){return typeof f=="function"?(O=f,f={}):f||(f={}),O?!f.xhr&&o&&o.readFile?o.readFile(p,function(S,v){return S&&typeof XMLHttpRequest<"u"?l.xhr(p,f,O):S?O(S):O(null,f.binary?v:v.toString("utf8"))}):l.xhr(p,f,O):e(l,this,p,f)}return l.xhr=function(f,O,_){var S=new XMLHttpRequest;S.onreadystatechange=function(){if(S.readyState===4){if(S.status!==0&&S.status!==200)return _(Error("status "+S.status));if(O.binary){var s=S.response;if(!s){s=[];for(var d=0;d<S.responseText.length;++d)s.push(S.responseText.charCodeAt(d)&255)}return _(null,typeof Uint8Array<"u"?new Uint8Array(s):s)}return _(null,S.responseText)}},O.binary&&("overrideMimeType"in S&&S.overrideMimeType("text/plain; charset=x-user-defined"),S.responseType="arraybuffer"),S.open("GET",f),S.send()},fetch_1}var path$3={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(e){var r=e,o=r.isAbsolute=function(f){return/^(?:\/|\w+:)/.test(f)},l=r.normalize=function(f){f=f.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var O=f.split("/"),_=o(f),S="";_&&(S=O.shift()+"/");for(var v=0;v<O.length;)O[v]===".."?v>0&&O[v-1]!==".."?O.splice(--v,2):_?O.splice(v,1):++v:O[v]==="."?O.splice(v,1):++v;return S+O.join("/")};r.resolve=function(f,O,_){return _||(O=l(O)),o(O)?O:(_||(f=l(f)),(f=f.replace(/(?:\/|^)[^/]+$/,"")).length?l(f+"/"+O):O)}}(path$3)),path$3}var types$5={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(e){var r=e,o=requireUtil$4(),l=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function p(f,O){var _=0,S={};for(O|=0;_<f.length;)S[l[_+O]]=f[_++];return S}r.basic=p([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=p([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),r.long=p([0,0,0,1,1],7),r.mapKey=p([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=p([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$5)),types$5}var field$2,hasRequiredField;function requireField(){if(hasRequiredField)return field$2;hasRequiredField=1,field$2=O;var e=requireObject();((O.prototype=Object.create(e.prototype)).constructor=O).className="Field";var r=require_enum$1(),o=requireTypes(),l=requireUtil$4(),p,f=/^required|optional|repeated$/;O.fromJSON=function(S,v){return new O(S,v.id,v.type,v.rule,v.extend,v.options,v.comment)};function O(_,S,v,s,d,g,P){if(l.isObject(s)?(P=d,g=s,s=d=void 0):l.isObject(d)&&(P=g,g=d,d=void 0),e.call(this,_,g),!l.isInteger(S)||S<0)throw TypeError("id must be a non-negative integer");if(!l.isString(v))throw TypeError("type must be a string");if(s!==void 0&&!f.test(s=s.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(d!==void 0&&!l.isString(d))throw TypeError("extend must be a string");s==="proto3_optional"&&(s="optional"),this.rule=s&&s!=="optional"?s:void 0,this.type=v,this.id=S,this.extend=d||void 0,this.required=s==="required",this.optional=!this.required,this.repeated=s==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=l.Long?o.long[v]!==void 0:!1,this.bytes=v==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=P}return Object.defineProperty(O.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),O.prototype.setOption=function(S,v,s){return S==="packed"&&(this._packed=null),e.prototype.setOption.call(this,S,v,s)},O.prototype.toJSON=function(S){var v=S?!!S.keepComments:!1;return l.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",v?this.comment:void 0])},O.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=o.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof p?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof r&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof r))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=l.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var S;l.base64.test(this.typeDefault)?l.base64.decode(this.typeDefault,S=l.newBuffer(l.base64.length(this.typeDefault)),0):l.utf8.write(this.typeDefault,S=l.newBuffer(l.utf8.length(this.typeDefault)),0),this.typeDefault=S}return this.map?this.defaultValue=l.emptyObject:this.repeated?this.defaultValue=l.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof p&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},O.d=function(S,v,s,d){return typeof v=="function"?v=l.decorateType(v).name:v&&typeof v=="object"&&(v=l.decorateEnum(v).name),function(P,R){l.decorateType(P.constructor).add(new O(R,S,v,s,{default:d}))}},O._configure=function(S){p=S},field$2}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=l;var e=requireObject();((l.prototype=Object.create(e.prototype)).constructor=l).className="OneOf";var r=requireField(),o=requireUtil$4();function l(f,O,_,S){if(Array.isArray(O)||(_=O,O=void 0),e.call(this,f,_),!(O===void 0||Array.isArray(O)))throw TypeError("fieldNames must be an Array");this.oneof=O||[],this.fieldsArray=[],this.comment=S}l.fromJSON=function(O,_){return new l(O,_.oneof,_.options,_.comment)},l.prototype.toJSON=function(O){var _=O?!!O.keepComments:!1;return o.toObject(["options",this.options,"oneof",this.oneof,"comment",_?this.comment:void 0])};function p(f){if(f.parent)for(var O=0;O<f.fieldsArray.length;++O)f.fieldsArray[O].parent||f.parent.add(f.fieldsArray[O])}return l.prototype.add=function(O){if(!(O instanceof r))throw TypeError("field must be a Field");return O.parent&&O.parent!==this.parent&&O.parent.remove(O),this.oneof.push(O.name),this.fieldsArray.push(O),O.partOf=this,p(this),this},l.prototype.remove=function(O){if(!(O instanceof r))throw TypeError("field must be a Field");var _=this.fieldsArray.indexOf(O);if(_<0)throw Error(O+" is not a member of "+this);return this.fieldsArray.splice(_,1),_=this.oneof.indexOf(O.name),_>-1&&this.oneof.splice(_,1),O.partOf=null,this},l.prototype.onAdd=function(O){e.prototype.onAdd.call(this,O);for(var _=this,S=0;S<this.oneof.length;++S){var v=O.get(this.oneof[S]);v&&!v.partOf&&(v.partOf=_,_.fieldsArray.push(v))}p(this)},l.prototype.onRemove=function(O){for(var _=0,S;_<this.fieldsArray.length;++_)(S=this.fieldsArray[_]).parent&&S.parent.remove(S);e.prototype.onRemove.call(this,O)},l.d=function(){for(var O=new Array(arguments.length),_=0;_<arguments.length;)O[_]=arguments[_++];return function(v,s){o.decorateType(v.constructor).add(new l(s,O)),Object.defineProperty(v,s,{get:o.oneOfGetter(O),set:o.oneOfSetter(O)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=S;var e=requireObject();((S.prototype=Object.create(e.prototype)).constructor=S).className="Namespace";var r=requireField(),o=requireUtil$4(),l=requireOneof(),p,f,O;S.fromJSON=function(d,g){return new S(d,g.options).addJSON(g.nested)};function _(s,d){if(s&&s.length){for(var g={},P=0;P<s.length;++P)g[s[P].name]=s[P].toJSON(d);return g}}S.arrayToJSON=_,S.isReservedId=function(d,g){if(d){for(var P=0;P<d.length;++P)if(typeof d[P]!="string"&&d[P][0]<=g&&d[P][1]>g)return!0}return!1},S.isReservedName=function(d,g){if(d){for(var P=0;P<d.length;++P)if(d[P]===g)return!0}return!1};function S(s,d){e.call(this,s,d),this.nested=void 0,this._nestedArray=null}function v(s){return s._nestedArray=null,s}return Object.defineProperty(S.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=o.toArray(this.nested))}}),S.prototype.toJSON=function(d){return o.toObject(["options",this.options,"nested",_(this.nestedArray,d)])},S.prototype.addJSON=function(d){var g=this;if(d)for(var P=Object.keys(d),R=0,I;R<P.length;++R)I=d[P[R]],g.add((I.fields!==void 0?p.fromJSON:I.values!==void 0?O.fromJSON:I.methods!==void 0?f.fromJSON:I.id!==void 0?r.fromJSON:S.fromJSON)(P[R],I));return this},S.prototype.get=function(d){return this.nested&&this.nested[d]||null},S.prototype.getEnum=function(d){if(this.nested&&this.nested[d]instanceof O)return this.nested[d].values;throw Error("no such enum: "+d)},S.prototype.add=function(d){if(!(d instanceof r&&d.extend!==void 0||d instanceof p||d instanceof l||d instanceof O||d instanceof f||d instanceof S))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var g=this.get(d.name);if(g)if(g instanceof S&&d instanceof S&&!(g instanceof p||g instanceof f)){for(var P=g.nestedArray,R=0;R<P.length;++R)d.add(P[R]);this.remove(g),this.nested||(this.nested={}),d.setOptions(g.options,!0)}else throw Error("duplicate name '"+d.name+"' in "+this)}return this.nested[d.name]=d,d.onAdd(this),v(this)},S.prototype.remove=function(d){if(!(d instanceof e))throw TypeError("object must be a ReflectionObject");if(d.parent!==this)throw Error(d+" is not a member of "+this);return delete this.nested[d.name],Object.keys(this.nested).length||(this.nested=void 0),d.onRemove(this),v(this)},S.prototype.define=function(d,g){if(o.isString(d))d=d.split(".");else if(!Array.isArray(d))throw TypeError("illegal path");if(d&&d.length&&d[0]==="")throw Error("path must be relative");for(var P=this;d.length>0;){var R=d.shift();if(P.nested&&P.nested[R]){if(P=P.nested[R],!(P instanceof S))throw Error("path conflicts with non-namespace objects")}else P.add(P=new S(R))}return g&&P.addJSON(g),P},S.prototype.resolveAll=function(){for(var d=this.nestedArray,g=0;g<d.length;)d[g]instanceof S?d[g++].resolveAll():d[g++].resolve();return this.resolve()},S.prototype.lookup=function(d,g,P){if(typeof g=="boolean"?(P=g,g=void 0):g&&!Array.isArray(g)&&(g=[g]),o.isString(d)&&d.length){if(d===".")return this.root;d=d.split(".")}else if(!d.length)return this;if(d[0]==="")return this.root.lookup(d.slice(1),g);var R=this.get(d[0]);if(R){if(d.length===1){if(!g||g.indexOf(R.constructor)>-1)return R}else if(R instanceof S&&(R=R.lookup(d.slice(1),g,!0)))return R}else for(var I=0;I<this.nestedArray.length;++I)if(this._nestedArray[I]instanceof S&&(R=this._nestedArray[I].lookup(d,g,!0)))return R;return this.parent===null||P?null:this.parent.lookup(d,g)},S.prototype.lookupType=function(d){var g=this.lookup(d,[p]);if(!g)throw Error("no such type: "+d);return g},S.prototype.lookupEnum=function(d){var g=this.lookup(d,[O]);if(!g)throw Error("no such Enum '"+d+"' in "+this);return g},S.prototype.lookupTypeOrEnum=function(d){var g=this.lookup(d,[p,O]);if(!g)throw Error("no such Type or Enum '"+d+"' in "+this);return g},S.prototype.lookupService=function(d){var g=this.lookup(d,[f]);if(!g)throw Error("no such Service '"+d+"' in "+this);return g},S._configure=function(s,d,g){p=s,f=d,O=g},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=l;var e=requireField();((l.prototype=Object.create(e.prototype)).constructor=l).className="MapField";var r=requireTypes(),o=requireUtil$4();function l(p,f,O,_,S,v){if(e.call(this,p,f,_,void 0,void 0,S,v),!o.isString(O))throw TypeError("keyType must be a string");this.keyType=O,this.resolvedKeyType=null,this.map=!0}return l.fromJSON=function(f,O){return new l(f,O.id,O.keyType,O.type,O.options,O.comment)},l.prototype.toJSON=function(f){var O=f?!!f.keepComments:!1;return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",O?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(r.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return e.prototype.resolve.call(this)},l.d=function(f,O,_){return typeof _=="function"?_=o.decorateType(_).name:_&&typeof _=="object"&&(_=o.decorateEnum(_).name),function(v,s){o.decorateType(v.constructor).add(new l(s,f,O,_))}},mapfield}var method$1,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method$1;hasRequiredMethod=1,method$1=o;var e=requireObject();((o.prototype=Object.create(e.prototype)).constructor=o).className="Method";var r=requireUtil$4();function o(l,p,f,O,_,S,v,s,d){if(r.isObject(_)?(v=_,_=S=void 0):r.isObject(S)&&(v=S,S=void 0),!(p===void 0||r.isString(p)))throw TypeError("type must be a string");if(!r.isString(f))throw TypeError("requestType must be a string");if(!r.isString(O))throw TypeError("responseType must be a string");e.call(this,l,v),this.type=p||"rpc",this.requestType=f,this.requestStream=_?!0:void 0,this.responseType=O,this.responseStream=S?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=s,this.parsedOptions=d}return o.fromJSON=function(p,f){return new o(p,f.type,f.requestType,f.responseType,f.requestStream,f.responseStream,f.options,f.comment,f.parsedOptions)},o.prototype.toJSON=function(p){var f=p?!!p.keepComments:!1;return r.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",f?this.comment:void 0,"parsedOptions",this.parsedOptions])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),e.prototype.resolve.call(this))},method$1}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=p;var e=requireNamespace();((p.prototype=Object.create(e.prototype)).constructor=p).className="Service";var r=requireMethod(),o=requireUtil$4(),l=requireRpc();function p(O,_){e.call(this,O,_),this.methods={},this._methodsArray=null}p.fromJSON=function(_,S){var v=new p(_,S.options);if(S.methods)for(var s=Object.keys(S.methods),d=0;d<s.length;++d)v.add(r.fromJSON(s[d],S.methods[s[d]]));return S.nested&&v.addJSON(S.nested),v.comment=S.comment,v},p.prototype.toJSON=function(_){var S=e.prototype.toJSON.call(this,_),v=_?!!_.keepComments:!1;return o.toObject(["options",S&&S.options||void 0,"methods",e.arrayToJSON(this.methodsArray,_)||{},"nested",S&&S.nested||void 0,"comment",v?this.comment:void 0])},Object.defineProperty(p.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}});function f(O){return O._methodsArray=null,O}return p.prototype.get=function(_){return this.methods[_]||e.prototype.get.call(this,_)},p.prototype.resolveAll=function(){for(var _=this.methodsArray,S=0;S<_.length;++S)_[S].resolve();return e.prototype.resolve.call(this)},p.prototype.add=function(_){if(this.get(_.name))throw Error("duplicate name '"+_.name+"' in "+this);return _ instanceof r?(this.methods[_.name]=_,_.parent=this,f(this)):e.prototype.add.call(this,_)},p.prototype.remove=function(_){if(_ instanceof r){if(this.methods[_.name]!==_)throw Error(_+" is not a member of "+this);return delete this.methods[_.name],_.parent=null,f(this)}return e.prototype.remove.call(this,_)},p.prototype.create=function(_,S,v){for(var s=new l.Service(_,S,v),d=0,g;d<this.methodsArray.length;++d){var P=o.lcFirst((g=this._methodsArray[d]).resolve().name).replace(/[^$\w_]/g,"");s[P]=o.codegen(["r","c"],o.isReserved(P)?P+"_":P)("return this.rpcCall(m,q,s,r,c)")({m:g,q:g.resolvedRequestType.ctor,s:g.resolvedResponseType.ctor})}return s},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=r;var e=requireMinimal$1();function r(o){if(o)for(var l=Object.keys(o),p=0;p<l.length;++p)this[l[p]]=o[l[p]]}return r.create=function(l){return this.$type.create(l)},r.encode=function(l,p){return this.$type.encode(l,p)},r.encodeDelimited=function(l,p){return this.$type.encodeDelimited(l,p)},r.decode=function(l){return this.$type.decode(l)},r.decodeDelimited=function(l){return this.$type.decodeDelimited(l)},r.verify=function(l){return this.$type.verify(l)},r.fromObject=function(l){return this.$type.fromObject(l)},r.toObject=function(l,p){return this.$type.toObject(l,p)},r.prototype.toJSON=function(){return this.$type.toObject(this,e.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=p;var e=require_enum$1(),r=requireTypes(),o=requireUtil$4();function l(f){return"missing required '"+f.name+"'"}function p(f){var O=o.codegen(["r","l"],f.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(f.fieldsArray.filter(function(g){return g.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");f.group&&O("if((t&7)===4)")("break"),O("switch(t>>>3){");for(var _=0;_<f.fieldsArray.length;++_){var S=f._fieldsArray[_].resolve(),v=S.resolvedType instanceof e?"int32":S.type,s="m"+o.safeProp(S.name);O("case %i: {",S.id),S.map?(O("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),r.defaults[S.keyType]!==void 0?O("k=%j",r.defaults[S.keyType]):O("k=null"),r.defaults[v]!==void 0?O("value=%j",r.defaults[v]):O("value=null"),O("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",S.keyType)("case 2:"),r.basic[v]===void 0?O("value=types[%i].decode(r,r.uint32())",_):O("value=r.%s()",v),O("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),r.long[S.keyType]!==void 0?O('%s[typeof k==="object"?util.longToHash(k):k]=value',s):O("%s[k]=value",s)):S.repeated?(O("if(!(%s&&%s.length))",s,s)("%s=[]",s),r.packed[v]!==void 0&&O("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,v)("}else"),r.basic[v]===void 0?O(S.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,_):O("%s.push(r.%s())",s,v)):r.basic[v]===void 0?O(S.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,_):O("%s=r.%s()",s,v),O("break")("}")}for(O("default:")("r.skipType(t&7)")("break")("}")("}"),_=0;_<f._fieldsArray.length;++_){var d=f._fieldsArray[_];d.required&&O("if(!m.hasOwnProperty(%j))",d.name)("throw util.ProtocolError(%j,{instance:m})",l(d))}return O("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=f;var e=require_enum$1(),r=requireUtil$4();function o(O,_){return O.name+": "+_+(O.repeated&&_!=="array"?"[]":O.map&&_!=="object"?"{k:"+O.keyType+"}":"")+" expected"}function l(O,_,S,v){if(_.resolvedType)if(_.resolvedType instanceof e){O("switch(%s){",v)("default:")("return%j",o(_,"enum value"));for(var s=Object.keys(_.resolvedType.values),d=0;d<s.length;++d)O("case %i:",_.resolvedType.values[s[d]]);O("break")("}")}else O("{")("var e=types[%i].verify(%s);",S,v)("if(e)")("return%j+e",_.name+".")("}");else switch(_.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":O("if(!util.isInteger(%s))",v)("return%j",o(_,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":O("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",v,v,v,v)("return%j",o(_,"integer|Long"));break;case"float":case"double":O('if(typeof %s!=="number")',v)("return%j",o(_,"number"));break;case"bool":O('if(typeof %s!=="boolean")',v)("return%j",o(_,"boolean"));break;case"string":O("if(!util.isString(%s))",v)("return%j",o(_,"string"));break;case"bytes":O('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',v,v,v)("return%j",o(_,"buffer"));break}return O}function p(O,_,S){switch(_.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":O("if(!util.key32Re.test(%s))",S)("return%j",o(_,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":O("if(!util.key64Re.test(%s))",S)("return%j",o(_,"integer|Long key"));break;case"bool":O("if(!util.key2Re.test(%s))",S)("return%j",o(_,"boolean key"));break}return O}function f(O){var _=r.codegen(["m"],O.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),S=O.oneofsArray,v={};S.length&&_("var p={}");for(var s=0;s<O.fieldsArray.length;++s){var d=O._fieldsArray[s].resolve(),g="m"+r.safeProp(d.name);if(d.optional&&_("if(%s!=null&&m.hasOwnProperty(%j)){",g,d.name),d.map)_("if(!util.isObject(%s))",g)("return%j",o(d,"object"))("var k=Object.keys(%s)",g)("for(var i=0;i<k.length;++i){"),p(_,d,"k[i]"),l(_,d,s,g+"[k[i]]")("}");else if(d.repeated)_("if(!Array.isArray(%s))",g)("return%j",o(d,"array"))("for(var i=0;i<%s.length;++i){",g),l(_,d,s,g+"[i]")("}");else{if(d.partOf){var P=r.safeProp(d.partOf.name);v[d.partOf.name]===1&&_("if(p%s===1)",P)("return%j",d.partOf.name+": multiple values"),v[d.partOf.name]=1,_("p%s=1",P)}l(_,d,s,g)}d.optional&&_("}")}return _("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(e){var r=e,o=require_enum$1(),l=requireUtil$4();function p(O,_,S,v){var s=!1;if(_.resolvedType)if(_.resolvedType instanceof o){O("switch(d%s){",v);for(var d=_.resolvedType.values,g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]===_.typeDefault&&!s&&(O("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',v,v,v),_.repeated||O("break"),s=!0),O("case%j:",g[P])("case %i:",d[g[P]])("m%s=%j",v,d[g[P]])("break");O("}")}else O('if(typeof d%s!=="object")',v)("throw TypeError(%j)",_.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",v,S,v);else{var R=!1;switch(_.type){case"double":case"float":O("m%s=Number(d%s)",v,v);break;case"uint32":case"fixed32":O("m%s=d%s>>>0",v,v);break;case"int32":case"sint32":case"sfixed32":O("m%s=d%s|0",v,v);break;case"uint64":R=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":O("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",v,v,R)('else if(typeof d%s==="string")',v)("m%s=parseInt(d%s,10)",v,v)('else if(typeof d%s==="number")',v)("m%s=d%s",v,v)('else if(typeof d%s==="object")',v)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",v,v,v,R?"true":"");break;case"bytes":O('if(typeof d%s==="string")',v)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",v,v,v)("else if(d%s.length >= 0)",v)("m%s=d%s",v,v);break;case"string":O("m%s=String(d%s)",v,v);break;case"bool":O("m%s=Boolean(d%s)",v,v);break}}return O}r.fromObject=function(_){var S=_.fieldsArray,v=l.codegen(["d"],_.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!S.length)return v("return new this.ctor");v("var m=new this.ctor");for(var s=0;s<S.length;++s){var d=S[s].resolve(),g=l.safeProp(d.name);d.map?(v("if(d%s){",g)('if(typeof d%s!=="object")',g)("throw TypeError(%j)",d.fullName+": object expected")("m%s={}",g)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",g),p(v,d,s,g+"[ks[i]]")("}")("}")):d.repeated?(v("if(d%s){",g)("if(!Array.isArray(d%s))",g)("throw TypeError(%j)",d.fullName+": array expected")("m%s=[]",g)("for(var i=0;i<d%s.length;++i){",g),p(v,d,s,g+"[i]")("}")("}")):(d.resolvedType instanceof o||v("if(d%s!=null){",g),p(v,d,s,g),d.resolvedType instanceof o||v("}"))}return v("return m")};function f(O,_,S,v){if(_.resolvedType)_.resolvedType instanceof o?O("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",v,S,v,v,S,v,v):O("d%s=types[%i].toObject(m%s,o)",v,S,v);else{var s=!1;switch(_.type){case"double":case"float":O("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",v,v,v,v);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":O('if(typeof m%s==="number")',v)("d%s=o.longs===String?String(m%s):m%s",v,v,v)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",v,v,v,v,s?"true":"",v);break;case"bytes":O("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",v,v,v,v,v);break;default:O("d%s=m%s",v,v);break}}return O}r.toObject=function(_){var S=_.fieldsArray.slice().sort(l.compareFieldsById);if(!S.length)return l.codegen()("return {}");for(var v=l.codegen(["m","o"],_.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],d=[],g=[],P=0;P<S.length;++P)S[P].partOf||(S[P].resolve().repeated?s:S[P].map?d:g).push(S[P]);if(s.length){for(v("if(o.arrays||o.defaults){"),P=0;P<s.length;++P)v("d%s=[]",l.safeProp(s[P].name));v("}")}if(d.length){for(v("if(o.objects||o.defaults){"),P=0;P<d.length;++P)v("d%s={}",l.safeProp(d[P].name));v("}")}if(g.length){for(v("if(o.defaults){"),P=0;P<g.length;++P){var R=g[P],I=l.safeProp(R.name);if(R.resolvedType instanceof o)v("d%s=o.enums===String?%j:%j",I,R.resolvedType.valuesById[R.typeDefault],R.typeDefault);else if(R.long)v("if(util.Long){")("var n=new util.Long(%i,%i,%j)",R.typeDefault.low,R.typeDefault.high,R.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",I)("}else")("d%s=o.longs===String?%j:%i",I,R.typeDefault.toString(),R.typeDefault.toNumber());else if(R.bytes){var j="["+Array.prototype.slice.call(R.typeDefault).join(",")+"]";v("if(o.bytes===String)d%s=%j",I,String.fromCharCode.apply(String,R.typeDefault))("else{")("d%s=%s",I,j)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",I,I)("}")}else v("d%s=%j",I,R.typeDefault)}v("}")}var L=!1;for(P=0;P<S.length;++P){var R=S[P],G=_._fieldsArray.indexOf(R),I=l.safeProp(R.name);R.map?(L||(L=!0,v("var ks2")),v("if(m%s&&(ks2=Object.keys(m%s)).length){",I,I)("d%s={}",I)("for(var j=0;j<ks2.length;++j){"),f(v,R,G,I+"[ks2[j]]")("}")):R.repeated?(v("if(m%s&&m%s.length){",I,I)("d%s=[]",I)("for(var j=0;j<m%s.length;++j){",I),f(v,R,G,I+"[j]")("}")):(v("if(m%s!=null&&m.hasOwnProperty(%j)){",I,R.name),f(v,R,G,I),R.partOf&&v("if(o.oneofs)")("d%s=%j",l.safeProp(R.partOf.name),R.name)),v("}")}return v("return d")}}(converter)),converter}var wrappers$1={},hasRequiredWrappers$1;function requireWrappers$1(){return hasRequiredWrappers$1||(hasRequiredWrappers$1=1,function(e){var r=e,o=requireMessage();r[".google.protobuf.Any"]={fromObject:function(l){if(l&&l["@type"]){var p=l["@type"].substring(l["@type"].lastIndexOf("/")+1),f=this.lookup(p);if(f){var O=l["@type"].charAt(0)==="."?l["@type"].slice(1):l["@type"];return O.indexOf("/")===-1&&(O="/"+O),this.create({type_url:O,value:f.encode(f.fromObject(l)).finish()})}}return this.fromObject(l)},toObject:function(l,p){var f="type.googleapis.com/",O="",_="";if(p&&p.json&&l.type_url&&l.value){_=l.type_url.substring(l.type_url.lastIndexOf("/")+1),O=l.type_url.substring(0,l.type_url.lastIndexOf("/")+1);var S=this.lookup(_);S&&(l=S.decode(l.value))}if(!(l instanceof this.ctor)&&l instanceof o){var v=l.$type.toObject(l,p),s=l.$type.fullName[0]==="."?l.$type.fullName.slice(1):l.$type.fullName;return O===""&&(O=f),_=O+s,v["@type"]=_,v}return this.toObject(l,p)}}}(wrappers$1)),wrappers$1}var type$1,hasRequiredType;function requireType(){if(hasRequiredType)return type$1;hasRequiredType=1,type$1=I;var e=requireNamespace();((I.prototype=Object.create(e.prototype)).constructor=I).className="Type";var r=require_enum$1(),o=requireOneof(),l=requireField(),p=requireMapfield(),f=requireService(),O=requireMessage(),_=requireReader(),S=requireWriter(),v=requireUtil$4(),s=requireEncoder(),d=requireDecoder(),g=requireVerifier(),P=requireConverter(),R=requireWrappers$1();function I(L,G){e.call(this,L,G),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(I.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var L=Object.keys(this.fields),G=0;G<L.length;++G){var J=this.fields[L[G]],Q=J.id;if(this._fieldsById[Q])throw Error("duplicate id "+Q+" in "+this);this._fieldsById[Q]=J}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=v.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=v.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=I.generateConstructor(this)())},set:function(L){var G=L.prototype;G instanceof O||((L.prototype=new O).constructor=L,v.merge(L.prototype,G)),L.$type=L.prototype.$type=this,v.merge(L,O,!0),this._ctor=L;for(var J=0;J<this.fieldsArray.length;++J)this._fieldsArray[J].resolve();var Q={};for(J=0;J<this.oneofsArray.length;++J)Q[this._oneofsArray[J].resolve().name]={get:v.oneOfGetter(this._oneofsArray[J].oneof),set:v.oneOfSetter(this._oneofsArray[J].oneof)};J&&Object.defineProperties(L.prototype,Q)}}}),I.generateConstructor=function(G){for(var J=v.codegen(["p"],G.name),Q=0,W;Q<G.fieldsArray.length;++Q)(W=G._fieldsArray[Q]).map?J("this%s={}",v.safeProp(W.name)):W.repeated&&J("this%s=[]",v.safeProp(W.name));return J("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function j(L){return L._fieldsById=L._fieldsArray=L._oneofsArray=null,delete L.encode,delete L.decode,delete L.verify,L}return I.fromJSON=function(G,J){var Q=new I(G,J.options);Q.extensions=J.extensions,Q.reserved=J.reserved;for(var W=Object.keys(J.fields),Z=0;Z<W.length;++Z)Q.add((typeof J.fields[W[Z]].keyType<"u"?p.fromJSON:l.fromJSON)(W[Z],J.fields[W[Z]]));if(J.oneofs)for(W=Object.keys(J.oneofs),Z=0;Z<W.length;++Z)Q.add(o.fromJSON(W[Z],J.oneofs[W[Z]]));if(J.nested)for(W=Object.keys(J.nested),Z=0;Z<W.length;++Z){var te=J.nested[W[Z]];Q.add((te.id!==void 0?l.fromJSON:te.fields!==void 0?I.fromJSON:te.values!==void 0?r.fromJSON:te.methods!==void 0?f.fromJSON:e.fromJSON)(W[Z],te))}return J.extensions&&J.extensions.length&&(Q.extensions=J.extensions),J.reserved&&J.reserved.length&&(Q.reserved=J.reserved),J.group&&(Q.group=!0),J.comment&&(Q.comment=J.comment),Q},I.prototype.toJSON=function(G){var J=e.prototype.toJSON.call(this,G),Q=G?!!G.keepComments:!1;return v.toObject(["options",J&&J.options||void 0,"oneofs",e.arrayToJSON(this.oneofsArray,G),"fields",e.arrayToJSON(this.fieldsArray.filter(function(W){return!W.declaringField}),G)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",J&&J.nested||void 0,"comment",Q?this.comment:void 0])},I.prototype.resolveAll=function(){for(var G=this.fieldsArray,J=0;J<G.length;)G[J++].resolve();var Q=this.oneofsArray;for(J=0;J<Q.length;)Q[J++].resolve();return e.prototype.resolveAll.call(this)},I.prototype.get=function(G){return this.fields[G]||this.oneofs&&this.oneofs[G]||this.nested&&this.nested[G]||null},I.prototype.add=function(G){if(this.get(G.name))throw Error("duplicate name '"+G.name+"' in "+this);if(G instanceof l&&G.extend===void 0){if(this._fieldsById?this._fieldsById[G.id]:this.fieldsById[G.id])throw Error("duplicate id "+G.id+" in "+this);if(this.isReservedId(G.id))throw Error("id "+G.id+" is reserved in "+this);if(this.isReservedName(G.name))throw Error("name '"+G.name+"' is reserved in "+this);return G.parent&&G.parent.remove(G),this.fields[G.name]=G,G.message=this,G.onAdd(this),j(this)}return G instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[G.name]=G,G.onAdd(this),j(this)):e.prototype.add.call(this,G)},I.prototype.remove=function(G){if(G instanceof l&&G.extend===void 0){if(!this.fields||this.fields[G.name]!==G)throw Error(G+" is not a member of "+this);return delete this.fields[G.name],G.parent=null,G.onRemove(this),j(this)}if(G instanceof o){if(!this.oneofs||this.oneofs[G.name]!==G)throw Error(G+" is not a member of "+this);return delete this.oneofs[G.name],G.parent=null,G.onRemove(this),j(this)}return e.prototype.remove.call(this,G)},I.prototype.isReservedId=function(G){return e.isReservedId(this.reserved,G)},I.prototype.isReservedName=function(G){return e.isReservedName(this.reserved,G)},I.prototype.create=function(G){return new this.ctor(G)},I.prototype.setup=function(){for(var G=this.fullName,J=[],Q=0;Q<this.fieldsArray.length;++Q)J.push(this._fieldsArray[Q].resolve().resolvedType);this.encode=s(this)({Writer:S,types:J,util:v}),this.decode=d(this)({Reader:_,types:J,util:v}),this.verify=g(this)({types:J,util:v}),this.fromObject=P.fromObject(this)({types:J,util:v}),this.toObject=P.toObject(this)({types:J,util:v});var W=R[G];if(W){var Z=Object.create(this);Z.fromObject=this.fromObject,this.fromObject=W.fromObject.bind(Z),Z.toObject=this.toObject,this.toObject=W.toObject.bind(Z)}return this},I.prototype.encode=function(G,J){return this.setup().encode(G,J)},I.prototype.encodeDelimited=function(G,J){return this.encode(G,J&&J.len?J.fork():J).ldelim()},I.prototype.decode=function(G,J){return this.setup().decode(G,J)},I.prototype.decodeDelimited=function(G){return G instanceof _||(G=_.create(G)),this.decode(G,G.uint32())},I.prototype.verify=function(G){return this.setup().verify(G)},I.prototype.fromObject=function(G){return this.setup().fromObject(G)},I.prototype.toObject=function(G,J){return this.setup().toObject(G,J)},I.d=function(G){return function(Q){v.decorateType(Q,G)}},type$1}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=S;var e=requireNamespace();((S.prototype=Object.create(e.prototype)).constructor=S).className="Root";var r=requireField(),o=require_enum$1(),l=requireOneof(),p=requireUtil$4(),f,O,_;function S(g){e.call(this,"",g),this.deferred=[],this.files=[]}S.fromJSON=function(P,R){return R||(R=new S),P.options&&R.setOptions(P.options),R.addJSON(P.nested)},S.prototype.resolvePath=p.path.resolve,S.prototype.fetch=p.fetch;function v(){}S.prototype.load=function g(P,R,I){typeof R=="function"&&(I=R,R=void 0);var j=this;if(!I)return p.asPromise(g,j,P,R);var L=I===v;function G(ie,oe){if(I){if(L)throw ie;var se=I;I=null,se(ie,oe)}}function J(ie){var oe=ie.lastIndexOf("google/protobuf/");if(oe>-1){var se=ie.substring(oe);if(se in _)return se}return null}function Q(ie,oe){try{if(p.isString(oe)&&oe.charAt(0)==="{"&&(oe=JSON.parse(oe)),!p.isString(oe))j.setOptions(oe.options).addJSON(oe.nested);else{O.filename=ie;var se=O(oe,j,R),le,de=0;if(se.imports)for(;de<se.imports.length;++de)(le=J(se.imports[de])||j.resolvePath(ie,se.imports[de]))&&W(le);if(se.weakImports)for(de=0;de<se.weakImports.length;++de)(le=J(se.weakImports[de])||j.resolvePath(ie,se.weakImports[de]))&&W(le,!0)}}catch(pe){G(pe)}!L&&!Z&&G(null,j)}function W(ie,oe){if(ie=J(ie)||ie,!(j.files.indexOf(ie)>-1)){if(j.files.push(ie),ie in _){L?Q(ie,_[ie]):(++Z,setTimeout(function(){--Z,Q(ie,_[ie])}));return}if(L){var se;try{se=p.fs.readFileSync(ie).toString("utf8")}catch(le){oe||G(le);return}Q(ie,se)}else++Z,j.fetch(ie,function(le,de){if(--Z,!!I){if(le){oe?Z||G(null,j):G(le);return}Q(ie,de)}})}}var Z=0;p.isString(P)&&(P=[P]);for(var te=0,ee;te<P.length;++te)(ee=j.resolvePath("",P[te]))&&W(ee);if(L)return j;Z||G(null,j)},S.prototype.loadSync=function(P,R){if(!p.isNode)throw Error("not supported");return this.load(P,R,v)},S.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(P){return"'extend "+P.extend+"' in "+P.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var s=/^[A-Z]/;function d(g,P){var R=P.parent.lookup(P.extend);if(R){var I=new r(P.fullName,P.id,P.type,P.rule,void 0,P.options);return R.get(I.name)||(I.declaringField=P,P.extensionField=I,R.add(I)),!0}return!1}return S.prototype._handleAdd=function(P){if(P instanceof r)P.extend!==void 0&&!P.extensionField&&(d(this,P)||this.deferred.push(P));else if(P instanceof o)s.test(P.name)&&(P.parent[P.name]=P.values);else if(!(P instanceof l)){if(P instanceof f)for(var R=0;R<this.deferred.length;)d(this,this.deferred[R])?this.deferred.splice(R,1):++R;for(var I=0;I<P.nestedArray.length;++I)this._handleAdd(P._nestedArray[I]);s.test(P.name)&&(P.parent[P.name]=P)}},S.prototype._handleRemove=function(P){if(P instanceof r){if(P.extend!==void 0)if(P.extensionField)P.extensionField.parent.remove(P.extensionField),P.extensionField=null;else{var R=this.deferred.indexOf(P);R>-1&&this.deferred.splice(R,1)}}else if(P instanceof o)s.test(P.name)&&delete P.parent[P.name];else if(P instanceof e){for(var I=0;I<P.nestedArray.length;++I)this._handleRemove(P._nestedArray[I]);s.test(P.name)&&delete P.parent[P.name]}},S._configure=function(g,P,R){f=g,O=P,_=R},root}var hasRequiredUtil$4;function requireUtil$4(){if(hasRequiredUtil$4)return util$4.exports;hasRequiredUtil$4=1;var e=util$4.exports=requireMinimal$1(),r=requireRoots(),o,l;e.codegen=requireCodegen(),e.fetch=requireFetch(),e.path=requirePath(),e.fs=e.inquire("fs"),e.toArray=function(v){if(v){for(var s=Object.keys(v),d=new Array(s.length),g=0;g<s.length;)d[g]=v[s[g++]];return d}return[]},e.toObject=function(v){for(var s={},d=0;d<v.length;){var g=v[d++],P=v[d++];P!==void 0&&(s[g]=P)}return s};var p=/\\/g,f=/"/g;e.isReserved=function(v){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(v)},e.safeProp=function(v){return!/^[$\w_]+$/.test(v)||e.isReserved(v)?'["'+v.replace(p,"\\\\").replace(f,'\\"')+'"]':"."+v},e.ucFirst=function(v){return v.charAt(0).toUpperCase()+v.substring(1)};var O=/_([a-z])/g;e.camelCase=function(v){return v.substring(0,1)+v.substring(1).replace(O,function(s,d){return d.toUpperCase()})},e.compareFieldsById=function(v,s){return v.id-s.id},e.decorateType=function(v,s){if(v.$type)return s&&v.$type.name!==s&&(e.decorateRoot.remove(v.$type),v.$type.name=s,e.decorateRoot.add(v.$type)),v.$type;o||(o=requireType());var d=new o(s||v.name);return e.decorateRoot.add(d),d.ctor=v,Object.defineProperty(v,"$type",{value:d,enumerable:!1}),Object.defineProperty(v.prototype,"$type",{value:d,enumerable:!1}),d};var _=0;return e.decorateEnum=function(v){if(v.$type)return v.$type;l||(l=require_enum$1());var s=new l("Enum"+_++,v);return e.decorateRoot.add(s),Object.defineProperty(v,"$type",{value:s,enumerable:!1}),s},e.setProperty=function(v,s,d){function g(P,R,I){var j=R.shift();if(j==="__proto__"||j==="prototype")return P;if(R.length>0)P[j]=g(P[j]||{},R,I);else{var L=P[j];L&&(I=[].concat(L).concat(I)),P[j]=I}return P}if(typeof v!="object")throw TypeError("dst must be an object");if(!s)throw TypeError("path must be specified");return s=s.split("."),g(v,s,d)},Object.defineProperty(e,"decorateRoot",{get:function(){return r.decorated||(r.decorated=new(requireRoot()))}}),util$4.exports}var object$2,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object$2;hasRequiredObject=1,object$2=o,o.className="ReflectionObject";var e=requireUtil$4(),r;function o(l,p){if(!e.isString(l))throw TypeError("name must be a string");if(p&&!e.isObject(p))throw TypeError("options must be an object");this.options=p,this.parsedOptions=null,this.name=l,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(o.prototype,{root:{get:function(){for(var l=this;l.parent!==null;)l=l.parent;return l}},fullName:{get:function(){for(var l=[this.name],p=this.parent;p;)l.unshift(p.name),p=p.parent;return l.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(p){this.parent&&this.parent!==p&&this.parent.remove(this),this.parent=p,this.resolved=!1;var f=p.root;f instanceof r&&f._handleAdd(this)},o.prototype.onRemove=function(p){var f=p.root;f instanceof r&&f._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved?this:(this.root instanceof r&&(this.resolved=!0),this)},o.prototype.getOption=function(p){if(this.options)return this.options[p]},o.prototype.setOption=function(p,f,O){return(!O||!this.options||this.options[p]===void 0)&&((this.options||(this.options={}))[p]=f),this},o.prototype.setParsedOption=function(p,f,O){this.parsedOptions||(this.parsedOptions=[]);var _=this.parsedOptions;if(O){var S=_.find(function(d){return Object.prototype.hasOwnProperty.call(d,p)});if(S){var v=S[p];e.setProperty(v,O,f)}else S={},S[p]=e.setProperty({},O,f),_.push(S)}else{var s={};s[p]=f,_.push(s)}return this},o.prototype.setOptions=function(p,f){if(p)for(var O=Object.keys(p),_=0;_<O.length;++_)this.setOption(O[_],p[O[_]],f);return this},o.prototype.toString=function(){var p=this.constructor.className,f=this.fullName;return f.length?p+" "+f:p},o._configure=function(l){r=l},object$2}var _enum$1,hasRequired_enum$1;function require_enum$1(){if(hasRequired_enum$1)return _enum$1;hasRequired_enum$1=1,_enum$1=l;var e=requireObject();((l.prototype=Object.create(e.prototype)).constructor=l).className="Enum";var r=requireNamespace(),o=requireUtil$4();function l(p,f,O,_,S,v){if(e.call(this,p,O),f&&typeof f!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=_,this.comments=S||{},this.valuesOptions=v,this.reserved=void 0,f)for(var s=Object.keys(f),d=0;d<s.length;++d)typeof f[s[d]]=="number"&&(this.valuesById[this.values[s[d]]=f[s[d]]]=s[d])}return l.fromJSON=function(f,O){var _=new l(f,O.values,O.options,O.comment,O.comments);return _.reserved=O.reserved,_},l.prototype.toJSON=function(f){var O=f?!!f.keepComments:!1;return o.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",O?this.comment:void 0,"comments",O?this.comments:void 0])},l.prototype.add=function(f,O,_,S){if(!o.isString(f))throw TypeError("name must be a string");if(!o.isInteger(O))throw TypeError("id must be an integer");if(this.values[f]!==void 0)throw Error("duplicate name '"+f+"' in "+this);if(this.isReservedId(O))throw Error("id "+O+" is reserved in "+this);if(this.isReservedName(f))throw Error("name '"+f+"' is reserved in "+this);if(this.valuesById[O]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+O+" in "+this);this.values[f]=O}else this.valuesById[this.values[f]=O]=f;return S&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[f]=S||null),this.comments[f]=_||null,this},l.prototype.remove=function(f){if(!o.isString(f))throw TypeError("name must be a string");var O=this.values[f];if(O==null)throw Error("name '"+f+"' does not exist in "+this);return delete this.valuesById[O],delete this.values[f],delete this.comments[f],this.valuesOptions&&delete this.valuesOptions[f],this},l.prototype.isReservedId=function(f){return r.isReservedId(this.reserved,f)},l.prototype.isReservedName=function(f){return r.isReservedName(this.reserved,f)},_enum$1}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=p;var e=require_enum$1(),r=requireTypes(),o=requireUtil$4();function l(f,O,_,S){return O.resolvedType.group?f("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",_,S,(O.id<<3|3)>>>0,(O.id<<3|4)>>>0):f("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",_,S,(O.id<<3|2)>>>0)}function p(f){for(var O=o.codegen(["m","w"],f.name+"$encode")("if(!w)")("w=Writer.create()"),_,S,v=f.fieldsArray.slice().sort(o.compareFieldsById),_=0;_<v.length;++_){var s=v[_].resolve(),d=f._fieldsArray.indexOf(s),g=s.resolvedType instanceof e?"int32":s.type,P=r.basic[g];S="m"+o.safeProp(s.name),s.map?(O("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",S,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",S)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|r.mapKey[s.keyType],s.keyType),P===void 0?O("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",d,S):O(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|P,g,S),O("}")("}")):s.repeated?(O("if(%s!=null&&%s.length){",S,S),s.packed&&r.packed[g]!==void 0?O("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",S)("w.%s(%s[i])",g,S)("w.ldelim()"):(O("for(var i=0;i<%s.length;++i)",S),P===void 0?l(O,s,d,S+"[i]"):O("w.uint32(%i).%s(%s[i])",(s.id<<3|P)>>>0,g,S)),O("}")):(s.optional&&O("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",S,s.name),P===void 0?l(O,s,d,S):O("w.uint32(%i).%s(%s)",(s.id<<3|P)>>>0,g,S))}return O("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var e=indexLight.exports=requireIndexMinimal();e.build="light";function r(l,p,f){return typeof p=="function"?(f=p,p=new e.Root):p||(p=new e.Root),p.load(l,f)}e.load=r;function o(l,p){return p||(p=new e.Root),p.loadSync(l)}return e.loadSync=o,e.encoder=requireEncoder(),e.decoder=requireDecoder(),e.verifier=requireVerifier(),e.converter=requireConverter(),e.ReflectionObject=requireObject(),e.Namespace=requireNamespace(),e.Root=requireRoot(),e.Enum=require_enum$1(),e.Type=requireType(),e.Field=requireField(),e.OneOf=requireOneof(),e.MapField=requireMapfield(),e.Service=requireService(),e.Method=requireMethod(),e.Message=requireMessage(),e.wrappers=requireWrappers$1(),e.types=requireTypes(),e.util=requireUtil$4(),e.ReflectionObject._configure(e.Root),e.Namespace._configure(e.Type,e.Service,e.Enum),e.Root._configure(e.Type),e.Field._configure(e.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=s;var e=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,l=/^ *[*/]+ */,p=/^\s*\*?\/*/,f=/\n/g,O=/\s/,_=/\\(.?)/g,S={0:"\0",r:"\r",n:`
`,t:"	"};function v(d){return d.replace(_,function(g,P){switch(P){case"\\":case"":return P;default:return S[P]||""}})}s.unescape=v;function s(d,g){d=d.toString();var P=0,R=d.length,I=1,j=0,L={},G=[],J=null;function Q(fe){return Error("illegal "+fe+" (line "+I+")")}function W(){var fe=J==="'"?o:r;fe.lastIndex=P-1;var he=fe.exec(d);if(!he)throw Q("string");return P=fe.lastIndex,se(J),J=null,v(he[1])}function Z(fe){return d.charAt(fe)}function te(fe,he,ge){var me={type:d.charAt(fe++),lineEmpty:!1,leading:ge},ye;g?ye=2:ye=3;var ve=fe-ye,Ae;do if(--ve<0||(Ae=d.charAt(ve))===`
`){me.lineEmpty=!0;break}while(Ae===" "||Ae==="	");for(var Pe=d.substring(fe,he).split(f),Ne=0;Ne<Pe.length;++Ne)Pe[Ne]=Pe[Ne].replace(g?p:l,"").trim();me.text=Pe.join(`
`).trim(),L[I]=me,j=I}function ee(fe){var he=ie(fe),ge=d.substring(fe,he),me=/^\s*\/\//.test(ge);return me}function ie(fe){for(var he=fe;he<R&&Z(he)!==`
`;)he++;return he}function oe(){if(G.length>0)return G.shift();if(J)return W();var fe,he,ge,me,ye,ve=P===0;do{if(P===R)return null;for(fe=!1;O.test(ge=Z(P));)if(ge===`
`&&(ve=!0,++I),++P===R)return null;if(Z(P)==="/"){if(++P===R)throw Q("comment");if(Z(P)==="/")if(g){if(me=P,ye=!1,ee(P-1)){ye=!0;do if(P=ie(P),P===R||(P++,!ve))break;while(ee(P))}else P=Math.min(R,ie(P)+1);ye&&(te(me,P,ve),ve=!0),I++,fe=!0}else{for(ye=Z(me=P+1)==="/";Z(++P)!==`
`;)if(P===R)return null;++P,ye&&(te(me,P-1,ve),ve=!0),++I,fe=!0}else if((ge=Z(P))==="*"){me=P+1,ye=g||Z(me)==="*";do{if(ge===`
`&&++I,++P===R)throw Q("comment");he=ge,ge=Z(P)}while(he!=="*"||ge!=="/");++P,ye&&(te(me,P-2,ve),ve=!0),fe=!0}else return"/"}}while(fe);var Ae=P;e.lastIndex=0;var Pe=e.test(Z(Ae++));if(!Pe)for(;Ae<R&&!e.test(Z(Ae));)++Ae;var Ne=d.substring(P,P=Ae);return(Ne==='"'||Ne==="'")&&(J=Ne),Ne}function se(fe){G.push(fe)}function le(){if(!G.length){var fe=oe();if(fe===null)return null;se(fe)}return G[0]}function de(fe,he){var ge=le(),me=ge===fe;if(me)return oe(),!0;if(!he)throw Q("token '"+ge+"', '"+fe+"' expected");return!1}function pe(fe){var he=null,ge;return fe===void 0?(ge=L[I-1],delete L[I-1],ge&&(g||ge.type==="*"||ge.lineEmpty)&&(he=ge.leading?ge.text:null)):(j<fe&&le(),ge=L[fe],delete L[fe],ge&&!ge.lineEmpty&&(g||ge.type==="/")&&(he=ge.leading?null:ge.text)),he}return Object.defineProperty({next:oe,peek:le,push:se,skip:de,cmnt:pe},"line",{get:function(){return I}})}return tokenize_1}var parse_1,hasRequiredParse$3;function requireParse$3(){if(hasRequiredParse$3)return parse_1;hasRequiredParse$3=1,parse_1=W,W.filename=null,W.defaults={keepCase:!1};var e=requireTokenize(),r=requireRoot(),o=requireType(),l=requireField(),p=requireMapfield(),f=requireOneof(),O=require_enum$1(),_=requireService(),S=requireMethod(),v=requireTypes(),s=requireUtil$4(),d=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,P=/^0[x][0-9a-fA-F]+$/,R=/^-?0[x][0-9a-fA-F]+$/,I=/^0[0-7]+$/,j=/^-?0[0-7]+$/,L=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,G=/^[a-zA-Z_][a-zA-Z_0-9]*$/,J=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Q=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function W(Z,te,ee){te instanceof r||(ee=te,te=new r),ee||(ee=W.defaults);var ie=ee.preferTrailingComment||!1,oe=e(Z,ee.alternateCommentMode||!1),se=oe.next,le=oe.push,de=oe.peek,pe=oe.skip,fe=oe.cmnt,he=!0,ge,me,ye,ve,Ae=!1,Pe=te,Ne=ee.keepCase?function(ke){return ke}:s.camelCase;function Ee(ke,De,Re){var $e=W.filename;return Re||(W.filename=null),Error("illegal "+(De||"token")+" '"+ke+"' ("+($e?$e+", ":"")+"line "+oe.line+")")}function Ce(){var ke=[],De;do{if((De=se())!=='"'&&De!=="'")throw Ee(De);ke.push(se()),pe(De),De=de()}while(De==='"'||De==="'");return ke.join("")}function Se(ke){var De=se();switch(De){case"'":case'"':return le(De),Ce();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return Oe(De,!0)}catch{if(ke&&J.test(De))return De;throw Ee(De,"value")}}function Te(ke,De){var Re,$e;do De&&((Re=de())==='"'||Re==="'")?ke.push(Ce()):ke.push([$e=ce(se()),pe("to",!0)?ce(se()):$e]);while(pe(",",!0));var Ie={options:void 0};Ie.setOption=function(Me,je){this.options===void 0&&(this.options={}),this.options[Me]=je},ue(Ie,function(je){if(je==="option")z(Ie,je),pe(";");else throw Ee(je)},function(){Ue(Ie)})}function Oe(ke,De){var Re=1;switch(ke.charAt(0)==="-"&&(Re=-1,ke=ke.substring(1)),ke){case"inf":case"INF":case"Inf":return Re*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(ke))return Re*parseInt(ke,10);if(P.test(ke))return Re*parseInt(ke,16);if(I.test(ke))return Re*parseInt(ke,8);if(L.test(ke))return Re*parseFloat(ke);throw Ee(ke,"number",De)}function ce(ke,De){switch(ke){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!De&&ke.charAt(0)==="-")throw Ee(ke,"id");if(g.test(ke))return parseInt(ke,10);if(R.test(ke))return parseInt(ke,16);if(j.test(ke))return parseInt(ke,8);throw Ee(ke,"id")}function k(){if(ge!==void 0)throw Ee("package");if(ge=se(),!J.test(ge))throw Ee(ge,"name");Pe=Pe.define(ge),pe(";")}function F(){var ke=de(),De;switch(ke){case"weak":De=ye||(ye=[]),se();break;case"public":se();default:De=me||(me=[]);break}ke=Ce(),pe(";"),De.push(ke)}function V(){if(pe("="),ve=Ce(),Ae=ve==="proto3",!Ae&&ve!=="proto2")throw Ee(ve,"syntax");pe(";")}function ne(ke,De){switch(De){case"option":return z(ke,De),pe(";"),!0;case"message":return we(ke,De),!0;case"enum":return T(ke,De),!0;case"service":return Fe(ke,De),!0;case"extend":return qe(ke,De),!0}return!1}function ue(ke,De,Re){var $e=oe.line;if(ke&&(typeof ke.comment!="string"&&(ke.comment=fe()),ke.filename=W.filename),pe("{",!0)){for(var Ie;(Ie=se())!=="}";)De(Ie);pe(";",!0)}else Re&&Re(),pe(";"),ke&&(typeof ke.comment!="string"||ie)&&(ke.comment=fe($e)||ke.comment)}function we(ke,De){if(!G.test(De=se()))throw Ee(De,"type name");var Re=new o(De);ue(Re,function(Ie){if(!ne(Re,Ie))switch(Ie){case"map":q(Re);break;case"required":case"repeated":be(Re,Ie);break;case"optional":Ae?be(Re,"proto3_optional"):be(Re,"optional");break;case"oneof":H(Re,Ie);break;case"extensions":Te(Re.extensions||(Re.extensions=[]));break;case"reserved":Te(Re.reserved||(Re.reserved=[]),!0);break;default:if(!Ae||!J.test(Ie))throw Ee(Ie);le(Ie),be(Re,"optional");break}}),ke.add(Re)}function be(ke,De,Re){var $e=se();if($e==="group"){N(ke,De);return}for(;$e.endsWith(".")||de().startsWith(".");)$e+=se();if(!J.test($e))throw Ee($e,"type");var Ie=se();if(!G.test(Ie))throw Ee(Ie,"name");Ie=Ne(Ie),pe("=");var Me=new l(Ie,ce(se()),$e,De,Re);if(ue(Me,function(Ge){if(Ge==="option")z(Me,Ge),pe(";");else throw Ee(Ge)},function(){Ue(Me)}),De==="proto3_optional"){var je=new f("_"+Ie);Me.setOption("proto3_optional",!0),je.add(Me),ke.add(je)}else ke.add(Me);!Ae&&Me.repeated&&(v.packed[$e]!==void 0||v.basic[$e]===void 0)&&Me.setOption("packed",!1,!0)}function N(ke,De){var Re=se();if(!G.test(Re))throw Ee(Re,"name");var $e=s.lcFirst(Re);Re===$e&&(Re=s.ucFirst(Re)),pe("=");var Ie=ce(se()),Me=new o(Re);Me.group=!0;var je=new l($e,Ie,Re,De);je.filename=W.filename,ue(Me,function(Ge){switch(Ge){case"option":z(Me,Ge),pe(";");break;case"required":case"repeated":be(Me,Ge);break;case"optional":Ae?be(Me,"proto3_optional"):be(Me,"optional");break;case"message":we(Me,Ge);break;case"enum":T(Me,Ge);break;default:throw Ee(Ge)}}),ke.add(Me).add(je)}function q(ke){pe("<");var De=se();if(v.mapKey[De]===void 0)throw Ee(De,"type");pe(",");var Re=se();if(!J.test(Re))throw Ee(Re,"type");pe(">");var $e=se();if(!G.test($e))throw Ee($e,"name");pe("=");var Ie=new p(Ne($e),ce(se()),De,Re);ue(Ie,function(je){if(je==="option")z(Ie,je),pe(";");else throw Ee(je)},function(){Ue(Ie)}),ke.add(Ie)}function H(ke,De){if(!G.test(De=se()))throw Ee(De,"name");var Re=new f(Ne(De));ue(Re,function(Ie){Ie==="option"?(z(Re,Ie),pe(";")):(le(Ie),be(Re,"optional"))}),ke.add(Re)}function T(ke,De){if(!G.test(De=se()))throw Ee(De,"name");var Re=new O(De);ue(Re,function(Ie){switch(Ie){case"option":z(Re,Ie),pe(";");break;case"reserved":Te(Re.reserved||(Re.reserved=[]),!0);break;default:U(Re,Ie)}}),ke.add(Re)}function U(ke,De){if(!G.test(De))throw Ee(De,"name");pe("=");var Re=ce(se(),!0),$e={options:void 0};$e.setOption=function(Ie,Me){this.options===void 0&&(this.options={}),this.options[Ie]=Me},ue($e,function(Me){if(Me==="option")z($e,Me),pe(";");else throw Ee(Me)},function(){Ue($e)}),ke.add(De,Re,$e.comment,$e.options)}function z(ke,De){var Re=pe("(",!0);if(!J.test(De=se()))throw Ee(De,"name");var $e=De,Ie=$e,Me;Re&&(pe(")"),$e="("+$e+")",Ie=$e,De=de(),Q.test(De)&&(Me=De.slice(1),$e+=De,se())),pe("=");var je=ae(ke,$e);Le(ke,Ie,je,Me)}function ae(ke,De){if(pe("{",!0)){for(var Re={};!pe("}",!0);){if(!G.test(Ve=se()))throw Ee(Ve,"name");if(Ve===null)throw Ee(Ve,"end of input");var $e,Ie=Ve;if(pe(":",!0),de()==="{")$e=ae(ke,De+"."+Ve);else if(de()==="["){$e=[];var Me;if(pe("[",!0)){do Me=Se(!0),$e.push(Me);while(pe(",",!0));pe("]"),typeof Me<"u"&&xe(ke,De+"."+Ve,Me)}}else $e=Se(!0),xe(ke,De+"."+Ve,$e);var je=Re[Ie];je&&($e=[].concat(je).concat($e)),Re[Ie]=$e,pe(",",!0),pe(";",!0)}return Re}var We=Se(!0);return xe(ke,De,We),We}function xe(ke,De,Re){ke.setOption&&ke.setOption(De,Re)}function Le(ke,De,Re,$e){ke.setParsedOption&&ke.setParsedOption(De,Re,$e)}function Ue(ke){if(pe("[",!0)){do z(ke,"option");while(pe(",",!0));pe("]")}return ke}function Fe(ke,De){if(!G.test(De=se()))throw Ee(De,"service name");var Re=new _(De);ue(Re,function(Ie){if(!ne(Re,Ie))if(Ie==="rpc")Be(Re,Ie);else throw Ee(Ie)}),ke.add(Re)}function Be(ke,De){var Re=fe(),$e=De;if(!G.test(De=se()))throw Ee(De,"name");var Ie=De,Me,je,We,Ge;if(pe("("),pe("stream",!0)&&(je=!0),!J.test(De=se())||(Me=De,pe(")"),pe("returns"),pe("("),pe("stream",!0)&&(Ge=!0),!J.test(De=se())))throw Ee(De);We=De,pe(")");var ct=new S(Ie,$e,Me,We,je,Ge);ct.comment=Re,ue(ct,function(dt){if(dt==="option")z(ct,dt),pe(";");else throw Ee(dt)}),ke.add(ct)}function qe(ke,De){if(!J.test(De=se()))throw Ee(De,"reference");var Re=De;ue(null,function(Ie){switch(Ie){case"required":case"repeated":be(ke,Ie,Re);break;case"optional":Ae?be(ke,"proto3_optional",Re):be(ke,"optional",Re);break;default:if(!Ae||!J.test(Ie))throw Ee(Ie);le(Ie),be(ke,"optional",Re);break}})}for(var Ve;(Ve=se())!==null;)switch(Ve){case"package":if(!he)throw Ee(Ve);k();break;case"import":if(!he)throw Ee(Ve);F();break;case"syntax":if(!he)throw Ee(Ve);V();break;case"option":z(Pe,Ve),pe(";");break;default:if(ne(Pe,Ve)){he=!1;continue}throw Ee(Ve)}return W.filename=null,{package:ge,imports:me,weakImports:ye,syntax:ve,root:te}}return parse_1}var common_1,hasRequiredCommon$2;function requireCommon$2(){if(hasRequiredCommon$2)return common_1;hasRequiredCommon$2=1,common_1=r;var e=/\/|\./;function r(l,p){e.test(l)||(l="google/protobuf/"+l+".proto",p={nested:{google:{nested:{protobuf:{nested:p}}}}}),r[l]=p}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var o;return r("duration",{Duration:o={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:o}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(p){return r[p]||null},common_1}var hasRequiredSrc$5;function requireSrc$5(){if(hasRequiredSrc$5)return src$5.exports;hasRequiredSrc$5=1;var e=src$5.exports=requireIndexLight();return e.build="full",e.tokenize=requireTokenize(),e.parse=requireParse$3(),e.common=requireCommon$2(),e.Root._configure(e.Type,e.parse,e.common),src$5.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc$5()),protobufjs}var gax={},warnings={},featureDetection={},hasRequiredFeatureDetection;function requireFeatureDetection(){if(hasRequiredFeatureDetection)return featureDetection;hasRequiredFeatureDetection=1;var e;Object.defineProperty(featureDetection,"__esModule",{value:!0}),featureDetection.hasWindowFetch=o,featureDetection.isNodeJS=l,featureDetection.hasAbortController=p;const r={windowFetch:typeof window<"u"&&(window==null?void 0:window.fetch)&&typeof(window==null?void 0:window.fetch)=="function",textEncoder:typeof TextEncoder<"u",textDecoder:typeof TextDecoder<"u",nodeJS:typeof process<"u"&&((e=process==null?void 0:process.versions)===null||e===void 0?void 0:e.node),abortController:typeof AbortController<"u"};function o(){return r.windowFetch}function l(){return r.nodeJS}function p(){return r.abortController}return featureDetection}var hasRequiredWarnings;function requireWarnings(){if(hasRequiredWarnings)return warnings;hasRequiredWarnings=1,Object.defineProperty(warnings,"__esModule",{value:!0}),warnings.warn=o;const e=requireFeatureDetection(),r=new Set;function o(l,p,f){r.has(l)||(r.add(l),(0,e.isNodeJS)()?typeof f<"u"?process.emitWarning(p,{type:f}):process.emitWarning(p):console.warn(p))}return warnings}var util$3={},commonjsBrowser$1={},v1$2={},rng$1={},hasRequiredRng$1;function requireRng$1(){if(hasRequiredRng$1)return rng$1;hasRequiredRng$1=1,Object.defineProperty(rng$1,"__esModule",{value:!0}),rng$1.default=o;let e;const r=new Uint8Array(16);function o(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(r)}return rng$1}var stringify$2={},validate$1={},regex$1={},hasRequiredRegex$1;function requireRegex$1(){if(hasRequiredRegex$1)return regex$1;hasRequiredRegex$1=1,Object.defineProperty(regex$1,"__esModule",{value:!0}),regex$1.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return regex$1.default=e,regex$1}var hasRequiredValidate$1;function requireValidate$1(){if(hasRequiredValidate$1)return validate$1;hasRequiredValidate$1=1,Object.defineProperty(validate$1,"__esModule",{value:!0}),validate$1.default=void 0;var e=r(requireRegex$1());function r(p){return p&&p.__esModule?p:{default:p}}function o(p){return typeof p=="string"&&e.default.test(p)}var l=o;return validate$1.default=l,validate$1}var hasRequiredStringify$2;function requireStringify$2(){if(hasRequiredStringify$2)return stringify$2;hasRequiredStringify$2=1,Object.defineProperty(stringify$2,"__esModule",{value:!0}),stringify$2.default=void 0,stringify$2.unsafeStringify=l;var e=r(requireValidate$1());function r(O){return O&&O.__esModule?O:{default:O}}const o=[];for(let O=0;O<256;++O)o.push((O+256).toString(16).slice(1));function l(O,_=0){return o[O[_+0]]+o[O[_+1]]+o[O[_+2]]+o[O[_+3]]+"-"+o[O[_+4]]+o[O[_+5]]+"-"+o[O[_+6]]+o[O[_+7]]+"-"+o[O[_+8]]+o[O[_+9]]+"-"+o[O[_+10]]+o[O[_+11]]+o[O[_+12]]+o[O[_+13]]+o[O[_+14]]+o[O[_+15]]}function p(O,_=0){const S=l(O,_);if(!(0,e.default)(S))throw TypeError("Stringified UUID is invalid");return S}var f=p;return stringify$2.default=f,stringify$2}var hasRequiredV1$1;function requireV1$1(){if(hasRequiredV1$1)return v1$2;hasRequiredV1$1=1,Object.defineProperty(v1$2,"__esModule",{value:!0}),v1$2.default=void 0;var e=o(requireRng$1()),r=requireStringify$2();function o(v){return v&&v.__esModule?v:{default:v}}let l,p,f=0,O=0;function _(v,s,d){let g=s&&d||0;const P=s||new Array(16);v=v||{};let R=v.node||l,I=v.clockseq!==void 0?v.clockseq:p;if(R==null||I==null){const W=v.random||(v.rng||e.default)();R==null&&(R=l=[W[0]|1,W[1],W[2],W[3],W[4],W[5]]),I==null&&(I=p=(W[6]<<8|W[7])&16383)}let j=v.msecs!==void 0?v.msecs:Date.now(),L=v.nsecs!==void 0?v.nsecs:O+1;const G=j-f+(L-O)/1e4;if(G<0&&v.clockseq===void 0&&(I=I+1&16383),(G<0||j>f)&&v.nsecs===void 0&&(L=0),L>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=j,O=L,p=I,j+=122192928e5;const J=((j&268435455)*1e4+L)%4294967296;P[g++]=J>>>24&255,P[g++]=J>>>16&255,P[g++]=J>>>8&255,P[g++]=J&255;const Q=j/4294967296*1e4&268435455;P[g++]=Q>>>8&255,P[g++]=Q&255,P[g++]=Q>>>24&15|16,P[g++]=Q>>>16&255,P[g++]=I>>>8|128,P[g++]=I&255;for(let W=0;W<6;++W)P[g+W]=R[W];return s||(0,r.unsafeStringify)(P)}var S=_;return v1$2.default=S,v1$2}var v3$1={},v35$1={},parse$b={},hasRequiredParse$2;function requireParse$2(){if(hasRequiredParse$2)return parse$b;hasRequiredParse$2=1,Object.defineProperty(parse$b,"__esModule",{value:!0}),parse$b.default=void 0;var e=r(requireValidate$1());function r(p){return p&&p.__esModule?p:{default:p}}function o(p){if(!(0,e.default)(p))throw TypeError("Invalid UUID");let f;const O=new Uint8Array(16);return O[0]=(f=parseInt(p.slice(0,8),16))>>>24,O[1]=f>>>16&255,O[2]=f>>>8&255,O[3]=f&255,O[4]=(f=parseInt(p.slice(9,13),16))>>>8,O[5]=f&255,O[6]=(f=parseInt(p.slice(14,18),16))>>>8,O[7]=f&255,O[8]=(f=parseInt(p.slice(19,23),16))>>>8,O[9]=f&255,O[10]=(f=parseInt(p.slice(24,36),16))/1099511627776&255,O[11]=f/4294967296&255,O[12]=f>>>24&255,O[13]=f>>>16&255,O[14]=f>>>8&255,O[15]=f&255,O}var l=o;return parse$b.default=l,parse$b}var hasRequiredV35$1;function requireV35$1(){if(hasRequiredV35$1)return v35$1;hasRequiredV35$1=1,Object.defineProperty(v35$1,"__esModule",{value:!0}),v35$1.URL=v35$1.DNS=void 0,v35$1.default=O;var e=requireStringify$2(),r=o(requireParse$2());function o(_){return _&&_.__esModule?_:{default:_}}function l(_){_=unescape(encodeURIComponent(_));const S=[];for(let v=0;v<_.length;++v)S.push(_.charCodeAt(v));return S}const p="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v35$1.DNS=p;const f="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v35$1.URL=f;function O(_,S,v){function s(d,g,P,R){var I;if(typeof d=="string"&&(d=l(d)),typeof g=="string"&&(g=(0,r.default)(g)),((I=g)===null||I===void 0?void 0:I.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let j=new Uint8Array(16+d.length);if(j.set(g),j.set(d,g.length),j=v(j),j[6]=j[6]&15|S,j[8]=j[8]&63|128,P){R=R||0;for(let L=0;L<16;++L)P[R+L]=j[L];return P}return(0,e.unsafeStringify)(j)}try{s.name=_}catch{}return s.DNS=p,s.URL=f,s}return v35$1}var md5$1={},hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1,Object.defineProperty(md5$1,"__esModule",{value:!0}),md5$1.default=void 0;function e(P){if(typeof P=="string"){const R=unescape(encodeURIComponent(P));P=new Uint8Array(R.length);for(let I=0;I<R.length;++I)P[I]=R.charCodeAt(I)}return r(l(p(P),P.length*8))}function r(P){const R=[],I=P.length*32,j="0123456789abcdef";for(let L=0;L<I;L+=8){const G=P[L>>5]>>>L%32&255,J=parseInt(j.charAt(G>>>4&15)+j.charAt(G&15),16);R.push(J)}return R}function o(P){return(P+64>>>9<<4)+14+1}function l(P,R){P[R>>5]|=128<<R%32,P[o(R)-1]=R;let I=1732584193,j=-271733879,L=-1732584194,G=271733878;for(let J=0;J<P.length;J+=16){const Q=I,W=j,Z=L,te=G;I=S(I,j,L,G,P[J],7,-680876936),G=S(G,I,j,L,P[J+1],12,-389564586),L=S(L,G,I,j,P[J+2],17,606105819),j=S(j,L,G,I,P[J+3],22,-1044525330),I=S(I,j,L,G,P[J+4],7,-176418897),G=S(G,I,j,L,P[J+5],12,1200080426),L=S(L,G,I,j,P[J+6],17,-1473231341),j=S(j,L,G,I,P[J+7],22,-45705983),I=S(I,j,L,G,P[J+8],7,1770035416),G=S(G,I,j,L,P[J+9],12,-1958414417),L=S(L,G,I,j,P[J+10],17,-42063),j=S(j,L,G,I,P[J+11],22,-1990404162),I=S(I,j,L,G,P[J+12],7,1804603682),G=S(G,I,j,L,P[J+13],12,-40341101),L=S(L,G,I,j,P[J+14],17,-1502002290),j=S(j,L,G,I,P[J+15],22,1236535329),I=v(I,j,L,G,P[J+1],5,-165796510),G=v(G,I,j,L,P[J+6],9,-1069501632),L=v(L,G,I,j,P[J+11],14,643717713),j=v(j,L,G,I,P[J],20,-373897302),I=v(I,j,L,G,P[J+5],5,-701558691),G=v(G,I,j,L,P[J+10],9,38016083),L=v(L,G,I,j,P[J+15],14,-660478335),j=v(j,L,G,I,P[J+4],20,-405537848),I=v(I,j,L,G,P[J+9],5,568446438),G=v(G,I,j,L,P[J+14],9,-1019803690),L=v(L,G,I,j,P[J+3],14,-187363961),j=v(j,L,G,I,P[J+8],20,1163531501),I=v(I,j,L,G,P[J+13],5,-1444681467),G=v(G,I,j,L,P[J+2],9,-51403784),L=v(L,G,I,j,P[J+7],14,1735328473),j=v(j,L,G,I,P[J+12],20,-1926607734),I=s(I,j,L,G,P[J+5],4,-378558),G=s(G,I,j,L,P[J+8],11,-2022574463),L=s(L,G,I,j,P[J+11],16,1839030562),j=s(j,L,G,I,P[J+14],23,-35309556),I=s(I,j,L,G,P[J+1],4,-1530992060),G=s(G,I,j,L,P[J+4],11,1272893353),L=s(L,G,I,j,P[J+7],16,-155497632),j=s(j,L,G,I,P[J+10],23,-1094730640),I=s(I,j,L,G,P[J+13],4,681279174),G=s(G,I,j,L,P[J],11,-358537222),L=s(L,G,I,j,P[J+3],16,-722521979),j=s(j,L,G,I,P[J+6],23,76029189),I=s(I,j,L,G,P[J+9],4,-640364487),G=s(G,I,j,L,P[J+12],11,-421815835),L=s(L,G,I,j,P[J+15],16,530742520),j=s(j,L,G,I,P[J+2],23,-995338651),I=d(I,j,L,G,P[J],6,-198630844),G=d(G,I,j,L,P[J+7],10,1126891415),L=d(L,G,I,j,P[J+14],15,-1416354905),j=d(j,L,G,I,P[J+5],21,-57434055),I=d(I,j,L,G,P[J+12],6,1700485571),G=d(G,I,j,L,P[J+3],10,-1894986606),L=d(L,G,I,j,P[J+10],15,-1051523),j=d(j,L,G,I,P[J+1],21,-2054922799),I=d(I,j,L,G,P[J+8],6,1873313359),G=d(G,I,j,L,P[J+15],10,-30611744),L=d(L,G,I,j,P[J+6],15,-1560198380),j=d(j,L,G,I,P[J+13],21,1309151649),I=d(I,j,L,G,P[J+4],6,-145523070),G=d(G,I,j,L,P[J+11],10,-1120210379),L=d(L,G,I,j,P[J+2],15,718787259),j=d(j,L,G,I,P[J+9],21,-343485551),I=f(I,Q),j=f(j,W),L=f(L,Z),G=f(G,te)}return[I,j,L,G]}function p(P){if(P.length===0)return[];const R=P.length*8,I=new Uint32Array(o(R));for(let j=0;j<R;j+=8)I[j>>5]|=(P[j/8]&255)<<j%32;return I}function f(P,R){const I=(P&65535)+(R&65535);return(P>>16)+(R>>16)+(I>>16)<<16|I&65535}function O(P,R){return P<<R|P>>>32-R}function _(P,R,I,j,L,G){return f(O(f(f(R,P),f(j,G)),L),I)}function S(P,R,I,j,L,G,J){return _(R&I|~R&j,P,R,L,G,J)}function v(P,R,I,j,L,G,J){return _(R&j|I&~j,P,R,L,G,J)}function s(P,R,I,j,L,G,J){return _(R^I^j,P,R,L,G,J)}function d(P,R,I,j,L,G,J){return _(I^(R|~j),P,R,L,G,J)}var g=e;return md5$1.default=g,md5$1}var hasRequiredV3$1;function requireV3$1(){if(hasRequiredV3$1)return v3$1;hasRequiredV3$1=1,Object.defineProperty(v3$1,"__esModule",{value:!0}),v3$1.default=void 0;var e=o(requireV35$1()),r=o(requireMd5$1());function o(f){return f&&f.__esModule?f:{default:f}}var p=(0,e.default)("v3",48,r.default);return v3$1.default=p,v3$1}var v4$1={},native$1={},hasRequiredNative$1;function requireNative$1(){if(hasRequiredNative$1)return native$1;hasRequiredNative$1=1,Object.defineProperty(native$1,"__esModule",{value:!0}),native$1.default=void 0;var r={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return native$1.default=r,native$1}var hasRequiredV4$1;function requireV4$1(){if(hasRequiredV4$1)return v4$1;hasRequiredV4$1=1,Object.defineProperty(v4$1,"__esModule",{value:!0}),v4$1.default=void 0;var e=l(requireNative$1()),r=l(requireRng$1()),o=requireStringify$2();function l(O){return O&&O.__esModule?O:{default:O}}function p(O,_,S){if(e.default.randomUUID&&!_&&!O)return e.default.randomUUID();O=O||{};const v=O.random||(O.rng||r.default)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,_){S=S||0;for(let s=0;s<16;++s)_[S+s]=v[s];return _}return(0,o.unsafeStringify)(v)}var f=p;return v4$1.default=f,v4$1}var v5$1={},sha1$1={},hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1,Object.defineProperty(sha1$1,"__esModule",{value:!0}),sha1$1.default=void 0;function e(p,f,O,_){switch(p){case 0:return f&O^~f&_;case 1:return f^O^_;case 2:return f&O^f&_^O&_;case 3:return f^O^_}}function r(p,f){return p<<f|p>>>32-f}function o(p){const f=[1518500249,1859775393,2400959708,3395469782],O=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof p=="string"){const s=unescape(encodeURIComponent(p));p=[];for(let d=0;d<s.length;++d)p.push(s.charCodeAt(d))}else Array.isArray(p)||(p=Array.prototype.slice.call(p));p.push(128);const _=p.length/4+2,S=Math.ceil(_/16),v=new Array(S);for(let s=0;s<S;++s){const d=new Uint32Array(16);for(let g=0;g<16;++g)d[g]=p[s*64+g*4]<<24|p[s*64+g*4+1]<<16|p[s*64+g*4+2]<<8|p[s*64+g*4+3];v[s]=d}v[S-1][14]=(p.length-1)*8/Math.pow(2,32),v[S-1][14]=Math.floor(v[S-1][14]),v[S-1][15]=(p.length-1)*8&4294967295;for(let s=0;s<S;++s){const d=new Uint32Array(80);for(let L=0;L<16;++L)d[L]=v[s][L];for(let L=16;L<80;++L)d[L]=r(d[L-3]^d[L-8]^d[L-14]^d[L-16],1);let g=O[0],P=O[1],R=O[2],I=O[3],j=O[4];for(let L=0;L<80;++L){const G=Math.floor(L/20),J=r(g,5)+e(G,P,R,I)+j+f[G]+d[L]>>>0;j=I,I=R,R=r(P,30)>>>0,P=g,g=J}O[0]=O[0]+g>>>0,O[1]=O[1]+P>>>0,O[2]=O[2]+R>>>0,O[3]=O[3]+I>>>0,O[4]=O[4]+j>>>0}return[O[0]>>24&255,O[0]>>16&255,O[0]>>8&255,O[0]&255,O[1]>>24&255,O[1]>>16&255,O[1]>>8&255,O[1]&255,O[2]>>24&255,O[2]>>16&255,O[2]>>8&255,O[2]&255,O[3]>>24&255,O[3]>>16&255,O[3]>>8&255,O[3]&255,O[4]>>24&255,O[4]>>16&255,O[4]>>8&255,O[4]&255]}var l=o;return sha1$1.default=l,sha1$1}var hasRequiredV5$1;function requireV5$1(){if(hasRequiredV5$1)return v5$1;hasRequiredV5$1=1,Object.defineProperty(v5$1,"__esModule",{value:!0}),v5$1.default=void 0;var e=o(requireV35$1()),r=o(requireSha1$1());function o(f){return f&&f.__esModule?f:{default:f}}var p=(0,e.default)("v5",80,r.default);return v5$1.default=p,v5$1}var nil$1={},hasRequiredNil$1;function requireNil$1(){if(hasRequiredNil$1)return nil$1;hasRequiredNil$1=1,Object.defineProperty(nil$1,"__esModule",{value:!0}),nil$1.default=void 0;var e="00000000-0000-0000-0000-000000000000";return nil$1.default=e,nil$1}var version$9={},hasRequiredVersion$1;function requireVersion$1(){if(hasRequiredVersion$1)return version$9;hasRequiredVersion$1=1,Object.defineProperty(version$9,"__esModule",{value:!0}),version$9.default=void 0;var e=r(requireValidate$1());function r(p){return p&&p.__esModule?p:{default:p}}function o(p){if(!(0,e.default)(p))throw TypeError("Invalid UUID");return parseInt(p.slice(14,15),16)}var l=o;return version$9.default=l,version$9}var hasRequiredCommonjsBrowser$1;function requireCommonjsBrowser$1(){return hasRequiredCommonjsBrowser$1||(hasRequiredCommonjsBrowser$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return O.default}});var r=s(requireV1$1()),o=s(requireV3$1()),l=s(requireV4$1()),p=s(requireV5$1()),f=s(requireNil$1()),O=s(requireVersion$1()),_=s(requireValidate$1()),S=s(requireStringify$2()),v=s(requireParse$2());function s(d){return d&&d.__esModule?d:{default:d}}}(commonjsBrowser$1)),commonjsBrowser$1}var hasRequiredUtil$3;function requireUtil$3(){if(hasRequiredUtil$3)return util$3;hasRequiredUtil$3=1,Object.defineProperty(util$3,"__esModule",{value:!0}),util$3.camelToSnakeCase=l,util$3.toCamelCase=f,util$3.toLowerCamelCase=O,util$3.makeUUID=_;const e=requireCommonjsBrowser$1();function r(S,v=!1){return v&&(S=S.replace(/([A-Z])([A-Z]+)([A-Z])/g,s=>s[0]+s.slice(1,s.length-1).toLowerCase()+s[s.length-1])),S.split(/(?=[A-Z])|[^A-Za-z0-9.]+/).filter(s=>s.length>0).map((s,d)=>d===0?s:s.toLowerCase())}function o(S){return S.length===0?S:S[0].toLowerCase()+S.slice(1)}function l(S){const v=r(S);if(v.length===0)return S;const s=[v[0]];return s.push(...v.slice(1).map(o)),s.join("_")}function p(S){return S.length===0?S:S[0].toUpperCase()+S.slice(1)}function f(S){const v=r(S,!0);if(v.length===0)return S;const s=[v[0]];return s.push(...v.slice(1).map(d=>d.match(/^\d+$/)?"_"+d:p(d))),s.join("")}function O(S){const v=f(S);return v.length===0?v:v[0].toLowerCase()+v.slice(1)}function _(){return(0,e.v4)()}return util$3}var status={},hasRequiredStatus;function requireStatus(){return hasRequiredStatus||(hasRequiredStatus=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.HttpCodeToRpcCodeMap=e.Status=void 0,e.rpcCodeFromHttpStatusCode=o;var r;(function(l){l[l.OK=0]="OK",l[l.CANCELLED=1]="CANCELLED",l[l.UNKNOWN=2]="UNKNOWN",l[l.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",l[l.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",l[l.NOT_FOUND=5]="NOT_FOUND",l[l.ALREADY_EXISTS=6]="ALREADY_EXISTS",l[l.PERMISSION_DENIED=7]="PERMISSION_DENIED",l[l.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",l[l.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",l[l.ABORTED=10]="ABORTED",l[l.OUT_OF_RANGE=11]="OUT_OF_RANGE",l[l.UNIMPLEMENTED=12]="UNIMPLEMENTED",l[l.INTERNAL=13]="INTERNAL",l[l.UNAVAILABLE=14]="UNAVAILABLE",l[l.DATA_LOSS=15]="DATA_LOSS",l[l.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(r||(e.Status=r={})),e.HttpCodeToRpcCodeMap=new Map([[400,r.INVALID_ARGUMENT],[401,r.UNAUTHENTICATED],[403,r.PERMISSION_DENIED],[404,r.NOT_FOUND],[409,r.ABORTED],[416,r.OUT_OF_RANGE],[429,r.RESOURCE_EXHAUSTED],[499,r.CANCELLED],[501,r.UNIMPLEMENTED],[503,r.UNAVAILABLE],[504,r.DEADLINE_EXCEEDED]]);function o(l){return e.HttpCodeToRpcCodeMap.has(l)?e.HttpCodeToRpcCodeMap.get(l):l>=200&&l<300?r.OK:l>=400&&l<500?r.FAILED_PRECONDITION:l>=500&&l<600?r.INTERNAL:r.UNKNOWN}}(status)),status}var hasRequiredGax;function requireGax(){if(hasRequiredGax)return gax;hasRequiredGax=1,Object.defineProperty(gax,"__esModule",{value:!0}),gax.CallSettings=gax.RetryOptions=void 0,gax.convertRetryOptions=f,gax.createRetryOptions=O,gax.createBackoffSettings=_,gax.createDefaultBackoffSettings=S,gax.createMaxRetriesBackoffSettings=v,gax.createBundleOptions=s,gax.constructSettings=P,gax.createByteLengthFunction=R;const e=requireWarnings(),r=requireUtil$3(),o=requireStatus();class l{constructor(j,L,G,J){this.retryCodes=j,this.backoffSettings=L,this.shouldRetryFn=G,this.getResumptionRequestFn=J}}gax.RetryOptions=l;class p{constructor(j){var L;j=j||{},this.timeout=j.timeout||30*1e3,this.retry=j.retry,this.autoPaginate="autoPaginate"in j?j.autoPaginate:!0,this.maxResults=j.maxResults,this.otherArgs=j.otherArgs||{},this.bundleOptions=j.bundleOptions,this.isBundling="isBundling"in j?j.isBundling:!0,this.longrunning="longrunning"in j?j.longrunning:void 0,this.apiName=(L=j.apiName)!==null&&L!==void 0?L:void 0,this.retryRequestOptions=j.retryRequestOptions}merge(j){if(!j)return new p(this);let L=this.timeout,G=this.retry,J=this.autoPaginate,Q=this.maxResults,W=this.otherArgs,Z=this.isBundling,te=this.longrunning,ee=this.apiName,ie=this.retryRequestOptions;if("timeout"in j&&(L=j.timeout),G!=null&&G.retryCodes&&(G.backoffSettings.initialRpcTimeoutMillis=L,G.backoffSettings.maxRpcTimeoutMillis=L,G.backoffSettings.totalTimeoutMillis=L),"retry"in j&&(G=g(G||{},j.retry)),"autoPaginate"in j&&!j.autoPaginate&&(J=!1),"maxResults"in j&&(Q=j.maxResults),"otherArgs"in j){W={};for(const oe in this.otherArgs)W[oe]=this.otherArgs[oe];for(const oe in j.otherArgs)W[oe]=j.otherArgs[oe]}return"isBundling"in j&&(Z=j.isBundling),"maxRetries"in j&&j.maxRetries!==void 0&&(G.backoffSettings.maxRetries=j.maxRetries,delete G.backoffSettings.totalTimeoutMillis),"longrunning"in j&&(te=j.longrunning),"apiName"in j&&(ee=j.apiName),"retryRequestOptions"in j&&(ie=j.retryRequestOptions),new p({timeout:L,retry:G,bundleOptions:this.bundleOptions,longrunning:te,autoPaginate:J,maxResults:Q,otherArgs:W,isBundling:Z,apiName:ee,retryRequestOptions:ie})}}gax.CallSettings=p;function f(I,j){var L,G,J,Q;if(!I||!j)return I;if(I.retry&&I.retryRequestOptions)throw new Error("Only one of retry or retryRequestOptions may be set");if(I.retryRequestOptions){I.retryRequestOptions.objectMode!==void 0&&(0,e.warn)("retry_request_options","objectMode override is not supported. It is set to true internally by default in gax.","UnsupportedParameterWarning"),I.retryRequestOptions.noResponseRetries!==void 0&&(0,e.warn)("retry_request_options","noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.","UnsupportedParameterWarning"),I.retryRequestOptions.currentRetryAttempt!==void 0&&(0,e.warn)("retry_request_options","currentRetryAttempt override is not supported. Retry attempts are tracked internally.","UnsupportedParameterWarning");let W=[o.Status.UNAVAILABLE],Z;I.retryRequestOptions.shouldRetryFn&&(W=[],Z=I.retryRequestOptions.shouldRetryFn),I.maxRetries=(G=(L=I==null?void 0:I.retryRequestOptions)===null||L===void 0?void 0:L.retries)!==null&&G!==void 0?G:I.maxRetries;const te=S();let ee,ie;I.retryRequestOptions.maxRetryDelay!==void 0&&(ee=I.retryRequestOptions.maxRetryDelay*1e3);const oe=(Q=(J=I==null?void 0:I.retryRequestOptions)===null||J===void 0?void 0:J.retryDelayMultiplier)!==null&&Q!==void 0?Q:te.retryDelayMultiplier;I.retryRequestOptions.totalTimeout!==void 0&&(ie=I.retryRequestOptions.totalTimeout*1e3),te.maxRetryDelayMillis=ee??te.maxRetryDelayMillis,te.retryDelayMultiplier=oe??te.retryDelayMultiplier,te.totalTimeoutMillis=ie??te.totalTimeoutMillis;const se=O(W,te,Z);I.retry=se,delete I.retryRequestOptions,(0,e.warn)("retry_request_options","retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time","DeprecationWarning")}return I}function O(I,j,L,G){return{retryCodes:I,backoffSettings:j,shouldRetryFn:L,getResumptionRequestFn:G}}function _(I,j,L,G,J,Q,W){return{initialRetryDelayMillis:I,retryDelayMultiplier:j,maxRetryDelayMillis:L,initialRpcTimeoutMillis:G,rpcTimeoutMultiplier:J,maxRpcTimeoutMillis:Q,totalTimeoutMillis:W}}function S(){return _(100,1.3,6e4,null,null,null,null)}function v(I,j,L,G,J,Q,W){return{initialRetryDelayMillis:I,retryDelayMultiplier:j,maxRetryDelayMillis:L,initialRpcTimeoutMillis:G,rpcTimeoutMultiplier:J,maxRpcTimeoutMillis:Q,maxRetries:W}}function s(I){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach(Z=>{if(Z in I&&typeof I[Z]!="number")throw new Error(`${Z} should be a number`)});const L=I.element_count_threshold||0,G=I.element_count_limit||0,J=I.request_byte_threshold||0,Q=I.request_byte_limit||0,W=I.delay_threshold_millis||0;if(L===0&&J===0&&W===0)throw new Error("one threshold should be > 0");return{elementCountThreshold:L,elementCountLimit:G,requestByteThreshold:J,requestByteLimit:Q,delayThreshold:W}}function d(I,j,L,G){if(!I)return null;let J=null;if(j&&"retry_codes_name"in I){const W=I.retry_codes_name;J=(j[W]||[]).map(Z=>Number(G[Z]))}let Q=null;if(L&&"retry_params_name"in I){const W=L[I.retry_params_name];Q=_(W.initial_retry_delay_millis,W.retry_delay_multiplier,W.max_retry_delay_millis,W.initial_rpc_timeout_millis,W.rpc_timeout_multiplier,W.max_rpc_timeout_millis,W.total_timeout_millis)}return O(J,Q)}function g(I,j){if(!j)return null;if(!j.retryCodes&&!j.backoffSettings&&!j.shouldRetryFn&&!j.getResumptionRequestFn)return I;const L=j.retryCodes?j.retryCodes:I.retryCodes,G=j.backoffSettings?j.backoffSettings:I.backoffSettings,J=j.shouldRetryFn?j.shouldRetryFn:I.shouldRetryFn,Q=j.getResumptionRequestFn?j.getResumptionRequestFn:I.getResumptionRequestFn;return O(L,G,J,Q)}function P(I,j,L,G,J){J=J||{};const Q={},W=(j.interfaces||{})[I];if(!W)return null;const Z=(L.interfaces||{})[I]||{},te=W.methods,ee=Z.methods||{};for(const ie in te){const oe=te[ie],se=(0,r.toLowerCamelCase)(ie);let le=d(oe,W.retry_codes,W.retry_params,G),de=oe.bundling,pe=oe.timeout_millis;if(ie in ee){const he=ee[ie];he&&("bundling"in he&&(de=he.bundling),"timeout_millis"in he&&(pe=he.timeout_millis)),le=g(le,d(he,Z.retry_codes,Z.retry_params,G))}const fe=I;Q[se]=new p({timeout:pe,retry:le,bundleOptions:de?s(de):null,otherArgs:J,apiName:fe})}return Q}function R(I){return function(L){try{return I.encode(L).finish().length}catch(G){const J=JSON.stringify(L);return(0,e.warn)("error_encoding_protobufjs_object",`Cannot encode protobuf.js object: ${J}: ${G}`),J.length}}}return gax}var routingHeader={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4$3=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredRoutingHeader;function requireRoutingHeader(){if(hasRequiredRoutingHeader)return routingHeader;hasRequiredRoutingHeader=1,Object.defineProperty(routingHeader,"__esModule",{value:!0}),routingHeader.fromParams=r;const e=require$$4$3;function r(o){return e.stringify(o)}return routingHeader}var src$4={},googleauth={},src$3={},src$2={},gaxios={},extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p=function(v){return typeof Array.isArray=="function"?Array.isArray(v):r.call(v)==="[object Array]"},f=function(v){if(!v||r.call(v)!=="[object Object]")return!1;var s=e.call(v,"constructor"),d=v.constructor&&v.constructor.prototype&&e.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!s&&!d)return!1;var g;for(g in v);return typeof g>"u"||e.call(v,g)},O=function(v,s){o&&s.name==="__proto__"?o(v,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):v[s.name]=s.newValue},_=function(v,s){if(s==="__proto__")if(e.call(v,s)){if(l)return l(v,s).value}else return;return v[s]};return extend$1=function S(){var v,s,d,g,P,R,I=arguments[0],j=1,L=arguments.length,G=!1;for(typeof I=="boolean"&&(G=I,I=arguments[1]||{},j=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});j<L;++j)if(v=arguments[j],v!=null)for(s in v)d=_(I,s),g=_(v,s),I!==g&&(G&&g&&(f(g)||(P=p(g)))?(P?(P=!1,R=d&&p(d)?d:[]):R=d&&f(d)?d:{},O(I,{name:s,newValue:S(G,R,g)})):typeof g<"u"&&O(I,{name:s,newValue:g}));return I},extend$1}var browser$4={exports:{}},hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,function(e,r){var o=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},l=o();e.exports=r=l.fetch,l.fetch&&(r.default=l.fetch.bind(l)),r.Headers=l.Headers,r.Request=l.Request,r.Response=l.Response}(browser$4,browser$4.exports)),browser$4.exports}var isStream_1,hasRequiredIsStream;function requireIsStream(){if(hasRequiredIsStream)return isStream_1;hasRequiredIsStream=1;const e=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";return e.writable=r=>e(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object",e.readable=r=>e(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object",e.duplex=r=>e.writable(r)&&e.readable(r),e.transform=r=>e.duplex(r)&&typeof r._transform=="function",isStream_1=e,isStream_1}var common$1={},util$2={};const name$3="gaxios",version$8="6.7.0",description$2="A simple common HTTP client specifically for Google APIs and services.",main$2="build/src/index.js",types$4="build/src/index.d.ts",files$2=["build/src"],scripts$2={lint:"gts check",test:"c8 mocha build/test","presystem-test":"npm run compile","system-test":"mocha build/system-test --timeout 80000",compile:"tsc -p .",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"compodoc src/","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean",precompile:"gts clean"},repository$2="googleapis/gaxios",keywords$4=["google"],engines$2={node:">=14"},author$2="Google, LLC",license$2="Apache-2.0",devDependencies$2={"@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.19","@types/cors":"^2.8.6","@types/express":"^4.16.1","@types/extend":"^3.0.1","@types/mocha":"^9.0.0","@types/multiparty":"0.0.36","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.0.0","@types/node-fetch":"^2.5.7","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^10.0.0","abort-controller":"^3.0.0",assert:"^2.0.0",browserify:"^17.0.0",c8:"^8.0.0",cors:"^2.8.5",execa:"^5.0.0",express:"^4.16.4","form-data":"^4.0.0",gts:"^5.0.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",linkinator:"^3.0.0",mocha:"^8.0.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^19.0.0",sinon:"^18.0.0","stream-browserify":"^3.0.0",tmp:"0.2.3","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.35.0","webpack-cli":"^4.0.0"},dependencies$2={extend:"^3.0.2","https-proxy-agent":"^7.0.1","is-stream":"^2.0.0","node-fetch":"^2.6.9",uuid:"^10.0.0"},require$$0={name:name$3,version:version$8,description:description$2,main:main$2,types:types$4,files:files$2,scripts:scripts$2,repository:repository$2,keywords:keywords$4,engines:engines$2,author:author$2,license:license$2,devDependencies:devDependencies$2,dependencies:dependencies$2};var hasRequiredUtil$2;function requireUtil$2(){return hasRequiredUtil$2||(hasRequiredUtil$2=1,Object.defineProperty(util$2,"__esModule",{value:!0}),util$2.pkg=void 0,util$2.pkg=require$$0),util$2}var hasRequiredCommon$1;function requireCommon$1(){return hasRequiredCommon$1||(hasRequiredCommon$1=1,function(e){var r=commonjsGlobal&&commonjsGlobal.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o;Object.defineProperty(e,"__esModule",{value:!0}),e.GaxiosError=e.GAXIOS_ERROR_SYMBOL=void 0,e.defaultErrorRedactor=S;const l=require$$4$3,p=requireUtil$2(),f=r(requireExtend());e.GAXIOS_ERROR_SYMBOL=Symbol.for(`${p.pkg.name}-gaxios-error`);class O extends Error{static[(o=e.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](s){return s&&typeof s=="object"&&e.GAXIOS_ERROR_SYMBOL in s&&s[e.GAXIOS_ERROR_SYMBOL]===p.pkg.version?!0:Function.prototype[Symbol.hasInstance].call(O,s)}constructor(s,d,g,P){var R;if(super(s),this.config=d,this.response=g,this.error=P,this[o]=p.pkg.version,this.config=(0,f.default)(!0,{},d),this.response&&(this.response.config=(0,f.default)(!0,{},this.response.config)),this.response){try{this.response.data=_(this.config.responseType,(R=this.response)===null||R===void 0?void 0:R.data)}catch{}this.status=this.response.status}P&&"code"in P&&P.code&&(this.code=P.code),d.errorRedactor&&d.errorRedactor({config:this.config,response:this.response})}}e.GaxiosError=O;function _(v,s){switch(v){case"stream":return s;case"json":return JSON.parse(JSON.stringify(s));case"arraybuffer":return JSON.parse(Buffer.from(s).toString("utf8"));case"blob":return JSON.parse(s.text());default:return s}}function S(v){const s="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function d(R){if(R)for(const I of Object.keys(R))/^authentication$/i.test(I)&&(R[I]=s),/^authorization$/i.test(I)&&(R[I]=s),/secret/i.test(I)&&(R[I]=s)}function g(R,I){if(typeof R=="object"&&R!==null&&typeof R[I]=="string"){const j=R[I];(/grant_type=/i.test(j)||/assertion=/i.test(j)||/secret/i.test(j))&&(R[I]=s)}}function P(R){typeof R=="object"&&R!==null&&("grant_type"in R&&(R.grant_type=s),"assertion"in R&&(R.assertion=s),"client_secret"in R&&(R.client_secret=s))}if(v.config){d(v.config.headers),g(v.config,"data"),P(v.config.data),g(v.config,"body"),P(v.config.body);try{const R=new l.URL("",v.config.url);R.searchParams.has("token")&&R.searchParams.set("token",s),R.searchParams.has("client_secret")&&R.searchParams.set("client_secret",s),v.config.url=R.toString()}catch{}}return v.response&&(S({config:v.response.config}),d(v.response.headers),g(v.response,"data"),P(v.response.data)),v}}(common$1)),common$1}var retry={},hasRequiredRetry;function requireRetry(){if(hasRequiredRetry)return retry;hasRequiredRetry=1,Object.defineProperty(retry,"__esModule",{value:!0}),retry.getRetryConfig=e;async function e(p){let f=o(p);if(!p||!p.config||!f&&!p.config.retry)return{shouldRetry:!1};f=f||{},f.currentRetryAttempt=f.currentRetryAttempt||0,f.retry=f.retry===void 0||f.retry===null?3:f.retry,f.httpMethodsToRetry=f.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],f.noResponseRetries=f.noResponseRetries===void 0||f.noResponseRetries===null?2:f.noResponseRetries,f.retryDelayMultiplier=f.retryDelayMultiplier?f.retryDelayMultiplier:2,f.timeOfFirstRequest=f.timeOfFirstRequest?f.timeOfFirstRequest:Date.now(),f.totalTimeout=f.totalTimeout?f.totalTimeout:Number.MAX_SAFE_INTEGER,f.maxRetryDelay=f.maxRetryDelay?f.maxRetryDelay:Number.MAX_SAFE_INTEGER;const O=[[100,199],[408,408],[429,429],[500,599]];if(f.statusCodesToRetry=f.statusCodesToRetry||O,p.config.retryConfig=f,!await(f.shouldRetry||r)(p))return{shouldRetry:!1,config:p.config};const S=l(f);p.config.retryConfig.currentRetryAttempt+=1;const v=f.retryBackoff?f.retryBackoff(p,S):new Promise(s=>{setTimeout(s,S)});return f.onRetryAttempt&&f.onRetryAttempt(p),await v,{shouldRetry:!0,config:p.config}}function r(p){var f;const O=o(p);if(p.name==="AbortError"||((f=p.error)===null||f===void 0?void 0:f.name)==="AbortError"||!O||O.retry===0||!p.response&&(O.currentRetryAttempt||0)>=O.noResponseRetries||!p.config.method||O.httpMethodsToRetry.indexOf(p.config.method.toUpperCase())<0)return!1;if(p.response&&p.response.status){let _=!1;for(const[S,v]of O.statusCodesToRetry){const s=p.response.status;if(s>=S&&s<=v){_=!0;break}}if(!_)return!1}return O.currentRetryAttempt=O.currentRetryAttempt||0,!(O.currentRetryAttempt>=O.retry)}function o(p){if(p&&p.config&&p.config.retryConfig)return p.config.retryConfig}function l(p){var f;const _=(p.currentRetryAttempt?0:(f=p.retryDelay)!==null&&f!==void 0?f:100)+(Math.pow(p.retryDelayMultiplier,p.currentRetryAttempt)-1)/2*1e3,S=p.totalTimeout-(Date.now()-p.timeOfFirstRequest);return Math.min(_,S,p.maxRetryDelay)}return retry}var commonjsBrowser={},max$2={},hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,Object.defineProperty(max$2,"__esModule",{value:!0}),max$2.default=void 0,max$2.default="ffffffff-ffff-ffff-ffff-ffffffffffff"),max$2}var nil={},hasRequiredNil;function requireNil(){return hasRequiredNil||(hasRequiredNil=1,Object.defineProperty(nil,"__esModule",{value:!0}),nil.default=void 0,nil.default="00000000-0000-0000-0000-000000000000"),nil}var parse$a={},validate={},regex={},hasRequiredRegex;function requireRegex(){return hasRequiredRegex||(hasRequiredRegex=1,Object.defineProperty(regex,"__esModule",{value:!0}),regex.default=void 0,regex.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i),regex}var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate;hasRequiredValidate=1,Object.defineProperty(validate,"__esModule",{value:!0}),validate.default=void 0;var e=r(requireRegex());function r(l){return l&&l.__esModule?l:{default:l}}function o(l){return typeof l=="string"&&e.default.test(l)}return validate.default=o,validate}var hasRequiredParse$1;function requireParse$1(){if(hasRequiredParse$1)return parse$a;hasRequiredParse$1=1,Object.defineProperty(parse$a,"__esModule",{value:!0}),parse$a.default=void 0;var e=r(requireValidate());function r(l){return l&&l.__esModule?l:{default:l}}function o(l){if(!(0,e.default)(l))throw TypeError("Invalid UUID");var p,f=new Uint8Array(16);return f[0]=(p=parseInt(l.slice(0,8),16))>>>24,f[1]=p>>>16&255,f[2]=p>>>8&255,f[3]=p&255,f[4]=(p=parseInt(l.slice(9,13),16))>>>8,f[5]=p&255,f[6]=(p=parseInt(l.slice(14,18),16))>>>8,f[7]=p&255,f[8]=(p=parseInt(l.slice(19,23),16))>>>8,f[9]=p&255,f[10]=(p=parseInt(l.slice(24,36),16))/1099511627776&255,f[11]=p/4294967296&255,f[12]=p>>>24&255,f[13]=p>>>16&255,f[14]=p>>>8&255,f[15]=p&255,f}return parse$a.default=o,parse$a}var stringify$1={},hasRequiredStringify$1;function requireStringify$1(){if(hasRequiredStringify$1)return stringify$1;hasRequiredStringify$1=1,Object.defineProperty(stringify$1,"__esModule",{value:!0}),stringify$1.default=void 0,stringify$1.unsafeStringify=p;var e=r(requireValidate());function r(O){return O&&O.__esModule?O:{default:O}}for(var o=[],l=0;l<256;++l)o.push((l+256).toString(16).slice(1));function p(O,_=0){return(o[O[_+0]]+o[O[_+1]]+o[O[_+2]]+o[O[_+3]]+"-"+o[O[_+4]]+o[O[_+5]]+"-"+o[O[_+6]]+o[O[_+7]]+"-"+o[O[_+8]]+o[O[_+9]]+"-"+o[O[_+10]]+o[O[_+11]]+o[O[_+12]]+o[O[_+13]]+o[O[_+14]]+o[O[_+15]]).toLowerCase()}function f(O,_=0){var S=p(O,_);if(!(0,e.default)(S))throw TypeError("Stringified UUID is invalid");return S}return stringify$1.default=f,stringify$1}var v1$1={},rng={},hasRequiredRng;function requireRng(){if(hasRequiredRng)return rng;hasRequiredRng=1,Object.defineProperty(rng,"__esModule",{value:!0}),rng.default=o;var e,r=new Uint8Array(16);function o(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(r)}return rng}var hasRequiredV1;function requireV1(){if(hasRequiredV1)return v1$1;hasRequiredV1=1,Object.defineProperty(v1$1,"__esModule",{value:!0}),v1$1.default=void 0;var e=o(requireRng()),r=requireStringify$1();function o(S){return S&&S.__esModule?S:{default:S}}var l,p,f=0,O=0;function _(S,v,s){var d=v&&s||0,g=v||new Array(16);S=S||{};var P=S.node,R=S.clockseq;if(S._v6||(P||(P=l),R==null&&(R=p)),P==null||R==null){var I=S.random||(S.rng||e.default)();P==null&&(P=[I[0],I[1],I[2],I[3],I[4],I[5]],!l&&!S._v6&&(P[0]|=1,l=P)),R==null&&(R=(I[6]<<8|I[7])&16383,p===void 0&&!S._v6&&(p=R))}var j=S.msecs!==void 0?S.msecs:Date.now(),L=S.nsecs!==void 0?S.nsecs:O+1,G=j-f+(L-O)/1e4;if(G<0&&S.clockseq===void 0&&(R=R+1&16383),(G<0||j>f)&&S.nsecs===void 0&&(L=0),L>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=j,O=L,p=R,j+=122192928e5;var J=((j&268435455)*1e4+L)%4294967296;g[d++]=J>>>24&255,g[d++]=J>>>16&255,g[d++]=J>>>8&255,g[d++]=J&255;var Q=j/4294967296*1e4&268435455;g[d++]=Q>>>8&255,g[d++]=Q&255,g[d++]=Q>>>24&15|16,g[d++]=Q>>>16&255,g[d++]=R>>>8|128,g[d++]=R&255;for(var W=0;W<6;++W)g[d+W]=P[W];return v||(0,r.unsafeStringify)(g)}return v1$1.default=_,v1$1}var v1ToV6={},hasRequiredV1ToV6;function requireV1ToV6(){if(hasRequiredV1ToV6)return v1ToV6;hasRequiredV1ToV6=1,Object.defineProperty(v1ToV6,"__esModule",{value:!0}),v1ToV6.default=l;var e=o(requireParse$1()),r=requireStringify$1();function o(f){return f&&f.__esModule?f:{default:f}}function l(f){var O=typeof f=="string"?(0,e.default)(f):f,_=p(O);return typeof f=="string"?(0,r.unsafeStringify)(_):_}function p(f,O=!1){return Uint8Array.of((f[6]&15)<<4|f[7]>>4&15,(f[7]&15)<<4|(f[4]&240)>>4,(f[4]&15)<<4|(f[5]&240)>>4,(f[5]&15)<<4|(f[0]&240)>>4,(f[0]&15)<<4|(f[1]&240)>>4,(f[1]&15)<<4|(f[2]&240)>>4,96|f[2]&15,f[3],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])}return v1ToV6}var v3={},v35={},hasRequiredV35;function requireV35(){if(hasRequiredV35)return v35;hasRequiredV35=1,Object.defineProperty(v35,"__esModule",{value:!0}),v35.URL=v35.DNS=void 0,v35.default=O;var e=requireStringify$1(),r=o(requireParse$1());function o(_){return _&&_.__esModule?_:{default:_}}function l(_){_=unescape(encodeURIComponent(_));for(var S=[],v=0;v<_.length;++v)S.push(_.charCodeAt(v));return S}var p=v35.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",f=v35.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function O(_,S,v){function s(d,g,P,R){var I;if(typeof d=="string"&&(d=l(d)),typeof g=="string"&&(g=(0,r.default)(g)),((I=g)===null||I===void 0?void 0:I.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var j=new Uint8Array(16+d.length);if(j.set(g),j.set(d,g.length),j=v(j),j[6]=j[6]&15|S,j[8]=j[8]&63|128,P){R=R||0;for(var L=0;L<16;++L)P[R+L]=j[L];return P}return(0,e.unsafeStringify)(j)}try{s.name=_}catch{}return s.DNS=p,s.URL=f,s}return v35}var md5={},hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1,Object.defineProperty(md5,"__esModule",{value:!0}),md5.default=void 0;function e(g){if(typeof g=="string"){var P=unescape(encodeURIComponent(g));g=new Uint8Array(P.length);for(var R=0;R<P.length;++R)g[R]=P.charCodeAt(R)}return r(l(p(g),g.length*8))}function r(g){for(var P=[],R=g.length*32,I="0123456789abcdef",j=0;j<R;j+=8){var L=g[j>>5]>>>j%32&255,G=parseInt(I.charAt(L>>>4&15)+I.charAt(L&15),16);P.push(G)}return P}function o(g){return(g+64>>>9<<4)+14+1}function l(g,P){g[P>>5]|=128<<P%32,g[o(P)-1]=P;for(var R=1732584193,I=-271733879,j=-1732584194,L=271733878,G=0;G<g.length;G+=16){var J=R,Q=I,W=j,Z=L;R=S(R,I,j,L,g[G],7,-680876936),L=S(L,R,I,j,g[G+1],12,-389564586),j=S(j,L,R,I,g[G+2],17,606105819),I=S(I,j,L,R,g[G+3],22,-1044525330),R=S(R,I,j,L,g[G+4],7,-176418897),L=S(L,R,I,j,g[G+5],12,1200080426),j=S(j,L,R,I,g[G+6],17,-1473231341),I=S(I,j,L,R,g[G+7],22,-45705983),R=S(R,I,j,L,g[G+8],7,1770035416),L=S(L,R,I,j,g[G+9],12,-1958414417),j=S(j,L,R,I,g[G+10],17,-42063),I=S(I,j,L,R,g[G+11],22,-1990404162),R=S(R,I,j,L,g[G+12],7,1804603682),L=S(L,R,I,j,g[G+13],12,-40341101),j=S(j,L,R,I,g[G+14],17,-1502002290),I=S(I,j,L,R,g[G+15],22,1236535329),R=v(R,I,j,L,g[G+1],5,-165796510),L=v(L,R,I,j,g[G+6],9,-1069501632),j=v(j,L,R,I,g[G+11],14,643717713),I=v(I,j,L,R,g[G],20,-373897302),R=v(R,I,j,L,g[G+5],5,-701558691),L=v(L,R,I,j,g[G+10],9,38016083),j=v(j,L,R,I,g[G+15],14,-660478335),I=v(I,j,L,R,g[G+4],20,-405537848),R=v(R,I,j,L,g[G+9],5,568446438),L=v(L,R,I,j,g[G+14],9,-1019803690),j=v(j,L,R,I,g[G+3],14,-187363961),I=v(I,j,L,R,g[G+8],20,1163531501),R=v(R,I,j,L,g[G+13],5,-1444681467),L=v(L,R,I,j,g[G+2],9,-51403784),j=v(j,L,R,I,g[G+7],14,1735328473),I=v(I,j,L,R,g[G+12],20,-1926607734),R=s(R,I,j,L,g[G+5],4,-378558),L=s(L,R,I,j,g[G+8],11,-2022574463),j=s(j,L,R,I,g[G+11],16,1839030562),I=s(I,j,L,R,g[G+14],23,-35309556),R=s(R,I,j,L,g[G+1],4,-1530992060),L=s(L,R,I,j,g[G+4],11,1272893353),j=s(j,L,R,I,g[G+7],16,-155497632),I=s(I,j,L,R,g[G+10],23,-1094730640),R=s(R,I,j,L,g[G+13],4,681279174),L=s(L,R,I,j,g[G],11,-358537222),j=s(j,L,R,I,g[G+3],16,-722521979),I=s(I,j,L,R,g[G+6],23,76029189),R=s(R,I,j,L,g[G+9],4,-640364487),L=s(L,R,I,j,g[G+12],11,-421815835),j=s(j,L,R,I,g[G+15],16,530742520),I=s(I,j,L,R,g[G+2],23,-995338651),R=d(R,I,j,L,g[G],6,-198630844),L=d(L,R,I,j,g[G+7],10,1126891415),j=d(j,L,R,I,g[G+14],15,-1416354905),I=d(I,j,L,R,g[G+5],21,-57434055),R=d(R,I,j,L,g[G+12],6,1700485571),L=d(L,R,I,j,g[G+3],10,-1894986606),j=d(j,L,R,I,g[G+10],15,-1051523),I=d(I,j,L,R,g[G+1],21,-2054922799),R=d(R,I,j,L,g[G+8],6,1873313359),L=d(L,R,I,j,g[G+15],10,-30611744),j=d(j,L,R,I,g[G+6],15,-1560198380),I=d(I,j,L,R,g[G+13],21,1309151649),R=d(R,I,j,L,g[G+4],6,-145523070),L=d(L,R,I,j,g[G+11],10,-1120210379),j=d(j,L,R,I,g[G+2],15,718787259),I=d(I,j,L,R,g[G+9],21,-343485551),R=f(R,J),I=f(I,Q),j=f(j,W),L=f(L,Z)}return[R,I,j,L]}function p(g){if(g.length===0)return[];for(var P=g.length*8,R=new Uint32Array(o(P)),I=0;I<P;I+=8)R[I>>5]|=(g[I/8]&255)<<I%32;return R}function f(g,P){var R=(g&65535)+(P&65535),I=(g>>16)+(P>>16)+(R>>16);return I<<16|R&65535}function O(g,P){return g<<P|g>>>32-P}function _(g,P,R,I,j,L){return f(O(f(f(P,g),f(I,L)),j),R)}function S(g,P,R,I,j,L,G){return _(P&R|~P&I,g,P,j,L,G)}function v(g,P,R,I,j,L,G){return _(P&I|R&~I,g,P,j,L,G)}function s(g,P,R,I,j,L,G){return _(P^R^I,g,P,j,L,G)}function d(g,P,R,I,j,L,G){return _(R^(P|~I),g,P,j,L,G)}return md5.default=e,md5}var hasRequiredV3;function requireV3(){if(hasRequiredV3)return v3;hasRequiredV3=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.default=void 0;var e=o(requireV35()),r=o(requireMd5());function o(p){return p&&p.__esModule?p:{default:p}}var l=(0,e.default)("v3",48,r.default);return v3.default=l,v3}var v4={},native={},hasRequiredNative;function requireNative(){if(hasRequiredNative)return native;hasRequiredNative=1,Object.defineProperty(native,"__esModule",{value:!0}),native.default=void 0;var e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);return native.default={randomUUID:e},native}var hasRequiredV4;function requireV4(){if(hasRequiredV4)return v4;hasRequiredV4=1,Object.defineProperty(v4,"__esModule",{value:!0}),v4.default=void 0;var e=l(requireNative()),r=l(requireRng()),o=requireStringify$1();function l(f){return f&&f.__esModule?f:{default:f}}function p(f,O,_){if(e.default.randomUUID&&!O&&!f)return e.default.randomUUID();f=f||{};var S=f.random||(f.rng||r.default)();if(S[6]=S[6]&15|64,S[8]=S[8]&63|128,O){_=_||0;for(var v=0;v<16;++v)O[_+v]=S[v];return O}return(0,o.unsafeStringify)(S)}return v4.default=p,v4}var v5={},sha1={},hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1,Object.defineProperty(sha1,"__esModule",{value:!0}),sha1.default=void 0;function e(l,p,f,O){switch(l){case 0:return p&f^~p&O;case 1:return p^f^O;case 2:return p&f^p&O^f&O;case 3:return p^f^O}}function r(l,p){return l<<p|l>>>32-p}function o(l){var p=[1518500249,1859775393,2400959708,3395469782],f=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){var O=unescape(encodeURIComponent(l));l=[];for(var _=0;_<O.length;++_)l.push(O.charCodeAt(_))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);for(var S=l.length/4+2,v=Math.ceil(S/16),s=new Array(v),d=0;d<v;++d){for(var g=new Uint32Array(16),P=0;P<16;++P)g[P]=l[d*64+P*4]<<24|l[d*64+P*4+1]<<16|l[d*64+P*4+2]<<8|l[d*64+P*4+3];s[d]=g}s[v-1][14]=(l.length-1)*8/Math.pow(2,32),s[v-1][14]=Math.floor(s[v-1][14]),s[v-1][15]=(l.length-1)*8&4294967295;for(var R=0;R<v;++R){for(var I=new Uint32Array(80),j=0;j<16;++j)I[j]=s[R][j];for(var L=16;L<80;++L)I[L]=r(I[L-3]^I[L-8]^I[L-14]^I[L-16],1);for(var G=f[0],J=f[1],Q=f[2],W=f[3],Z=f[4],te=0;te<80;++te){var ee=Math.floor(te/20),ie=r(G,5)+e(ee,J,Q,W)+Z+p[ee]+I[te]>>>0;Z=W,W=Q,Q=r(J,30)>>>0,J=G,G=ie}f[0]=f[0]+G>>>0,f[1]=f[1]+J>>>0,f[2]=f[2]+Q>>>0,f[3]=f[3]+W>>>0,f[4]=f[4]+Z>>>0}return[f[0]>>24&255,f[0]>>16&255,f[0]>>8&255,f[0]&255,f[1]>>24&255,f[1]>>16&255,f[1]>>8&255,f[1]&255,f[2]>>24&255,f[2]>>16&255,f[2]>>8&255,f[2]&255,f[3]>>24&255,f[3]>>16&255,f[3]>>8&255,f[3]&255,f[4]>>24&255,f[4]>>16&255,f[4]>>8&255,f[4]&255]}return sha1.default=o,sha1}var hasRequiredV5;function requireV5(){if(hasRequiredV5)return v5;hasRequiredV5=1,Object.defineProperty(v5,"__esModule",{value:!0}),v5.default=void 0;var e=o(requireV35()),r=o(requireSha1());function o(p){return p&&p.__esModule?p:{default:p}}var l=(0,e.default)("v5",80,r.default);return v5.default=l,v5}var v6={},hasRequiredV6;function requireV6(){if(hasRequiredV6)return v6;hasRequiredV6=1,Object.defineProperty(v6,"__esModule",{value:!0}),v6.default=v;var e=requireStringify$1(),r=l(requireV1()),o=l(requireV1ToV6());function l(s){return s&&s.__esModule?s:{default:s}}function p(s,d){var g=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);d&&(P=P.filter(function(R){return Object.getOwnPropertyDescriptor(s,R).enumerable})),g.push.apply(g,P)}return g}function f(s){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{};d%2?p(Object(g),!0).forEach(function(P){O(s,P,g[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(g)):p(Object(g)).forEach(function(P){Object.defineProperty(s,P,Object.getOwnPropertyDescriptor(g,P))})}return s}function O(s,d,g){return(d=_(d))in s?Object.defineProperty(s,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):s[d]=g,s}function _(s){var d=S(s,"string");return typeof d=="symbol"?d:d+""}function S(s,d){if(typeof s!="object"||!s)return s;var g=s[Symbol.toPrimitive];if(g!==void 0){var P=g.call(s,d||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}function v(s={},d,g=0){var P=(0,r.default)(f(f({},s),{},{_v6:!0}),new Uint8Array(16));if(P=(0,o.default)(P),d){for(var R=0;R<16;R++)d[g+R]=P[R];return d}return(0,e.unsafeStringify)(P)}return v6}var v6ToV1={},hasRequiredV6ToV1;function requireV6ToV1(){if(hasRequiredV6ToV1)return v6ToV1;hasRequiredV6ToV1=1,Object.defineProperty(v6ToV1,"__esModule",{value:!0}),v6ToV1.default=l;var e=o(requireParse$1()),r=requireStringify$1();function o(f){return f&&f.__esModule?f:{default:f}}function l(f){var O=typeof f=="string"?(0,e.default)(f):f,_=p(O);return typeof f=="string"?(0,r.unsafeStringify)(_):_}function p(f){return Uint8Array.of((f[3]&15)<<4|f[4]>>4&15,(f[4]&15)<<4|(f[5]&240)>>4,(f[5]&15)<<4|f[6]&15,f[7],(f[1]&15)<<4|(f[2]&240)>>4,(f[2]&15)<<4|(f[3]&240)>>4,16|(f[0]&240)>>4,(f[0]&15)<<4|(f[1]&240)>>4,f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])}return v6ToV1}var v7={},hasRequiredV7;function requireV7(){if(hasRequiredV7)return v7;hasRequiredV7=1,Object.defineProperty(v7,"__esModule",{value:!0}),v7.default=void 0;var e=o(requireRng()),r=requireStringify$1();function o(_){return _&&_.__esModule?_:{default:_}}var l=null,p=null,f=0;function O(_,S,v){_=_||{};var s=S&&v||0,d=S||new Uint8Array(16),g=_.random||(_.rng||e.default)(),P=_.msecs!==void 0?_.msecs:Date.now(),R=_.seq!==void 0?_.seq:null,I=p,j=l;return P>f&&_.msecs===void 0&&(f=P,R!==null&&(I=null,j=null)),R!==null&&(R>2147483647&&(R=2147483647),I=R>>>19&4095,j=R&524287),(I===null||j===null)&&(I=g[6]&127,I=I<<8|g[7],j=g[8]&63,j=j<<8|g[9],j=j<<5|g[10]>>>3),P+1e4>f&&R===null?++j>524287&&(j=0,++I>4095&&(I=0,f++)):f=P,p=I,l=j,d[s++]=f/1099511627776&255,d[s++]=f/4294967296&255,d[s++]=f/16777216&255,d[s++]=f/65536&255,d[s++]=f/256&255,d[s++]=f&255,d[s++]=I>>>4&15|112,d[s++]=I&255,d[s++]=j>>>13&63|128,d[s++]=j>>>5&255,d[s++]=j<<3&255|g[10]&7,d[s++]=g[11],d[s++]=g[12],d[s++]=g[13],d[s++]=g[14],d[s++]=g[15],S||(0,r.unsafeStringify)(d)}return v7.default=O,v7}var version$7={},hasRequiredVersion;function requireVersion(){if(hasRequiredVersion)return version$7;hasRequiredVersion=1,Object.defineProperty(version$7,"__esModule",{value:!0}),version$7.default=void 0;var e=r(requireValidate());function r(l){return l&&l.__esModule?l:{default:l}}function o(l){if(!(0,e.default)(l))throw TypeError("Invalid UUID");return parseInt(l.slice(14,15),16)}return version$7.default=o,version$7}var hasRequiredCommonjsBrowser;function requireCommonjsBrowser(){return hasRequiredCommonjsBrowser||(hasRequiredCommonjsBrowser=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MAX",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"v1ToV6",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"v6",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"v6ToV1",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"v7",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return R.default}});var r=I(requireMax()),o=I(requireNil()),l=I(requireParse$1()),p=I(requireStringify$1()),f=I(requireV1()),O=I(requireV1ToV6()),_=I(requireV3()),S=I(requireV4()),v=I(requireV5()),s=I(requireV6()),d=I(requireV6ToV1()),g=I(requireV7()),P=I(requireValidate()),R=I(requireVersion());function I(j){return j&&j.__esModule?j:{default:j}}}(commonjsBrowser)),commonjsBrowser}var interceptor={},hasRequiredInterceptor;function requireInterceptor(){if(hasRequiredInterceptor)return interceptor;hasRequiredInterceptor=1,Object.defineProperty(interceptor,"__esModule",{value:!0}),interceptor.GaxiosInterceptorManager=void 0;class e extends Set{}return interceptor.GaxiosInterceptorManager=e,interceptor}var dist$1={},browser$3={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,r=e*60,o=r*60,l=o*24,p=l*7,f=l*365.25;ms=function(s,d){d=d||{};var g=typeof s;if(g==="string"&&s.length>0)return O(s);if(g==="number"&&isFinite(s))return d.long?S(s):_(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function O(s){if(s=String(s),!(s.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(d){var g=parseFloat(d[1]),P=(d[2]||"ms").toLowerCase();switch(P){case"years":case"year":case"yrs":case"yr":case"y":return g*f;case"weeks":case"week":case"w":return g*p;case"days":case"day":case"d":return g*l;case"hours":case"hour":case"hrs":case"hr":case"h":return g*o;case"minutes":case"minute":case"mins":case"min":case"m":return g*r;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function _(s){var d=Math.abs(s);return d>=l?Math.round(s/l)+"d":d>=o?Math.round(s/o)+"h":d>=r?Math.round(s/r)+"m":d>=e?Math.round(s/e)+"s":s+"ms"}function S(s){var d=Math.abs(s);return d>=l?v(s,d,l,"day"):d>=o?v(s,d,o,"hour"):d>=r?v(s,d,r,"minute"):d>=e?v(s,d,e,"second"):s+" ms"}function v(s,d,g,P){var R=d>=g*1.5;return Math.round(s/g)+" "+P+(R?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function e(r){l.debug=l,l.default=l,l.coerce=v,l.disable=O,l.enable=f,l.enabled=_,l.humanize=requireMs(),l.destroy=s,Object.keys(r).forEach(d=>{l[d]=r[d]}),l.names=[],l.skips=[],l.formatters={};function o(d){let g=0;for(let P=0;P<d.length;P++)g=(g<<5)-g+d.charCodeAt(P),g|=0;return l.colors[Math.abs(g)%l.colors.length]}l.selectColor=o;function l(d){let g,P=null,R,I;function j(...L){if(!j.enabled)return;const G=j,J=Number(new Date),Q=J-(g||J);G.diff=Q,G.prev=g,G.curr=J,g=J,L[0]=l.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");let W=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,(te,ee)=>{if(te==="%%")return"%";W++;const ie=l.formatters[ee];if(typeof ie=="function"){const oe=L[W];te=ie.call(G,oe),L.splice(W,1),W--}return te}),l.formatArgs.call(G,L),(G.log||l.log).apply(G,L)}return j.namespace=d,j.useColors=l.useColors(),j.color=l.selectColor(d),j.extend=p,j.destroy=l.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>P!==null?P:(R!==l.namespaces&&(R=l.namespaces,I=l.enabled(d)),I),set:L=>{P=L}}),typeof l.init=="function"&&l.init(j),j}function p(d,g){const P=l(this.namespace+(typeof g>"u"?":":g)+d);return P.log=this.log,P}function f(d){l.save(d),l.namespaces=d,l.names=[],l.skips=[];let g;const P=(typeof d=="string"?d:"").split(/[\s,]+/),R=P.length;for(g=0;g<R;g++)P[g]&&(d=P[g].replace(/\*/g,".*?"),d[0]==="-"?l.skips.push(new RegExp("^"+d.slice(1)+"$")):l.names.push(new RegExp("^"+d+"$")))}function O(){const d=[...l.names.map(S),...l.skips.map(S).map(g=>"-"+g)].join(",");return l.enable(""),d}function _(d){if(d[d.length-1]==="*")return!0;let g,P;for(g=0,P=l.skips.length;g<P;g++)if(l.skips[g].test(d))return!1;for(g=0,P=l.names.length;g<P;g++)if(l.names[g].test(d))return!0;return!1}function S(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function v(d){return d instanceof Error?d.stack||d.message:d}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l.enable(l.load()),l}return common=e,common}var hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,function(e,r){r.formatArgs=l,r.save=p,r.load=f,r.useColors=o,r.storage=O(),r.destroy=(()=>{let S=!1;return()=>{S||(S=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(S){if(S[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+S[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;S.splice(1,0,v,"color: inherit");let s=0,d=0;S[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(s++,g==="%c"&&(d=s))}),S.splice(d,0,v)}r.log=console.debug||console.log||(()=>{});function p(S){try{S?r.storage.setItem("debug",S):r.storage.removeItem("debug")}catch{}}function f(){let S;try{S=r.storage.getItem("debug")}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}function O(){try{return localStorage}catch{}}e.exports=requireCommon()(r);const{formatters:_}=e.exports;_.j=function(S){try{return JSON.stringify(S)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}(browser$3,browser$3.exports)),browser$3.exports}var dist={},helpers={},hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers;hasRequiredHelpers=1;var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(S,v,s,d){d===void 0&&(d=s);var g=Object.getOwnPropertyDescriptor(v,s);(!g||("get"in g?!v.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return v[s]}}),Object.defineProperty(S,d,g)}:function(S,v,s,d){d===void 0&&(d=s),S[d]=v[s]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(S,v){Object.defineProperty(S,"default",{enumerable:!0,value:v})}:function(S,v){S.default=v}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(S){if(S&&S.__esModule)return S;var v={};if(S!=null)for(var s in S)s!=="default"&&Object.prototype.hasOwnProperty.call(S,s)&&e(v,S,s);return r(v,S),v};Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.req=helpers.json=helpers.toBuffer=void 0;const l=o(require$$4$3),p=o(require$$4$3);async function f(S){let v=0;const s=[];for await(const d of S)v+=d.length,s.push(d);return Buffer.concat(s,v)}helpers.toBuffer=f;async function O(S){const s=(await f(S)).toString("utf8");try{return JSON.parse(s)}catch(d){const g=d;throw g.message+=` (input: ${s})`,g}}helpers.json=O;function _(S,v={}){const d=((typeof S=="string"?S:S.href).startsWith("https:")?p:l).request(S,v),g=new Promise((P,R)=>{d.once("response",P).once("error",R).end()});return d.then=g.then.bind(g),d}return helpers.req=_,helpers}var hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,function(e){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,d,g,P){P===void 0&&(P=g);var R=Object.getOwnPropertyDescriptor(d,g);(!R||("get"in R?!d.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return d[g]}}),Object.defineProperty(s,P,R)}:function(s,d,g,P){P===void 0&&(P=g),s[P]=d[g]}),o=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(s,d){Object.defineProperty(s,"default",{enumerable:!0,value:d})}:function(s,d){s.default=d}),l=commonjsGlobal&&commonjsGlobal.__importStar||function(s){if(s&&s.__esModule)return s;var d={};if(s!=null)for(var g in s)g!=="default"&&Object.prototype.hasOwnProperty.call(s,g)&&r(d,s,g);return o(d,s),d},p=commonjsGlobal&&commonjsGlobal.__exportStar||function(s,d){for(var g in s)g!=="default"&&!Object.prototype.hasOwnProperty.call(d,g)&&r(d,s,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.Agent=void 0;const f=l(require$$4$3),O=l(require$$4$3),_=require$$4$3;p(requireHelpers(),e);const S=Symbol("AgentBaseInternalState");class v extends O.Agent{constructor(d){super(d),this[S]={}}isSecureEndpoint(d){if(d){if(typeof d.secureEndpoint=="boolean")return d.secureEndpoint;if(typeof d.protocol=="string")return d.protocol==="https:"}const{stack:g}=new Error;return typeof g!="string"?!1:g.split(`
`).some(P=>P.indexOf("(https.js:")!==-1||P.indexOf("node:https:")!==-1)}incrementSockets(d){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[d]||(this.sockets[d]=[]);const g=new f.Socket({writable:!1});return this.sockets[d].push(g),this.totalSocketCount++,g}decrementSockets(d,g){if(!this.sockets[d]||g===null)return;const P=this.sockets[d],R=P.indexOf(g);R!==-1&&(P.splice(R,1),this.totalSocketCount--,P.length===0&&delete this.sockets[d])}getName(d){return(typeof d.secureEndpoint=="boolean"?d.secureEndpoint:this.isSecureEndpoint(d))?_.Agent.prototype.getName.call(this,d):super.getName(d)}createSocket(d,g,P){const R={...g,secureEndpoint:this.isSecureEndpoint(g)},I=this.getName(R),j=this.incrementSockets(I);Promise.resolve().then(()=>this.connect(d,R)).then(L=>{if(this.decrementSockets(I,j),L instanceof O.Agent)return L.addRequest(d,R);this[S].currentSocket=L,super.createSocket(d,g,P)},L=>{this.decrementSockets(I,j),P(L)})}createConnection(){const d=this[S].currentSocket;if(this[S].currentSocket=void 0,!d)throw new Error("No socket was returned in the `connect()` function");return d}get defaultPort(){return this[S].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(d){this[S]&&(this[S].defaultPort=d)}get protocol(){return this[S].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(d){this[S]&&(this[S].protocol=d)}}e.Agent=v}(dist)),dist}var parseProxyResponse={},hasRequiredParseProxyResponse;function requireParseProxyResponse(){if(hasRequiredParseProxyResponse)return parseProxyResponse;hasRequiredParseProxyResponse=1;var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(parseProxyResponse,"__esModule",{value:!0}),parseProxyResponse.parseProxyResponse=void 0;const o=(0,e(requireBrowser$2()).default)("https-proxy-agent:parse-proxy-response");function l(p){return new Promise((f,O)=>{let _=0;const S=[];function v(){const R=p.read();R?P(R):p.once("readable",v)}function s(){p.removeListener("end",d),p.removeListener("error",g),p.removeListener("readable",v)}function d(){s(),o("onend"),O(new Error("Proxy connection ended before receiving CONNECT response"))}function g(R){s(),o("onerror %o",R),O(R)}function P(R){S.push(R),_+=R.length;const I=Buffer.concat(S,_),j=I.indexOf(`\r
\r
`);if(j===-1){o("have not received end of HTTP headers yet..."),v();return}const L=I.slice(0,j).toString("ascii").split(`\r
`),G=L.shift();if(!G)return p.destroy(),O(new Error("No header received from proxy CONNECT response"));const J=G.split(" "),Q=+J[1],W=J.slice(2).join(" "),Z={};for(const te of L){if(!te)continue;const ee=te.indexOf(":");if(ee===-1)return p.destroy(),O(new Error(`Invalid header from proxy CONNECT response: "${te}"`));const ie=te.slice(0,ee).toLowerCase(),oe=te.slice(ee+1).trimStart(),se=Z[ie];typeof se=="string"?Z[ie]=[se,oe]:Array.isArray(se)?se.push(oe):Z[ie]=oe}o("got proxy server response: %o %o",G,Z),s(),f({connect:{statusCode:Q,statusText:W,headers:Z},buffered:I})}p.on("error",g),p.on("end",d),v()})}return parseProxyResponse.parseProxyResponse=l,parseProxyResponse}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist$1;hasRequiredDist=1;var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(I,j,L,G){G===void 0&&(G=L);var J=Object.getOwnPropertyDescriptor(j,L);(!J||("get"in J?!j.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return j[L]}}),Object.defineProperty(I,G,J)}:function(I,j,L,G){G===void 0&&(G=L),I[G]=j[L]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(I,j){Object.defineProperty(I,"default",{enumerable:!0,value:j})}:function(I,j){I.default=j}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(I){if(I&&I.__esModule)return I;var j={};if(I!=null)for(var L in I)L!=="default"&&Object.prototype.hasOwnProperty.call(I,L)&&e(j,I,L);return r(j,I),j},l=commonjsGlobal&&commonjsGlobal.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(dist$1,"__esModule",{value:!0}),dist$1.HttpsProxyAgent=void 0;const p=o(require$$4$3),f=o(require$$4$3),O=l(require$$4$3),_=l(requireBrowser$2()),S=requireDist$1(),v=require$$4$3,s=requireParseProxyResponse(),d=(0,_.default)("https-proxy-agent");class g extends S.Agent{constructor(j,L){super(L),this.options={path:void 0},this.proxy=typeof j=="string"?new v.URL(j):j,this.proxyHeaders=(L==null?void 0:L.headers)??{},d("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const G=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),J=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...L?R(L,"headers"):null,host:G,port:J}}async connect(j,L){const{proxy:G}=this;if(!L.host)throw new TypeError('No "host" provided');let J;if(G.protocol==="https:"){d("Creating `tls.Socket`: %o",this.connectOpts);const se=this.connectOpts.servername||this.connectOpts.host;J=f.connect({...this.connectOpts,servername:se})}else d("Creating `net.Socket`: %o",this.connectOpts),J=p.connect(this.connectOpts);const Q=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},W=p.isIPv6(L.host)?`[${L.host}]`:L.host;let Z=`CONNECT ${W}:${L.port} HTTP/1.1\r
`;if(G.username||G.password){const se=`${decodeURIComponent(G.username)}:${decodeURIComponent(G.password)}`;Q["Proxy-Authorization"]=`Basic ${Buffer.from(se).toString("base64")}`}Q.Host=`${W}:${L.port}`,Q["Proxy-Connection"]||(Q["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const se of Object.keys(Q))Z+=`${se}: ${Q[se]}\r
`;const te=(0,s.parseProxyResponse)(J);J.write(`${Z}\r
`);const{connect:ee,buffered:ie}=await te;if(j.emit("proxyConnect",ee),this.emit("proxyConnect",ee,j),ee.statusCode===200){if(j.once("socket",P),L.secureEndpoint){d("Upgrading socket connection to TLS");const se=L.servername||L.host;return f.connect({...R(L,"host","path","port"),socket:J,servername:se})}return J}J.destroy();const oe=new p.Socket({writable:!1});return oe.readable=!0,j.once("socket",se=>{d("Replaying proxy buffer for failed request"),(0,O.default)(se.listenerCount("data")>0),se.push(ie),se.push(null)}),oe}}g.protocols=["http","https"],dist$1.HttpsProxyAgent=g;function P(I){I.resume()}function R(I,...j){const L={};let G;for(G in I)j.includes(G)||(L[G]=I[G]);return L}return dist$1}var hasRequiredGaxios;function requireGaxios(){if(hasRequiredGaxios)return gaxios;hasRequiredGaxios=1;var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(he,ge,me,ye){ye===void 0&&(ye=me);var ve=Object.getOwnPropertyDescriptor(ge,me);(!ve||("get"in ve?!ge.__esModule:ve.writable||ve.configurable))&&(ve={enumerable:!0,get:function(){return ge[me]}}),Object.defineProperty(he,ye,ve)}:function(he,ge,me,ye){ye===void 0&&(ye=me),he[ye]=ge[me]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(he,ge){Object.defineProperty(he,"default",{enumerable:!0,value:ge})}:function(he,ge){he.default=ge}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(he){if(he&&he.__esModule)return he;var ge={};if(he!=null)for(var me in he)me!=="default"&&Object.prototype.hasOwnProperty.call(he,me)&&e(ge,he,me);return r(ge,he),ge},l=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(he,ge,me,ye){if(me==="a"&&!ye)throw new TypeError("Private accessor was defined without a getter");if(typeof ge=="function"?he!==ge||!ye:!ge.has(he))throw new TypeError("Cannot read private member from an object whose class did not declare it");return me==="m"?ye:me==="a"?ye.call(he):ye?ye.value:ge.get(he)},p=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(he,ge,me,ye,ve){if(ye==="m")throw new TypeError("Private method is not writable");if(ye==="a"&&!ve)throw new TypeError("Private accessor was defined without a setter");if(typeof ge=="function"?he!==ge||!ve:!ge.has(he))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ye==="a"?ve.call(he,me):ve?ve.value=me:ge.set(he,me),me},f=commonjsGlobal&&commonjsGlobal.__importDefault||function(he){return he&&he.__esModule?he:{default:he}},O,_,S,v,s,d,g,P;Object.defineProperty(gaxios,"__esModule",{value:!0}),gaxios.Gaxios=void 0;const R=f(requireExtend()),I=require$$4$3,j=f(requireBrowser$3()),L=f(require$$4$3),G=f(requireIsStream()),J=require$$4$3,Q=requireCommon$1(),W=requireRetry(),Z=require$$4$3,te=requireCommonjsBrowser(),ee=requireInterceptor(),ie=se()?window.fetch:j.default;function oe(){return typeof window<"u"&&!!window}function se(){return oe()&&!!window.fetch}function le(){return typeof Buffer<"u"}function de(he,ge){return!!pe(he,ge)}function pe(he,ge){ge=ge.toLowerCase();for(const me of Object.keys((he==null?void 0:he.headers)||{}))if(ge===me.toLowerCase())return he.headers[me]}class fe{constructor(ge){O.add(this),this.agentCache=new Map,this.defaults=ge||{},this.interceptors={request:new ee.GaxiosInterceptorManager,response:new ee.GaxiosInterceptorManager}}async request(ge={}){return ge=await l(this,O,"m",d).call(this,ge),ge=await l(this,O,"m",v).call(this,ge),l(this,O,"m",s).call(this,this._request(ge))}async _defaultAdapter(ge){const ye=await(ge.fetchImplementation||ie)(ge.url,ge),ve=await this.getResponseData(ge,ye);return this.translateResponse(ge,ye,ve)}async _request(ge={}){var me;try{let ye;if(ge.adapter?ye=await ge.adapter(ge,this._defaultAdapter.bind(this)):ye=await this._defaultAdapter(ge),!ge.validateStatus(ye.status)){if(ge.responseType==="stream"){let ve="";await new Promise(Ae=>{(ye==null?void 0:ye.data).on("data",Pe=>{ve+=Pe}),(ye==null?void 0:ye.data).on("end",Ae)}),ye.data=ve}throw new Q.GaxiosError(`Request failed with status code ${ye.status}`,ge,ye)}return ye}catch(ye){const ve=ye instanceof Q.GaxiosError?ye:new Q.GaxiosError(ye.message,ge,void 0,ye),{shouldRetry:Ae,config:Pe}=await(0,W.getRetryConfig)(ve);if(Ae&&Pe)return ve.config.retryConfig.currentRetryAttempt=Pe.retryConfig.currentRetryAttempt,ge.retryConfig=(me=ve.config)===null||me===void 0?void 0:me.retryConfig,this._request(ge);throw ve}}async getResponseData(ge,me){switch(ge.responseType){case"stream":return me.body;case"json":{let ye=await me.text();try{ye=JSON.parse(ye)}catch{}return ye}case"arraybuffer":return me.arrayBuffer();case"blob":return me.blob();case"text":return me.text();default:return this.getResponseDataFromContentType(me)}}validateStatus(ge){return ge>=200&&ge<300}paramsSerializer(ge){return L.default.stringify(ge)}translateResponse(ge,me,ye){const ve={};return me.headers.forEach((Ae,Pe)=>{ve[Pe]=Ae}),{config:ge,data:ye,headers:ve,status:me.status,statusText:me.statusText,request:{responseURL:me.url}}}async getResponseDataFromContentType(ge){let me=ge.headers.get("Content-Type");if(me===null)return ge.text();if(me=me.toLowerCase(),me.includes("application/json")){let ye=await ge.text();try{ye=JSON.parse(ye)}catch{}return ye}else return me.match(/^text\//)?ge.text():ge.blob()}async*getMultipartRequest(ge,me){const ye=`--${me}--`;for(const ve of ge){const Ae=ve.headers["Content-Type"]||"application/octet-stream";yield`--${me}\r
Content-Type: ${Ae}\r
\r
`,typeof ve.content=="string"?yield ve.content:yield*ve.content,yield`\r
`}yield ye}}return gaxios.Gaxios=fe,_=fe,O=new WeakSet,S=function(ge,me=[]){var ye,ve;const Ae=new J.URL(ge),Pe=[...me],Ne=((ve=(ye={}.NO_PROXY)!==null&&ye!==void 0?ye:{}.no_proxy)===null||ve===void 0?void 0:ve.split(","))||[];for(const Ee of Ne)Pe.push(Ee.trim());for(const Ee of Pe)if(Ee instanceof RegExp){if(Ee.test(Ae.toString()))return!1}else if(Ee instanceof J.URL){if(Ee.origin===Ae.origin)return!1}else if(Ee.startsWith("*.")||Ee.startsWith(".")){const Ce=Ee.replace(/^\*\./,".");if(Ae.hostname.endsWith(Ce))return!1}else if(Ee===Ae.origin||Ee===Ae.hostname||Ee===Ae.href)return!1;return!0},v=async function(ge){let me=Promise.resolve(ge);for(const ye of this.interceptors.request.values())ye&&(me=me.then(ye.resolved,ye.rejected));return me},s=async function(ge){let me=Promise.resolve(ge);for(const ye of this.interceptors.response.values())ye&&(me=me.then(ye.resolved,ye.rejected));return me},d=async function(ge){var me,ye,ve,Ae;const Pe=(0,R.default)(!0,{},this.defaults,ge);if(!Pe.url)throw new Error("URL is required.");const Ne=Pe.baseUrl||Pe.baseURL;if(Ne&&(Pe.url=Ne.toString()+Pe.url),Pe.paramsSerializer=Pe.paramsSerializer||this.paramsSerializer,Pe.params&&Object.keys(Pe.params).length>0){let Se=Pe.paramsSerializer(Pe.params);Se.startsWith("?")&&(Se=Se.slice(1));const Te=Pe.url.toString().includes("?")?"&":"?";Pe.url=Pe.url+Te+Se}if(typeof ge.maxContentLength=="number"&&(Pe.size=ge.maxContentLength),typeof ge.maxRedirects=="number"&&(Pe.follow=ge.maxRedirects),Pe.headers=Pe.headers||{},Pe.multipart===void 0&&Pe.data){const Se=typeof FormData>"u"?!1:(Pe==null?void 0:Pe.data)instanceof FormData;G.default.readable(Pe.data)?Pe.body=Pe.data:le()&&Buffer.isBuffer(Pe.data)?(Pe.body=Pe.data,de(Pe,"Content-Type")||(Pe.headers["Content-Type"]="application/json")):typeof Pe.data=="object"?Se||(pe(Pe,"content-type")==="application/x-www-form-urlencoded"?Pe.body=Pe.paramsSerializer(Pe.data):(de(Pe,"Content-Type")||(Pe.headers["Content-Type"]="application/json"),Pe.body=JSON.stringify(Pe.data))):Pe.body=Pe.data}else if(Pe.multipart&&Pe.multipart.length>0){const Se=(0,te.v4)();Pe.headers["Content-Type"]=`multipart/related; boundary=${Se}`;const Te=new Z.PassThrough;Pe.body=Te,(0,Z.pipeline)(this.getMultipartRequest(Pe.multipart,Se),Te,()=>{})}Pe.validateStatus=Pe.validateStatus||this.validateStatus,Pe.responseType=Pe.responseType||"unknown",!Pe.headers.Accept&&Pe.responseType==="json"&&(Pe.headers.Accept="application/json"),Pe.method=Pe.method||"GET";const Ee=Pe.proxy||((me=process==null?void 0:process.env)===null||me===void 0?void 0:me.HTTPS_PROXY)||((ye=process==null?void 0:process.env)===null||ye===void 0?void 0:ye.https_proxy)||((ve=process==null?void 0:process.env)===null||ve===void 0?void 0:ve.HTTP_PROXY)||((Ae=process==null?void 0:process.env)===null||Ae===void 0?void 0:Ae.http_proxy),Ce=l(this,O,"m",S).call(this,Pe.url,Pe.noProxy);if(!Pe.agent)if(Ee&&Ce){const Se=await l(_,_,"m",P).call(_);this.agentCache.has(Ee)?Pe.agent=this.agentCache.get(Ee):(Pe.agent=new Se(Ee,{cert:Pe.cert,key:Pe.key}),this.agentCache.set(Ee,Pe.agent))}else Pe.cert&&Pe.key&&(this.agentCache.has(Pe.key)?Pe.agent=this.agentCache.get(Pe.key):(Pe.agent=new I.Agent({cert:Pe.cert,key:Pe.key}),this.agentCache.set(Pe.key,Pe.agent)));return typeof Pe.errorRedactor!="function"&&Pe.errorRedactor!==!1&&(Pe.errorRedactor=Q.defaultErrorRedactor),Pe},P=async function(){return p(this,_,l(this,_,"f",g)||(await Promise.resolve().then(()=>o(requireDist()))).HttpsProxyAgent,"f",g),l(this,_,"f",g)},g={value:void 0},gaxios}var hasRequiredSrc$4;function requireSrc$4(){return hasRequiredSrc$4||(hasRequiredSrc$4=1,function(e){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(O,_,S,v){v===void 0&&(v=S);var s=Object.getOwnPropertyDescriptor(_,S);(!s||("get"in s?!_.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(O,v,s)}:function(O,_,S,v){v===void 0&&(v=S),O[v]=_[S]}),o=commonjsGlobal&&commonjsGlobal.__exportStar||function(O,_){for(var S in O)S!=="default"&&!Object.prototype.hasOwnProperty.call(_,S)&&r(_,O,S)};Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.Gaxios=e.GaxiosError=void 0,e.request=f;const l=requireGaxios();Object.defineProperty(e,"Gaxios",{enumerable:!0,get:function(){return l.Gaxios}});var p=requireCommon$1();Object.defineProperty(e,"GaxiosError",{enumerable:!0,get:function(){return p.GaxiosError}}),o(requireInterceptor(),e),e.instance=new l.Gaxios;async function f(O){return e.instance.request(O)}}(src$2)),src$2}var jsonBigint={exports:{}},stringify={exports:{}},bignumber={exports:{}},hasRequiredBignumber;function requireBignumber(){return hasRequiredBignumber||(hasRequiredBignumber=1,function(e){(function(r){var o,l=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,p=Math.ceil,f=Math.floor,O="[BigNumber Error] ",_=O+"Number primitive has more than 15 significant digits: ",S=1e14,v=14,s=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,P=1e9;function R(Z){var te,ee,ie,oe=Ee.prototype={constructor:Ee,toString:null,valueOf:null},se=new Ee(1),le=20,de=4,pe=-7,fe=21,he=-1e7,ge=1e7,me=!1,ye=1,ve=0,Ae={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Pe="0123456789abcdefghijklmnopqrstuvwxyz",Ne=!0;function Ee(k,F){var V,ne,ue,we,be,N,q,H,T=this;if(!(T instanceof Ee))return new Ee(k,F);if(F==null){if(k&&k._isBigNumber===!0){T.s=k.s,!k.c||k.e>ge?T.c=T.e=null:k.e<he?T.c=[T.e=0]:(T.e=k.e,T.c=k.c.slice());return}if((N=typeof k=="number")&&k*0==0){if(T.s=1/k<0?(k=-k,-1):1,k===~~k){for(we=0,be=k;be>=10;be/=10,we++);we>ge?T.c=T.e=null:(T.e=we,T.c=[k]);return}H=String(k)}else{if(!l.test(H=String(k)))return ie(T,H,N);T.s=H.charCodeAt(0)==45?(H=H.slice(1),-1):1}(we=H.indexOf("."))>-1&&(H=H.replace(".","")),(be=H.search(/e/i))>0?(we<0&&(we=be),we+=+H.slice(be+1),H=H.substring(0,be)):we<0&&(we=H.length)}else{if(G(F,2,Pe.length,"Base"),F==10&&Ne)return T=new Ee(k),Oe(T,le+T.e+1,de);if(H=String(k),N=typeof k=="number"){if(k*0!=0)return ie(T,H,N,F);if(T.s=1/k<0?(H=H.slice(1),-1):1,Ee.DEBUG&&H.replace(/^0\.0*|\./,"").length>15)throw Error(_+k)}else T.s=H.charCodeAt(0)===45?(H=H.slice(1),-1):1;for(V=Pe.slice(0,F),we=be=0,q=H.length;be<q;be++)if(V.indexOf(ne=H.charAt(be))<0){if(ne=="."){if(be>we){we=q;continue}}else if(!ue&&(H==H.toUpperCase()&&(H=H.toLowerCase())||H==H.toLowerCase()&&(H=H.toUpperCase()))){ue=!0,be=-1,we=0;continue}return ie(T,String(k),N,F)}N=!1,H=ee(H,F,10,T.s),(we=H.indexOf("."))>-1?H=H.replace(".",""):we=H.length}for(be=0;H.charCodeAt(be)===48;be++);for(q=H.length;H.charCodeAt(--q)===48;);if(H=H.slice(be,++q)){if(q-=be,N&&Ee.DEBUG&&q>15&&(k>s||k!==f(k)))throw Error(_+T.s*k);if((we=we-be-1)>ge)T.c=T.e=null;else if(we<he)T.c=[T.e=0];else{if(T.e=we,T.c=[],be=(we+1)%v,we<0&&(be+=v),be<q){for(be&&T.c.push(+H.slice(0,be)),q-=v;be<q;)T.c.push(+H.slice(be,be+=v));be=v-(H=H.slice(be)).length}else be-=q;for(;be--;H+="0");T.c.push(+H)}}else T.c=[T.e=0]}Ee.clone=R,Ee.ROUND_UP=0,Ee.ROUND_DOWN=1,Ee.ROUND_CEIL=2,Ee.ROUND_FLOOR=3,Ee.ROUND_HALF_UP=4,Ee.ROUND_HALF_DOWN=5,Ee.ROUND_HALF_EVEN=6,Ee.ROUND_HALF_CEIL=7,Ee.ROUND_HALF_FLOOR=8,Ee.EUCLID=9,Ee.config=Ee.set=function(k){var F,V;if(k!=null)if(typeof k=="object"){if(k.hasOwnProperty(F="DECIMAL_PLACES")&&(V=k[F],G(V,0,P,F),le=V),k.hasOwnProperty(F="ROUNDING_MODE")&&(V=k[F],G(V,0,8,F),de=V),k.hasOwnProperty(F="EXPONENTIAL_AT")&&(V=k[F],V&&V.pop?(G(V[0],-P,0,F),G(V[1],0,P,F),pe=V[0],fe=V[1]):(G(V,-P,P,F),pe=-(fe=V<0?-V:V))),k.hasOwnProperty(F="RANGE"))if(V=k[F],V&&V.pop)G(V[0],-P,-1,F),G(V[1],1,P,F),he=V[0],ge=V[1];else if(G(V,-P,P,F),V)he=-(ge=V<0?-V:V);else throw Error(O+F+" cannot be zero: "+V);if(k.hasOwnProperty(F="CRYPTO"))if(V=k[F],V===!!V)if(V)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))me=V;else throw me=!V,Error(O+"crypto unavailable");else me=V;else throw Error(O+F+" not true or false: "+V);if(k.hasOwnProperty(F="MODULO_MODE")&&(V=k[F],G(V,0,9,F),ye=V),k.hasOwnProperty(F="POW_PRECISION")&&(V=k[F],G(V,0,P,F),ve=V),k.hasOwnProperty(F="FORMAT"))if(V=k[F],typeof V=="object")Ae=V;else throw Error(O+F+" not an object: "+V);if(k.hasOwnProperty(F="ALPHABET"))if(V=k[F],typeof V=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(V))Ne=V.slice(0,10)=="0123456789",Pe=V;else throw Error(O+F+" invalid: "+V)}else throw Error(O+"Object expected: "+k);return{DECIMAL_PLACES:le,ROUNDING_MODE:de,EXPONENTIAL_AT:[pe,fe],RANGE:[he,ge],CRYPTO:me,MODULO_MODE:ye,POW_PRECISION:ve,FORMAT:Ae,ALPHABET:Pe}},Ee.isBigNumber=function(k){if(!k||k._isBigNumber!==!0)return!1;if(!Ee.DEBUG)return!0;var F,V,ne=k.c,ue=k.e,we=k.s;e:if({}.toString.call(ne)=="[object Array]"){if((we===1||we===-1)&&ue>=-P&&ue<=P&&ue===f(ue)){if(ne[0]===0){if(ue===0&&ne.length===1)return!0;break e}if(F=(ue+1)%v,F<1&&(F+=v),String(ne[0]).length==F){for(F=0;F<ne.length;F++)if(V=ne[F],V<0||V>=S||V!==f(V))break e;if(V!==0)return!0}}}else if(ne===null&&ue===null&&(we===null||we===1||we===-1))return!0;throw Error(O+"Invalid BigNumber: "+k)},Ee.maximum=Ee.max=function(){return Se(arguments,-1)},Ee.minimum=Ee.min=function(){return Se(arguments,1)},Ee.random=function(){var k=9007199254740992,F=Math.random()*k&2097151?function(){return f(Math.random()*k)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(V){var ne,ue,we,be,N,q=0,H=[],T=new Ee(se);if(V==null?V=le:G(V,0,P),be=p(V/v),me)if(crypto.getRandomValues){for(ne=crypto.getRandomValues(new Uint32Array(be*=2));q<be;)N=ne[q]*131072+(ne[q+1]>>>11),N>=9e15?(ue=crypto.getRandomValues(new Uint32Array(2)),ne[q]=ue[0],ne[q+1]=ue[1]):(H.push(N%1e14),q+=2);q=be/2}else if(crypto.randomBytes){for(ne=crypto.randomBytes(be*=7);q<be;)N=(ne[q]&31)*281474976710656+ne[q+1]*1099511627776+ne[q+2]*4294967296+ne[q+3]*16777216+(ne[q+4]<<16)+(ne[q+5]<<8)+ne[q+6],N>=9e15?crypto.randomBytes(7).copy(ne,q):(H.push(N%1e14),q+=7);q=be/7}else throw me=!1,Error(O+"crypto unavailable");if(!me)for(;q<be;)N=F(),N<9e15&&(H[q++]=N%1e14);for(be=H[--q],V%=v,be&&V&&(N=d[v-V],H[q]=f(be/N)*N);H[q]===0;H.pop(),q--);if(q<0)H=[we=0];else{for(we=-1;H[0]===0;H.splice(0,1),we-=v);for(q=1,N=H[0];N>=10;N/=10,q++);q<v&&(we-=v-q)}return T.e=we,T.c=H,T}}(),Ee.sum=function(){for(var k=1,F=arguments,V=new Ee(F[0]);k<F.length;)V=V.plus(F[k++]);return V},ee=function(){var k="0123456789";function F(V,ne,ue,we){for(var be,N=[0],q,H=0,T=V.length;H<T;){for(q=N.length;q--;N[q]*=ne);for(N[0]+=we.indexOf(V.charAt(H++)),be=0;be<N.length;be++)N[be]>ue-1&&(N[be+1]==null&&(N[be+1]=0),N[be+1]+=N[be]/ue|0,N[be]%=ue)}return N.reverse()}return function(V,ne,ue,we,be){var N,q,H,T,U,z,ae,xe,Le=V.indexOf("."),Ue=le,Fe=de;for(Le>=0&&(T=ve,ve=0,V=V.replace(".",""),xe=new Ee(ne),z=xe.pow(V.length-Le),ve=T,xe.c=F(W(j(z.c),z.e,"0"),10,ue,k),xe.e=xe.c.length),ae=F(V,ne,ue,be?(N=Pe,k):(N=k,Pe)),H=T=ae.length;ae[--T]==0;ae.pop());if(!ae[0])return N.charAt(0);if(Le<0?--H:(z.c=ae,z.e=H,z.s=we,z=te(z,xe,Ue,Fe,ue),ae=z.c,U=z.r,H=z.e),q=H+Ue+1,Le=ae[q],T=ue/2,U=U||q<0||ae[q+1]!=null,U=Fe<4?(Le!=null||U)&&(Fe==0||Fe==(z.s<0?3:2)):Le>T||Le==T&&(Fe==4||U||Fe==6&&ae[q-1]&1||Fe==(z.s<0?8:7)),q<1||!ae[0])V=U?W(N.charAt(1),-Ue,N.charAt(0)):N.charAt(0);else{if(ae.length=q,U)for(--ue;++ae[--q]>ue;)ae[q]=0,q||(++H,ae=[1].concat(ae));for(T=ae.length;!ae[--T];);for(Le=0,V="";Le<=T;V+=N.charAt(ae[Le++]));V=W(V,H,N.charAt(0))}return V}}(),te=function(){function k(ne,ue,we){var be,N,q,H,T=0,U=ne.length,z=ue%g,ae=ue/g|0;for(ne=ne.slice();U--;)q=ne[U]%g,H=ne[U]/g|0,be=ae*q+H*z,N=z*q+be%g*g+T,T=(N/we|0)+(be/g|0)+ae*H,ne[U]=N%we;return T&&(ne=[T].concat(ne)),ne}function F(ne,ue,we,be){var N,q;if(we!=be)q=we>be?1:-1;else for(N=q=0;N<we;N++)if(ne[N]!=ue[N]){q=ne[N]>ue[N]?1:-1;break}return q}function V(ne,ue,we,be){for(var N=0;we--;)ne[we]-=N,N=ne[we]<ue[we]?1:0,ne[we]=N*be+ne[we]-ue[we];for(;!ne[0]&&ne.length>1;ne.splice(0,1));}return function(ne,ue,we,be,N){var q,H,T,U,z,ae,xe,Le,Ue,Fe,Be,qe,Ve,ke,De,Re,$e,Ie=ne.s==ue.s?1:-1,Me=ne.c,je=ue.c;if(!Me||!Me[0]||!je||!je[0])return new Ee(!ne.s||!ue.s||(Me?je&&Me[0]==je[0]:!je)?NaN:Me&&Me[0]==0||!je?Ie*0:Ie/0);for(Le=new Ee(Ie),Ue=Le.c=[],H=ne.e-ue.e,Ie=we+H+1,N||(N=S,H=I(ne.e/v)-I(ue.e/v),Ie=Ie/v|0),T=0;je[T]==(Me[T]||0);T++);if(je[T]>(Me[T]||0)&&H--,Ie<0)Ue.push(1),U=!0;else{for(ke=Me.length,Re=je.length,T=0,Ie+=2,z=f(N/(je[0]+1)),z>1&&(je=k(je,z,N),Me=k(Me,z,N),Re=je.length,ke=Me.length),Ve=Re,Fe=Me.slice(0,Re),Be=Fe.length;Be<Re;Fe[Be++]=0);$e=je.slice(),$e=[0].concat($e),De=je[0],je[1]>=N/2&&De++;do{if(z=0,q=F(je,Fe,Re,Be),q<0){if(qe=Fe[0],Re!=Be&&(qe=qe*N+(Fe[1]||0)),z=f(qe/De),z>1)for(z>=N&&(z=N-1),ae=k(je,z,N),xe=ae.length,Be=Fe.length;F(ae,Fe,xe,Be)==1;)z--,V(ae,Re<xe?$e:je,xe,N),xe=ae.length,q=1;else z==0&&(q=z=1),ae=je.slice(),xe=ae.length;if(xe<Be&&(ae=[0].concat(ae)),V(Fe,ae,Be,N),Be=Fe.length,q==-1)for(;F(je,Fe,Re,Be)<1;)z++,V(Fe,Re<Be?$e:je,Be,N),Be=Fe.length}else q===0&&(z++,Fe=[0]);Ue[T++]=z,Fe[0]?Fe[Be++]=Me[Ve]||0:(Fe=[Me[Ve]],Be=1)}while((Ve++<ke||Fe[0]!=null)&&Ie--);U=Fe[0]!=null,Ue[0]||Ue.splice(0,1)}if(N==S){for(T=1,Ie=Ue[0];Ie>=10;Ie/=10,T++);Oe(Le,we+(Le.e=T+H*v-1)+1,be,U)}else Le.e=H,Le.r=+U;return Le}}();function Ce(k,F,V,ne){var ue,we,be,N,q;if(V==null?V=de:G(V,0,8),!k.c)return k.toString();if(ue=k.c[0],be=k.e,F==null)q=j(k.c),q=ne==1||ne==2&&(be<=pe||be>=fe)?Q(q,be):W(q,be,"0");else if(k=Oe(new Ee(k),F,V),we=k.e,q=j(k.c),N=q.length,ne==1||ne==2&&(F<=we||we<=pe)){for(;N<F;q+="0",N++);q=Q(q,we)}else if(F-=be,q=W(q,we,"0"),we+1>N){if(--F>0)for(q+=".";F--;q+="0");}else if(F+=we-N,F>0)for(we+1==N&&(q+=".");F--;q+="0");return k.s<0&&ue?"-"+q:q}function Se(k,F){for(var V,ne,ue=1,we=new Ee(k[0]);ue<k.length;ue++)ne=new Ee(k[ue]),(!ne.s||(V=L(we,ne))===F||V===0&&we.s===F)&&(we=ne);return we}function Te(k,F,V){for(var ne=1,ue=F.length;!F[--ue];F.pop());for(ue=F[0];ue>=10;ue/=10,ne++);return(V=ne+V*v-1)>ge?k.c=k.e=null:V<he?k.c=[k.e=0]:(k.e=V,k.c=F),k}ie=function(){var k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,F=/^([^.]+)\.$/,V=/^\.([^.]+)$/,ne=/^-?(Infinity|NaN)$/,ue=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(we,be,N,q){var H,T=N?be:be.replace(ue,"");if(ne.test(T))we.s=isNaN(T)?null:T<0?-1:1;else{if(!N&&(T=T.replace(k,function(U,z,ae){return H=(ae=ae.toLowerCase())=="x"?16:ae=="b"?2:8,!q||q==H?z:U}),q&&(H=q,T=T.replace(F,"$1").replace(V,"0.$1")),be!=T))return new Ee(T,H);if(Ee.DEBUG)throw Error(O+"Not a"+(q?" base "+q:"")+" number: "+be);we.s=null}we.c=we.e=null}}();function Oe(k,F,V,ne){var ue,we,be,N,q,H,T,U=k.c,z=d;if(U){e:{for(ue=1,N=U[0];N>=10;N/=10,ue++);if(we=F-ue,we<0)we+=v,be=F,q=U[H=0],T=f(q/z[ue-be-1]%10);else if(H=p((we+1)/v),H>=U.length)if(ne){for(;U.length<=H;U.push(0));q=T=0,ue=1,we%=v,be=we-v+1}else break e;else{for(q=N=U[H],ue=1;N>=10;N/=10,ue++);we%=v,be=we-v+ue,T=be<0?0:f(q/z[ue-be-1]%10)}if(ne=ne||F<0||U[H+1]!=null||(be<0?q:q%z[ue-be-1]),ne=V<4?(T||ne)&&(V==0||V==(k.s<0?3:2)):T>5||T==5&&(V==4||ne||V==6&&(we>0?be>0?q/z[ue-be]:0:U[H-1])%10&1||V==(k.s<0?8:7)),F<1||!U[0])return U.length=0,ne?(F-=k.e+1,U[0]=z[(v-F%v)%v],k.e=-F||0):U[0]=k.e=0,k;if(we==0?(U.length=H,N=1,H--):(U.length=H+1,N=z[v-we],U[H]=be>0?f(q/z[ue-be]%z[be])*N:0),ne)for(;;)if(H==0){for(we=1,be=U[0];be>=10;be/=10,we++);for(be=U[0]+=N,N=1;be>=10;be/=10,N++);we!=N&&(k.e++,U[0]==S&&(U[0]=1));break}else{if(U[H]+=N,U[H]!=S)break;U[H--]=0,N=1}for(we=U.length;U[--we]===0;U.pop());}k.e>ge?k.c=k.e=null:k.e<he&&(k.c=[k.e=0])}return k}function ce(k){var F,V=k.e;return V===null?k.toString():(F=j(k.c),F=V<=pe||V>=fe?Q(F,V):W(F,V,"0"),k.s<0?"-"+F:F)}return oe.absoluteValue=oe.abs=function(){var k=new Ee(this);return k.s<0&&(k.s=1),k},oe.comparedTo=function(k,F){return L(this,new Ee(k,F))},oe.decimalPlaces=oe.dp=function(k,F){var V,ne,ue,we=this;if(k!=null)return G(k,0,P),F==null?F=de:G(F,0,8),Oe(new Ee(we),k+we.e+1,F);if(!(V=we.c))return null;if(ne=((ue=V.length-1)-I(this.e/v))*v,ue=V[ue])for(;ue%10==0;ue/=10,ne--);return ne<0&&(ne=0),ne},oe.dividedBy=oe.div=function(k,F){return te(this,new Ee(k,F),le,de)},oe.dividedToIntegerBy=oe.idiv=function(k,F){return te(this,new Ee(k,F),0,1)},oe.exponentiatedBy=oe.pow=function(k,F){var V,ne,ue,we,be,N,q,H,T,U=this;if(k=new Ee(k),k.c&&!k.isInteger())throw Error(O+"Exponent not an integer: "+ce(k));if(F!=null&&(F=new Ee(F)),N=k.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!k.c||!k.c[0])return T=new Ee(Math.pow(+ce(U),N?k.s*(2-J(k)):+ce(k))),F?T.mod(F):T;if(q=k.s<0,F){if(F.c?!F.c[0]:!F.s)return new Ee(NaN);ne=!q&&U.isInteger()&&F.isInteger(),ne&&(U=U.mod(F))}else{if(k.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||N&&U.c[1]>=24e7:U.c[0]<8e13||N&&U.c[0]<=9999975e7)))return we=U.s<0&&J(k)?-0:0,U.e>-1&&(we=1/we),new Ee(q?1/we:we);ve&&(we=p(ve/v+2))}for(N?(V=new Ee(.5),q&&(k.s=1),H=J(k)):(ue=Math.abs(+ce(k)),H=ue%2),T=new Ee(se);;){if(H){if(T=T.times(U),!T.c)break;we?T.c.length>we&&(T.c.length=we):ne&&(T=T.mod(F))}if(ue){if(ue=f(ue/2),ue===0)break;H=ue%2}else if(k=k.times(V),Oe(k,k.e+1,1),k.e>14)H=J(k);else{if(ue=+ce(k),ue===0)break;H=ue%2}U=U.times(U),we?U.c&&U.c.length>we&&(U.c.length=we):ne&&(U=U.mod(F))}return ne?T:(q&&(T=se.div(T)),F?T.mod(F):we?Oe(T,ve,de,be):T)},oe.integerValue=function(k){var F=new Ee(this);return k==null?k=de:G(k,0,8),Oe(F,F.e+1,k)},oe.isEqualTo=oe.eq=function(k,F){return L(this,new Ee(k,F))===0},oe.isFinite=function(){return!!this.c},oe.isGreaterThan=oe.gt=function(k,F){return L(this,new Ee(k,F))>0},oe.isGreaterThanOrEqualTo=oe.gte=function(k,F){return(F=L(this,new Ee(k,F)))===1||F===0},oe.isInteger=function(){return!!this.c&&I(this.e/v)>this.c.length-2},oe.isLessThan=oe.lt=function(k,F){return L(this,new Ee(k,F))<0},oe.isLessThanOrEqualTo=oe.lte=function(k,F){return(F=L(this,new Ee(k,F)))===-1||F===0},oe.isNaN=function(){return!this.s},oe.isNegative=function(){return this.s<0},oe.isPositive=function(){return this.s>0},oe.isZero=function(){return!!this.c&&this.c[0]==0},oe.minus=function(k,F){var V,ne,ue,we,be=this,N=be.s;if(k=new Ee(k,F),F=k.s,!N||!F)return new Ee(NaN);if(N!=F)return k.s=-F,be.plus(k);var q=be.e/v,H=k.e/v,T=be.c,U=k.c;if(!q||!H){if(!T||!U)return T?(k.s=-F,k):new Ee(U?be:NaN);if(!T[0]||!U[0])return U[0]?(k.s=-F,k):new Ee(T[0]?be:de==3?-0:0)}if(q=I(q),H=I(H),T=T.slice(),N=q-H){for((we=N<0)?(N=-N,ue=T):(H=q,ue=U),ue.reverse(),F=N;F--;ue.push(0));ue.reverse()}else for(ne=(we=(N=T.length)<(F=U.length))?N:F,N=F=0;F<ne;F++)if(T[F]!=U[F]){we=T[F]<U[F];break}if(we&&(ue=T,T=U,U=ue,k.s=-k.s),F=(ne=U.length)-(V=T.length),F>0)for(;F--;T[V++]=0);for(F=S-1;ne>N;){if(T[--ne]<U[ne]){for(V=ne;V&&!T[--V];T[V]=F);--T[V],T[ne]+=S}T[ne]-=U[ne]}for(;T[0]==0;T.splice(0,1),--H);return T[0]?Te(k,T,H):(k.s=de==3?-1:1,k.c=[k.e=0],k)},oe.modulo=oe.mod=function(k,F){var V,ne,ue=this;return k=new Ee(k,F),!ue.c||!k.s||k.c&&!k.c[0]?new Ee(NaN):!k.c||ue.c&&!ue.c[0]?new Ee(ue):(ye==9?(ne=k.s,k.s=1,V=te(ue,k,0,3),k.s=ne,V.s*=ne):V=te(ue,k,0,ye),k=ue.minus(V.times(k)),!k.c[0]&&ye==1&&(k.s=ue.s),k)},oe.multipliedBy=oe.times=function(k,F){var V,ne,ue,we,be,N,q,H,T,U,z,ae,xe,Le,Ue,Fe=this,Be=Fe.c,qe=(k=new Ee(k,F)).c;if(!Be||!qe||!Be[0]||!qe[0])return!Fe.s||!k.s||Be&&!Be[0]&&!qe||qe&&!qe[0]&&!Be?k.c=k.e=k.s=null:(k.s*=Fe.s,!Be||!qe?k.c=k.e=null:(k.c=[0],k.e=0)),k;for(ne=I(Fe.e/v)+I(k.e/v),k.s*=Fe.s,q=Be.length,U=qe.length,q<U&&(xe=Be,Be=qe,qe=xe,ue=q,q=U,U=ue),ue=q+U,xe=[];ue--;xe.push(0));for(Le=S,Ue=g,ue=U;--ue>=0;){for(V=0,z=qe[ue]%Ue,ae=qe[ue]/Ue|0,be=q,we=ue+be;we>ue;)H=Be[--be]%Ue,T=Be[be]/Ue|0,N=ae*H+T*z,H=z*H+N%Ue*Ue+xe[we]+V,V=(H/Le|0)+(N/Ue|0)+ae*T,xe[we--]=H%Le;xe[we]=V}return V?++ne:xe.splice(0,1),Te(k,xe,ne)},oe.negated=function(){var k=new Ee(this);return k.s=-k.s||null,k},oe.plus=function(k,F){var V,ne=this,ue=ne.s;if(k=new Ee(k,F),F=k.s,!ue||!F)return new Ee(NaN);if(ue!=F)return k.s=-F,ne.minus(k);var we=ne.e/v,be=k.e/v,N=ne.c,q=k.c;if(!we||!be){if(!N||!q)return new Ee(ue/0);if(!N[0]||!q[0])return q[0]?k:new Ee(N[0]?ne:ue*0)}if(we=I(we),be=I(be),N=N.slice(),ue=we-be){for(ue>0?(be=we,V=q):(ue=-ue,V=N),V.reverse();ue--;V.push(0));V.reverse()}for(ue=N.length,F=q.length,ue-F<0&&(V=q,q=N,N=V,F=ue),ue=0;F;)ue=(N[--F]=N[F]+q[F]+ue)/S|0,N[F]=S===N[F]?0:N[F]%S;return ue&&(N=[ue].concat(N),++be),Te(k,N,be)},oe.precision=oe.sd=function(k,F){var V,ne,ue,we=this;if(k!=null&&k!==!!k)return G(k,1,P),F==null?F=de:G(F,0,8),Oe(new Ee(we),k,F);if(!(V=we.c))return null;if(ue=V.length-1,ne=ue*v+1,ue=V[ue]){for(;ue%10==0;ue/=10,ne--);for(ue=V[0];ue>=10;ue/=10,ne++);}return k&&we.e+1>ne&&(ne=we.e+1),ne},oe.shiftedBy=function(k){return G(k,-s,s),this.times("1e"+k)},oe.squareRoot=oe.sqrt=function(){var k,F,V,ne,ue,we=this,be=we.c,N=we.s,q=we.e,H=le+4,T=new Ee("0.5");if(N!==1||!be||!be[0])return new Ee(!N||N<0&&(!be||be[0])?NaN:be?we:1/0);if(N=Math.sqrt(+ce(we)),N==0||N==1/0?(F=j(be),(F.length+q)%2==0&&(F+="0"),N=Math.sqrt(+F),q=I((q+1)/2)-(q<0||q%2),N==1/0?F="5e"+q:(F=N.toExponential(),F=F.slice(0,F.indexOf("e")+1)+q),V=new Ee(F)):V=new Ee(N+""),V.c[0]){for(q=V.e,N=q+H,N<3&&(N=0);;)if(ue=V,V=T.times(ue.plus(te(we,ue,H,1))),j(ue.c).slice(0,N)===(F=j(V.c)).slice(0,N))if(V.e<q&&--N,F=F.slice(N-3,N+1),F=="9999"||!ne&&F=="4999"){if(!ne&&(Oe(ue,ue.e+le+2,0),ue.times(ue).eq(we))){V=ue;break}H+=4,N+=4,ne=1}else{(!+F||!+F.slice(1)&&F.charAt(0)=="5")&&(Oe(V,V.e+le+2,1),k=!V.times(V).eq(we));break}}return Oe(V,V.e+le+1,de,k)},oe.toExponential=function(k,F){return k!=null&&(G(k,0,P),k++),Ce(this,k,F,1)},oe.toFixed=function(k,F){return k!=null&&(G(k,0,P),k=k+this.e+1),Ce(this,k,F)},oe.toFormat=function(k,F,V){var ne,ue=this;if(V==null)k!=null&&F&&typeof F=="object"?(V=F,F=null):k&&typeof k=="object"?(V=k,k=F=null):V=Ae;else if(typeof V!="object")throw Error(O+"Argument not an object: "+V);if(ne=ue.toFixed(k,F),ue.c){var we,be=ne.split("."),N=+V.groupSize,q=+V.secondaryGroupSize,H=V.groupSeparator||"",T=be[0],U=be[1],z=ue.s<0,ae=z?T.slice(1):T,xe=ae.length;if(q&&(we=N,N=q,q=we,xe-=we),N>0&&xe>0){for(we=xe%N||N,T=ae.substr(0,we);we<xe;we+=N)T+=H+ae.substr(we,N);q>0&&(T+=H+ae.slice(we)),z&&(T="-"+T)}ne=U?T+(V.decimalSeparator||"")+((q=+V.fractionGroupSize)?U.replace(new RegExp("\\d{"+q+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):U):T}return(V.prefix||"")+ne+(V.suffix||"")},oe.toFraction=function(k){var F,V,ne,ue,we,be,N,q,H,T,U,z,ae=this,xe=ae.c;if(k!=null&&(N=new Ee(k),!N.isInteger()&&(N.c||N.s!==1)||N.lt(se)))throw Error(O+"Argument "+(N.isInteger()?"out of range: ":"not an integer: ")+ce(N));if(!xe)return new Ee(ae);for(F=new Ee(se),H=V=new Ee(se),ne=q=new Ee(se),z=j(xe),we=F.e=z.length-ae.e-1,F.c[0]=d[(be=we%v)<0?v+be:be],k=!k||N.comparedTo(F)>0?we>0?F:H:N,be=ge,ge=1/0,N=new Ee(z),q.c[0]=0;T=te(N,F,0,1),ue=V.plus(T.times(ne)),ue.comparedTo(k)!=1;)V=ne,ne=ue,H=q.plus(T.times(ue=H)),q=ue,F=N.minus(T.times(ue=F)),N=ue;return ue=te(k.minus(V),ne,0,1),q=q.plus(ue.times(H)),V=V.plus(ue.times(ne)),q.s=H.s=ae.s,we=we*2,U=te(H,ne,we,de).minus(ae).abs().comparedTo(te(q,V,we,de).minus(ae).abs())<1?[H,ne]:[q,V],ge=be,U},oe.toNumber=function(){return+ce(this)},oe.toPrecision=function(k,F){return k!=null&&G(k,1,P),Ce(this,k,F,2)},oe.toString=function(k){var F,V=this,ne=V.s,ue=V.e;return ue===null?ne?(F="Infinity",ne<0&&(F="-"+F)):F="NaN":(k==null?F=ue<=pe||ue>=fe?Q(j(V.c),ue):W(j(V.c),ue,"0"):k===10&&Ne?(V=Oe(new Ee(V),le+ue+1,de),F=W(j(V.c),V.e,"0")):(G(k,2,Pe.length,"Base"),F=ee(W(j(V.c),ue,"0"),10,k,ne,!0)),ne<0&&V.c[0]&&(F="-"+F)),F},oe.valueOf=oe.toJSON=function(){return ce(this)},oe._isBigNumber=!0,Z!=null&&Ee.set(Z),Ee}function I(Z){var te=Z|0;return Z>0||Z===te?te:te-1}function j(Z){for(var te,ee,ie=1,oe=Z.length,se=Z[0]+"";ie<oe;){for(te=Z[ie++]+"",ee=v-te.length;ee--;te="0"+te);se+=te}for(oe=se.length;se.charCodeAt(--oe)===48;);return se.slice(0,oe+1||1)}function L(Z,te){var ee,ie,oe=Z.c,se=te.c,le=Z.s,de=te.s,pe=Z.e,fe=te.e;if(!le||!de)return null;if(ee=oe&&!oe[0],ie=se&&!se[0],ee||ie)return ee?ie?0:-de:le;if(le!=de)return le;if(ee=le<0,ie=pe==fe,!oe||!se)return ie?0:!oe^ee?1:-1;if(!ie)return pe>fe^ee?1:-1;for(de=(pe=oe.length)<(fe=se.length)?pe:fe,le=0;le<de;le++)if(oe[le]!=se[le])return oe[le]>se[le]^ee?1:-1;return pe==fe?0:pe>fe^ee?1:-1}function G(Z,te,ee,ie){if(Z<te||Z>ee||Z!==f(Z))throw Error(O+(ie||"Argument")+(typeof Z=="number"?Z<te||Z>ee?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Z))}function J(Z){var te=Z.c.length-1;return I(Z.e/v)==te&&Z.c[te]%2!=0}function Q(Z,te){return(Z.length>1?Z.charAt(0)+"."+Z.slice(1):Z)+(te<0?"e":"e+")+te}function W(Z,te,ee){var ie,oe;if(te<0){for(oe=ee+".";++te;oe+=ee);Z=oe+Z}else if(ie=Z.length,++te>ie){for(oe=ee,te-=ie;--te;oe+=ee);Z+=oe}else te<ie&&(Z=Z.slice(0,te)+"."+Z.slice(te));return Z}o=R(),o.default=o.BigNumber=o,e.exports?e.exports=o:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=o)})(commonjsGlobal)}(bignumber)),bignumber.exports}var hasRequiredStringify;function requireStringify(){return hasRequiredStringify||(hasRequiredStringify=1,function(e){var r=requireBignumber(),o=e.exports;(function(){var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,f,O={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},_;function S(s){return l.lastIndex=0,l.test(s)?'"'+s.replace(l,function(d){var g=O[d];return typeof g=="string"?g:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function v(s,d){var g,P,R,I,j=p,L,G=d[s],J=G!=null&&(G instanceof r||r.isBigNumber(G));switch(G&&typeof G=="object"&&typeof G.toJSON=="function"&&(G=G.toJSON(s)),typeof _=="function"&&(G=_.call(d,s,G)),typeof G){case"string":return J?G:S(G);case"number":return isFinite(G)?String(G):"null";case"boolean":case"null":case"bigint":return String(G);case"object":if(!G)return"null";if(p+=f,L=[],Object.prototype.toString.apply(G)==="[object Array]"){for(I=G.length,g=0;g<I;g+=1)L[g]=v(g,G)||"null";return R=L.length===0?"[]":p?`[
`+p+L.join(`,
`+p)+`
`+j+"]":"["+L.join(",")+"]",p=j,R}if(_&&typeof _=="object")for(I=_.length,g=0;g<I;g+=1)typeof _[g]=="string"&&(P=_[g],R=v(P,G),R&&L.push(S(P)+(p?": ":":")+R));else Object.keys(G).forEach(function(Q){var W=v(Q,G);W&&L.push(S(Q)+(p?": ":":")+W)});return R=L.length===0?"{}":p?`{
`+p+L.join(`,
`+p)+`
`+j+"}":"{"+L.join(",")+"}",p=j,R}}typeof o.stringify!="function"&&(o.stringify=function(s,d,g){var P;if(p="",f="",typeof g=="number")for(P=0;P<g;P+=1)f+=" ";else typeof g=="string"&&(f=g);if(_=d,d&&typeof d!="function"&&(typeof d!="object"||typeof d.length!="number"))throw new Error("JSON.stringify");return v("",{"":s})})})()}(stringify)),stringify.exports}var parse$9,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$9;hasRequiredParse=1;var e=null;const r=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,o=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var l=function(p){var f={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(p!=null){if(p.strict===!0&&(f.strict=!0),p.storeAsString===!0&&(f.storeAsString=!0),f.alwaysParseAsBig=p.alwaysParseAsBig===!0?p.alwaysParseAsBig:!1,f.useNativeBigInt=p.useNativeBigInt===!0?p.useNativeBigInt:!1,typeof p.constructorAction<"u")if(p.constructorAction==="error"||p.constructorAction==="ignore"||p.constructorAction==="preserve")f.constructorAction=p.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${p.constructorAction}`);if(typeof p.protoAction<"u")if(p.protoAction==="error"||p.protoAction==="ignore"||p.protoAction==="preserve")f.protoAction=p.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${p.protoAction}`)}var O,_,S={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},v,s=function(J){throw{name:"SyntaxError",message:J,at:O,text:v}},d=function(J){return J&&J!==_&&s("Expected '"+J+"' instead of '"+_+"'"),_=v.charAt(O),O+=1,_},g=function(){var J,Q="";for(_==="-"&&(Q="-",d("-"));_>="0"&&_<="9";)Q+=_,d();if(_===".")for(Q+=".";d()&&_>="0"&&_<="9";)Q+=_;if(_==="e"||_==="E")for(Q+=_,d(),(_==="-"||_==="+")&&(Q+=_,d());_>="0"&&_<="9";)Q+=_,d();if(J=+Q,!isFinite(J))s("Bad number");else return e==null&&(e=requireBignumber()),Q.length>15?f.storeAsString?Q:f.useNativeBigInt?BigInt(Q):new e(Q):f.alwaysParseAsBig?f.useNativeBigInt?BigInt(J):new e(J):J},P=function(){var J,Q,W="",Z;if(_==='"')for(var te=O;d();){if(_==='"')return O-1>te&&(W+=v.substring(te,O-1)),d(),W;if(_==="\\"){if(O-1>te&&(W+=v.substring(te,O-1)),d(),_==="u"){for(Z=0,Q=0;Q<4&&(J=parseInt(d(),16),!!isFinite(J));Q+=1)Z=Z*16+J;W+=String.fromCharCode(Z)}else if(typeof S[_]=="string")W+=S[_];else break;te=O}}s("Bad string")},R=function(){for(;_&&_<=" ";)d()},I=function(){switch(_){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}s("Unexpected '"+_+"'")},j,L=function(){var J=[];if(_==="["){if(d("["),R(),_==="]")return d("]"),J;for(;_;){if(J.push(j()),R(),_==="]")return d("]"),J;d(","),R()}}s("Bad array")},G=function(){var J,Q=Object.create(null);if(_==="{"){if(d("{"),R(),_==="}")return d("}"),Q;for(;_;){if(J=P(),R(),d(":"),f.strict===!0&&Object.hasOwnProperty.call(Q,J)&&s('Duplicate key "'+J+'"'),r.test(J)===!0?f.protoAction==="error"?s("Object contains forbidden prototype property"):f.protoAction==="ignore"?j():Q[J]=j():o.test(J)===!0?f.constructorAction==="error"?s("Object contains forbidden constructor property"):f.constructorAction==="ignore"?j():Q[J]=j():Q[J]=j(),R(),_==="}")return d("}"),Q;d(","),R()}}s("Bad object")};return j=function(){switch(R(),_){case"{":return G();case"[":return L();case'"':return P();case"-":return g();default:return _>="0"&&_<="9"?g():I()}},function(J,Q){var W;return v=J+"",O=0,_=" ",W=j(),R(),_&&s("Syntax error"),typeof Q=="function"?function Z(te,ee){var ie,oe=te[ee];return oe&&typeof oe=="object"&&Object.keys(oe).forEach(function(se){ie=Z(oe,se),ie!==void 0?oe[se]=ie:delete oe[se]}),Q.call(te,ee,oe)}({"":W},""):W}};return parse$9=l,parse$9}var hasRequiredJsonBigint;function requireJsonBigint(){if(hasRequiredJsonBigint)return jsonBigint.exports;hasRequiredJsonBigint=1;var e=requireStringify().stringify,r=requireParse();return jsonBigint.exports=function(o){return{parse:r(o),stringify:e}},jsonBigint.exports.parse=r(),jsonBigint.exports.stringify=e,jsonBigint.exports}var gcpResidency={},hasRequiredGcpResidency;function requireGcpResidency(){return hasRequiredGcpResidency||(hasRequiredGcpResidency=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.detectGCPResidency=e.isGoogleComputeEngine=e.isGoogleComputeEngineMACAddress=e.isGoogleComputeEngineLinux=e.isGoogleCloudServerless=e.GCE_LINUX_BIOS_PATHS=void 0;const r=require$$4$3,o=require$$4$3;e.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};const l=/^42:01/;function p(){return!!({}.CLOUD_RUN_JOB||{}.FUNCTION_NAME||{}.K_SERVICE)}e.isGoogleCloudServerless=p;function f(){if((0,o.platform)()!=="linux")return!1;try{(0,r.statSync)(e.GCE_LINUX_BIOS_PATHS.BIOS_DATE);const v=(0,r.readFileSync)(e.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(v)}catch{return!1}}e.isGoogleComputeEngineLinux=f;function O(){const v=(0,o.networkInterfaces)();for(const s of Object.values(v))if(s){for(const{mac:d}of s)if(l.test(d))return!0}return!1}e.isGoogleComputeEngineMACAddress=O;function _(){return f()||O()}e.isGoogleComputeEngine=_;function S(){return p()||_()}e.detectGCPResidency=S}(gcpResidency)),gcpResidency}var hasRequiredSrc$3;function requireSrc$3(){return hasRequiredSrc$3||(hasRequiredSrc$3=1,function(e){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,Z,te,ee){ee===void 0&&(ee=te);var ie=Object.getOwnPropertyDescriptor(Z,te);(!ie||("get"in ie?!Z.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return Z[te]}}),Object.defineProperty(W,ee,ie)}:function(W,Z,te,ee){ee===void 0&&(ee=te),W[ee]=Z[te]}),o=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,Z){for(var te in W)te!=="default"&&!Object.prototype.hasOwnProperty.call(Z,te)&&r(Z,W,te)};Object.defineProperty(e,"__esModule",{value:!0}),e.requestTimeout=e.setGCPResidency=e.getGCPResidency=e.gcpResidencyCache=e.resetIsAvailableCache=e.isAvailable=e.bulk=e.universe=e.project=e.instance=e.METADATA_SERVER_DETECTION=e.HEADERS=e.HEADER_VALUE=e.HEADER_NAME=e.SECONDARY_HOST_ADDRESS=e.HOST_ADDRESS=e.BASE_PATH=void 0;const l=requireSrc$4(),p=requireJsonBigint(),f=requireGcpResidency();e.BASE_PATH="/computeMetadata/v1",e.HOST_ADDRESS="http://169.254.169.254",e.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",e.HEADER_NAME="Metadata-Flavor",e.HEADER_VALUE="Google",e.HEADERS=Object.freeze({[e.HEADER_NAME]:e.HEADER_VALUE}),e.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"});function O(W){return W||(W={}.GCE_METADATA_IP||{}.GCE_METADATA_HOST||e.HOST_ADDRESS),/^https?:\/\//.test(W)||(W=`http://${W}`),new URL(e.BASE_PATH,W).href}function _(W){Object.keys(W).forEach(Z=>{switch(Z){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${Z}' is not a valid configuration option.`)}})}async function S(W,Z={},te=3,ee=!1){let ie="",oe={},se={};if(typeof W=="object"){const le=W;ie=le.metadataKey,oe=le.params||oe,se=le.headers||se,te=le.noResponseRetries||te,ee=le.fastFail||ee}else ie=W;typeof Z=="string"?ie+=`/${Z}`:(_(Z),Z.property&&(ie+=`/${Z.property}`),se=Z.headers||se,oe=Z.params||oe);try{const de=await(ee?v:l.request)({url:`${O()}/${ie}`,headers:{...e.HEADERS,...se},retryConfig:{noResponseRetries:te},params:oe,responseType:"text",timeout:Q()});if(de.headers[e.HEADER_NAME.toLowerCase()]!==e.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${e.HEADER_NAME} header.`);if(!de.data)throw new Error("Invalid response from the metadata service");if(typeof de.data=="string")try{return p.parse(de.data)}catch{}return de.data}catch(le){const de=le;throw de.response&&de.response.status!==200&&(de.message=`Unsuccessful response status code. ${de.message}`),le}}async function v(W){const Z={...W,url:W.url.replace(O(),O(e.SECONDARY_HOST_ADDRESS))};let te=!1;const ee=(0,l.request)(W).then(oe=>(te=!0,oe)).catch(oe=>{if(te)return ie;throw te=!0,oe}),ie=(0,l.request)(Z).then(oe=>(te=!0,oe)).catch(oe=>{if(te)return ee;throw te=!0,oe});return Promise.race([ee,ie])}function s(W){return S("instance",W)}e.instance=s;function d(W){return S("project",W)}e.project=d;function g(W){return S("universe",W)}e.universe=g;async function P(W){const Z={};return await Promise.all(W.map(te=>(async()=>{const ee=await S(te),ie=te.metadataKey;Z[ie]=ee})())),Z}e.bulk=P;function R(){return{}.DETECT_GCP_RETRIES?Number({}.DETECT_GCP_RETRIES):0}let I;async function j(){if({}.METADATA_SERVER_DETECTION){const W={}.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(W in e.METADATA_SERVER_DETECTION))throw new RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${W}\`, but it should be \`${Object.keys(e.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(W){case"assume-present":return!0;case"none":return!1;case"bios-only":return G()}}try{return I===void 0&&(I=S("instance",void 0,R(),!({}.GCE_METADATA_IP||{}.GCE_METADATA_HOST))),await I,!0}catch(W){const Z=W;if({}.DEBUG_AUTH&&console.info(Z),Z.type==="request-timeout"||Z.response&&Z.response.status===404)return!1;if(!(Z.response&&Z.response.status===404)&&(!Z.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(Z.code))){let te="UNKNOWN";Z.code&&(te=Z.code),process.emitWarning(`received unexpected error = ${Z.message} code = ${te}`,"MetadataLookupWarning")}return!1}}e.isAvailable=j;function L(){I=void 0}e.resetIsAvailableCache=L,e.gcpResidencyCache=null;function G(){return e.gcpResidencyCache===null&&J(),e.gcpResidencyCache}e.getGCPResidency=G;function J(W=null){e.gcpResidencyCache=W!==null?W:(0,f.detectGCPResidency)()}e.setGCPResidency=J;function Q(){return G()?0:3e3}e.requestTimeout=Q,o(requireGcpResidency(),e)}(src$3)),src$3}var crypto$3={},crypto$2={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=_,base64Js.toByteArray=v,base64Js.fromByteArray=g;for(var e=[],r=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=l.length;p<f;++p)e[p]=l[p],r[l.charCodeAt(p)]=p;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function O(P){var R=P.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=P.indexOf("=");I===-1&&(I=R);var j=I===R?0:4-I%4;return[I,j]}function _(P){var R=O(P),I=R[0],j=R[1];return(I+j)*3/4-j}function S(P,R,I){return(R+I)*3/4-I}function v(P){var R,I=O(P),j=I[0],L=I[1],G=new o(S(P,j,L)),J=0,Q=L>0?j-4:j,W;for(W=0;W<Q;W+=4)R=r[P.charCodeAt(W)]<<18|r[P.charCodeAt(W+1)]<<12|r[P.charCodeAt(W+2)]<<6|r[P.charCodeAt(W+3)],G[J++]=R>>16&255,G[J++]=R>>8&255,G[J++]=R&255;return L===2&&(R=r[P.charCodeAt(W)]<<2|r[P.charCodeAt(W+1)]>>4,G[J++]=R&255),L===1&&(R=r[P.charCodeAt(W)]<<10|r[P.charCodeAt(W+1)]<<4|r[P.charCodeAt(W+2)]>>2,G[J++]=R>>8&255,G[J++]=R&255),G}function s(P){return e[P>>18&63]+e[P>>12&63]+e[P>>6&63]+e[P&63]}function d(P,R,I){for(var j,L=[],G=R;G<I;G+=3)j=(P[G]<<16&16711680)+(P[G+1]<<8&65280)+(P[G+2]&255),L.push(s(j));return L.join("")}function g(P){for(var R,I=P.length,j=I%3,L=[],G=16383,J=0,Q=I-j;J<Q;J+=G)L.push(d(P,J,J+G>Q?Q:J+G));return j===1?(R=P[I-1],L.push(e[R>>2]+e[R<<4&63]+"==")):j===2&&(R=(P[I-2]<<8)+P[I-1],L.push(e[R>>10]+e[R>>4&63]+e[R<<2&63]+"=")),L.join("")}return base64Js}var hasRequiredCrypto$2;function requireCrypto$2(){if(hasRequiredCrypto$2)return crypto$2;hasRequiredCrypto$2=1,Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.BrowserCrypto=void 0;const e=requireBase64Js(),r=requireCrypto();class o{constructor(){if(typeof window>"u"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(p){const f=new TextEncoder().encode(p),O=await window.crypto.subtle.digest("SHA-256",f);return e.fromByteArray(new Uint8Array(O))}randomBytesBase64(p){const f=new Uint8Array(p);return window.crypto.getRandomValues(f),e.fromByteArray(f)}static padBase64(p){for(;p.length%4!==0;)p+="=";return p}async verify(p,f,O){const _={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},S=new TextEncoder().encode(f),v=e.toByteArray(o.padBase64(O)),s=await window.crypto.subtle.importKey("jwk",p,_,!0,["verify"]);return await window.crypto.subtle.verify(_,s,v,S)}async sign(p,f){const O={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},_=new TextEncoder().encode(f),S=await window.crypto.subtle.importKey("jwk",p,O,!0,["sign"]),v=await window.crypto.subtle.sign(O,S,_);return e.fromByteArray(new Uint8Array(v))}decodeBase64StringUtf8(p){const f=e.toByteArray(o.padBase64(p));return new TextDecoder().decode(f)}encodeBase64StringUtf8(p){const f=new TextEncoder().encode(p);return e.fromByteArray(f)}async sha256DigestHex(p){const f=new TextEncoder().encode(p),O=await window.crypto.subtle.digest("SHA-256",f);return(0,r.fromArrayBufferToHex)(O)}async signWithHmacSha256(p,f){const O=typeof p=="string"?p:String.fromCharCode(...new Uint16Array(p)),_=new TextEncoder,S=await window.crypto.subtle.importKey("raw",_.encode(O),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",S,_.encode(f))}}return crypto$2.BrowserCrypto=o,crypto$2}var crypto$1={},hasRequiredCrypto$1;function requireCrypto$1(){if(hasRequiredCrypto$1)return crypto$1;hasRequiredCrypto$1=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.NodeCrypto=void 0;const e=require$$4$3;class r{async sha256DigestBase64(f){return e.createHash("sha256").update(f).digest("base64")}randomBytesBase64(f){return e.randomBytes(f).toString("base64")}async verify(f,O,_){const S=e.createVerify("RSA-SHA256");return S.update(O),S.end(),S.verify(f,_,"base64")}async sign(f,O){const _=e.createSign("RSA-SHA256");return _.update(O),_.end(),_.sign(f,"base64")}decodeBase64StringUtf8(f){return Buffer.from(f,"base64").toString("utf-8")}encodeBase64StringUtf8(f){return Buffer.from(f,"utf-8").toString("base64")}async sha256DigestHex(f){return e.createHash("sha256").update(f).digest("hex")}async signWithHmacSha256(f,O){const _=typeof f=="string"?f:l(f);return o(e.createHmac("sha256",_).update(O).digest())}}crypto$1.NodeCrypto=r;function o(p){return p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength)}function l(p){return Buffer.from(p)}return crypto$1}var hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$3;hasRequiredCrypto=1,Object.defineProperty(crypto$3,"__esModule",{value:!0}),crypto$3.fromArrayBufferToHex=crypto$3.hasBrowserCrypto=crypto$3.createCrypto=void 0;const e=requireCrypto$2(),r=requireCrypto$1();function o(){return l()?new e.BrowserCrypto:new r.NodeCrypto}crypto$3.createCrypto=o;function l(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}crypto$3.hasBrowserCrypto=l;function p(f){return Array.from(new Uint8Array(f)).map(_=>_.toString(16).padStart(2,"0")).join("")}return crypto$3.fromArrayBufferToHex=p,crypto$3}var transporters={},options={},hasRequiredOptions;function requireOptions(){if(hasRequiredOptions)return options;hasRequiredOptions=1,Object.defineProperty(options,"__esModule",{value:!0}),options.validate=void 0;function e(r){const o=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const l of o)if(r[l.invalid]){const p=`'${l.invalid}' is not a valid configuration option. Please use '${l.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(p)}}return options.validate=e,options}const name$2="google-auth-library",version$6="9.11.0",author$1="Google Inc.",description$1="Google APIs Authentication Client Library for Node.js",engines$1={node:">=14"},main$1="./build/src/index.js",types$3="./build/src/index.d.ts",repository$1="googleapis/google-auth-library-nodejs.git",keywords$3=["google","api","google apis","client","client library"],dependencies$1={"base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11",gaxios:"^6.1.1","gcp-metadata":"^6.1.0",gtoken:"^7.0.0",jws:"^4.0.0"},devDependencies$1={"@compodoc/compodoc":"1.1.23","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/mocha":"^9.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.4.2","@types/sinon":"^17.0.0","assert-rejects":"^1.0.0",c8:"^8.0.0",chai:"^4.2.0",codecov:"^3.0.2",execa:"^5.0.0",gts:"^5.0.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",keypair:"^1.0.4",linkinator:"^4.0.0",mocha:"^9.2.2",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^21.0.0",sinon:"^18.0.0","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.21.2","webpack-cli":"^4.0.0"},files$1=["build/src","!build/src/**/*.map"],scripts$1={test:"c8 mocha build/test",clean:"gts clean",prepare:"npm run compile",lint:"gts check",compile:"tsc -p .",fix:"gts fix",pretest:"npm run compile -- --sourceMap",docs:"compodoc src/","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile -- --sourceMap",webpack:"webpack","browser-test":"karma start","docs-test":"linkinator docs","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install",precompile:"gts clean"},license$1="Apache-2.0",require$$4$2={name:name$2,version:version$6,author:author$1,description:description$1,engines:engines$1,main:main$1,types:types$3,repository:repository$1,keywords:keywords$3,dependencies:dependencies$1,devDependencies:devDependencies$1,files:files$1,scripts:scripts$1,license:license$1};var hasRequiredTransporters;function requireTransporters(){if(hasRequiredTransporters)return transporters;hasRequiredTransporters=1,Object.defineProperty(transporters,"__esModule",{value:!0}),transporters.DefaultTransporter=void 0;const e=requireSrc$4(),r=requireOptions(),o=require$$4$2,l="google-api-nodejs-client";class p{constructor(){this.instance=new e.Gaxios}configure(O={}){if(O.headers=O.headers||{},typeof window>"u"){const _=O.headers["User-Agent"];if(_?_.includes(`${l}/`)||(O.headers["User-Agent"]=`${_} ${p.USER_AGENT}`):O.headers["User-Agent"]=p.USER_AGENT,!O.headers["x-goog-api-client"]){const S=process.version.replace(/^v/,"");O.headers["x-goog-api-client"]=`gl-node/${S}`}}return O}request(O){return O=this.configure(O),(0,r.validate)(O),this.instance.request(O).catch(_=>{throw this.processError(_)})}get defaults(){return this.instance.defaults}set defaults(O){this.instance.defaults=O}processError(O){const _=O.response,S=O,v=_?_.data:null;return _&&v&&v.error&&_.status!==200?typeof v.error=="string"?(S.message=v.error,S.status=_.status):Array.isArray(v.error.errors)?(S.message=v.error.errors.map(s=>s.message).join(`
`),S.code=v.error.code,S.errors=v.error.errors):(S.message=v.error.message,S.code=v.error.code):_&&_.status>=400&&(S.message=v,S.status=_.status),S}}return transporters.DefaultTransporter=p,p.USER_AGENT=`${l}/${o.version}`,transporters}var computeclient={},oauth2client={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(e,r){var o=require$$4$3,l=o.Buffer;function p(O,_){for(var S in O)_[S]=O[S]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?e.exports=o:(p(o,r),r.Buffer=f);function f(O,_,S){return l(O,_,S)}f.prototype=Object.create(l.prototype),p(l,f),f.from=function(O,_,S){if(typeof O=="number")throw new TypeError("Argument must not be a number");return l(O,_,S)},f.alloc=function(O,_,S){if(typeof O!="number")throw new TypeError("Argument must be a number");var v=l(O);return _!==void 0?typeof S=="string"?v.fill(_,S):v.fill(_):v.fill(0),v},f.allocUnsafe=function(O){if(typeof O!="number")throw new TypeError("Argument must be a number");return l(O)},f.allocUnsafeSlow=function(O){if(typeof O!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(O)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var paramBytesForAlg_1,hasRequiredParamBytesForAlg;function requireParamBytesForAlg(){if(hasRequiredParamBytesForAlg)return paramBytesForAlg_1;hasRequiredParamBytesForAlg=1;function e(l){var p=(l/8|0)+(l%8===0?0:1);return p}var r={ES256:e(256),ES384:e(384),ES512:e(521)};function o(l){var p=r[l];if(p)return p;throw new Error('Unknown algorithm "'+l+'"')}return paramBytesForAlg_1=o,paramBytesForAlg_1}var ecdsaSigFormatter,hasRequiredEcdsaSigFormatter;function requireEcdsaSigFormatter(){if(hasRequiredEcdsaSigFormatter)return ecdsaSigFormatter;hasRequiredEcdsaSigFormatter=1;var e=requireSafeBuffer().Buffer,r=requireParamBytesForAlg(),o=128,l=0,p=32,f=16,O=2,_=f|p|l<<6,S=O|l<<6;function v(R){return R.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(R){if(e.isBuffer(R))return R;if(typeof R=="string")return e.from(R,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function d(R,I){R=s(R);var j=r(I),L=j+1,G=R.length,J=0;if(R[J++]!==_)throw new Error('Could not find expected "seq"');var Q=R[J++];if(Q===(o|1)&&(Q=R[J++]),G-J<Q)throw new Error('"seq" specified length of "'+Q+'", only "'+(G-J)+'" remaining');if(R[J++]!==S)throw new Error('Could not find expected "int" for "r"');var W=R[J++];if(G-J-2<W)throw new Error('"r" specified length of "'+W+'", only "'+(G-J-2)+'" available');if(L<W)throw new Error('"r" specified length of "'+W+'", max of "'+L+'" is acceptable');var Z=J;if(J+=W,R[J++]!==S)throw new Error('Could not find expected "int" for "s"');var te=R[J++];if(G-J!==te)throw new Error('"s" specified length of "'+te+'", expected "'+(G-J)+'"');if(L<te)throw new Error('"s" specified length of "'+te+'", max of "'+L+'" is acceptable');var ee=J;if(J+=te,J!==G)throw new Error('Expected to consume entire buffer, but "'+(G-J)+'" bytes remain');var ie=j-W,oe=j-te,se=e.allocUnsafe(ie+W+oe+te);for(J=0;J<ie;++J)se[J]=0;R.copy(se,J,Z+Math.max(-ie,0),Z+W),J=j;for(var le=J;J<le+oe;++J)se[J]=0;return R.copy(se,J,ee+Math.max(-oe,0),ee+te),se=se.toString("base64"),se=v(se),se}function g(R,I,j){for(var L=0;I+L<j&&R[I+L]===0;)++L;var G=R[I+L]>=o;return G&&--L,L}function P(R,I){R=s(R);var j=r(I),L=R.length;if(L!==j*2)throw new TypeError('"'+I+'" signatures must be "'+j*2+'" bytes, saw "'+L+'"');var G=g(R,0,j),J=g(R,j,R.length),Q=j-G,W=j-J,Z=1+1+Q+1+1+W,te=Z<o,ee=e.allocUnsafe((te?2:3)+Z),ie=0;return ee[ie++]=_,te?ee[ie++]=Z:(ee[ie++]=o|1,ee[ie++]=Z&255),ee[ie++]=S,ee[ie++]=Q,G<0?(ee[ie++]=0,ie+=R.copy(ee,ie,0,j)):ie+=R.copy(ee,ie,G,j),ee[ie++]=S,ee[ie++]=W,J<0?(ee[ie++]=0,R.copy(ee,ie,j)):R.copy(ee,ie,j+J),ee}return ecdsaSigFormatter={derToJose:d,joseToDer:P},ecdsaSigFormatter}var authclient={},util$1={},hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$1;hasRequiredUtil$1=1;var e=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(S,v,s,d){if(s==="a"&&!d)throw new TypeError("Private accessor was defined without a getter");if(typeof v=="function"?S!==v||!d:!v.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?d:s==="a"?d.call(S):d?d.value:v.get(S)},r,o,l,p;Object.defineProperty(util$1,"__esModule",{value:!0}),util$1.LRUCache=util$1.originalOrCamelOptions=util$1.snakeToCamel=void 0;function f(S){return S.replace(/([_][^_])/g,v=>v.slice(1).toUpperCase())}util$1.snakeToCamel=f;function O(S){function v(s){var d;const g=S||{};return(d=g[s])!==null&&d!==void 0?d:g[f(s)]}return{get:v}}util$1.originalOrCamelOptions=O;class _{constructor(v){r.add(this),o.set(this,new Map),this.capacity=v.capacity,this.maxAge=v.maxAge}set(v,s){e(this,r,"m",l).call(this,v,s),e(this,r,"m",p).call(this)}get(v){const s=e(this,o,"f").get(v);if(s)return e(this,r,"m",l).call(this,v,s.value),e(this,r,"m",p).call(this),s.value}}return util$1.LRUCache=_,o=new WeakMap,r=new WeakSet,l=function(v,s){e(this,o,"f").delete(v),e(this,o,"f").set(v,{value:s,lastAccessed:Date.now()})},p=function(){const v=this.maxAge?Date.now()-this.maxAge:0;let s=e(this,o,"f").entries().next();for(;!s.done&&(e(this,o,"f").size>this.capacity||s.value[1].lastAccessed<v);)e(this,o,"f").delete(s.value[0]),s=e(this,o,"f").entries().next()},util$1}var hasRequiredAuthclient;function requireAuthclient(){return hasRequiredAuthclient||(hasRequiredAuthclient=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AuthClient=e.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=e.DEFAULT_UNIVERSE=void 0;const r=require$$4$3,o=requireSrc$4(),l=requireTransporters(),p=requireUtil$1();e.DEFAULT_UNIVERSE="googleapis.com",e.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=5*60*1e3;class f extends r.EventEmitter{constructor(_={}){var S,v,s,d,g;super(),this.credentials={},this.eagerRefreshThresholdMillis=e.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS,this.forceRefreshOnFailure=!1,this.universeDomain=e.DEFAULT_UNIVERSE;const P=(0,p.originalOrCamelOptions)(_);this.projectId=(S=P.get("project_id"))!==null&&S!==void 0?S:null,this.quotaProjectId=P.get("quota_project_id"),this.credentials=(v=P.get("credentials"))!==null&&v!==void 0?v:{},this.universeDomain=(s=P.get("universe_domain"))!==null&&s!==void 0?s:e.DEFAULT_UNIVERSE,this.transporter=(d=_.transporter)!==null&&d!==void 0?d:new l.DefaultTransporter,_.transporterOptions&&(this.transporter.defaults=_.transporterOptions),_.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=_.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=(g=_.forceRefreshOnFailure)!==null&&g!==void 0?g:!1}get gaxios(){return this.transporter instanceof o.Gaxios?this.transporter:this.transporter instanceof l.DefaultTransporter?this.transporter.instance:"instance"in this.transporter&&this.transporter.instance instanceof o.Gaxios?this.transporter.instance:null}setCredentials(_){this.credentials=_}addSharedMetadataHeaders(_){return!_["x-goog-user-project"]&&this.quotaProjectId&&(_["x-goog-user-project"]=this.quotaProjectId),_}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}e.AuthClient=f}(authclient)),authclient}var loginticket={},hasRequiredLoginticket;function requireLoginticket(){if(hasRequiredLoginticket)return loginticket;hasRequiredLoginticket=1,Object.defineProperty(loginticket,"__esModule",{value:!0}),loginticket.LoginTicket=void 0;class e{constructor(o,l){this.envelope=o,this.payload=l}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const o=this.getPayload();return o&&o.sub?o.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}return loginticket.LoginTicket=e,loginticket}var hasRequiredOauth2client;function requireOauth2client(){if(hasRequiredOauth2client)return oauth2client;hasRequiredOauth2client=1,Object.defineProperty(oauth2client,"__esModule",{value:!0}),oauth2client.OAuth2Client=oauth2client.ClientAuthentication=oauth2client.CertificateFormat=oauth2client.CodeChallengeMethod=void 0;const e=requireSrc$4(),r=require$$4$3,o=require$$4$3,l=requireEcdsaSigFormatter(),p=requireCrypto(),f=requireAuthclient(),O=requireLoginticket();var _;(function(d){d.Plain="plain",d.S256="S256"})(_||(oauth2client.CodeChallengeMethod=_={}));var S;(function(d){d.PEM="PEM",d.JWK="JWK"})(S||(oauth2client.CertificateFormat=S={}));var v;(function(d){d.ClientSecretPost="ClientSecretPost",d.ClientSecretBasic="ClientSecretBasic",d.None="None"})(v||(oauth2client.ClientAuthentication=v={}));class s extends f.AuthClient{constructor(g,P,R){const I=g&&typeof g=="object"?g:{clientId:g,clientSecret:P,redirectUri:R};super(I),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=S.PEM,this.refreshTokenPromises=new Map,this._clientId=I.clientId,this._clientSecret=I.clientSecret,this.redirectUri=I.redirectUri,this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...I.endpoints},this.clientAuthentication=I.clientAuthentication||v.ClientSecretPost,this.issuers=I.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}generateAuthUrl(g={}){if(g.code_challenge_method&&!g.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return g.response_type=g.response_type||"code",g.client_id=g.client_id||this._clientId,g.redirect_uri=g.redirect_uri||this.redirectUri,Array.isArray(g.scope)&&(g.scope=g.scope.join(" ")),this.endpoints.oauth2AuthBaseUrl.toString()+"?"+r.stringify(g)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const g=(0,p.createCrypto)(),R=g.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),j=(await g.sha256DigestBase64(R)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:R,codeChallenge:j}}getToken(g,P){const R=typeof g=="string"?{code:g}:g;if(P)this.getTokenAsync(R).then(I=>P(null,I.tokens,I.res),I=>P(I,null,I.response));else return this.getTokenAsync(R)}async getTokenAsync(g){const P=this.endpoints.oauth2TokenUrl.toString(),R={"Content-Type":"application/x-www-form-urlencoded"},I={client_id:g.client_id||this._clientId,code_verifier:g.codeVerifier,code:g.code,grant_type:"authorization_code",redirect_uri:g.redirect_uri||this.redirectUri};if(this.clientAuthentication===v.ClientSecretBasic){const G=Buffer.from(`${this._clientId}:${this._clientSecret}`);R.Authorization=`Basic ${G.toString("base64")}`}this.clientAuthentication===v.ClientSecretPost&&(I.client_secret=this._clientSecret);const j=await this.transporter.request({...s.RETRY_CONFIG,method:"POST",url:P,data:r.stringify(I),headers:R}),L=j.data;return j.data&&j.data.expires_in&&(L.expiry_date=new Date().getTime()+j.data.expires_in*1e3,delete L.expires_in),this.emit("tokens",L),{tokens:L,res:j}}async refreshToken(g){if(!g)return this.refreshTokenNoCache(g);if(this.refreshTokenPromises.has(g))return this.refreshTokenPromises.get(g);const P=this.refreshTokenNoCache(g).then(R=>(this.refreshTokenPromises.delete(g),R),R=>{throw this.refreshTokenPromises.delete(g),R});return this.refreshTokenPromises.set(g,P),P}async refreshTokenNoCache(g){var P;if(!g)throw new Error("No refresh token is set.");const R=this.endpoints.oauth2TokenUrl.toString(),I={refresh_token:g,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};let j;try{j=await this.transporter.request({...s.RETRY_CONFIG,method:"POST",url:R,data:r.stringify(I),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(G){throw G instanceof e.GaxiosError&&G.message==="invalid_grant"&&(!((P=G.response)===null||P===void 0)&&P.data)&&/ReAuth/i.test(G.response.data.error_description)&&(G.message=JSON.stringify(G.response.data)),G}const L=j.data;return j.data&&j.data.expires_in&&(L.expiry_date=new Date().getTime()+j.data.expires_in*1e3,delete L.expires_in),this.emit("tokens",L),{tokens:L,res:j}}refreshAccessToken(g){if(g)this.refreshAccessTokenAsync().then(P=>g(null,P.credentials,P.res),g);else return this.refreshAccessTokenAsync()}async refreshAccessTokenAsync(){const g=await this.refreshToken(this.credentials.refresh_token),P=g.tokens;return P.refresh_token=this.credentials.refresh_token,this.credentials=P,{credentials:this.credentials,res:g.res}}getAccessToken(g){if(g)this.getAccessTokenAsync().then(P=>g(null,P.token,P.res),g);else return this.getAccessTokenAsync()}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){const R=await this.processAndValidateRefreshHandler();if(R!=null&&R.access_token)return this.setCredentials(R),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");const P=await this.refreshAccessTokenAsync();if(!P.credentials||P.credentials&&!P.credentials.access_token)throw new Error("Could not refresh access token.");return{token:P.credentials.access_token,res:P.res}}else return{token:this.credentials.access_token}}async getRequestHeaders(g){return(await this.getRequestMetadataAsync(g)).headers}async getRequestMetadataAsync(g){const P=this.credentials;if(!P.access_token&&!P.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(P.access_token&&!this.isTokenExpiring()){P.token_type=P.token_type||"Bearer";const G={Authorization:P.token_type+" "+P.access_token};return{headers:this.addSharedMetadataHeaders(G)}}if(this.refreshHandler){const G=await this.processAndValidateRefreshHandler();if(G!=null&&G.access_token){this.setCredentials(G);const J={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(J)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let R=null,I=null;try{R=await this.refreshToken(P.refresh_token),I=R.tokens}catch(G){const J=G;throw J.response&&(J.response.status===403||J.response.status===404)&&(J.message=`Could not refresh access token: ${J.message}`),J}const j=this.credentials;j.token_type=j.token_type||"Bearer",I.refresh_token=j.refresh_token,this.credentials=I;const L={Authorization:j.token_type+" "+I.access_token};return{headers:this.addSharedMetadataHeaders(L),res:R.res}}static getRevokeTokenUrl(g){return new s().getRevokeTokenURL(g).toString()}getRevokeTokenURL(g){const P=new URL(this.endpoints.oauth2RevokeUrl);return P.searchParams.append("token",g),P}revokeToken(g,P){const R={...s.RETRY_CONFIG,url:this.getRevokeTokenURL(g).toString(),method:"POST"};if(P)this.transporter.request(R).then(I=>P(null,I),P);else return this.transporter.request(R)}revokeCredentials(g){if(g)this.revokeCredentialsAsync().then(P=>g(null,P),g);else return this.revokeCredentialsAsync()}async revokeCredentialsAsync(){const g=this.credentials.access_token;if(this.credentials={},g)return this.revokeToken(g);throw new Error("No access token to revoke.")}request(g,P){if(P)this.requestAsync(g).then(R=>P(null,R),R=>P(R,R.response));else return this.requestAsync(g)}async requestAsync(g,P=!1){let R;try{const I=await this.getRequestMetadataAsync(g.url);g.headers=g.headers||{},I.headers&&I.headers["x-goog-user-project"]&&(g.headers["x-goog-user-project"]=I.headers["x-goog-user-project"]),I.headers&&I.headers.Authorization&&(g.headers.Authorization=I.headers.Authorization),this.apiKey&&(g.headers["X-Goog-Api-Key"]=this.apiKey),R=await this.transporter.request(g)}catch(I){const j=I.response;if(j){const L=j.status,G=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),J=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,Q=j.config.data instanceof o.Readable,W=L===401||L===403;if(!P&&W&&!Q&&G)return await this.refreshAccessTokenAsync(),this.requestAsync(g,!0);if(!P&&W&&!Q&&J){const Z=await this.processAndValidateRefreshHandler();return Z!=null&&Z.access_token&&this.setCredentials(Z),this.requestAsync(g,!0)}}throw I}return R}verifyIdToken(g,P){if(P&&typeof P!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(P)this.verifyIdTokenAsync(g).then(R=>P(null,R),P);else return this.verifyIdTokenAsync(g)}async verifyIdTokenAsync(g){if(!g.idToken)throw new Error("The verifyIdToken method requires an ID Token");const P=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(g.idToken,P.certs,g.audience,this.issuers,g.maxExpiry)}async getTokenInfo(g){const{data:P}=await this.transporter.request({...s.RETRY_CONFIG,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${g}`},url:this.endpoints.tokenInfoUrl.toString()}),R=Object.assign({expiry_date:new Date().getTime()+P.expires_in*1e3,scopes:P.scope.split(" ")},P);return delete R.expires_in,delete R.scope,R}getFederatedSignonCerts(g){if(g)this.getFederatedSignonCertsAsync().then(P=>g(null,P.certs,P.res),g);else return this.getFederatedSignonCertsAsync()}async getFederatedSignonCertsAsync(){const g=new Date().getTime(),P=(0,p.hasBrowserCrypto)()?S.JWK:S.PEM;if(this.certificateExpiry&&g<this.certificateExpiry.getTime()&&this.certificateCacheFormat===P)return{certs:this.certificateCache,format:P};let R,I;switch(P){case S.PEM:I=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case S.JWK:I=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw new Error(`Unsupported certificate format ${P}`)}try{R=await this.transporter.request({...s.RETRY_CONFIG,url:I})}catch(Q){throw Q instanceof Error&&(Q.message=`Failed to retrieve verification certificates: ${Q.message}`),Q}const j=R?R.headers["cache-control"]:void 0;let L=-1;if(j){const W=new RegExp("max-age=([0-9]*)").exec(j);W&&W.length===2&&(L=Number(W[1])*1e3)}let G={};switch(P){case S.PEM:G=R.data;break;case S.JWK:for(const Q of R.data.keys)G[Q.kid]=Q;break;default:throw new Error(`Unsupported certificate format ${P}`)}const J=new Date;return this.certificateExpiry=L===-1?null:new Date(J.getTime()+L),this.certificateCache=G,this.certificateCacheFormat=P,{certs:G,format:P,res:R}}getIapPublicKeys(g){if(g)this.getIapPublicKeysAsync().then(P=>g(null,P.pubkeys,P.res),g);else return this.getIapPublicKeysAsync()}async getIapPublicKeysAsync(){let g;const P=this.endpoints.oauth2IapPublicKeyUrl.toString();try{g=await this.transporter.request({...s.RETRY_CONFIG,url:P})}catch(R){throw R instanceof Error&&(R.message=`Failed to retrieve verification certificates: ${R.message}`),R}return{pubkeys:g.data,res:g}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(g,P,R,I,j){const L=(0,p.createCrypto)();j||(j=s.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);const G=g.split(".");if(G.length!==3)throw new Error("Wrong number of segments in token: "+g);const J=G[0]+"."+G[1];let Q=G[2],W,Z;try{W=JSON.parse(L.decodeBase64StringUtf8(G[0]))}catch(pe){throw pe instanceof Error&&(pe.message=`Can't parse token envelope: ${G[0]}': ${pe.message}`),pe}if(!W)throw new Error("Can't parse token envelope: "+G[0]);try{Z=JSON.parse(L.decodeBase64StringUtf8(G[1]))}catch(pe){throw pe instanceof Error&&(pe.message=`Can't parse token payload '${G[0]}`),pe}if(!Z)throw new Error("Can't parse token payload: "+G[1]);if(!Object.prototype.hasOwnProperty.call(P,W.kid))throw new Error("No pem found for envelope: "+JSON.stringify(W));const te=P[W.kid];if(W.alg==="ES256"&&(Q=l.joseToDer(Q,"ES256").toString("base64")),!await L.verify(te,J,Q))throw new Error("Invalid token signature: "+g);if(!Z.iat)throw new Error("No issue time in token: "+JSON.stringify(Z));if(!Z.exp)throw new Error("No expiration time in token: "+JSON.stringify(Z));const ie=Number(Z.iat);if(isNaN(ie))throw new Error("iat field using invalid format");const oe=Number(Z.exp);if(isNaN(oe))throw new Error("exp field using invalid format");const se=new Date().getTime()/1e3;if(oe>=se+j)throw new Error("Expiration time too far in future: "+JSON.stringify(Z));const le=ie-s.CLOCK_SKEW_SECS_,de=oe+s.CLOCK_SKEW_SECS_;if(se<le)throw new Error("Token used too early, "+se+" < "+le+": "+JSON.stringify(Z));if(se>de)throw new Error("Token used too late, "+se+" > "+de+": "+JSON.stringify(Z));if(I&&I.indexOf(Z.iss)<0)throw new Error("Invalid issuer, expected one of ["+I+"], but got "+Z.iss);if(typeof R<"u"&&R!==null){const pe=Z.aud;let fe=!1;if(R.constructor===Array?fe=R.indexOf(pe)>-1:fe=pe===R,!fe)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new O.LoginTicket(W,Z)}async processAndValidateRefreshHandler(){if(this.refreshHandler){const g=await this.refreshHandler();if(!g.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return g}}isTokenExpiring(){const g=this.credentials.expiry_date;return g?g<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}}return oauth2client.OAuth2Client=s,s.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",s.CLOCK_SKEW_SECS_=300,s.DEFAULT_MAX_TOKEN_LIFETIME_SECS_=86400,oauth2client}var hasRequiredComputeclient;function requireComputeclient(){if(hasRequiredComputeclient)return computeclient;hasRequiredComputeclient=1,Object.defineProperty(computeclient,"__esModule",{value:!0}),computeclient.Compute=void 0;const e=requireSrc$4(),r=requireSrc$3(),o=requireOauth2client();class l extends o.OAuth2Client{constructor(f={}){super(f),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=f.serviceAccountEmail||"default",this.scopes=Array.isArray(f.scopes)?f.scopes:f.scopes?[f.scopes]:[]}async refreshTokenNoCache(f){const O=`service-accounts/${this.serviceAccountEmail}/token`;let _;try{const v={property:O};this.scopes.length>0&&(v.params={scopes:this.scopes.join(",")}),_=await r.instance(v)}catch(v){throw v instanceof e.GaxiosError&&(v.message=`Could not refresh access token: ${v.message}`,this.wrapError(v)),v}const S=_;return _&&_.expires_in&&(S.expiry_date=new Date().getTime()+_.expires_in*1e3,delete S.expires_in),this.emit("tokens",S),{tokens:S,res:null}}async fetchIdToken(f){const O=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${f}`;let _;try{const S={property:O};_=await r.instance(S)}catch(S){throw S instanceof Error&&(S.message=`Could not fetch ID token: ${S.message}`),S}return _}wrapError(f){const O=f.response;O&&O.status&&(f.status=O.status,O.status===403?f.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+f.message:O.status===404&&(f.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+f.message))}}return computeclient.Compute=l,computeclient}var idtokenclient={},hasRequiredIdtokenclient;function requireIdtokenclient(){if(hasRequiredIdtokenclient)return idtokenclient;hasRequiredIdtokenclient=1,Object.defineProperty(idtokenclient,"__esModule",{value:!0}),idtokenclient.IdTokenClient=void 0;const e=requireOauth2client();class r extends e.OAuth2Client{constructor(l){super(l),this.targetAudience=l.targetAudience,this.idTokenProvider=l.idTokenProvider}async getRequestMetadataAsync(l){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){const f=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:f,expiry_date:this.getIdTokenExpiryDate(f)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(l){const p=l.split(".")[1];if(p)return JSON.parse(Buffer.from(p,"base64").toString("ascii")).exp*1e3}}return idtokenclient.IdTokenClient=r,idtokenclient}var envDetect={},hasRequiredEnvDetect;function requireEnvDetect(){if(hasRequiredEnvDetect)return envDetect;hasRequiredEnvDetect=1,Object.defineProperty(envDetect,"__esModule",{value:!0}),envDetect.getEnv=envDetect.clear=envDetect.GCPEnv=void 0;const e=requireSrc$3();var r;(function(d){d.APP_ENGINE="APP_ENGINE",d.KUBERNETES_ENGINE="KUBERNETES_ENGINE",d.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",d.COMPUTE_ENGINE="COMPUTE_ENGINE",d.CLOUD_RUN="CLOUD_RUN",d.NONE="NONE"})(r||(envDetect.GCPEnv=r={}));let o;function l(){o=void 0}envDetect.clear=l;async function p(){return o||(o=f(),o)}envDetect.getEnv=p;async function f(){let d=r.NONE;return O()?d=r.APP_ENGINE:_()?d=r.CLOUD_FUNCTIONS:await s()?await v()?d=r.KUBERNETES_ENGINE:S()?d=r.CLOUD_RUN:d=r.COMPUTE_ENGINE:d=r.NONE,d}function O(){return!!({}.GAE_SERVICE||{}.GAE_MODULE_NAME)}function _(){return!!({}.FUNCTION_NAME||{}.FUNCTION_TARGET)}function S(){return!!{}.K_CONFIGURATION}async function v(){try{return await e.instance("attributes/cluster-name"),!0}catch{return!1}}async function s(){return e.isAvailable()}return envDetect}var jwtclient={},src$1={},jws={},dataStream,hasRequiredDataStream;function requireDataStream(){if(hasRequiredDataStream)return dataStream;hasRequiredDataStream=1;var e=requireSafeBuffer().Buffer,r=require$$4$3,o=require$$4$3;function l(p){if(this.buffer=null,this.writable=!0,this.readable=!0,!p)return this.buffer=e.alloc(0),this;if(typeof p.pipe=="function")return this.buffer=e.alloc(0),p.pipe(this),this;if(p.length||typeof p=="object")return this.buffer=p,this.writable=!1,process.nextTick((function(){this.emit("end",p),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof p+")")}return o.inherits(l,r),l.prototype.write=function(f){this.buffer=e.concat([this.buffer,e.from(f)]),this.emit("data",f)},l.prototype.end=function(f){f&&this.write(f),this.emit("end",f),this.emit("close"),this.writable=!1,this.readable=!1},dataStream=l,dataStream}var bufferEqualConstantTime,hasRequiredBufferEqualConstantTime;function requireBufferEqualConstantTime(){if(hasRequiredBufferEqualConstantTime)return bufferEqualConstantTime;hasRequiredBufferEqualConstantTime=1;var e=require$$4$3.Buffer,r=require$$4$3.SlowBuffer;bufferEqualConstantTime=o;function o(f,O){if(!e.isBuffer(f)||!e.isBuffer(O)||f.length!==O.length)return!1;for(var _=0,S=0;S<f.length;S++)_|=f[S]^O[S];return _===0}o.install=function(){e.prototype.equal=r.prototype.equal=function(O){return o(this,O)}};var l=e.prototype.equal,p=r.prototype.equal;return o.restore=function(){e.prototype.equal=l,r.prototype.equal=p},bufferEqualConstantTime}var jwa,hasRequiredJwa;function requireJwa(){if(hasRequiredJwa)return jwa;hasRequiredJwa=1;var e=requireBufferEqualConstantTime(),r=requireSafeBuffer().Buffer,o=require$$4$3,l=requireEcdsaSigFormatter(),p=require$$4$3,f=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,O="secret must be a string or buffer",_="key must be a string or a buffer",S="key must be a string, a buffer or an object",v=typeof o.createPublicKey=="function";v&&(_+=" or a KeyObject",O+="or a KeyObject");function s(le){if(!r.isBuffer(le)&&typeof le!="string"&&(!v||typeof le!="object"||typeof le.type!="string"||typeof le.asymmetricKeyType!="string"||typeof le.export!="function"))throw I(_)}function d(le){if(!r.isBuffer(le)&&typeof le!="string"&&typeof le!="object")throw I(S)}function g(le){if(!r.isBuffer(le)){if(typeof le=="string")return le;if(!v||typeof le!="object"||le.type!=="secret"||typeof le.export!="function")throw I(O)}}function P(le){return le.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(le){le=le.toString();var de=4-le.length%4;if(de!==4)for(var pe=0;pe<de;++pe)le+="=";return le.replace(/\-/g,"+").replace(/_/g,"/")}function I(le){var de=[].slice.call(arguments,1),pe=p.format.bind(p,le).apply(null,de);return new TypeError(pe)}function j(le){return r.isBuffer(le)||typeof le=="string"}function L(le){return j(le)||(le=JSON.stringify(le)),le}function G(le){return function(pe,fe){g(fe),pe=L(pe);var he=o.createHmac("sha"+le,fe),ge=(he.update(pe),he.digest("base64"));return P(ge)}}function J(le){return function(pe,fe,he){var ge=G(le)(pe,he);return e(r.from(fe),r.from(ge))}}function Q(le){return function(pe,fe){d(fe),pe=L(pe);var he=o.createSign("RSA-SHA"+le),ge=(he.update(pe),he.sign(fe,"base64"));return P(ge)}}function W(le){return function(pe,fe,he){s(he),pe=L(pe),fe=R(fe);var ge=o.createVerify("RSA-SHA"+le);return ge.update(pe),ge.verify(he,fe,"base64")}}function Z(le){return function(pe,fe){d(fe),pe=L(pe);var he=o.createSign("RSA-SHA"+le),ge=(he.update(pe),he.sign({key:fe,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return P(ge)}}function te(le){return function(pe,fe,he){s(he),pe=L(pe),fe=R(fe);var ge=o.createVerify("RSA-SHA"+le);return ge.update(pe),ge.verify({key:he,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},fe,"base64")}}function ee(le){var de=Q(le);return function(){var fe=de.apply(null,arguments);return fe=l.derToJose(fe,"ES"+le),fe}}function ie(le){var de=W(le);return function(fe,he,ge){he=l.joseToDer(he,"ES"+le).toString("base64");var me=de(fe,he,ge);return me}}function oe(){return function(){return""}}function se(){return function(de,pe){return pe===""}}return jwa=function(de){var pe={hs:G,rs:Q,ps:Z,es:ee,none:oe},fe={hs:J,rs:W,ps:te,es:ie,none:se},he=de.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!he)throw I(f,de);var ge=(he[1]||he[3]).toLowerCase(),me=he[2];return{sign:pe[ge](me),verify:fe[ge](me)}},jwa}var tostring,hasRequiredTostring;function requireTostring(){if(hasRequiredTostring)return tostring;hasRequiredTostring=1;var e=require$$4$3.Buffer;return tostring=function(o){return typeof o=="string"?o:typeof o=="number"||e.isBuffer(o)?o.toString():JSON.stringify(o)},tostring}var signStream,hasRequiredSignStream;function requireSignStream(){if(hasRequiredSignStream)return signStream;hasRequiredSignStream=1;var e=requireSafeBuffer().Buffer,r=requireDataStream(),o=requireJwa(),l=require$$4$3,p=requireTostring(),f=require$$4$3;function O(s,d){return e.from(s,d).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _(s,d,g){g=g||"utf8";var P=O(p(s),"binary"),R=O(p(d),g);return f.format("%s.%s",P,R)}function S(s){var d=s.header,g=s.payload,P=s.secret||s.privateKey,R=s.encoding,I=o(d.alg),j=_(d,g,R),L=I.sign(j,P);return f.format("%s.%s",j,L)}function v(s){var d=s.secret||s.privateKey||s.key,g=new r(d);this.readable=!0,this.header=s.header,this.encoding=s.encoding,this.secret=this.privateKey=this.key=g,this.payload=new r(s.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}return f.inherits(v,l),v.prototype.sign=function(){try{var d=S({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",d),this.emit("data",d),this.emit("end"),this.readable=!1,d}catch(g){this.readable=!1,this.emit("error",g),this.emit("close")}},v.sign=S,signStream=v,signStream}var verifyStream,hasRequiredVerifyStream;function requireVerifyStream(){if(hasRequiredVerifyStream)return verifyStream;hasRequiredVerifyStream=1;var e=requireSafeBuffer().Buffer,r=requireDataStream(),o=requireJwa(),l=require$$4$3,p=requireTostring(),f=require$$4$3,O=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function _(L){return Object.prototype.toString.call(L)==="[object Object]"}function S(L){if(_(L))return L;try{return JSON.parse(L)}catch{return}}function v(L){var G=L.split(".",1)[0];return S(e.from(G,"base64").toString("binary"))}function s(L){return L.split(".",2).join(".")}function d(L){return L.split(".")[2]}function g(L,G){G=G||"utf8";var J=L.split(".")[1];return e.from(J,"base64").toString(G)}function P(L){return O.test(L)&&!!v(L)}function R(L,G,J){if(!G){var Q=new Error("Missing algorithm parameter for jws.verify");throw Q.code="MISSING_ALGORITHM",Q}L=p(L);var W=d(L),Z=s(L),te=o(G);return te.verify(Z,W,J)}function I(L,G){if(G=G||{},L=p(L),!P(L))return null;var J=v(L);if(!J)return null;var Q=g(L);return(J.typ==="JWT"||G.json)&&(Q=JSON.parse(Q,G.encoding)),{header:J,payload:Q,signature:d(L)}}function j(L){L=L||{};var G=L.secret||L.publicKey||L.key,J=new r(G);this.readable=!0,this.algorithm=L.algorithm,this.encoding=L.encoding,this.secret=this.publicKey=this.key=J,this.signature=new r(L.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}return f.inherits(j,l),j.prototype.verify=function(){try{var G=R(this.signature.buffer,this.algorithm,this.key.buffer),J=I(this.signature.buffer,this.encoding);return this.emit("done",G,J),this.emit("data",G),this.emit("end"),this.readable=!1,G}catch(Q){this.readable=!1,this.emit("error",Q),this.emit("close")}},j.decode=I,j.isValid=P,j.verify=R,verifyStream=j,verifyStream}var hasRequiredJws;function requireJws(){if(hasRequiredJws)return jws;hasRequiredJws=1;var e=requireSignStream(),r=requireVerifyStream(),o=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return jws.ALGORITHMS=o,jws.sign=e.sign,jws.verify=r.verify,jws.decode=r.decode,jws.isValid=r.isValid,jws.createSign=function(p){return new e(p)},jws.createVerify=function(p){return new r(p)},jws}var hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src$1;hasRequiredSrc$2=1;var e=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(Q,W,Z,te){if(Z==="a"&&!te)throw new TypeError("Private accessor was defined without a getter");if(typeof W=="function"?Q!==W||!te:!W.has(Q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?te:Z==="a"?te.call(Q):te?te.value:W.get(Q)},r=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(Q,W,Z,te,ee){if(te==="m")throw new TypeError("Private method is not writable");if(te==="a"&&!ee)throw new TypeError("Private accessor was defined without a setter");if(typeof W=="function"?Q!==W||!ee:!W.has(Q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return te==="a"?ee.call(Q,Z):ee?ee.value=Z:W.set(Q,Z),Z},o,l,p,f,O,_,S,v;Object.defineProperty(src$1,"__esModule",{value:!0}),src$1.GoogleToken=void 0;const s=require$$4$3,d=requireSrc$4(),g=requireJws(),P=require$$4$3,R=require$$4$3,I=s.readFile?(0,R.promisify)(s.readFile):async()=>{throw new G("use key rather than keyFile.","MISSING_CREDENTIALS")},j="https://www.googleapis.com/oauth2/v4/token",L="https://accounts.google.com/o/oauth2/revoke?token=";class G extends Error{constructor(W,Z){super(W),this.code=Z}}class J{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(W){o.add(this),this.transporter={request:Z=>(0,d.request)(Z)},l.set(this,void 0),e(this,o,"m",S).call(this,W)}hasExpired(){const W=new Date().getTime();return this.rawToken&&this.expiresAt?W>=this.expiresAt:!0}isTokenExpiring(){var W;const Z=new Date().getTime(),te=(W=this.eagerRefreshThresholdMillis)!==null&&W!==void 0?W:0;return this.rawToken&&this.expiresAt?this.expiresAt<=Z+te:!0}getToken(W,Z={}){if(typeof W=="object"&&(Z=W,W=void 0),Z=Object.assign({forceRefresh:!1},Z),W){const te=W;e(this,o,"m",p).call(this,Z).then(ee=>te(null,ee),W);return}return e(this,o,"m",p).call(this,Z)}async getCredentials(W){switch(P.extname(W)){case".json":{const te=await I(W,"utf8"),ee=JSON.parse(te),ie=ee.private_key,oe=ee.client_email;if(!ie||!oe)throw new G("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:ie,clientEmail:oe}}case".der":case".crt":case".pem":return{privateKey:await I(W,"utf8")};case".p12":case".pfx":throw new G("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");default:throw new G("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE")}}revokeToken(W){if(W){e(this,o,"m",_).call(this).then(()=>W(),W);return}return e(this,o,"m",_).call(this)}}return src$1.GoogleToken=J,l=new WeakMap,o=new WeakSet,p=async function(W){if(e(this,l,"f")&&!W.forceRefresh)return e(this,l,"f");try{return await r(this,l,e(this,o,"m",f).call(this,W),"f")}finally{r(this,l,void 0,"f")}},f=async function(W){if(this.isTokenExpiring()===!1&&W.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const Z=await this.getCredentials(this.keyFile);this.key=Z.privateKey,this.iss=Z.clientEmail||this.iss,Z.clientEmail||e(this,o,"m",O).call(this)}return e(this,o,"m",v).call(this)},O=function(){if(!this.iss)throw new G("email is required.","MISSING_CREDENTIALS")},_=async function(){if(!this.accessToken)throw new Error("No token to revoke.");const W=L+this.accessToken;await this.transporter.request({url:W,retry:!0}),e(this,o,"m",S).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})},S=function(W={}){this.keyFile=W.keyFile,this.key=W.key,this.rawToken=void 0,this.iss=W.email||W.iss,this.sub=W.sub,this.additionalClaims=W.additionalClaims,typeof W.scope=="object"?this.scope=W.scope.join(" "):this.scope=W.scope,this.eagerRefreshThresholdMillis=W.eagerRefreshThresholdMillis,W.transporter&&(this.transporter=W.transporter)},v=async function(){var W,Z;const te=Math.floor(new Date().getTime()/1e3),ee=this.additionalClaims||{},ie=Object.assign({iss:this.iss,scope:this.scope,aud:j,exp:te+3600,iat:te,sub:this.sub},ee),oe=g.sign({header:{alg:"RS256"},payload:ie,secret:this.key});try{const se=await this.transporter.request({method:"POST",url:j,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:oe},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});return this.rawToken=se.data,this.expiresAt=se.data.expires_in===null||se.data.expires_in===void 0?void 0:(te+se.data.expires_in)*1e3,this.rawToken}catch(se){this.rawToken=void 0,this.tokenExpires=void 0;const le=se.response&&(!((W=se.response)===null||W===void 0)&&W.data)?(Z=se.response)===null||Z===void 0?void 0:Z.data:{};if(le.error){const de=le.error_description?`: ${le.error_description}`:"";se.message=`${le.error}${de}`}throw se}},src$1}var jwtaccess={},hasRequiredJwtaccess;function requireJwtaccess(){if(hasRequiredJwtaccess)return jwtaccess;hasRequiredJwtaccess=1,Object.defineProperty(jwtaccess,"__esModule",{value:!0}),jwtaccess.JWTAccess=void 0;const e=requireJws(),r=requireUtil$1(),o={alg:"RS256",typ:"JWT"};class l{constructor(f,O,_,S){this.cache=new r.LRUCache({capacity:500,maxAge:60*60*1e3}),this.email=f,this.key=O,this.keyId=_,this.eagerRefreshThresholdMillis=S??5*60*1e3}getCachedKey(f,O){let _=f;if(O&&Array.isArray(O)&&O.length?_=f?`${f}_${O.join("_")}`:`${O.join("_")}`:typeof O=="string"&&(_=f?`${f}_${O}`:O),!_)throw Error("Scopes or url must be provided");return _}getRequestHeaders(f,O,_){const S=this.getCachedKey(f,_),v=this.cache.get(S),s=Date.now();if(v&&v.expiration-s>this.eagerRefreshThresholdMillis)return v.headers;const d=Math.floor(Date.now()/1e3),g=l.getExpirationTime(d);let P;if(Array.isArray(_)&&(_=_.join(" ")),_?P={iss:this.email,sub:this.email,scope:_,exp:g,iat:d}:P={iss:this.email,sub:this.email,aud:f,exp:g,iat:d},O){for(const G in P)if(O[G])throw new Error(`The '${G}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}const R=this.keyId?{...o,kid:this.keyId}:o,I=Object.assign(P,O),L={Authorization:`Bearer ${e.sign({header:R,payload:I,secret:this.key})}`};return this.cache.set(S,{expiration:g*1e3,headers:L}),L}static getExpirationTime(f){return f+3600}fromJSON(f){if(!f)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!f.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!f.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=f.client_email,this.key=f.private_key,this.keyId=f.private_key_id,this.projectId=f.project_id}fromStream(f,O){if(O)this.fromStreamAsync(f).then(()=>O(),O);else return this.fromStreamAsync(f)}fromStreamAsync(f){return new Promise((O,_)=>{f||_(new Error("Must pass in a stream containing the service account auth settings."));let S="";f.setEncoding("utf8").on("data",v=>S+=v).on("error",_).on("end",()=>{try{const v=JSON.parse(S);this.fromJSON(v),O()}catch(v){_(v)}})})}}return jwtaccess.JWTAccess=l,jwtaccess}var hasRequiredJwtclient;function requireJwtclient(){if(hasRequiredJwtclient)return jwtclient;hasRequiredJwtclient=1,Object.defineProperty(jwtclient,"__esModule",{value:!0}),jwtclient.JWT=void 0;const e=requireSrc$2(),r=requireJwtaccess(),o=requireOauth2client(),l=requireAuthclient();class p extends o.OAuth2Client{constructor(O,_,S,v,s,d){const g=O&&typeof O=="object"?O:{email:O,keyFile:_,key:S,keyId:d,scopes:v,subject:s};super(g),this.email=g.email,this.keyFile=g.keyFile,this.key=g.key,this.keyId=g.keyId,this.scopes=g.scopes,this.subject=g.subject,this.additionalClaims=g.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(O){const _=new p(this);return _.scopes=O,_}async getRequestMetadataAsync(O){O=this.defaultServicePath?`https://${this.defaultServicePath}/`:O;const _=!this.hasUserScopes()&&O||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==l.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==l.DEFAULT_UNIVERSE)throw new RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${l.DEFAULT_UNIVERSE}`);if(!this.apiKey&&_)if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:S}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${S.id_token}`})}}else{this.access||(this.access=new r.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let S;this.hasUserScopes()?S=this.scopes:O||(S=this.defaultScopes);const v=this.useJWTAccessWithScope||this.universeDomain!==l.DEFAULT_UNIVERSE,s=await this.access.getRequestHeaders(O??void 0,this.additionalClaims,v?S:void 0);return{headers:this.addSharedMetadataHeaders(s)}}else return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(O):{headers:{}}}async fetchIdToken(O){const _=new e.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:O},transporter:this.transporter});if(await _.getToken({forceRefresh:!0}),!_.idToken)throw new Error("Unknown error: Failed to fetch ID token");return _.idToken}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(O){if(O)this.authorizeAsync().then(_=>O(null,_),O);else return this.authorizeAsync()}async authorizeAsync(){const O=await this.refreshToken();if(!O)throw new Error("No result returned");return this.credentials=O.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,O.tokens}async refreshTokenNoCache(O){const _=this.createGToken(),v={access_token:(await _.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:_.expiresAt,id_token:_.idToken};return this.emit("tokens",v),{res:null,tokens:v}}createGToken(){return this.gtoken||(this.gtoken=new e.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(O){if(!O)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!O.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!O.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=O.client_email,this.key=O.private_key,this.keyId=O.private_key_id,this.projectId=O.project_id,this.quotaProjectId=O.quota_project_id,this.universeDomain=O.universe_domain||this.universeDomain}fromStream(O,_){if(_)this.fromStreamAsync(O).then(()=>_(),_);else return this.fromStreamAsync(O)}fromStreamAsync(O){return new Promise((_,S)=>{if(!O)throw new Error("Must pass in a stream containing the service account auth settings.");let v="";O.setEncoding("utf8").on("error",S).on("data",s=>v+=s).on("end",()=>{try{const s=JSON.parse(v);this.fromJSON(s),_()}catch(s){S(s)}})})}fromAPIKey(O){if(typeof O!="string")throw new Error("Must provide an API Key string.");this.apiKey=O}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const _=await this.createGToken().getCredentials(this.keyFile);return{private_key:_.privateKey,client_email:_.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}return jwtclient.JWT=p,jwtclient}var refreshclient={},hasRequiredRefreshclient;function requireRefreshclient(){if(hasRequiredRefreshclient)return refreshclient;hasRequiredRefreshclient=1,Object.defineProperty(refreshclient,"__esModule",{value:!0}),refreshclient.UserRefreshClient=refreshclient.USER_REFRESH_ACCOUNT_TYPE=void 0;const e=requireOauth2client(),r=require$$4$3;refreshclient.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class o extends e.OAuth2Client{constructor(p,f,O,_,S){const v=p&&typeof p=="object"?p:{clientId:p,clientSecret:f,refreshToken:O,eagerRefreshThresholdMillis:_,forceRefreshOnFailure:S};super(v),this._refreshToken=v.refreshToken,this.credentials.refresh_token=v.refreshToken}async refreshTokenNoCache(p){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(p){return(await this.transporter.request({...o.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:(0,r.stringify)({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:p})})).data.id_token}fromJSON(p){if(!p)throw new Error("Must pass in a JSON object containing the user refresh token");if(p.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!p.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!p.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!p.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=p.client_id,this._clientSecret=p.client_secret,this._refreshToken=p.refresh_token,this.credentials.refresh_token=p.refresh_token,this.quotaProjectId=p.quota_project_id,this.universeDomain=p.universe_domain||this.universeDomain}fromStream(p,f){if(f)this.fromStreamAsync(p).then(()=>f(),f);else return this.fromStreamAsync(p)}async fromStreamAsync(p){return new Promise((f,O)=>{if(!p)return O(new Error("Must pass in a stream containing the user refresh token."));let _="";p.setEncoding("utf8").on("error",O).on("data",S=>_+=S).on("end",()=>{try{const S=JSON.parse(_);return this.fromJSON(S),f()}catch(S){return O(S)}})})}}return refreshclient.UserRefreshClient=o,refreshclient}var impersonated={},hasRequiredImpersonated;function requireImpersonated(){if(hasRequiredImpersonated)return impersonated;hasRequiredImpersonated=1,Object.defineProperty(impersonated,"__esModule",{value:!0}),impersonated.Impersonated=impersonated.IMPERSONATED_ACCOUNT_TYPE=void 0;const e=requireOauth2client(),r=requireSrc$4();impersonated.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class o extends e.OAuth2Client{constructor(p={}){var f,O,_,S,v,s;super(p),this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=(f=p.sourceClient)!==null&&f!==void 0?f:new e.OAuth2Client,this.targetPrincipal=(O=p.targetPrincipal)!==null&&O!==void 0?O:"",this.delegates=(_=p.delegates)!==null&&_!==void 0?_:[],this.targetScopes=(S=p.targetScopes)!==null&&S!==void 0?S:[],this.lifetime=(v=p.lifetime)!==null&&v!==void 0?v:3600,this.endpoint=(s=p.endpoint)!==null&&s!==void 0?s:"https://iamcredentials.googleapis.com"}async sign(p){await this.sourceClient.getAccessToken();const f=`projects/-/serviceAccounts/${this.targetPrincipal}`,O=`${this.endpoint}/v1/${f}:signBlob`,_={delegates:this.delegates,payload:Buffer.from(p).toString("base64")};return(await this.sourceClient.request({...o.RETRY_CONFIG,url:O,data:_,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){var p,f,O,_,S,v;try{await this.sourceClient.getAccessToken();const s="projects/-/serviceAccounts/"+this.targetPrincipal,d=`${this.endpoint}/v1/${s}:generateAccessToken`,g={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},P=await this.sourceClient.request({...o.RETRY_CONFIG,url:d,data:g,method:"POST"}),R=P.data;return this.credentials.access_token=R.accessToken,this.credentials.expiry_date=Date.parse(R.expireTime),{tokens:this.credentials,res:P}}catch(s){if(!(s instanceof Error))throw s;let d=0,g="";throw s instanceof r.GaxiosError&&(d=(O=(f=(p=s==null?void 0:s.response)===null||p===void 0?void 0:p.data)===null||f===void 0?void 0:f.error)===null||O===void 0?void 0:O.status,g=(v=(S=(_=s==null?void 0:s.response)===null||_===void 0?void 0:_.data)===null||S===void 0?void 0:S.error)===null||v===void 0?void 0:v.message),d&&g?(s.message=`${d}: unable to impersonate: ${g}`,s):(s.message=`unable to impersonate: ${s}`,s)}}async fetchIdToken(p,f){var O;await this.sourceClient.getAccessToken();const _=`projects/-/serviceAccounts/${this.targetPrincipal}`,S=`${this.endpoint}/v1/${_}:generateIdToken`,v={delegates:this.delegates,audience:p,includeEmail:(O=f==null?void 0:f.includeEmail)!==null&&O!==void 0?O:!0};return(await this.sourceClient.request({...o.RETRY_CONFIG,url:S,data:v,method:"POST"})).data.token}}return impersonated.Impersonated=o,impersonated}var externalclient={},baseexternalclient={},stscredentials={},oauth2common={},hasRequiredOauth2common;function requireOauth2common(){if(hasRequiredOauth2common)return oauth2common;hasRequiredOauth2common=1,Object.defineProperty(oauth2common,"__esModule",{value:!0}),oauth2common.getErrorFromOAuthErrorResponse=oauth2common.OAuthClientAuthHandler=void 0;const e=require$$4$3,r=requireCrypto(),o=["PUT","POST","PATCH"];class l{constructor(O){this.clientAuthentication=O,this.crypto=(0,r.createCrypto)()}applyClientAuthenticationOptions(O,_){this.injectAuthenticatedHeaders(O,_),_||this.injectAuthenticatedRequestBody(O)}injectAuthenticatedHeaders(O,_){var S;if(_)O.headers=O.headers||{},Object.assign(O.headers,{Authorization:`Bearer ${_}}`});else if(((S=this.clientAuthentication)===null||S===void 0?void 0:S.confidentialClientType)==="basic"){O.headers=O.headers||{};const v=this.clientAuthentication.clientId,s=this.clientAuthentication.clientSecret||"",d=this.crypto.encodeBase64StringUtf8(`${v}:${s}`);Object.assign(O.headers,{Authorization:`Basic ${d}`})}}injectAuthenticatedRequestBody(O){var _;if(((_=this.clientAuthentication)===null||_===void 0?void 0:_.confidentialClientType)==="request-body"){const S=(O.method||"GET").toUpperCase();if(o.indexOf(S)!==-1){let v;const s=O.headers||{};for(const d in s)if(d.toLowerCase()==="content-type"&&s[d]){v=s[d].toLowerCase();break}if(v==="application/x-www-form-urlencoded"){O.data=O.data||"";const d=e.parse(O.data);Object.assign(d,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),O.data=e.stringify(d)}else if(v==="application/json")O.data=O.data||{},Object.assign(O.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw new Error(`${v} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw new Error(`${S} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}oauth2common.OAuthClientAuthHandler=l;function p(f,O){const _=f.error,S=f.error_description,v=f.error_uri;let s=`Error code ${_}`;typeof S<"u"&&(s+=`: ${S}`),typeof v<"u"&&(s+=` - ${v}`);const d=new Error(s);if(O){const g=Object.keys(O);O.stack&&g.push("stack"),g.forEach(P=>{P!=="message"&&Object.defineProperty(d,P,{value:O[P],writable:!1,enumerable:!0})})}return d}return oauth2common.getErrorFromOAuthErrorResponse=p,oauth2common}var hasRequiredStscredentials;function requireStscredentials(){if(hasRequiredStscredentials)return stscredentials;hasRequiredStscredentials=1,Object.defineProperty(stscredentials,"__esModule",{value:!0}),stscredentials.StsCredentials=void 0;const e=requireSrc$4(),r=require$$4$3,o=requireTransporters(),l=requireOauth2common();class p extends l.OAuthClientAuthHandler{constructor(O,_){super(_),this.tokenExchangeEndpoint=O,this.transporter=new o.DefaultTransporter}async exchangeToken(O,_,S){var v,s,d;const g={grant_type:O.grantType,resource:O.resource,audience:O.audience,scope:(v=O.scope)===null||v===void 0?void 0:v.join(" "),requested_token_type:O.requestedTokenType,subject_token:O.subjectToken,subject_token_type:O.subjectTokenType,actor_token:(s=O.actingParty)===null||s===void 0?void 0:s.actorToken,actor_token_type:(d=O.actingParty)===null||d===void 0?void 0:d.actorTokenType,options:S&&JSON.stringify(S)};Object.keys(g).forEach(I=>{typeof g[I]>"u"&&delete g[I]});const P={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(P,_||{});const R={...p.RETRY_CONFIG,url:this.tokenExchangeEndpoint.toString(),method:"POST",headers:P,data:r.stringify(g),responseType:"json"};this.applyClientAuthenticationOptions(R);try{const I=await this.transporter.request(R),j=I.data;return j.res=I,j}catch(I){throw I instanceof e.GaxiosError&&I.response?(0,l.getErrorFromOAuthErrorResponse)(I.response.data,I):I}}}return stscredentials.StsCredentials=p,stscredentials}var hasRequiredBaseexternalclient;function requireBaseexternalclient(){return hasRequiredBaseexternalclient||(hasRequiredBaseexternalclient=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExternalAccountClient=e.DEFAULT_UNIVERSE=e.CLOUD_RESOURCE_MANAGER=e.EXTERNAL_ACCOUNT_TYPE=e.EXPIRATION_TIME_OFFSET=void 0;const r=require$$4$3,o=requireAuthclient(),l=requireStscredentials(),p=requireUtil$1(),f="urn:ietf:params:oauth:grant-type:token-exchange",O="urn:ietf:params:oauth:token-type:access_token",_="https://www.googleapis.com/auth/cloud-platform",S=3600;e.EXPIRATION_TIME_OFFSET=5*60*1e3,e.EXTERNAL_ACCOUNT_TYPE="external_account",e.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";const v="//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",s="https://sts.{universeDomain}/v1/token",d=require$$4$2;var g=requireAuthclient();Object.defineProperty(e,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return g.DEFAULT_UNIVERSE}});class P extends o.AuthClient{constructor(I,j){var L;super({...I,...j});const G=(0,p.originalOrCamelOptions)(I),J=G.get("type");if(J&&J!==e.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${e.EXTERNAL_ACCOUNT_TYPE}" type but received "${I.type}"`);const Q=G.get("client_id"),W=G.get("client_secret"),Z=(L=G.get("token_url"))!==null&&L!==void 0?L:s.replace("{universeDomain}",this.universeDomain),te=G.get("subject_token_type"),ee=G.get("workforce_pool_user_project"),ie=G.get("service_account_impersonation_url"),oe=G.get("service_account_impersonation"),se=(0,p.originalOrCamelOptions)(oe).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(G.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),Q&&(this.clientAuth={confidentialClientType:"basic",clientId:Q,clientSecret:W}),this.stsCredential=new l.StsCredentials(Z,this.clientAuth),this.scopes=G.get("scopes")||[_],this.cachedAccessToken=null,this.audience=G.get("audience"),this.subjectTokenType=te,this.workforcePoolUserProject=ee;const le=new RegExp(v);if(this.workforcePoolUserProject&&!this.audience.match(le))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=ie,this.serviceAccountImpersonationLifetime=se,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=S),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){var I;if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw new RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);const L=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return((I=L==null?void 0:L.groups)===null||I===void 0?void 0:I.email)||null}return null}setCredentials(I){super.setCredentials(I),this.cachedAccessToken=I}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const j={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(j)}request(I,j){if(j)this.requestAsync(I).then(L=>j(null,L),L=>j(L,L.response));else return this.requestAsync(I)}async getProjectId(){const I=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(I){const j=await this.getRequestHeaders(),L=await this.transporter.request({...P.RETRY_CONFIG,headers:j,url:`${this.cloudResourceManagerURL.toString()}${I}`,responseType:"json"});return this.projectId=L.data.projectId,this.projectId}return null}async requestAsync(I,j=!1){let L;try{const G=await this.getRequestHeaders();I.headers=I.headers||{},G&&G["x-goog-user-project"]&&(I.headers["x-goog-user-project"]=G["x-goog-user-project"]),G&&G.Authorization&&(I.headers.Authorization=G.Authorization),L=await this.transporter.request(I)}catch(G){const J=G.response;if(J){const Q=J.status,W=J.config.data instanceof r.Readable;if(!j&&(Q===401||Q===403)&&!W&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(I,!0)}throw G}return L}async refreshAccessTokenAsync(){const I=await this.retrieveSubjectToken(),j={grantType:f,audience:this.audience,requestedTokenType:O,subjectToken:I,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[_]:this.getScopesArray()},L=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,G={"x-goog-api-client":this.getMetricsHeaderValue()},J=await this.stsCredential.exchangeToken(j,G,L);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(J.access_token):J.expires_in?this.cachedAccessToken={access_token:J.access_token,expiry_date:new Date().getTime()+J.expires_in*1e3,res:J.res}:this.cachedAccessToken={access_token:J.access_token,res:J.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}getProjectNumber(I){const j=I.match(/\/projects\/([^/]+)/);return j?j[1]:null}async getImpersonatedAccessToken(I){const j={...P.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"},responseType:"json"},L=await this.transporter.request(j),G=L.data;return{access_token:G.accessToken,expiry_date:new Date(G.expireTime).getTime(),res:L}}isExpired(I){const j=new Date().getTime();return I.expiry_date?j>=I.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:this.scopes||[_]}getMetricsHeaderValue(){const I=process.version.replace(/^v/,""),j=this.serviceAccountImpersonationUrl!==void 0,L=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${I} auth/${d.version} google-byoid-sdk source/${L} sa-impersonation/${j} config-lifetime/${this.configLifetimeRequested}`}}e.BaseExternalAccountClient=P}(baseexternalclient)),baseexternalclient}var identitypoolclient={},filesubjecttokensupplier={},hasRequiredFilesubjecttokensupplier;function requireFilesubjecttokensupplier(){if(hasRequiredFilesubjecttokensupplier)return filesubjecttokensupplier;hasRequiredFilesubjecttokensupplier=1;var e,r,o;Object.defineProperty(filesubjecttokensupplier,"__esModule",{value:!0}),filesubjecttokensupplier.FileSubjectTokenSupplier=void 0;const l=require$$4$3,p=require$$4$3,f=(0,l.promisify)((e=p.readFile)!==null&&e!==void 0?e:()=>{}),O=(0,l.promisify)((r=p.realpath)!==null&&r!==void 0?r:()=>{}),_=(0,l.promisify)((o=p.lstat)!==null&&o!==void 0?o:()=>{});class S{constructor(s){this.filePath=s.filePath,this.formatType=s.formatType,this.subjectTokenFieldName=s.subjectTokenFieldName}async getSubjectToken(s){let d=this.filePath;try{if(d=await O(d),!(await _(d)).isFile())throw new Error}catch(R){throw R instanceof Error&&(R.message=`The file at ${d} does not exist, or it is not a file. ${R.message}`),R}let g;const P=await f(d,{encoding:"utf8"});if(this.formatType==="text"?g=P:this.formatType==="json"&&this.subjectTokenFieldName&&(g=JSON.parse(P)[this.subjectTokenFieldName]),!g)throw new Error("Unable to parse the subject_token from the credential_source file");return g}}return filesubjecttokensupplier.FileSubjectTokenSupplier=S,filesubjecttokensupplier}var urlsubjecttokensupplier={},hasRequiredUrlsubjecttokensupplier;function requireUrlsubjecttokensupplier(){if(hasRequiredUrlsubjecttokensupplier)return urlsubjecttokensupplier;hasRequiredUrlsubjecttokensupplier=1,Object.defineProperty(urlsubjecttokensupplier,"__esModule",{value:!0}),urlsubjecttokensupplier.UrlSubjectTokenSupplier=void 0;class e{constructor(o){this.url=o.url,this.formatType=o.formatType,this.subjectTokenFieldName=o.subjectTokenFieldName,this.headers=o.headers,this.additionalGaxiosOptions=o.additionalGaxiosOptions}async getSubjectToken(o){const l={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers,responseType:this.formatType};let p;if(this.formatType==="text"?p=(await o.transporter.request(l)).data:this.formatType==="json"&&this.subjectTokenFieldName&&(p=(await o.transporter.request(l)).data[this.subjectTokenFieldName]),!p)throw new Error("Unable to parse the subject_token from the credential_source URL");return p}}return urlsubjecttokensupplier.UrlSubjectTokenSupplier=e,urlsubjecttokensupplier}var hasRequiredIdentitypoolclient;function requireIdentitypoolclient(){if(hasRequiredIdentitypoolclient)return identitypoolclient;hasRequiredIdentitypoolclient=1,Object.defineProperty(identitypoolclient,"__esModule",{value:!0}),identitypoolclient.IdentityPoolClient=void 0;const e=requireBaseexternalclient(),r=requireUtil$1(),o=requireFilesubjecttokensupplier(),l=requireUrlsubjecttokensupplier();class p extends e.BaseExternalAccountClient{constructor(O,_){super(O,_);const S=(0,r.originalOrCamelOptions)(O),v=S.get("credential_source"),s=S.get("subject_token_supplier");if(!v&&!s)throw new Error("A credential source or subject token supplier must be specified.");if(v&&s)throw new Error("Only one of credential source or subject token supplier can be specified.");if(s)this.subjectTokenSupplier=s,this.credentialSourceType="programmatic";else{const d=(0,r.originalOrCamelOptions)(v),g=(0,r.originalOrCamelOptions)(d.get("format")),P=g.get("type")||"text",R=g.get("subject_token_field_name");if(P!=="json"&&P!=="text")throw new Error(`Invalid credential_source format "${P}"`);if(P==="json"&&!R)throw new Error("Missing subject_token_field_name for JSON credential_source format");const I=d.get("file"),j=d.get("url"),L=d.get("headers");if(I&&j)throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.');if(I&&!j)this.credentialSourceType="file",this.subjectTokenSupplier=new o.FileSubjectTokenSupplier({filePath:I,formatType:P,subjectTokenFieldName:R});else if(!I&&j)this.credentialSourceType="url",this.subjectTokenSupplier=new l.UrlSubjectTokenSupplier({url:j,formatType:P,subjectTokenFieldName:R,headers:L,additionalGaxiosOptions:p.RETRY_CONFIG});else throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.')}}async retrieveSubjectToken(){return this.subjectTokenSupplier.getSubjectToken(this.supplierContext)}}return identitypoolclient.IdentityPoolClient=p,identitypoolclient}var awsclient={},awsrequestsigner={},hasRequiredAwsrequestsigner;function requireAwsrequestsigner(){if(hasRequiredAwsrequestsigner)return awsrequestsigner;hasRequiredAwsrequestsigner=1,Object.defineProperty(awsrequestsigner,"__esModule",{value:!0}),awsrequestsigner.AwsRequestSigner=void 0;const e=requireCrypto(),r="AWS4-HMAC-SHA256",o="aws4_request";class l{constructor(S,v){this.getCredentials=S,this.region=v,this.crypto=(0,e.createCrypto)()}async getRequestOptions(S){if(!S.url)throw new Error('"url" is required in "amzOptions"');const v=typeof S.data=="object"?JSON.stringify(S.data):S.data,s=S.url,d=S.method||"GET",g=S.body||v,P=S.headers,R=await this.getCredentials(),I=new URL(s),j=await O({crypto:this.crypto,host:I.host,canonicalUri:I.pathname,canonicalQuerystring:I.search.substr(1),method:d,region:this.region,securityCredentials:R,requestPayload:g,additionalAmzHeaders:P}),L=Object.assign(j.amzDate?{"x-amz-date":j.amzDate}:{},{Authorization:j.authorizationHeader,host:I.host},P||{});R.token&&Object.assign(L,{"x-amz-security-token":R.token});const G={url:s,method:d,headers:L};return typeof g<"u"&&(G.body=g),G}}awsrequestsigner.AwsRequestSigner=l;async function p(_,S,v){return await _.signWithHmacSha256(S,v)}async function f(_,S,v,s,d){const g=await p(_,`AWS4${S}`,v),P=await p(_,g,s),R=await p(_,P,d);return await p(_,R,"aws4_request")}async function O(_){const S=_.additionalAmzHeaders||{},v=_.requestPayload||"",s=_.host.split(".")[0],d=new Date,g=d.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),P=d.toISOString().replace(/[-]/g,"").replace(/T.*/,""),R={};Object.keys(S).forEach(oe=>{R[oe.toLowerCase()]=S[oe]}),_.securityCredentials.token&&(R["x-amz-security-token"]=_.securityCredentials.token);const I=Object.assign({host:_.host},R.date?{}:{"x-amz-date":g},R);let j="";const L=Object.keys(I).sort();L.forEach(oe=>{j+=`${oe}:${I[oe]}
`});const G=L.join(";"),J=await _.crypto.sha256DigestHex(v),Q=`${_.method}
${_.canonicalUri}
${_.canonicalQuerystring}
${j}
${G}
${J}`,W=`${P}/${_.region}/${s}/${o}`,Z=`${r}
${g}
${W}
`+await _.crypto.sha256DigestHex(Q),te=await f(_.crypto,_.securityCredentials.secretAccessKey,P,_.region,s),ee=await p(_.crypto,te,Z),ie=`${r} Credential=${_.securityCredentials.accessKeyId}/${W}, SignedHeaders=${G}, Signature=${(0,e.fromArrayBufferToHex)(ee)}`;return{amzDate:R.date?void 0:g,authorizationHeader:ie,canonicalQuerystring:_.canonicalQuerystring}}return awsrequestsigner}var defaultawssecuritycredentialssupplier={},hasRequiredDefaultawssecuritycredentialssupplier;function requireDefaultawssecuritycredentialssupplier(){if(hasRequiredDefaultawssecuritycredentialssupplier)return defaultawssecuritycredentialssupplier;hasRequiredDefaultawssecuritycredentialssupplier=1;var e=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(S,v,s,d){if(s==="a"&&!d)throw new TypeError("Private accessor was defined without a getter");if(typeof v=="function"?S!==v||!d:!v.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?d:s==="a"?d.call(S):d?d.value:v.get(S)},r,o,l,p,f,O;Object.defineProperty(defaultawssecuritycredentialssupplier,"__esModule",{value:!0}),defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=void 0;class _{constructor(v){r.add(this),this.regionUrl=v.regionUrl,this.securityCredentialsUrl=v.securityCredentialsUrl,this.imdsV2SessionTokenUrl=v.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=v.additionalGaxiosOptions}async getAwsRegion(v){if(e(this,r,"a",f))return e(this,r,"a",f);const s={};if(!e(this,r,"a",f)&&this.imdsV2SessionTokenUrl&&(s["x-aws-ec2-metadata-token"]=await e(this,r,"m",o).call(this,v.transporter)),!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');const d={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",responseType:"text",headers:s},g=await v.transporter.request(d);return g.data.substr(0,g.data.length-1)}async getAwsSecurityCredentials(v){if(e(this,r,"a",O))return e(this,r,"a",O);const s={};this.imdsV2SessionTokenUrl&&(s["x-aws-ec2-metadata-token"]=await e(this,r,"m",o).call(this,v.transporter));const d=await e(this,r,"m",l).call(this,s,v.transporter),g=await e(this,r,"m",p).call(this,d,s,v.transporter);return{accessKeyId:g.AccessKeyId,secretAccessKey:g.SecretAccessKey,token:g.Token}}}return defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=_,r=new WeakSet,o=async function(v){const s={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(await v.request(s)).data},l=async function(v,s){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');const d={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:v};return(await s.request(d)).data},p=async function(v,s,d){return(await d.request({...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${v}`,responseType:"json",headers:s})).data},f=function(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||null},O=function(){return process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY?{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN}:null},defaultawssecuritycredentialssupplier}var hasRequiredAwsclient;function requireAwsclient(){if(hasRequiredAwsclient)return awsclient;hasRequiredAwsclient=1;var e=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(S,v,s,d){if(s==="a"&&!d)throw new TypeError("Private accessor was defined without a getter");if(typeof v=="function"?S!==v||!d:!v.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?d:s==="a"?d.call(S):d?d.value:v.get(S)},r,o;Object.defineProperty(awsclient,"__esModule",{value:!0}),awsclient.AwsClient=void 0;const l=requireAwsrequestsigner(),p=requireBaseexternalclient(),f=requireDefaultawssecuritycredentialssupplier(),O=requireUtil$1();class _ extends p.BaseExternalAccountClient{constructor(v,s){super(v,s);const d=(0,O.originalOrCamelOptions)(v),g=d.get("credential_source"),P=d.get("aws_security_credentials_supplier");if(!g&&!P)throw new Error("A credential source or AWS security credentials supplier must be specified.");if(g&&P)throw new Error("Only one of credential source or AWS security credentials supplier can be specified.");if(P)this.awsSecurityCredentialsSupplier=P,this.regionalCredVerificationUrl=e(r,r,"f",o),this.credentialSourceType="programmatic";else{const R=(0,O.originalOrCamelOptions)(g);this.environmentId=R.get("environment_id");const I=R.get("region_url"),j=R.get("url"),L=R.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new f.DefaultAwsSecurityCredentialsSupplier({regionUrl:I,securityCredentialsUrl:j,imdsV2SessionTokenUrl:L}),this.regionalCredVerificationUrl=R.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){var v;const s=(v=this.environmentId)===null||v===void 0?void 0:v.match(/^(aws)(\d+)$/);if(!s||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(s[2],10)!==1)throw new Error(`aws version "${s[2]}" is not supported in the current build.`)}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new l.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));const v=await this.awsRequestSigner.getRequestOptions({...r.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),s=[],d=Object.assign({"x-goog-cloud-target-resource":this.audience},v.headers);for(const g in d)s.push({key:g,value:d[g]});return encodeURIComponent(JSON.stringify({url:v.url,method:v.method,headers:s}))}}return awsclient.AwsClient=_,r=_,o={value:"https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15"},_.AWS_EC2_METADATA_IPV4_ADDRESS="169.254.169.254",_.AWS_EC2_METADATA_IPV6_ADDRESS="fd00:ec2::254",awsclient}var pluggableAuthClient={},executableResponse={},hasRequiredExecutableResponse;function requireExecutableResponse(){if(hasRequiredExecutableResponse)return executableResponse;hasRequiredExecutableResponse=1,Object.defineProperty(executableResponse,"__esModule",{value:!0}),executableResponse.InvalidSubjectTokenError=executableResponse.InvalidMessageFieldError=executableResponse.InvalidCodeFieldError=executableResponse.InvalidTokenTypeFieldError=executableResponse.InvalidExpirationTimeFieldError=executableResponse.InvalidSuccessFieldError=executableResponse.InvalidVersionFieldError=executableResponse.ExecutableResponseError=executableResponse.ExecutableResponse=void 0;const e="urn:ietf:params:oauth:token-type:saml2",r="urn:ietf:params:oauth:token-type:id_token",o="urn:ietf:params:oauth:token-type:jwt";class l{constructor(P){if(!P.version)throw new f("Executable response must contain a 'version' field.");if(P.success===void 0)throw new O("Executable response must contain a 'success' field.");if(this.version=P.version,this.success=P.success,this.success){if(this.expirationTime=P.expiration_time,this.tokenType=P.token_type,this.tokenType!==e&&this.tokenType!==r&&this.tokenType!==o)throw new S(`Executable response must contain a 'token_type' field when successful and it must be one of ${r}, ${o}, or ${e}.`);if(this.tokenType===e){if(!P.saml_response)throw new d(`Executable response must contain a 'saml_response' field when token_type=${e}.`);this.subjectToken=P.saml_response}else{if(!P.id_token)throw new d(`Executable response must contain a 'id_token' field when token_type=${r} or ${o}.`);this.subjectToken=P.id_token}}else{if(!P.code)throw new v("Executable response must contain a 'code' field when unsuccessful.");if(!P.message)throw new s("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=P.code,this.errorMessage=P.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return this.expirationTime!==void 0&&this.expirationTime<Math.round(Date.now()/1e3)}}executableResponse.ExecutableResponse=l;class p extends Error{constructor(P){super(P),Object.setPrototypeOf(this,new.target.prototype)}}executableResponse.ExecutableResponseError=p;class f extends p{}executableResponse.InvalidVersionFieldError=f;class O extends p{}executableResponse.InvalidSuccessFieldError=O;class _ extends p{}executableResponse.InvalidExpirationTimeFieldError=_;class S extends p{}executableResponse.InvalidTokenTypeFieldError=S;class v extends p{}executableResponse.InvalidCodeFieldError=v;class s extends p{}executableResponse.InvalidMessageFieldError=s;class d extends p{}return executableResponse.InvalidSubjectTokenError=d,executableResponse}var pluggableAuthHandler={},hasRequiredPluggableAuthHandler;function requirePluggableAuthHandler(){if(hasRequiredPluggableAuthHandler)return pluggableAuthHandler;hasRequiredPluggableAuthHandler=1,Object.defineProperty(pluggableAuthHandler,"__esModule",{value:!0}),pluggableAuthHandler.PluggableAuthHandler=void 0;const e=requirePluggableAuthClient(),r=requireExecutableResponse(),o=require$$4$3,l=require$$4$3;class p{constructor(O){if(!O.command)throw new Error("No command provided.");if(this.commandComponents=p.parseCommand(O.command),this.timeoutMillis=O.timeoutMillis,!this.timeoutMillis)throw new Error("No timeoutMillis provided.");this.outputFile=O.outputFile}retrieveResponseFromExecutable(O){return new Promise((_,S)=>{const v=o.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...process.env,...Object.fromEntries(O)}});let s="";v.stdout.on("data",g=>{s+=g}),v.stderr.on("data",g=>{s+=g});const d=setTimeout(()=>(v.removeAllListeners(),v.kill(),S(new Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);v.on("close",g=>{if(clearTimeout(d),g===0)try{const P=JSON.parse(s),R=new r.ExecutableResponse(P);return _(R)}catch(P){return P instanceof r.ExecutableResponseError?S(P):S(new r.ExecutableResponseError(`The executable returned an invalid response: ${s}`))}else return S(new e.ExecutableError(s,g.toString()))})})}async retrieveCachedResponse(){if(!this.outputFile||this.outputFile.length===0)return;let O;try{O=await l.promises.realpath(this.outputFile)}catch{return}if(!(await l.promises.lstat(O)).isFile())return;const _=await l.promises.readFile(O,{encoding:"utf8"});if(_!=="")try{const S=JSON.parse(_);return new r.ExecutableResponse(S).isValid()?new r.ExecutableResponse(S):void 0}catch(S){throw S instanceof r.ExecutableResponseError?S:new r.ExecutableResponseError(`The output file contained an invalid response: ${_}`)}}static parseCommand(O){const _=O.match(/(?:[^\s"]+|"[^"]*")+/g);if(!_)throw new Error(`Provided command: "${O}" could not be parsed.`);for(let S=0;S<_.length;S++)_[S][0]==='"'&&_[S].slice(-1)==='"'&&(_[S]=_[S].slice(1,-1));return _}}return pluggableAuthHandler.PluggableAuthHandler=p,pluggableAuthHandler}var hasRequiredPluggableAuthClient;function requirePluggableAuthClient(){if(hasRequiredPluggableAuthClient)return pluggableAuthClient;hasRequiredPluggableAuthClient=1,Object.defineProperty(pluggableAuthClient,"__esModule",{value:!0}),pluggableAuthClient.PluggableAuthClient=pluggableAuthClient.ExecutableError=void 0;const e=requireBaseexternalclient(),r=requireExecutableResponse(),o=requirePluggableAuthHandler();class l extends Error{constructor(d,g){super(`The executable failed with exit code: ${g} and error message: ${d}.`),this.code=g,Object.setPrototypeOf(this,new.target.prototype)}}pluggableAuthClient.ExecutableError=l;const p=30*1e3,f=5*1e3,O=120*1e3,_="GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES",S=1;class v extends e.BaseExternalAccountClient{constructor(d,g){if(super(d,g),!d.credential_source.executable)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(this.command=d.credential_source.executable.command,!this.command)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(d.credential_source.executable.timeout_millis===void 0)this.timeoutMillis=p;else if(this.timeoutMillis=d.credential_source.executable.timeout_millis,this.timeoutMillis<f||this.timeoutMillis>O)throw new Error(`Timeout must be between ${f} and ${O} milliseconds.`);this.outputFile=d.credential_source.executable.output_file,this.handler=new o.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){if(process.env[_]!=="1")throw new Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");let d;if(this.outputFile&&(d=await this.handler.retrieveCachedResponse()),!d){const g=new Map;g.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),g.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),g.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&g.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);const P=this.getServiceAccountEmail();P&&g.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",P),d=await this.handler.retrieveResponseFromExecutable(g)}if(d.version>S)throw new Error(`Version of executable is not currently supported, maximum supported version is ${S}.`);if(!d.success)throw new l(d.errorMessage,d.errorCode);if(this.outputFile&&!d.expirationTime)throw new r.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(d.isExpired())throw new Error("Executable response is expired.");return d.subjectToken}}return pluggableAuthClient.PluggableAuthClient=v,pluggableAuthClient}var hasRequiredExternalclient;function requireExternalclient(){if(hasRequiredExternalclient)return externalclient;hasRequiredExternalclient=1,Object.defineProperty(externalclient,"__esModule",{value:!0}),externalclient.ExternalAccountClient=void 0;const e=requireBaseexternalclient(),r=requireIdentitypoolclient(),o=requireAwsclient(),l=requirePluggableAuthClient();class p{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(O,_){var S,v;return O&&O.type===e.EXTERNAL_ACCOUNT_TYPE?!((S=O.credential_source)===null||S===void 0)&&S.environment_id?new o.AwsClient(O,_):!((v=O.credential_source)===null||v===void 0)&&v.executable?new l.PluggableAuthClient(O,_):new r.IdentityPoolClient(O,_):null}}return externalclient.ExternalAccountClient=p,externalclient}var externalAccountAuthorizedUserClient={},hasRequiredExternalAccountAuthorizedUserClient;function requireExternalAccountAuthorizedUserClient(){if(hasRequiredExternalAccountAuthorizedUserClient)return externalAccountAuthorizedUserClient;hasRequiredExternalAccountAuthorizedUserClient=1,Object.defineProperty(externalAccountAuthorizedUserClient,"__esModule",{value:!0}),externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;const e=requireAuthclient(),r=requireOauth2common(),o=requireSrc$4(),l=require$$4$3,p=requireBaseexternalclient();externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";const f="https://sts.{universeDomain}/v1/oauthtoken";class O extends r.OAuthClientAuthHandler{constructor(v,s,d){super(d),this.url=v,this.transporter=s}async refreshToken(v,s){const d=new URLSearchParams({grant_type:"refresh_token",refresh_token:v}),g={"Content-Type":"application/x-www-form-urlencoded",...s},P={...O.RETRY_CONFIG,url:this.url,method:"POST",headers:g,data:d.toString(),responseType:"json"};this.applyClientAuthenticationOptions(P);try{const R=await this.transporter.request(P),I=R.data;return I.res=R,I}catch(R){throw R instanceof o.GaxiosError&&R.response?(0,r.getErrorFromOAuthErrorResponse)(R.response.data,R):R}}}class _ extends e.AuthClient{constructor(v,s){var d;super({...v,...s}),v.universe_domain&&(this.universeDomain=v.universe_domain),this.refreshToken=v.refresh_token;const g={confidentialClientType:"basic",clientId:v.client_id,clientSecret:v.client_secret};this.externalAccountAuthorizedUserHandler=new O((d=v.token_url)!==null&&d!==void 0?d:f.replace("{universeDomain}",this.universeDomain),this.transporter,g),this.cachedAccessToken=null,this.quotaProjectId=v.quota_project_id,typeof(s==null?void 0:s.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=p.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=s.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(s!=null&&s.forceRefreshOnFailure)}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const s={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(s)}request(v,s){if(s)this.requestAsync(v).then(d=>s(null,d),d=>s(d,d.response));else return this.requestAsync(v)}async requestAsync(v,s=!1){let d;try{const g=await this.getRequestHeaders();v.headers=v.headers||{},g&&g["x-goog-user-project"]&&(v.headers["x-goog-user-project"]=g["x-goog-user-project"]),g&&g.Authorization&&(v.headers.Authorization=g.Authorization),d=await this.transporter.request(v)}catch(g){const P=g.response;if(P){const R=P.status,I=P.config.data instanceof l.Readable;if(!s&&(R===401||R===403)&&!I&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(v,!0)}throw g}return d}async refreshAccessTokenAsync(){const v=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:v.access_token,expiry_date:new Date().getTime()+v.expires_in*1e3,res:v.res},v.refresh_token!==void 0&&(this.refreshToken=v.refresh_token),this.cachedAccessToken}isExpired(v){const s=new Date().getTime();return v.expiry_date?s>=v.expiry_date-this.eagerRefreshThresholdMillis:!1}}return externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=_,externalAccountAuthorizedUserClient}var hasRequiredGoogleauth;function requireGoogleauth(){if(hasRequiredGoogleauth)return googleauth;hasRequiredGoogleauth=1,Object.defineProperty(googleauth,"__esModule",{value:!0}),googleauth.GoogleAuth=googleauth.CLOUD_SDK_CLIENT_ID=void 0;const e=require$$4$3,r=require$$4$3,o=requireSrc$3(),l=require$$4$3,p=require$$4$3,f=requireCrypto(),O=requireTransporters(),_=requireComputeclient(),S=requireIdtokenclient(),v=requireEnvDetect(),s=requireJwtclient(),d=requireRefreshclient(),g=requireImpersonated(),P=requireExternalclient(),R=requireBaseexternalclient(),I=requireAuthclient(),j=requireExternalAccountAuthorizedUserClient(),L=requireUtil$1();googleauth.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";const G={NO_PROJECT_ID_FOUND:`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_CREDENTIALS_FOUND:`Unable to find credentials in current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_UNIVERSE_DOMAIN_FOUND:`Unable to detect a Universe Domain in the current environment.
To learn more about Universe Domain retrieval, visit: 
https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys`};class J{get isGCE(){return this.checkIsGCE}constructor(W){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,this.clientOptions={},W=W||{},this._cachedProjectId=W.projectId||null,this.cachedCredential=W.authClient||null,this.keyFilename=W.keyFilename||W.keyFile,this.scopes=W.scopes,this.jsonContent=W.credentials||null,this.clientOptions=W.clientOptions||{},W.universeDomain&&(this.clientOptions.universeDomain=W.universeDomain)}setGapicJWTValues(W){W.defaultServicePath=this.defaultServicePath,W.useJWTAccessWithScope=this.useJWTAccessWithScope,W.defaultScopes=this.defaultScopes}getProjectId(W){if(W)this.getProjectIdAsync().then(Z=>W(null,Z),W);else return this.getProjectIdAsync()}async getProjectIdOptional(){try{return await this.getProjectId()}catch(W){if(W instanceof Error&&W.message===G.NO_PROJECT_ID_FOUND)return null;throw W}}async findAndCacheProjectId(){let W=null;if(W||(W=await this.getProductionProjectId()),W||(W=await this.getFileProjectId()),W||(W=await this.getDefaultServiceProjectId()),W||(W=await this.getGCEProjectId()),W||(W=await this.getExternalAccountClientProjectId()),W)return this._cachedProjectId=W,W;throw new Error(G.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){var W;let Z;try{Z=await o.universe("universe-domain"),Z||(Z=I.DEFAULT_UNIVERSE)}catch(te){if(te&&((W=te==null?void 0:te.response)===null||W===void 0?void 0:W.status)===404)Z=I.DEFAULT_UNIVERSE;else throw te}return Z}async getUniverseDomain(){let W=(0,L.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{W??(W=(await this.getClient()).universeDomain)}catch{W??(W=I.DEFAULT_UNIVERSE)}return W}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(W={},Z){let te;if(typeof W=="function"?Z=W:te=W,Z)this.getApplicationDefaultAsync(te).then(ee=>Z(null,ee.credential,ee.projectId),Z);else return this.getApplicationDefaultAsync(te)}async getApplicationDefaultAsync(W={}){if(this.cachedCredential)return await this.prepareAndCacheADC(this.cachedCredential);const Z=process.env.GOOGLE_CLOUD_QUOTA_PROJECT;let te;if(te=await this._tryGetApplicationCredentialsFromEnvironmentVariable(W),te)return te instanceof s.JWT?te.scopes=this.scopes:te instanceof R.BaseExternalAccountClient&&(te.scopes=this.getAnyScopes()),await this.prepareAndCacheADC(te,Z);if(te=await this._tryGetApplicationCredentialsFromWellKnownFile(W),te)return te instanceof s.JWT?te.scopes=this.scopes:te instanceof R.BaseExternalAccountClient&&(te.scopes=this.getAnyScopes()),await this.prepareAndCacheADC(te,Z);if(await this._checkIsGCE())return(0,L.originalOrCamelOptions)(W).get("universe_domain")||(W.universeDomain=await this.getUniverseDomainFromMetadataServer()),W.scopes=this.getAnyScopes(),await this.prepareAndCacheADC(new _.Compute(W),Z);throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.")}async prepareAndCacheADC(W,Z){const te=await this.getProjectIdOptional();return Z&&(W.quotaProjectId=Z),this.cachedCredential=W,{credential:W,projectId:te}}async _checkIsGCE(){return this.checkIsGCE===void 0&&(this.checkIsGCE=o.getGCPResidency()||await o.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(W){const Z=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!Z||Z.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(Z,W)}catch(te){throw te instanceof Error&&(te.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${te.message}`),te}}async _tryGetApplicationCredentialsFromWellKnownFile(W){let Z=null;if(this._isWindows())Z=process.env.APPDATA;else{const ee=process.env.HOME;ee&&(Z=p.join(ee,".config"))}return Z&&(Z=p.join(Z,"gcloud","application_default_credentials.json"),r.existsSync(Z)||(Z=null)),Z?await this._getApplicationCredentialsFromFilePath(Z,W):null}async _getApplicationCredentialsFromFilePath(W,Z={}){if(!W||W.length===0)throw new Error("The file path is invalid.");try{if(W=r.realpathSync(W),!r.lstatSync(W).isFile())throw new Error}catch(ee){throw ee instanceof Error&&(ee.message=`The file at ${W} does not exist, or it is not a file. ${ee.message}`),ee}const te=r.createReadStream(W);return this.fromStream(te,Z)}fromImpersonatedJSON(W){var Z,te,ee,ie,oe;if(!W)throw new Error("Must pass in a JSON object containing an  impersonated refresh token");if(W.type!==g.IMPERSONATED_ACCOUNT_TYPE)throw new Error(`The incoming JSON object does not have the "${g.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!W.source_credentials)throw new Error("The incoming JSON object does not contain a source_credentials field");if(!W.service_account_impersonation_url)throw new Error("The incoming JSON object does not contain a service_account_impersonation_url field");const se=new d.UserRefreshClient;if(se.fromJSON(W.source_credentials),((Z=W.service_account_impersonation_url)===null||Z===void 0?void 0:Z.length)>256)throw new RangeError(`Target principal is too long: ${W.service_account_impersonation_url}`);const le=(ee=(te=/(?<target>[^/]+):generateAccessToken$/.exec(W.service_account_impersonation_url))===null||te===void 0?void 0:te.groups)===null||ee===void 0?void 0:ee.target;if(!le)throw new RangeError(`Cannot extract target principal from ${W.service_account_impersonation_url}`);const de=(ie=this.getAnyScopes())!==null&&ie!==void 0?ie:[];return new g.Impersonated({...W,delegates:(oe=W.delegates)!==null&&oe!==void 0?oe:[],sourceClient:se,targetPrincipal:le,targetScopes:Array.isArray(de)?de:[de]})}fromJSON(W,Z={}){let te;const ee=(0,L.originalOrCamelOptions)(Z).get("universe_domain");return W.type===d.USER_REFRESH_ACCOUNT_TYPE?(te=new d.UserRefreshClient(Z),te.fromJSON(W)):W.type===g.IMPERSONATED_ACCOUNT_TYPE?te=this.fromImpersonatedJSON(W):W.type===R.EXTERNAL_ACCOUNT_TYPE?(te=P.ExternalAccountClient.fromJSON(W,Z),te.scopes=this.getAnyScopes()):W.type===j.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?te=new j.ExternalAccountAuthorizedUserClient(W,Z):(Z.scopes=this.scopes,te=new s.JWT(Z),this.setGapicJWTValues(te),te.fromJSON(W)),ee&&(te.universeDomain=ee),te}_cacheClientFromJSON(W,Z){const te=this.fromJSON(W,Z);return this.jsonContent=W,this.cachedCredential=te,te}fromStream(W,Z={},te){let ee={};if(typeof Z=="function"?te=Z:ee=Z,te)this.fromStreamAsync(W,ee).then(ie=>te(null,ie),te);else return this.fromStreamAsync(W,ee)}fromStreamAsync(W,Z){return new Promise((te,ee)=>{if(!W)throw new Error("Must pass in a stream containing the Google auth settings.");let ie="";W.setEncoding("utf8").on("error",ee).on("data",oe=>ie+=oe).on("end",()=>{try{try{const oe=JSON.parse(ie),se=this._cacheClientFromJSON(oe,Z);return te(se)}catch(oe){if(!this.keyFilename)throw oe;const se=new s.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=se,this.setGapicJWTValues(se),te(se)}}catch(oe){return ee(oe)}})})}fromAPIKey(W,Z){Z=Z||{};const te=new s.JWT(Z);return te.fromAPIKey(W),te}_isWindows(){const W=l.platform();return!!(W&&W.length>=3&&W.substring(0,3).toLowerCase()==="win")}async getDefaultServiceProjectId(){return new Promise(W=>{(0,e.exec)("gcloud config config-helper --format json",(Z,te)=>{if(!Z&&te)try{const ee=JSON.parse(te).configuration.properties.core.project;W(ee);return}catch{}W(null)})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const Z=await this.getClient();if(Z&&Z.projectId)return Z.projectId}const W=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return W?W.projectId:null}async getExternalAccountClientProjectId(){return!this.jsonContent||this.jsonContent.type!==R.EXTERNAL_ACCOUNT_TYPE?null:await(await this.getClient()).getProjectId()}async getGCEProjectId(){try{return await o.project("project-id")}catch{return null}}getCredentials(W){if(W)this.getCredentialsAsync().then(Z=>W(null,Z),W);else return this.getCredentialsAsync()}async getCredentialsAsync(){const W=await this.getClient();if(W instanceof g.Impersonated)return{client_email:W.getTargetPrincipal()};if(W instanceof R.BaseExternalAccountClient){const Z=W.getServiceAccountEmail();if(Z)return{client_email:Z,universe_domain:W.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){const[Z,te]=await Promise.all([o.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:Z,universe_domain:te}}throw new Error(G.NO_CREDENTIALS_FOUND)}async getClient(){if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){const W=p.resolve(this.keyFilename),Z=r.createReadStream(W);await this.fromStreamAsync(Z,this.clientOptions)}else await this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential}async getIdTokenClient(W){const Z=await this.getClient();if(!("fetchIdToken"in Z))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new S.IdTokenClient({targetAudience:W,idTokenProvider:Z})}async getAccessToken(){return(await(await this.getClient()).getAccessToken()).token}async getRequestHeaders(W){return(await this.getClient()).getRequestHeaders(W)}async authorizeRequest(W){W=W||{};const Z=W.url||W.uri,ee=await(await this.getClient()).getRequestHeaders(Z);return W.headers=Object.assign(W.headers||{},ee),W}async request(W){return(await this.getClient()).request(W)}getEnv(){return(0,v.getEnv)()}async sign(W,Z){const te=await this.getClient(),ee=await this.getUniverseDomain();if(Z=Z||`https://iamcredentials.${ee}/v1/projects/-/serviceAccounts/`,te instanceof g.Impersonated)return(await te.sign(W)).signedBlob;const ie=(0,f.createCrypto)();if(te instanceof s.JWT&&te.key)return await ie.sign(te.key,W);const oe=await this.getCredentials();if(!oe.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(ie,oe.client_email,W,Z)}async signBlob(W,Z,te,ee){const ie=new URL(ee+`${Z}:signBlob`);return(await this.request({method:"POST",url:ie.href,data:{payload:W.encodeBase64StringUtf8(te)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}return googleauth.GoogleAuth=J,J.DefaultTransporter=O.DefaultTransporter,googleauth}var iam={},hasRequiredIam;function requireIam(){if(hasRequiredIam)return iam;hasRequiredIam=1,Object.defineProperty(iam,"__esModule",{value:!0}),iam.IAMAuth=void 0;class e{constructor(o,l){this.selector=o,this.token=l,this.selector=o,this.token=l}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}return iam.IAMAuth=e,iam}var downscopedclient={},hasRequiredDownscopedclient;function requireDownscopedclient(){return hasRequiredDownscopedclient||(hasRequiredDownscopedclient=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DownscopedClient=e.EXPIRATION_TIME_OFFSET=e.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;const r=require$$4$3,o=requireAuthclient(),l=requireStscredentials(),p="urn:ietf:params:oauth:grant-type:token-exchange",f="urn:ietf:params:oauth:token-type:access_token",O="urn:ietf:params:oauth:token-type:access_token";e.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,e.EXPIRATION_TIME_OFFSET=5*60*1e3;class _ extends o.AuthClient{constructor(v,s,d,g){if(super({...d,quotaProjectId:g}),this.authClient=v,this.credentialAccessBoundary=s,s.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(s.accessBoundary.accessBoundaryRules.length>e.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${e.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(const P of s.accessBoundary.accessBoundaryRules)if(P.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new l.StsCredentials(`https://sts.${this.universeDomain}/v1/token`),this.cachedDownscopedAccessToken=null}setCredentials(v){if(!v.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(v),this.cachedDownscopedAccessToken=v}async getAccessToken(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){const s={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(s)}request(v,s){if(s)this.requestAsync(v).then(d=>s(null,d),d=>s(d,d.response));else return this.requestAsync(v)}async requestAsync(v,s=!1){let d;try{const g=await this.getRequestHeaders();v.headers=v.headers||{},g&&g["x-goog-user-project"]&&(v.headers["x-goog-user-project"]=g["x-goog-user-project"]),g&&g.Authorization&&(v.headers.Authorization=g.Authorization),d=await this.transporter.request(v)}catch(g){const P=g.response;if(P){const R=P.status,I=P.config.data instanceof r.Readable;if(!s&&(R===401||R===403)&&!I&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(v,!0)}throw g}return d}async refreshAccessTokenAsync(){var v;const s=(await this.authClient.getAccessToken()).token,d={grantType:p,requestedTokenType:f,subjectToken:s,subjectTokenType:O},g=await this.stsCredential.exchangeToken(d,void 0,this.credentialAccessBoundary),P=((v=this.authClient.credentials)===null||v===void 0?void 0:v.expiry_date)||null,R=g.expires_in?new Date().getTime()+g.expires_in*1e3:P;return this.cachedDownscopedAccessToken={access_token:g.access_token,expiry_date:R,res:g.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(v){const s=new Date().getTime();return v.expiry_date?s>=v.expiry_date-this.eagerRefreshThresholdMillis:!1}}e.DownscopedClient=_}(downscopedclient)),downscopedclient}var passthrough={},hasRequiredPassthrough;function requirePassthrough(){if(hasRequiredPassthrough)return passthrough;hasRequiredPassthrough=1,Object.defineProperty(passthrough,"__esModule",{value:!0}),passthrough.PassThroughClient=void 0;const e=requireAuthclient();class r extends e.AuthClient{async request(p){return this.transporter.request(p)}async getAccessToken(){return{}}async getRequestHeaders(){return{}}}return passthrough.PassThroughClient=r,new r().getAccessToken(),passthrough}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleAuth=e.auth=e.DefaultTransporter=e.PassThroughClient=e.PluggableAuthClient=e.DownscopedClient=e.BaseExternalAccountClient=e.ExternalAccountClient=e.IdentityPoolClient=e.AwsClient=e.UserRefreshClient=e.LoginTicket=e.ClientAuthentication=e.OAuth2Client=e.CodeChallengeMethod=e.Impersonated=e.JWT=e.JWTAccess=e.IdTokenClient=e.IAMAuth=e.GCPEnv=e.Compute=e.DEFAULT_UNIVERSE=e.AuthClient=e.gaxios=e.gcpMetadata=void 0;const r=requireGoogleauth();Object.defineProperty(e,"GoogleAuth",{enumerable:!0,get:function(){return r.GoogleAuth}}),e.gcpMetadata=requireSrc$3(),e.gaxios=requireSrc$4();var o=requireAuthclient();Object.defineProperty(e,"AuthClient",{enumerable:!0,get:function(){return o.AuthClient}}),Object.defineProperty(e,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return o.DEFAULT_UNIVERSE}});var l=requireComputeclient();Object.defineProperty(e,"Compute",{enumerable:!0,get:function(){return l.Compute}});var p=requireEnvDetect();Object.defineProperty(e,"GCPEnv",{enumerable:!0,get:function(){return p.GCPEnv}});var f=requireIam();Object.defineProperty(e,"IAMAuth",{enumerable:!0,get:function(){return f.IAMAuth}});var O=requireIdtokenclient();Object.defineProperty(e,"IdTokenClient",{enumerable:!0,get:function(){return O.IdTokenClient}});var _=requireJwtaccess();Object.defineProperty(e,"JWTAccess",{enumerable:!0,get:function(){return _.JWTAccess}});var S=requireJwtclient();Object.defineProperty(e,"JWT",{enumerable:!0,get:function(){return S.JWT}});var v=requireImpersonated();Object.defineProperty(e,"Impersonated",{enumerable:!0,get:function(){return v.Impersonated}});var s=requireOauth2client();Object.defineProperty(e,"CodeChallengeMethod",{enumerable:!0,get:function(){return s.CodeChallengeMethod}}),Object.defineProperty(e,"OAuth2Client",{enumerable:!0,get:function(){return s.OAuth2Client}}),Object.defineProperty(e,"ClientAuthentication",{enumerable:!0,get:function(){return s.ClientAuthentication}});var d=requireLoginticket();Object.defineProperty(e,"LoginTicket",{enumerable:!0,get:function(){return d.LoginTicket}});var g=requireRefreshclient();Object.defineProperty(e,"UserRefreshClient",{enumerable:!0,get:function(){return g.UserRefreshClient}});var P=requireAwsclient();Object.defineProperty(e,"AwsClient",{enumerable:!0,get:function(){return P.AwsClient}});var R=requireIdentitypoolclient();Object.defineProperty(e,"IdentityPoolClient",{enumerable:!0,get:function(){return R.IdentityPoolClient}});var I=requireExternalclient();Object.defineProperty(e,"ExternalAccountClient",{enumerable:!0,get:function(){return I.ExternalAccountClient}});var j=requireBaseexternalclient();Object.defineProperty(e,"BaseExternalAccountClient",{enumerable:!0,get:function(){return j.BaseExternalAccountClient}});var L=requireDownscopedclient();Object.defineProperty(e,"DownscopedClient",{enumerable:!0,get:function(){return L.DownscopedClient}});var G=requirePluggableAuthClient();Object.defineProperty(e,"PluggableAuthClient",{enumerable:!0,get:function(){return G.PluggableAuthClient}});var J=requirePassthrough();Object.defineProperty(e,"PassThroughClient",{enumerable:!0,get:function(){return J.PassThroughClient}});var Q=requireTransporters();Object.defineProperty(e,"DefaultTransporter",{enumerable:!0,get:function(){return Q.DefaultTransporter}});const W=new r.GoogleAuth;e.auth=W}(src$4)),src$4}var operationsClient={},createApiCall={},apiCaller={},normalApiCaller={},call$2={},googleError={},src={},toproto3json={},any$1={},fromproto3json={},bytes={},hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes;hasRequiredBytes=1,Object.defineProperty(bytes,"__esModule",{value:!0}),bytes.bytesFromProto3JSON=bytes.bytesToProto3JSON=void 0;function e(o){return Buffer.isBuffer(o)?o.toString("base64"):Buffer.from(o.buffer,0,o.byteLength).toString("base64")}bytes.bytesToProto3JSON=e;function r(o){return Buffer.from(o,"base64")}return bytes.bytesFromProto3JSON=r,bytes}var _enum={},hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0}),_enum.resolveEnumValueToNumber=_enum.resolveEnumValueToString=void 0;function e(o,l){if(typeof l=="number"){const p=o.valuesById[l];return typeof p>"u"?l:p}if(typeof l=="string")return l;throw new Error("resolveEnumValueToString: enum value must be a string or a number")}_enum.resolveEnumValueToString=e;function r(o,l){if(typeof l=="number")return l;if(typeof l=="string"){const p=o.values[l];return typeof p>"u"?l:p}throw new Error("resolveEnumValueToNumber: enum value must be a string or a number")}return _enum.resolveEnumValueToNumber=r,_enum}var value$2={},util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1,Object.defineProperty(util,"__esModule",{value:!0}),util.assert=util.wrapperTypes=util.getFullyQualifiedTypeName=void 0;function e(o){let l="";for(;o.parent;)l=`.${o.name}${l}`,o=o.parent;return l}util.getFullyQualifiedTypeName=e,util.wrapperTypes=new Set([".google.protobuf.DoubleValue",".google.protobuf.FloatValue",".google.protobuf.Int64Value",".google.protobuf.UInt64Value",".google.protobuf.Int32Value",".google.protobuf.UInt32Value",".google.protobuf.BoolValue",".google.protobuf.StringValue",".google.protobuf.BytesValue"]);function r(o,l){if(!o)throw new Error(l)}return util.assert=r,util}var hasRequiredValue;function requireValue(){if(hasRequiredValue)return value$2;hasRequiredValue=1,Object.defineProperty(value$2,"__esModule",{value:!0}),value$2.googleProtobufValueFromProto3JSON=value$2.googleProtobufListValueFromProto3JSON=value$2.googleProtobufStructFromProto3JSON=value$2.googleProtobufValueToProto3JSON=value$2.googleProtobufListValueToProto3JSON=value$2.googleProtobufStructToProto3JSON=void 0;const e=requireUtil();function r(_){const S={},v=_.fields;for(const[s,d]of Object.entries(v))S[s]=l(d);return S}value$2.googleProtobufStructToProto3JSON=r;function o(_){return(0,e.assert)(Array.isArray(_.values),"ListValue internal representation must contain array of values"),_.values.map(l)}value$2.googleProtobufListValueToProto3JSON=o;function l(_){return Object.prototype.hasOwnProperty.call(_,"nullValue")?null:Object.prototype.hasOwnProperty.call(_,"numberValue")&&typeof _.numberValue=="number"?Number.isFinite(_.numberValue)?_.numberValue:_.numberValue.toString():Object.prototype.hasOwnProperty.call(_,"stringValue")&&typeof _.stringValue=="string"?_.stringValue:Object.prototype.hasOwnProperty.call(_,"boolValue")&&typeof _.boolValue=="boolean"?_.boolValue:Object.prototype.hasOwnProperty.call(_,"structValue")&&typeof _.structValue=="object"?r(_.structValue):Object.prototype.hasOwnProperty.call(_,"listValue")&&typeof _=="object"&&typeof _.listValue=="object"?o(_.listValue):null}value$2.googleProtobufValueToProto3JSON=l;function p(_){const S={};for(const[v,s]of Object.entries(_))S[v]=O(s);return{fields:S}}value$2.googleProtobufStructFromProto3JSON=p;function f(_){return{values:_.map(S=>O(S))}}value$2.googleProtobufListValueFromProto3JSON=f;function O(_){if(_===null)return{nullValue:"NULL_VALUE"};if(typeof _=="number")return{numberValue:_};if(typeof _=="string")return{stringValue:_};if(typeof _=="boolean")return{boolValue:_};if(Array.isArray(_))return{listValue:f(_)};if(typeof _=="object")return{structValue:p(_)};throw new Error(`googleProtobufValueFromProto3JSON: incorrect parameter type: ${typeof _}`)}return value$2.googleProtobufValueFromProto3JSON=O,value$2}var duration={},hasRequiredDuration;function requireDuration(){if(hasRequiredDuration)return duration;hasRequiredDuration=1,Object.defineProperty(duration,"__esModule",{value:!0}),duration.googleProtobufDurationFromProto3JSON=duration.googleProtobufDurationToProto3JSON=void 0;function e(o){let l=o.seconds.toString();if(typeof o.nanos=="number"&&o.nanos>0){const p=o.nanos.toString().padStart(9,"0").replace(/^((?:\d\d\d)+?)(?:0*)$/,"$1");l+="."+p}return l+="s",l}duration.googleProtobufDurationToProto3JSON=e;function r(o){const l=o.match(/^(\d*)(?:\.(\d*))?s$/);if(!l)throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${o} passed as google.protobuf.Duration`);let p=0,f=0;typeof l[1]=="string"&&l[1].length>0&&(p=parseInt(l[1])),typeof l[2]=="string"&&l[2].length>0&&(f=parseInt(l[2].padEnd(9,"0")));const O={};return p!==0&&(O.seconds=p),f!==0&&(O.nanos=f),O}return duration.googleProtobufDurationFromProto3JSON=r,duration}var timestamp={},hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1,Object.defineProperty(timestamp,"__esModule",{value:!0}),timestamp.googleProtobufTimestampFromProto3JSON=timestamp.googleProtobufTimestampToProto3JSON=void 0;function e(o){var l;const p=o.seconds,f=new Date(p*1e3).toISOString();let O=(l=o.nanos)===null||l===void 0?void 0:l.toString().padStart(9,"0");for(;O&&O.length>3&&O.endsWith("000");)O=O.slice(0,-3);return f.replace(/(?:\.\d{0,9})/,"."+O)}timestamp.googleProtobufTimestampToProto3JSON=e;function r(o){if(!o.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?/))throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${o} passed as google.protobuf.Duration`);const f=new Date(o).getTime(),O=Math.floor(f/1e3);let _=0;const S=o.split(".")[1];S&&(_=parseInt(S.slice(0,-1).padEnd(9,"0")));const v={};return O!==0&&(v.seconds=O),_!==0&&(v.nanos=_),v}return timestamp.googleProtobufTimestampFromProto3JSON=r,timestamp}var wrappers={},hasRequiredWrappers;function requireWrappers(){if(hasRequiredWrappers)return wrappers;hasRequiredWrappers=1,Object.defineProperty(wrappers,"__esModule",{value:!0}),wrappers.wrapperFromProto3JSON=wrappers.wrapperToProto3JSON=void 0;const e=requireBytes(),r=requireUtil();function o(p){return Object.prototype.hasOwnProperty.call(p,"value")?Buffer.isBuffer(p.value)||p.value instanceof Uint8Array?(0,e.bytesToProto3JSON)(p.value):typeof p.value=="object"?((0,r.assert)(p.value.constructor.name==="Long",`wrapperToProto3JSON: expected to see a number, a string, a boolean, or a Long, but got ${p.value}`),p.value.toString()):typeof p.value=="number"&&!Number.isFinite(p.value)?p.value.toString():p.value:null}wrappers.wrapperToProto3JSON=o;function l(p,f){if(f===null)return{value:null};if(p===".google.protobuf.BytesValue"){if(typeof f!="string")throw new Error(`numberWrapperFromProto3JSON: expected to get a string for google.protobuf.BytesValue but got ${typeof f}`);return{value:(0,e.bytesFromProto3JSON)(f)}}return{value:f}}return wrappers.wrapperFromProto3JSON=l,wrappers}var fieldmask={},hasRequiredFieldmask;function requireFieldmask(){if(hasRequiredFieldmask)return fieldmask;hasRequiredFieldmask=1,Object.defineProperty(fieldmask,"__esModule",{value:!0}),fieldmask.googleProtobufFieldMaskFromProto3JSON=fieldmask.googleProtobufFieldMaskToProto3JSON=void 0;function e(o){return o.paths.join(",")}fieldmask.googleProtobufFieldMaskToProto3JSON=e;function r(o){return{paths:o.split(",")}}return fieldmask.googleProtobufFieldMaskFromProto3JSON=r,fieldmask}var hasRequiredFromproto3json;function requireFromproto3json(){if(hasRequiredFromproto3json)return fromproto3json;hasRequiredFromproto3json=1,Object.defineProperty(fromproto3json,"__esModule",{value:!0}),fromproto3json.fromProto3JSON=fromproto3json.fromProto3JSONToInternalRepresentation=void 0;const e=requireAny(),r=requireBytes(),o=require_enum(),l=requireValue(),p=requireUtil(),f=requireDuration(),O=requireTimestamp(),_=requireWrappers(),S=requireFieldmask();function v(d,g){const P=typeof d=="string"?d:(0,p.getFullyQualifiedTypeName)(d);if(typeof d!="string"&&"values"in d)return P===".google.protobuf.NullValue"?"NULL_VALUE":(0,o.resolveEnumValueToString)(d,g);if(typeof d!="string"&&d.resolveAll(),typeof d=="string")return g;if(P===".google.protobuf.Value")return(0,l.googleProtobufValueFromProto3JSON)(g);if(p.wrapperTypes.has(P)){if(g!==null&&typeof g=="object"||Array.isArray(g))throw new Error(`fromProto3JSONToInternalRepresentation: JSON representation for ${P} expects a string, a number, or a boolean, but got ${typeof g}`);return(0,_.wrapperFromProto3JSON)(P,g)}if(g===null)return null;if(P===".google.protobuf.Any")return(0,e.googleProtobufAnyFromProto3JSON)(d.root,g);if(P===".google.protobuf.Struct"){if(typeof g!="object")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got ${typeof g}`);if(Array.isArray(g))throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got an array");return(0,l.googleProtobufStructFromProto3JSON)(g)}if(P===".google.protobuf.ListValue"){if(!Array.isArray(g))throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.ListValue must be an array but got ${typeof g}`);return(0,l.googleProtobufListValueFromProto3JSON)(g)}if(P===".google.protobuf.Duration"){if(typeof g!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Duration must be a string but got ${typeof g}`);return(0,f.googleProtobufDurationFromProto3JSON)(g)}if(P===".google.protobuf.Timestamp"){if(typeof g!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Timestamp must be a string but got ${typeof g}`);return(0,O.googleProtobufTimestampFromProto3JSON)(g)}if(P===".google.protobuf.FieldMask"){if(typeof g!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.FieldMask must be a string but got ${typeof g}`);return(0,S.googleProtobufFieldMaskFromProto3JSON)(g)}const R={};for(const[I,j]of Object.entries(g)){const L=d.fields[I];if(!L)continue;const G=L.resolvedType,J=L.type;if(L.repeated)if(j===null)R[I]=[];else{if(!Array.isArray(j))throw new Error(`fromProto3JSONToInternalRepresentation: expected an array for field ${I}`);R[I]=j.map(Q=>v(G||J,Q))}else if(L.map){const Q={};for(const[W,Z]of Object.entries(j))Q[W]=v(G||J,Z);R[I]=Q}else if(J.match(/^(?:(?:(?:u?int|fixed)(?:32|64))|float|double)$/)){if(typeof j!="number"&&typeof j!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${I} of type ${L.type} cannot contain value ${j}`);R[I]=j}else if(J==="string"){if(typeof j!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${I} of type ${L.type} cannot contain value ${j}`);R[I]=j}else if(J==="bool"){if(typeof j!="boolean")throw new Error(`fromProto3JSONToInternalRepresentation: field ${I} of type ${L.type} cannot contain value ${j}`);R[I]=j}else if(J==="bytes"){if(typeof j!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${I} of type ${L.type} cannot contain value ${j}`);R[I]=(0,r.bytesFromProto3JSON)(j)}else{(0,p.assert)(G!==null,`Expected to be able to resolve type for field ${L.name}`);const Q=v(G,j);R[I]=Q}}return R}fromproto3json.fromProto3JSONToInternalRepresentation=v;function s(d,g){const P=v(d,g);return P===null?null:((0,p.assert)(typeof P=="object"&&!Array.isArray(P),`fromProto3JSON: expected an object, not ${g}`),d.fromObject(P))}return fromproto3json.fromProto3JSON=s,fromproto3json}var hasRequiredAny;function requireAny(){if(hasRequiredAny)return any$1;hasRequiredAny=1,Object.defineProperty(any$1,"__esModule",{value:!0}),any$1.googleProtobufAnyFromProto3JSON=any$1.googleProtobufAnyToProto3JSON=void 0;const e=requireFromproto3json(),r=requireToproto3json(),o=new Set(["google.protobuf.Any","google.protobuf.Duration","google.protobuf.FieldMask","google.protobuf.ListValue","google.protobuf.Struct","google.protobuf.Timestamp","google.protobuf.Value"]);function l(f,O){const _=f.type_url.replace(/^.*\//,"");let S;try{S=f.$type.root.lookupType(_)}catch(d){throw new Error(`googleProtobufAnyToProto3JSON: cannot find type ${_}: ${d}`)}const v=S.decode(f.value),s=(0,r.toProto3JSON)(v,O);return o.has(_)?{"@type":f.type_url,value:s}:(s["@type"]=f.type_url,s)}any$1.googleProtobufAnyToProto3JSON=l;function p(f,O){if(O===null||typeof O!="object"||Array.isArray(O))throw new Error("googleProtobufAnyFromProto3JSON: must be an object to decode google.protobuf.Any");const _=O["@type"];if(!_||typeof _!="string")throw new Error("googleProtobufAnyFromProto3JSON: JSON serialization of google.protobuf.Any must contain @type field");const S=_.replace(/^.*\//,"");let v;try{v=f.lookupType(S)}catch(I){throw new Error(`googleProtobufAnyFromProto3JSON: cannot find type ${S}: ${I}`)}let s=O;if(o.has(S)){if(!("value"in O))throw new Error(`googleProtobufAnyFromProto3JSON: JSON representation of google.protobuf.Any with type ${S} must contain the value field`);s=O.value}const d=(0,e.fromProto3JSON)(v,s);if(d===null)return{type_url:_,value:null};const g=v.encode(d).finish(),R=Buffer.from(g,0,g.byteLength).toString("base64");return{type_url:_,value:R}}return any$1.googleProtobufAnyFromProto3JSON=p,any$1}var hasRequiredToproto3json;function requireToproto3json(){if(hasRequiredToproto3json)return toproto3json;hasRequiredToproto3json=1,Object.defineProperty(toproto3json,"__esModule",{value:!0}),toproto3json.toProto3JSON=void 0;const e=requireAny(),r=requireBytes(),o=requireUtil(),l=require_enum(),p=requireValue(),f=requireDuration(),O=requireTimestamp(),_=requireWrappers(),S=requireFieldmask();function v(d){var g;if(typeof d=="object"){if(((g=d==null?void 0:d.constructor)===null||g===void 0?void 0:g.name)==="Long")return d.toString();throw new Error(`toProto3JSON: don't know how to convert value ${d}`)}return d}function s(d,g){const P=d.$type;if(!P)throw new Error("Cannot serialize object to proto3 JSON since its .$type is unknown. Use Type.fromObject(obj) before calling toProto3JSON.");P.resolveAll();const R=(0,o.getFullyQualifiedTypeName)(P);if(R===".google.protobuf.Any")return(0,e.googleProtobufAnyToProto3JSON)(d,g);if(R===".google.protobuf.Value")return(0,p.googleProtobufValueToProto3JSON)(d);if(R===".google.protobuf.Struct")return(0,p.googleProtobufStructToProto3JSON)(d);if(R===".google.protobuf.ListValue")return(0,p.googleProtobufListValueToProto3JSON)(d);if(R===".google.protobuf.Duration")return(0,f.googleProtobufDurationToProto3JSON)(d);if(R===".google.protobuf.Timestamp")return(0,O.googleProtobufTimestampToProto3JSON)(d);if(R===".google.protobuf.FieldMask")return(0,S.googleProtobufFieldMaskToProto3JSON)(d);if(o.wrapperTypes.has(R))return(0,_.wrapperToProto3JSON)(d);const I={};for(const[j,L]of Object.entries(d)){const G=P.fields[j],J=G.resolvedType,Q=J?(0,o.getFullyQualifiedTypeName)(J):null;if(L===null){I[j]=null;continue}if(Array.isArray(L)){if(L.length===0)continue;I[j]=L.map(J?W=>s(W,g):v);continue}if(G.map){const W={};for(const[Z,te]of Object.entries(L))W[Z]=J?s(te,g):v(te);I[j]=W;continue}if(Q===".google.protobuf.NullValue"){I[j]=null;continue}if(J&&"values"in J&&L!==null){g!=null&&g.numericEnums?I[j]=(0,l.resolveEnumValueToNumber)(J,L):I[j]=(0,l.resolveEnumValueToString)(J,L);continue}if(J){I[j]=s(L,g);continue}if(typeof L=="string"||typeof L=="number"||typeof L=="boolean"||L===null){if(typeof L=="number"&&!Number.isFinite(L)){I[j]=L.toString();continue}I[j]=L;continue}if(Buffer.isBuffer(L)||L instanceof Uint8Array){I[j]=(0,r.bytesToProto3JSON)(L);continue}I[j]=v(L)}return I}return toproto3json.toProto3JSON=s,toproto3json}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromProto3JSON=e.toProto3JSON=void 0;var r=requireToproto3json();Object.defineProperty(e,"toProto3JSON",{enumerable:!0,get:function(){return r.toProto3JSON}});var o=requireFromproto3json();Object.defineProperty(e,"fromProto3JSON",{enumerable:!0,get:function(){return o.fromProto3JSON}})}(src)),src}const nested$3={google:{nested:{protobuf:{nested:{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails",java_multiple_files:!0,java_outer_classname:"ErrorDetailsProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}},RetryInfo:{fields:{retryDelay:{type:"google.protobuf.Duration",id:1}}},DebugInfo:{fields:{stackEntries:{rule:"repeated",type:"string",id:1},detail:{type:"string",id:2}}},QuotaFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{subject:{type:"string",id:1},description:{type:"string",id:2}}}}},ErrorInfo:{fields:{reason:{type:"string",id:1},domain:{type:"string",id:2},metadata:{keyType:"string",type:"string",id:3}}},PreconditionFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{type:{type:"string",id:1},subject:{type:"string",id:2},description:{type:"string",id:3}}}}},BadRequest:{fields:{fieldViolations:{rule:"repeated",type:"FieldViolation",id:1}},nested:{FieldViolation:{fields:{field:{type:"string",id:1},description:{type:"string",id:2}}}}},RequestInfo:{fields:{requestId:{type:"string",id:1},servingData:{type:"string",id:2}}},ResourceInfo:{fields:{resourceType:{type:"string",id:1},resourceName:{type:"string",id:2},owner:{type:"string",id:3},description:{type:"string",id:4}}},Help:{fields:{links:{rule:"repeated",type:"Link",id:1}},nested:{Link:{fields:{description:{type:"string",id:1},url:{type:"string",id:2}}}}},LocalizedMessage:{fields:{locale:{type:"string",id:1},message:{type:"string",id:2}}}}}}}},require$$4$1={nested:nested$3};var hasRequiredGoogleError;function requireGoogleError(){if(hasRequiredGoogleError)return googleError;hasRequiredGoogleError=1,Object.defineProperty(googleError,"__esModule",{value:!0}),googleError.GoogleErrorDecoder=googleError.GoogleError=void 0;const e=requireStatus(),r=requireProtobufjs(),o=requireSrc(),l=requireFallback();class p extends Error{static parseGRPCStatusDetails(_){const S=new f;try{if(_.metadata&&_.metadata.get("grpc-status-details-bin")){const v=S.decodeGRPCStatusDetails(_.metadata.get("grpc-status-details-bin"));v&&v.details&&v.details.length>0&&(_.statusDetails=v.details),v&&v.errorInfo&&(_.reason=v.errorInfo.reason,_.domain=v.errorInfo.domain,_.errorInfoMetadata=v.errorInfo.metadata)}}catch{}return _}static parseHttpError(_){Array.isArray(_)&&(_=_.find(d=>"error"in d)),_.error||(_.error={},Object.keys(_).filter(d=>d!=="error").forEach(d=>{_.error[d]=_[d],delete _[d]}));const S=new f,v=S.decodeHTTPError(_.error),s=Object.assign(new p(_.error.message),v);if(_.error.code?s.code=(0,e.rpcCodeFromHttpStatusCode)(_.error.code):delete s.code,s.details)try{const d=S.decodeHttpStatusDetails(s.details);d&&d.details&&d.details.length>0&&(s.statusDetails=d.details),d&&d.errorInfo&&(s.reason=d.errorInfo.reason,s.domain=d.errorInfo.domain,s.errorInfoMetadata=d.errorInfo.metadata)}catch{}return s}}googleError.GoogleError=p;class f{constructor(){const _=require$$4$1;this.root=r.Root.fromJSON(_),this.anyType=this.root.lookupType("google.protobuf.Any"),this.statusType=this.root.lookupType("google.rpc.Status")}decodeProtobufAny(_){const S=_.type_url.match(/^type.googleapis.com\/(.*)/);if(!S)throw new Error(`Unknown type encoded in google.protobuf.any: ${_.type_url}`);const v=S[1],s=this.root.lookupType(v);if(!s)throw new Error(`Cannot lookup type ${v}`);return s.decode(_.value)}decodeRpcStatus(_){const S=new Uint8Array(_),v=this.statusType.decode(S),s=[];let d;for(const P of v.details)try{const R=this.decodeProtobufAny(P);s.push(R),P.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(d=R)}catch{}return{code:v.code,message:v.message,statusDetails:s,reason:d==null?void 0:d.reason,domain:d==null?void 0:d.domain,errorInfoMetadata:d==null?void 0:d.metadata}}callErrorFromStatus(_){return _.message=`${_.code} ${e.Status[_.code]}: ${_.message}`,Object.assign(new p(_.message),_)}decodeErrorFromBuffer(_){return this.callErrorFromStatus(this.decodeRpcStatus(_))}decodeGRPCStatusDetails(_){const S=[];let v;return _.forEach(d=>{const g=new Uint8Array(d),P=this.statusType.decode(g);for(const R of P.details)try{const I=this.decodeProtobufAny(R);S.push(I),R.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(v=I)}catch{}}),{details:S,errorInfo:v}}decodeHTTPError(_){const S=o.fromProto3JSON(this.statusType,_);if(!S)throw new Error(`Received error message ${_}, but failed to serialize as proto3 message`);return this.statusType.toObject(S,l.defaultToObjectOptions)}decodeHttpStatusDetails(_){const S=[];let v;for(const s of _)try{const d=this.decodeProtobufAny(s);S.push(d),s.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(v=d)}catch{}return{details:S,errorInfo:v}}}return googleError.GoogleErrorDecoder=f,googleError}var hasRequiredCall;function requireCall(){if(hasRequiredCall)return call$2;hasRequiredCall=1,Object.defineProperty(call$2,"__esModule",{value:!0}),call$2.OngoingCallPromise=call$2.OngoingCall=void 0;const e=requireStatus(),r=requireGoogleError();class o{constructor(f){this.callback=f,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const f=new r.GoogleError("cancelled");f.code=e.Status.CANCELLED,this.callback(f)}}call(f,O){if(this.completed)return;const _=f(O,(S,v,s,d)=>{this.completed=!0,setImmediate(this.callback,S,v,s,d)});_ instanceof Promise&&_.catch(S=>{setImmediate(this.callback,new r.GoogleError(S),null,null,null)}),this.cancelFunc=()=>_.cancel()}}call$2.OngoingCall=o;class l extends o{constructor(){let f,O;const _=(v,s,d,g)=>{if(v)v.metadata?O(r.GoogleError.parseGRPCStatusDetails(v)):O(v);else if(s!==void 0)f([s,d||null,g||null]);else throw new r.GoogleError("Neither error nor response are defined")},S=new Promise((v,s)=>{f=v,O=s});super(_),this.promise=S,this.promise.cancel=()=>{this.cancel()}}}return call$2.OngoingCallPromise=l,call$2}var hasRequiredNormalApiCaller;function requireNormalApiCaller(){if(hasRequiredNormalApiCaller)return normalApiCaller;hasRequiredNormalApiCaller=1,Object.defineProperty(normalApiCaller,"__esModule",{value:!0}),normalApiCaller.NormalApiCaller=void 0;const e=requireCall();class r{init(l){return l?new e.OngoingCall(l):new e.OngoingCallPromise}wrap(l){return l}call(l,p,f,O){O.call(l,p)}fail(l,p){l.callback(p)}result(l){return l.promise}}return normalApiCaller.NormalApiCaller=r,normalApiCaller}var hasRequiredApiCaller;function requireApiCaller(){if(hasRequiredApiCaller)return apiCaller;hasRequiredApiCaller=1,Object.defineProperty(apiCaller,"__esModule",{value:!0}),apiCaller.createAPICaller=r;const e=requireNormalApiCaller();function r(o,l){return l?l.getApiCaller(o):new e.NormalApiCaller}return apiCaller}var retries={},timeout={},hasRequiredTimeout;function requireTimeout(){if(hasRequiredTimeout)return timeout;hasRequiredTimeout=1,Object.defineProperty(timeout,"__esModule",{value:!0}),timeout.addTimeoutArg=e;function e(r,o,l,p){return(f,O)=>{const _=new Date,S=l.options||{};S.deadline=new Date(_.getTime()+o);const v=l.metadataBuilder?l.metadataBuilder(p,l.headers||{}):null;return r(f,v,S,O)}}return timeout}var hasRequiredRetries;function requireRetries(){if(hasRequiredRetries)return retries;hasRequiredRetries=1,Object.defineProperty(retries,"__esModule",{value:!0}),retries.retryable=l;const e=requireStatus(),r=requireGoogleError(),o=requireTimeout();function l(p,f,O,_){const S=f.backoffSettings.retryDelayMultiplier,v=f.backoffSettings.maxRetryDelayMillis,s=f.backoffSettings.rpcTimeoutMultiplier,d=f.backoffSettings.maxRpcTimeoutMillis;let g=f.backoffSettings.initialRetryDelayMillis,P=f.backoffSettings.initialRpcTimeoutMillis;return(R,I)=>{let j,L,G=new Date,J;f.backoffSettings.totalTimeoutMillis&&(J=G.getTime()+f.backoffSettings.totalTimeoutMillis);let Q=0;const W=f.backoffSettings.maxRetries;function Z(){if(L=null,J&&G.getTime()>=J){const ee=new r.GoogleError(`Total timeout of API ${_} exceeded ${f.backoffSettings.totalTimeoutMillis} milliseconds before any response was received.`);ee.code=e.Status.DEADLINE_EXCEEDED,I(ee);return}if(Q&&Q>=W){const ee=new r.GoogleError("Exceeded maximum number of retries before any response was received");ee.code=e.Status.DEADLINE_EXCEEDED,I(ee);return}Q++,j=(0,o.addTimeoutArg)(p,P,O)(R,(ee,ie,oe,se)=>{if(!ee){I(null,ie,oe,se);return}if(j=null,f.retryCodes.length>0&&f.retryCodes.indexOf(ee.code)<0)ee.note="Exception occurred in retry method that was not classified as transient",I(ee);else{const le=Math.random()*g;L=setTimeout(()=>{G=new Date,g=Math.min(g*S,v);const de=P&&s?P*s:0,pe=d||0,fe=J?J-G.getTime():0;P=Math.min(de,pe,fe),Z()},le)}}),j instanceof Promise&&j.catch(ee=>{I(new r.GoogleError(ee))})}if(W&&J){const te=new r.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");te.code=e.Status.INVALID_ARGUMENT,I(te)}else Z();return{cancel(){if(L&&clearTimeout(L),j)j.cancel();else{const te=new r.GoogleError("cancelled");te.code=e.Status.CANCELLED,I(te)}}}}}return retries}var streamingApiCaller={},streaming={},streamingRetryRequest={},hasRequiredStreamingRetryRequest;function requireStreamingRetryRequest(){if(hasRequiredStreamingRetryRequest)return streamingRetryRequest;hasRequiredStreamingRetryRequest=1,Object.defineProperty(streamingRetryRequest,"__esModule",{value:!0}),streamingRetryRequest.streamingRetryRequest=p;const{PassThrough:e}=require$$4$3,r={maxRetries:2},o=null,l=!0;function p(f){if(f=Object.assign({},r,f),f.request===void 0)throw new Error("A request function must be provided");let O=0,_=!1,S,v;const s=new e({objectMode:l});return d(),s;function d(){_=!1,v=new e({objectMode:l}),S=f.request(o),S.on("error",P=>{_||(_=!0,g(P))}).on("response",P=>{_||(_=!0,g(null,P))}),S.pipe(v)}function g(P,R=null){if(P){O++,O<=f.maxRetries?d():s.emit("error",P);return}s.emit("response",R),v.pipe(s),S.on("error",()=>{s.destroy()})}}return streamingRetryRequest}var readableBrowser={exports:{}},streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=require$$4$3.EventEmitter),streamBrowser}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(R,I){var j=Object.keys(R);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(R);I&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(R,G).enumerable})),j.push.apply(j,L)}return j}function r(R){for(var I=1;I<arguments.length;I++){var j=arguments[I]!=null?arguments[I]:{};I%2?e(Object(j),!0).forEach(function(L){o(R,L,j[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(j)):e(Object(j)).forEach(function(L){Object.defineProperty(R,L,Object.getOwnPropertyDescriptor(j,L))})}return R}function o(R,I,j){return I=O(I),I in R?Object.defineProperty(R,I,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[I]=j,R}function l(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function p(R,I){for(var j=0;j<I.length;j++){var L=I[j];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,O(L.key),L)}}function f(R,I,j){return I&&p(R.prototype,I),j&&p(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function O(R){var I=_(R,"string");return typeof I=="symbol"?I:String(I)}function _(R,I){if(typeof R!="object"||R===null)return R;var j=R[Symbol.toPrimitive];if(j!==void 0){var L=j.call(R,I||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(R)}var S=require$$4$3,v=S.Buffer,s=require$$4$3,d=s.inspect,g=d&&d.custom||"inspect";function P(R,I,j){v.prototype.copy.call(R,I,j)}return buffer_list=function(){function R(){l(this,R),this.head=null,this.tail=null,this.length=0}return f(R,[{key:"push",value:function(j){var L={data:j,next:null};this.length>0?this.tail.next=L:this.head=L,this.tail=L,++this.length}},{key:"unshift",value:function(j){var L={data:j,next:this.head};this.length===0&&(this.tail=L),this.head=L,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var L=this.head,G=""+L.data;L=L.next;)G+=j+L.data;return G}},{key:"concat",value:function(j){if(this.length===0)return v.alloc(0);for(var L=v.allocUnsafe(j>>>0),G=this.head,J=0;G;)P(G.data,L,J),J+=G.data.length,G=G.next;return L}},{key:"consume",value:function(j,L){var G;return j<this.head.data.length?(G=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?G=this.shift():G=L?this._getString(j):this._getBuffer(j),G}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var L=this.head,G=1,J=L.data;for(j-=J.length;L=L.next;){var Q=L.data,W=j>Q.length?Q.length:j;if(W===Q.length?J+=Q:J+=Q.slice(0,j),j-=W,j===0){W===Q.length?(++G,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=Q.slice(W));break}++G}return this.length-=G,J}},{key:"_getBuffer",value:function(j){var L=v.allocUnsafe(j),G=this.head,J=1;for(G.data.copy(L),j-=G.data.length;G=G.next;){var Q=G.data,W=j>Q.length?Q.length:j;if(Q.copy(L,L.length-j,0,W),j-=W,j===0){W===Q.length?(++J,G.next?this.head=G.next:this.head=this.tail=null):(this.head=G,G.data=Q.slice(W));break}++J}return this.length-=J,L}},{key:g,value:function(j,L){return d(this,r(r({},L),{},{depth:0,customInspect:!1}))}}]),R}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function e(O,_){var S=this,v=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return v||s?(_?_(O):O&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(p,this,O)):process.nextTick(p,this,O)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(O||null,function(d){!_&&d?S._writableState?S._writableState.errorEmitted?process.nextTick(o,S):(S._writableState.errorEmitted=!0,process.nextTick(r,S,d)):process.nextTick(r,S,d):_?(process.nextTick(o,S),_(d)):process.nextTick(o,S)}),this)}function r(O,_){p(O,_),o(O)}function o(O){O._writableState&&!O._writableState.emitClose||O._readableState&&!O._readableState.emitClose||O.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(O,_){O.emit("error",_)}function f(O,_){var S=O._readableState,v=O._writableState;S&&S.autoDestroy||v&&v.autoDestroy?O.destroy(_):O.emit("error",_)}return destroy_1={destroy:e,undestroy:l,errorOrDestroy:f},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function e(_,S){_.prototype=Object.create(S.prototype),_.prototype.constructor=_,_.__proto__=S}var r={};function o(_,S,v){v||(v=Error);function s(g,P,R){return typeof S=="string"?S:S(g,P,R)}var d=function(g){e(P,g);function P(R,I,j){return g.call(this,s(R,I,j))||this}return P}(v);d.prototype.name=v.name,d.prototype.code=_,r[_]=d}function l(_,S){if(Array.isArray(_)){var v=_.length;return _=_.map(function(s){return String(s)}),v>2?"one of ".concat(S," ").concat(_.slice(0,v-1).join(", "),", or ")+_[v-1]:v===2?"one of ".concat(S," ").concat(_[0]," or ").concat(_[1]):"of ".concat(S," ").concat(_[0])}else return"of ".concat(S," ").concat(String(_))}function p(_,S,v){return _.substr(!v||v<0?0:+v,S.length)===S}function f(_,S,v){return(v===void 0||v>_.length)&&(v=_.length),_.substring(v-S.length,v)===S}function O(_,S,v){return typeof v!="number"&&(v=0),v+S.length>_.length?!1:_.indexOf(S,v)!==-1}return o("ERR_INVALID_OPT_VALUE",function(_,S){return'The value "'+S+'" is invalid for option "'+_+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(_,S,v){var s;typeof S=="string"&&p(S,"not ")?(s="must not be",S=S.replace(/^not /,"")):s="must be";var d;if(f(_," argument"))d="The ".concat(_," ").concat(s," ").concat(l(S,"type"));else{var g=O(_,".")?"property":"argument";d='The "'.concat(_,'" ').concat(g," ").concat(s," ").concat(l(S,"type"))}return d+=". Received type ".concat(typeof v),d},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(_){return"The "+_+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(_){return"Cannot call "+_+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(_){return"Unknown encoding: "+_},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=r,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function r(l,p,f){return l.highWaterMark!=null?l.highWaterMark:p?l[f]:null}function o(l,p,f,O){var _=r(p,O,f);if(_!=null){if(!(isFinite(_)&&Math.floor(_)===_)||_<0){var S=O?f:"highWaterMark";throw new e(S,_)}return Math.floor(_)}return l.objectMode?16:16*1024}return state={getHighWaterMark:o},state}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(r,o){o&&(r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(r,o){if(o){r.super_=o;var l=function(){};l.prototype=o.prototype,r.prototype=new l,r.prototype.constructor=r}}),inherits_browser.exports}var browser$2,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$2;hasRequiredBrowser$1=1,browser$2=e;function e(o,l){if(r("noDeprecation"))return o;var p=!1;function f(){if(!p){if(r("throwDeprecation"))throw new Error(l);r("traceDeprecation")?console.trace(l):console.warn(l),p=!0}return o.apply(this,arguments)}return f}function r(o){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var l=commonjsGlobal.localStorage[o];return l==null?!1:String(l).toLowerCase()==="true"}return browser$2}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=ee;function e(Se){var Te=this;this.next=null,this.entry=null,this.finish=function(){Ce(Te,Se)}}var r;ee.WritableState=Z;var o={deprecate:requireBrowser$1()},l=requireStreamBrowser(),p=require$$4$3.Buffer,f=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function O(Se){return p.from(Se)}function _(Se){return p.isBuffer(Se)||Se instanceof f}var S=requireDestroy(),v=requireState(),s=v.getHighWaterMark,d=requireErrorsBrowser().codes,g=d.ERR_INVALID_ARG_TYPE,P=d.ERR_METHOD_NOT_IMPLEMENTED,R=d.ERR_MULTIPLE_CALLBACK,I=d.ERR_STREAM_CANNOT_PIPE,j=d.ERR_STREAM_DESTROYED,L=d.ERR_STREAM_NULL_VALUES,G=d.ERR_STREAM_WRITE_AFTER_END,J=d.ERR_UNKNOWN_ENCODING,Q=S.errorOrDestroy;requireInherits_browser()(ee,l);function W(){}function Z(Se,Te,Oe){r=r||require_stream_duplex(),Se=Se||{},typeof Oe!="boolean"&&(Oe=Te instanceof r),this.objectMode=!!Se.objectMode,Oe&&(this.objectMode=this.objectMode||!!Se.writableObjectMode),this.highWaterMark=s(this,Se,"writableHighWaterMark",Oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ce=Se.decodeStrings===!1;this.decodeStrings=!ce,this.defaultEncoding=Se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){he(Te,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Se.emitClose!==!1,this.autoDestroy=!!Se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}Z.prototype.getBuffer=function(){for(var Te=this.bufferedRequest,Oe=[];Te;)Oe.push(Te),Te=Te.next;return Oe},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var te;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(te=Function.prototype[Symbol.hasInstance],Object.defineProperty(ee,Symbol.hasInstance,{value:function(Te){return te.call(this,Te)?!0:this!==ee?!1:Te&&Te._writableState instanceof Z}})):te=function(Te){return Te instanceof this};function ee(Se){r=r||require_stream_duplex();var Te=this instanceof r;if(!Te&&!te.call(ee,this))return new ee(Se);this._writableState=new Z(Se,this,Te),this.writable=!0,Se&&(typeof Se.write=="function"&&(this._write=Se.write),typeof Se.writev=="function"&&(this._writev=Se.writev),typeof Se.destroy=="function"&&(this._destroy=Se.destroy),typeof Se.final=="function"&&(this._final=Se.final)),l.call(this)}ee.prototype.pipe=function(){Q(this,new I)};function ie(Se,Te){var Oe=new G;Q(Se,Oe),process.nextTick(Te,Oe)}function oe(Se,Te,Oe,ce){var k;return Oe===null?k=new L:typeof Oe!="string"&&!Te.objectMode&&(k=new g("chunk",["string","Buffer"],Oe)),k?(Q(Se,k),process.nextTick(ce,k),!1):!0}ee.prototype.write=function(Se,Te,Oe){var ce=this._writableState,k=!1,F=!ce.objectMode&&_(Se);return F&&!p.isBuffer(Se)&&(Se=O(Se)),typeof Te=="function"&&(Oe=Te,Te=null),F?Te="buffer":Te||(Te=ce.defaultEncoding),typeof Oe!="function"&&(Oe=W),ce.ending?ie(this,Oe):(F||oe(this,ce,Se,Oe))&&(ce.pendingcb++,k=le(this,ce,F,Se,Te,Oe)),k},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){var Se=this._writableState;Se.corked&&(Se.corked--,!Se.writing&&!Se.corked&&!Se.bufferProcessing&&Se.bufferedRequest&&ye(this,Se))},ee.prototype.setDefaultEncoding=function(Te){if(typeof Te=="string"&&(Te=Te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Te+"").toLowerCase())>-1))throw new J(Te);return this._writableState.defaultEncoding=Te,this},Object.defineProperty(ee.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function se(Se,Te,Oe){return!Se.objectMode&&Se.decodeStrings!==!1&&typeof Te=="string"&&(Te=p.from(Te,Oe)),Te}Object.defineProperty(ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function le(Se,Te,Oe,ce,k,F){if(!Oe){var V=se(Te,ce,k);ce!==V&&(Oe=!0,k="buffer",ce=V)}var ne=Te.objectMode?1:ce.length;Te.length+=ne;var ue=Te.length<Te.highWaterMark;if(ue||(Te.needDrain=!0),Te.writing||Te.corked){var we=Te.lastBufferedRequest;Te.lastBufferedRequest={chunk:ce,encoding:k,isBuf:Oe,callback:F,next:null},we?we.next=Te.lastBufferedRequest:Te.bufferedRequest=Te.lastBufferedRequest,Te.bufferedRequestCount+=1}else de(Se,Te,!1,ne,ce,k,F);return ue}function de(Se,Te,Oe,ce,k,F,V){Te.writelen=ce,Te.writecb=V,Te.writing=!0,Te.sync=!0,Te.destroyed?Te.onwrite(new j("write")):Oe?Se._writev(k,Te.onwrite):Se._write(k,F,Te.onwrite),Te.sync=!1}function pe(Se,Te,Oe,ce,k){--Te.pendingcb,Oe?(process.nextTick(k,ce),process.nextTick(Ne,Se,Te),Se._writableState.errorEmitted=!0,Q(Se,ce)):(k(ce),Se._writableState.errorEmitted=!0,Q(Se,ce),Ne(Se,Te))}function fe(Se){Se.writing=!1,Se.writecb=null,Se.length-=Se.writelen,Se.writelen=0}function he(Se,Te){var Oe=Se._writableState,ce=Oe.sync,k=Oe.writecb;if(typeof k!="function")throw new R;if(fe(Oe),Te)pe(Se,Oe,ce,Te,k);else{var F=ve(Oe)||Se.destroyed;!F&&!Oe.corked&&!Oe.bufferProcessing&&Oe.bufferedRequest&&ye(Se,Oe),ce?process.nextTick(ge,Se,Oe,F,k):ge(Se,Oe,F,k)}}function ge(Se,Te,Oe,ce){Oe||me(Se,Te),Te.pendingcb--,ce(),Ne(Se,Te)}function me(Se,Te){Te.length===0&&Te.needDrain&&(Te.needDrain=!1,Se.emit("drain"))}function ye(Se,Te){Te.bufferProcessing=!0;var Oe=Te.bufferedRequest;if(Se._writev&&Oe&&Oe.next){var ce=Te.bufferedRequestCount,k=new Array(ce),F=Te.corkedRequestsFree;F.entry=Oe;for(var V=0,ne=!0;Oe;)k[V]=Oe,Oe.isBuf||(ne=!1),Oe=Oe.next,V+=1;k.allBuffers=ne,de(Se,Te,!0,Te.length,k,"",F.finish),Te.pendingcb++,Te.lastBufferedRequest=null,F.next?(Te.corkedRequestsFree=F.next,F.next=null):Te.corkedRequestsFree=new e(Te),Te.bufferedRequestCount=0}else{for(;Oe;){var ue=Oe.chunk,we=Oe.encoding,be=Oe.callback,N=Te.objectMode?1:ue.length;if(de(Se,Te,!1,N,ue,we,be),Oe=Oe.next,Te.bufferedRequestCount--,Te.writing)break}Oe===null&&(Te.lastBufferedRequest=null)}Te.bufferedRequest=Oe,Te.bufferProcessing=!1}ee.prototype._write=function(Se,Te,Oe){Oe(new P("_write()"))},ee.prototype._writev=null,ee.prototype.end=function(Se,Te,Oe){var ce=this._writableState;return typeof Se=="function"?(Oe=Se,Se=null,Te=null):typeof Te=="function"&&(Oe=Te,Te=null),Se!=null&&this.write(Se,Te),ce.corked&&(ce.corked=1,this.uncork()),ce.ending||Ee(this,ce,Oe),this},Object.defineProperty(ee.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ve(Se){return Se.ending&&Se.length===0&&Se.bufferedRequest===null&&!Se.finished&&!Se.writing}function Ae(Se,Te){Se._final(function(Oe){Te.pendingcb--,Oe&&Q(Se,Oe),Te.prefinished=!0,Se.emit("prefinish"),Ne(Se,Te)})}function Pe(Se,Te){!Te.prefinished&&!Te.finalCalled&&(typeof Se._final=="function"&&!Te.destroyed?(Te.pendingcb++,Te.finalCalled=!0,process.nextTick(Ae,Se,Te)):(Te.prefinished=!0,Se.emit("prefinish")))}function Ne(Se,Te){var Oe=ve(Te);if(Oe&&(Pe(Se,Te),Te.pendingcb===0&&(Te.finished=!0,Se.emit("finish"),Te.autoDestroy))){var ce=Se._readableState;(!ce||ce.autoDestroy&&ce.endEmitted)&&Se.destroy()}return Oe}function Ee(Se,Te,Oe){Te.ending=!0,Ne(Se,Te),Oe&&(Te.finished?process.nextTick(Oe):Se.once("finish",Oe)),Te.ended=!0,Se.writable=!1}function Ce(Se,Te,Oe){var ce=Se.entry;for(Se.entry=null;ce;){var k=ce.callback;Te.pendingcb--,k(Oe),ce=ce.next}Te.corkedRequestsFree.next=Se}return Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Te){this._writableState&&(this._writableState.destroyed=Te)}}),ee.prototype.destroy=S.destroy,ee.prototype._undestroy=S.undestroy,ee.prototype._destroy=function(Se,Te){Te(Se)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=Object.keys||function(v){var s=[];for(var d in v)s.push(d);return s};_stream_duplex=O;var r=require_stream_readable(),o=require_stream_writable();requireInherits_browser()(O,r);for(var l=e(o.prototype),p=0;p<l.length;p++){var f=l[p];O.prototype[f]||(O.prototype[f]=o.prototype[f])}function O(v){if(!(this instanceof O))return new O(v);r.call(this,v),o.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||process.nextTick(S,this)}function S(v){v.end()}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=s,this._writableState.destroyed=s)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=requireSafeBuffer().Buffer,r=e.isEncoding||function(L){switch(L=""+L,L&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(L){if(!L)return"utf8";for(var G;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(G)return;L=(""+L).toLowerCase(),G=!0}}function l(L){var G=o(L);if(typeof G!="string"&&(e.isEncoding===r||!r(L)))throw new Error("Unknown encoding: "+L);return G||L}string_decoder.StringDecoder=p;function p(L){this.encoding=l(L);var G;switch(this.encoding){case"utf16le":this.text=d,this.end=g,G=4;break;case"utf8":this.fillLast=S,G=4;break;case"base64":this.text=P,this.end=R,G=3;break;default:this.write=I,this.end=j;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(G)}p.prototype.write=function(L){if(L.length===0)return"";var G,J;if(this.lastNeed){if(G=this.fillLast(L),G===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<L.length?G?G+this.text(L,J):this.text(L,J):G||""},p.prototype.end=s,p.prototype.text=v,p.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length};function f(L){return L<=127?0:L>>5===6?2:L>>4===14?3:L>>3===30?4:L>>6===2?-1:-2}function O(L,G,J){var Q=G.length-1;if(Q<J)return 0;var W=f(G[Q]);return W>=0?(W>0&&(L.lastNeed=W-1),W):--Q<J||W===-2?0:(W=f(G[Q]),W>=0?(W>0&&(L.lastNeed=W-2),W):--Q<J||W===-2?0:(W=f(G[Q]),W>=0?(W>0&&(W===2?W=0:L.lastNeed=W-3),W):0))}function _(L,G,J){if((G[0]&192)!==128)return L.lastNeed=0,"�";if(L.lastNeed>1&&G.length>1){if((G[1]&192)!==128)return L.lastNeed=1,"�";if(L.lastNeed>2&&G.length>2&&(G[2]&192)!==128)return L.lastNeed=2,"�"}}function S(L){var G=this.lastTotal-this.lastNeed,J=_(this,L);if(J!==void 0)return J;if(this.lastNeed<=L.length)return L.copy(this.lastChar,G,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,G,0,L.length),this.lastNeed-=L.length}function v(L,G){var J=O(this,L,G);if(!this.lastNeed)return L.toString("utf8",G);this.lastTotal=J;var Q=L.length-(J-this.lastNeed);return L.copy(this.lastChar,0,Q),L.toString("utf8",G,Q)}function s(L){var G=L&&L.length?this.write(L):"";return this.lastNeed?G+"�":G}function d(L,G){if((L.length-G)%2===0){var J=L.toString("utf16le",G);if(J){var Q=J.charCodeAt(J.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",G,L.length-1)}function g(L){var G=L&&L.length?this.write(L):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return G+this.lastChar.toString("utf16le",0,J)}return G}function P(L,G){var J=(L.length-G)%3;return J===0?L.toString("base64",G):(this.lastNeed=3-J,this.lastTotal=3,J===1?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",G,L.length-J))}function R(L){var G=L&&L.length?this.write(L):"";return this.lastNeed?G+this.lastChar.toString("base64",0,3-this.lastNeed):G}function I(L){return L.toString(this.encoding)}function j(L){return L&&L.length?this.write(L):""}return string_decoder}var endOfStream$1,hasRequiredEndOfStream$1;function requireEndOfStream$1(){if(hasRequiredEndOfStream$1)return endOfStream$1;hasRequiredEndOfStream$1=1;var e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function r(f){var O=!1;return function(){if(!O){O=!0;for(var _=arguments.length,S=new Array(_),v=0;v<_;v++)S[v]=arguments[v];f.apply(this,S)}}}function o(){}function l(f){return f.setHeader&&typeof f.abort=="function"}function p(f,O,_){if(typeof O=="function")return p(f,null,O);O||(O={}),_=r(_||o);var S=O.readable||O.readable!==!1&&f.readable,v=O.writable||O.writable!==!1&&f.writable,s=function(){f.writable||g()},d=f._writableState&&f._writableState.finished,g=function(){v=!1,d=!0,S||_.call(f)},P=f._readableState&&f._readableState.endEmitted,R=function(){S=!1,P=!0,v||_.call(f)},I=function(J){_.call(f,J)},j=function(){var J;if(S&&!P)return(!f._readableState||!f._readableState.ended)&&(J=new e),_.call(f,J);if(v&&!d)return(!f._writableState||!f._writableState.ended)&&(J=new e),_.call(f,J)},L=function(){f.req.on("finish",g)};return l(f)?(f.on("complete",g),f.on("abort",j),f.req?L():f.on("request",L)):v&&!f._writableState&&(f.on("end",s),f.on("close",s)),f.on("end",R),f.on("finish",g),O.error!==!1&&f.on("error",I),f.on("close",j),function(){f.removeListener("complete",g),f.removeListener("abort",j),f.removeListener("request",L),f.req&&f.req.removeListener("finish",g),f.removeListener("end",s),f.removeListener("close",s),f.removeListener("finish",g),f.removeListener("end",R),f.removeListener("error",I),f.removeListener("close",j)}}return endOfStream$1=p,endOfStream$1}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function r(J,Q,W){return Q=o(Q),Q in J?Object.defineProperty(J,Q,{value:W,enumerable:!0,configurable:!0,writable:!0}):J[Q]=W,J}function o(J){var Q=l(J,"string");return typeof Q=="symbol"?Q:String(Q)}function l(J,Q){if(typeof J!="object"||J===null)return J;var W=J[Symbol.toPrimitive];if(W!==void 0){var Z=W.call(J,Q||"default");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(J)}var p=requireEndOfStream$1(),f=Symbol("lastResolve"),O=Symbol("lastReject"),_=Symbol("error"),S=Symbol("ended"),v=Symbol("lastPromise"),s=Symbol("handlePromise"),d=Symbol("stream");function g(J,Q){return{value:J,done:Q}}function P(J){var Q=J[f];if(Q!==null){var W=J[d].read();W!==null&&(J[v]=null,J[f]=null,J[O]=null,Q(g(W,!1)))}}function R(J){process.nextTick(P,J)}function I(J,Q){return function(W,Z){J.then(function(){if(Q[S]){W(g(void 0,!0));return}Q[s](W,Z)},Z)}}var j=Object.getPrototypeOf(function(){}),L=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var Q=this,W=this[_];if(W!==null)return Promise.reject(W);if(this[S])return Promise.resolve(g(void 0,!0));if(this[d].destroyed)return new Promise(function(ie,oe){process.nextTick(function(){Q[_]?oe(Q[_]):ie(g(void 0,!0))})});var Z=this[v],te;if(Z)te=new Promise(I(Z,this));else{var ee=this[d].read();if(ee!==null)return Promise.resolve(g(ee,!1));te=new Promise(this[s])}return this[v]=te,te}},r(e,Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var Q=this;return new Promise(function(W,Z){Q[d].destroy(null,function(te){if(te){Z(te);return}W(g(void 0,!0))})})}),e),j),G=function(Q){var W,Z=Object.create(L,(W={},r(W,d,{value:Q,writable:!0}),r(W,f,{value:null,writable:!0}),r(W,O,{value:null,writable:!0}),r(W,_,{value:null,writable:!0}),r(W,S,{value:Q._readableState.endEmitted,writable:!0}),r(W,s,{value:function(ee,ie){var oe=Z[d].read();oe?(Z[v]=null,Z[f]=null,Z[O]=null,ee(g(oe,!1))):(Z[f]=ee,Z[O]=ie)},writable:!0}),W));return Z[v]=null,p(Q,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=Z[O];ee!==null&&(Z[v]=null,Z[f]=null,Z[O]=null,ee(te)),Z[_]=te;return}var ie=Z[f];ie!==null&&(Z[v]=null,Z[f]=null,Z[O]=null,ie(g(void 0,!0))),Z[S]=!0}),Q.on("readable",R.bind(null,Z)),Z};return async_iterator=G,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=ie;var e;ie.ReadableState=ee,require$$4$3.EventEmitter;var r=function(V,ne){return V.listeners(ne).length},o=requireStreamBrowser(),l=require$$4$3.Buffer,p=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(F){return l.from(F)}function O(F){return l.isBuffer(F)||F instanceof p}var _=require$$4$3,S;_&&_.debuglog?S=_.debuglog("stream"):S=function(){};var v=requireBuffer_list(),s=requireDestroy(),d=requireState(),g=d.getHighWaterMark,P=requireErrorsBrowser().codes,R=P.ERR_INVALID_ARG_TYPE,I=P.ERR_STREAM_PUSH_AFTER_EOF,j=P.ERR_METHOD_NOT_IMPLEMENTED,L=P.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,G,J,Q;requireInherits_browser()(ie,o);var W=s.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function te(F,V,ne){if(typeof F.prependListener=="function")return F.prependListener(V,ne);!F._events||!F._events[V]?F.on(V,ne):Array.isArray(F._events[V])?F._events[V].unshift(ne):F._events[V]=[ne,F._events[V]]}function ee(F,V,ne){e=e||require_stream_duplex(),F=F||{},typeof ne!="boolean"&&(ne=V instanceof e),this.objectMode=!!F.objectMode,ne&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=g(this,F,"readableHighWaterMark",ne),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(G||(G=requireString_decoder().StringDecoder),this.decoder=new G(F.encoding),this.encoding=F.encoding)}function ie(F){if(e=e||require_stream_duplex(),!(this instanceof ie))return new ie(F);var V=this instanceof e;this._readableState=new ee(F,this,V),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),o.call(this)}Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),ie.prototype.destroy=s.destroy,ie.prototype._undestroy=s.undestroy,ie.prototype._destroy=function(F,V){V(F)},ie.prototype.push=function(F,V){var ne=this._readableState,ue;return ne.objectMode?ue=!0:typeof F=="string"&&(V=V||ne.defaultEncoding,V!==ne.encoding&&(F=l.from(F,V),V=""),ue=!0),oe(this,F,V,!1,ue)},ie.prototype.unshift=function(F){return oe(this,F,null,!0,!1)};function oe(F,V,ne,ue,we){S("readableAddChunk",V);var be=F._readableState;if(V===null)be.reading=!1,he(F,be);else{var N;if(we||(N=le(be,V)),N)W(F,N);else if(be.objectMode||V&&V.length>0)if(typeof V!="string"&&!be.objectMode&&Object.getPrototypeOf(V)!==l.prototype&&(V=f(V)),ue)be.endEmitted?W(F,new L):se(F,be,V,!0);else if(be.ended)W(F,new I);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!ne?(V=be.decoder.write(V),be.objectMode||V.length!==0?se(F,be,V,!1):ye(F,be)):se(F,be,V,!1)}else ue||(be.reading=!1,ye(F,be))}return!be.ended&&(be.length<be.highWaterMark||be.length===0)}function se(F,V,ne,ue){V.flowing&&V.length===0&&!V.sync?(V.awaitDrain=0,F.emit("data",ne)):(V.length+=V.objectMode?1:ne.length,ue?V.buffer.unshift(ne):V.buffer.push(ne),V.needReadable&&ge(F)),ye(F,V)}function le(F,V){var ne;return!O(V)&&typeof V!="string"&&V!==void 0&&!F.objectMode&&(ne=new R("chunk",["string","Buffer","Uint8Array"],V)),ne}ie.prototype.isPaused=function(){return this._readableState.flowing===!1},ie.prototype.setEncoding=function(F){G||(G=requireString_decoder().StringDecoder);var V=new G(F);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;for(var ne=this._readableState.buffer.head,ue="";ne!==null;)ue+=V.write(ne.data),ne=ne.next;return this._readableState.buffer.clear(),ue!==""&&this._readableState.buffer.push(ue),this._readableState.length=ue.length,this};var de=1073741824;function pe(F){return F>=de?F=de:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function fe(F,V){return F<=0||V.length===0&&V.ended?0:V.objectMode?1:F!==F?V.flowing&&V.length?V.buffer.head.data.length:V.length:(F>V.highWaterMark&&(V.highWaterMark=pe(F)),F<=V.length?F:V.ended?V.length:(V.needReadable=!0,0))}ie.prototype.read=function(F){S("read",F),F=parseInt(F,10);var V=this._readableState,ne=F;if(F!==0&&(V.emittedReadable=!1),F===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return S("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?Oe(this):ge(this),null;if(F=fe(F,V),F===0&&V.ended)return V.length===0&&Oe(this),null;var ue=V.needReadable;S("need readable",ue),(V.length===0||V.length-F<V.highWaterMark)&&(ue=!0,S("length less than watermark",ue)),V.ended||V.reading?(ue=!1,S("reading or ended",ue)):ue&&(S("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(F=fe(ne,V)));var we;return F>0?we=Te(F,V):we=null,we===null?(V.needReadable=V.length<=V.highWaterMark,F=0):(V.length-=F,V.awaitDrain=0),V.length===0&&(V.ended||(V.needReadable=!0),ne!==F&&V.ended&&Oe(this)),we!==null&&this.emit("data",we),we};function he(F,V){if(S("onEofChunk"),!V.ended){if(V.decoder){var ne=V.decoder.end();ne&&ne.length&&(V.buffer.push(ne),V.length+=V.objectMode?1:ne.length)}V.ended=!0,V.sync?ge(F):(V.needReadable=!1,V.emittedReadable||(V.emittedReadable=!0,me(F)))}}function ge(F){var V=F._readableState;S("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(S("emitReadable",V.flowing),V.emittedReadable=!0,process.nextTick(me,F))}function me(F){var V=F._readableState;S("emitReadable_",V.destroyed,V.length,V.ended),!V.destroyed&&(V.length||V.ended)&&(F.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,Se(F)}function ye(F,V){V.readingMore||(V.readingMore=!0,process.nextTick(ve,F,V))}function ve(F,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){var ne=V.length;if(S("maybeReadMore read 0"),F.read(0),ne===V.length)break}V.readingMore=!1}ie.prototype._read=function(F){W(this,new j("_read()"))},ie.prototype.pipe=function(F,V){var ne=this,ue=this._readableState;switch(ue.pipesCount){case 0:ue.pipes=F;break;case 1:ue.pipes=[ue.pipes,F];break;default:ue.pipes.push(F);break}ue.pipesCount+=1,S("pipe count=%d opts=%j",ue.pipesCount,V);var we=(!V||V.end!==!1)&&F!==process.stdout&&F!==process.stderr,be=we?q:Ue;ue.endEmitted?process.nextTick(be):ne.once("end",be),F.on("unpipe",N);function N(Fe,Be){S("onunpipe"),Fe===ne&&Be&&Be.hasUnpiped===!1&&(Be.hasUnpiped=!0,U())}function q(){S("onend"),F.end()}var H=Ae(ne);F.on("drain",H);var T=!1;function U(){S("cleanup"),F.removeListener("close",xe),F.removeListener("finish",Le),F.removeListener("drain",H),F.removeListener("error",ae),F.removeListener("unpipe",N),ne.removeListener("end",q),ne.removeListener("end",Ue),ne.removeListener("data",z),T=!0,ue.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&H()}ne.on("data",z);function z(Fe){S("ondata");var Be=F.write(Fe);S("dest.write",Be),Be===!1&&((ue.pipesCount===1&&ue.pipes===F||ue.pipesCount>1&&k(ue.pipes,F)!==-1)&&!T&&(S("false write response, pause",ue.awaitDrain),ue.awaitDrain++),ne.pause())}function ae(Fe){S("onerror",Fe),Ue(),F.removeListener("error",ae),r(F,"error")===0&&W(F,Fe)}te(F,"error",ae);function xe(){F.removeListener("finish",Le),Ue()}F.once("close",xe);function Le(){S("onfinish"),F.removeListener("close",xe),Ue()}F.once("finish",Le);function Ue(){S("unpipe"),ne.unpipe(F)}return F.emit("pipe",ne),ue.flowing||(S("pipe resume"),ne.resume()),F};function Ae(F){return function(){var ne=F._readableState;S("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&r(F,"data")&&(ne.flowing=!0,Se(F))}}ie.prototype.unpipe=function(F){var V=this._readableState,ne={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return F&&F!==V.pipes?this:(F||(F=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,F&&F.emit("unpipe",this,ne),this);if(!F){var ue=V.pipes,we=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var be=0;be<we;be++)ue[be].emit("unpipe",this,{hasUnpiped:!1});return this}var N=k(V.pipes,F);return N===-1?this:(V.pipes.splice(N,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),F.emit("unpipe",this,ne),this)},ie.prototype.on=function(F,V){var ne=o.prototype.on.call(this,F,V),ue=this._readableState;return F==="data"?(ue.readableListening=this.listenerCount("readable")>0,ue.flowing!==!1&&this.resume()):F==="readable"&&!ue.endEmitted&&!ue.readableListening&&(ue.readableListening=ue.needReadable=!0,ue.flowing=!1,ue.emittedReadable=!1,S("on readable",ue.length,ue.reading),ue.length?ge(this):ue.reading||process.nextTick(Ne,this)),ne},ie.prototype.addListener=ie.prototype.on,ie.prototype.removeListener=function(F,V){var ne=o.prototype.removeListener.call(this,F,V);return F==="readable"&&process.nextTick(Pe,this),ne},ie.prototype.removeAllListeners=function(F){var V=o.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&process.nextTick(Pe,this),V};function Pe(F){var V=F._readableState;V.readableListening=F.listenerCount("readable")>0,V.resumeScheduled&&!V.paused?V.flowing=!0:F.listenerCount("data")>0&&F.resume()}function Ne(F){S("readable nexttick read 0"),F.read(0)}ie.prototype.resume=function(){var F=this._readableState;return F.flowing||(S("resume"),F.flowing=!F.readableListening,Ee(this,F)),F.paused=!1,this};function Ee(F,V){V.resumeScheduled||(V.resumeScheduled=!0,process.nextTick(Ce,F,V))}function Ce(F,V){S("resume",V.reading),V.reading||F.read(0),V.resumeScheduled=!1,F.emit("resume"),Se(F),V.flowing&&!V.reading&&F.read(0)}ie.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Se(F){var V=F._readableState;for(S("flow",V.flowing);V.flowing&&F.read()!==null;);}ie.prototype.wrap=function(F){var V=this,ne=this._readableState,ue=!1;F.on("end",function(){if(S("wrapped end"),ne.decoder&&!ne.ended){var N=ne.decoder.end();N&&N.length&&V.push(N)}V.push(null)}),F.on("data",function(N){if(S("wrapped data"),ne.decoder&&(N=ne.decoder.write(N)),!(ne.objectMode&&N==null)&&!(!ne.objectMode&&(!N||!N.length))){var q=V.push(N);q||(ue=!0,F.pause())}});for(var we in F)this[we]===void 0&&typeof F[we]=="function"&&(this[we]=function(q){return function(){return F[q].apply(F,arguments)}}(we));for(var be=0;be<Z.length;be++)F.on(Z[be],this.emit.bind(this,Z[be]));return this._read=function(N){S("wrapped _read",N),ue&&(ue=!1,F.resume())},this},typeof Symbol=="function"&&(ie.prototype[Symbol.asyncIterator]=function(){return J===void 0&&(J=requireAsync_iterator()),J(this)}),Object.defineProperty(ie.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ie.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ie.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),ie._fromList=Te,Object.defineProperty(ie.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Te(F,V){if(V.length===0)return null;var ne;return V.objectMode?ne=V.buffer.shift():!F||F>=V.length?(V.decoder?ne=V.buffer.join(""):V.buffer.length===1?ne=V.buffer.first():ne=V.buffer.concat(V.length),V.buffer.clear()):ne=V.buffer.consume(F,V.decoder),ne}function Oe(F){var V=F._readableState;S("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,process.nextTick(ce,V,F))}function ce(F,V){if(S("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,V.readable=!1,V.emit("end"),F.autoDestroy)){var ne=V._writableState;(!ne||ne.autoDestroy&&ne.finished)&&V.destroy()}}typeof Symbol=="function"&&(ie.from=function(F,V){return Q===void 0&&(Q=requireFromBrowser()),Q(ie,F,V)});function k(F,V){for(var ne=0,ue=F.length;ne<ue;ne++)if(F[ne]===V)return ne;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=_;var e=requireErrorsBrowser().codes,r=e.ERR_METHOD_NOT_IMPLEMENTED,o=e.ERR_MULTIPLE_CALLBACK,l=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,p=e.ERR_TRANSFORM_WITH_LENGTH_0,f=require_stream_duplex();requireInherits_browser()(_,f);function O(s,d){var g=this._transformState;g.transforming=!1;var P=g.writecb;if(P===null)return this.emit("error",new o);g.writechunk=null,g.writecb=null,d!=null&&this.push(d),P(s);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function _(s){if(!(this instanceof _))return new _(s);f.call(this,s),this._transformState={afterTransform:O.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&(typeof s.transform=="function"&&(this._transform=s.transform),typeof s.flush=="function"&&(this._flush=s.flush)),this.on("prefinish",S)}function S(){var s=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,g){v(s,d,g)}):v(this,null,null)}_.prototype.push=function(s,d){return this._transformState.needTransform=!1,f.prototype.push.call(this,s,d)},_.prototype._transform=function(s,d,g){g(new r("_transform()"))},_.prototype._write=function(s,d,g){var P=this._transformState;if(P.writecb=g,P.writechunk=s,P.writeencoding=d,!P.transforming){var R=this._readableState;(P.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},_.prototype._read=function(s){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},_.prototype._destroy=function(s,d){f.prototype._destroy.call(this,s,function(g){d(g)})};function v(s,d,g){if(d)return s.emit("error",d);if(g!=null&&s.push(g),s._writableState.length)throw new p;if(s._transformState.transforming)throw new l;return s.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=r;var e=require_stream_transform();requireInherits_browser()(r,e);function r(o){if(!(this instanceof r))return new r(o);e.call(this,o)}return r.prototype._transform=function(o,l,p){p(null,o)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var e;function r(g){var P=!1;return function(){P||(P=!0,g.apply(void 0,arguments))}}var o=requireErrorsBrowser().codes,l=o.ERR_MISSING_ARGS,p=o.ERR_STREAM_DESTROYED;function f(g){if(g)throw g}function O(g){return g.setHeader&&typeof g.abort=="function"}function _(g,P,R,I){I=r(I);var j=!1;g.on("close",function(){j=!0}),e===void 0&&(e=requireEndOfStream$1()),e(g,{readable:P,writable:R},function(G){if(G)return I(G);j=!0,I()});var L=!1;return function(G){if(!j&&!L){if(L=!0,O(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();I(G||new p("pipe"))}}}function S(g){g()}function v(g,P){return g.pipe(P)}function s(g){return!g.length||typeof g[g.length-1]!="function"?f:g.pop()}function d(){for(var g=arguments.length,P=new Array(g),R=0;R<g;R++)P[R]=arguments[R];var I=s(P);if(Array.isArray(P[0])&&(P=P[0]),P.length<2)throw new l("streams");var j,L=P.map(function(G,J){var Q=J<P.length-1,W=J>0;return _(G,Q,W,function(Z){j||(j=Z),Z&&L.forEach(S),!Q&&(L.forEach(S),I(j))})});return P.reduce(v)}return pipeline_1=d,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(e,r){r=e.exports=require_stream_readable(),r.Stream=r,r.Readable=r,r.Writable=require_stream_writable(),r.Duplex=require_stream_duplex(),r.Transform=require_stream_transform(),r.PassThrough=require_stream_passthrough(),r.finished=requireEndOfStream$1(),r.pipeline=requirePipeline()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var once={exports:{}},wrappy_1,hasRequiredWrappy;function requireWrappy(){if(hasRequiredWrappy)return wrappy_1;hasRequiredWrappy=1,wrappy_1=e;function e(r,o){if(r&&o)return e(r)(o);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(p){l[p]=r[p]}),l;function l(){for(var p=new Array(arguments.length),f=0;f<p.length;f++)p[f]=arguments[f];var O=r.apply(this,p),_=p[p.length-1];return typeof O=="function"&&O!==_&&Object.keys(_).forEach(function(S){O[S]=_[S]}),O}}return wrappy_1}var hasRequiredOnce;function requireOnce(){if(hasRequiredOnce)return once.exports;hasRequiredOnce=1;var e=requireWrappy();once.exports=e(r),once.exports.strict=e(o),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})});function r(l){var p=function(){return p.called?p.value:(p.called=!0,p.value=l.apply(this,arguments))};return p.called=!1,p}function o(l){var p=function(){if(p.called)throw new Error(p.onceError);return p.called=!0,p.value=l.apply(this,arguments)},f=l.name||"Function wrapped with `once`";return p.onceError=f+" shouldn't be called more than once",p.called=!1,p}return once.exports}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var e=requireOnce(),r=function(){},o=function(f){return f.setHeader&&typeof f.abort=="function"},l=function(f){return f.stdio&&Array.isArray(f.stdio)&&f.stdio.length===3},p=function(f,O,_){if(typeof O=="function")return p(f,null,O);O||(O={}),_=e(_||r);var S=f._writableState,v=f._readableState,s=O.readable||O.readable!==!1&&f.readable,d=O.writable||O.writable!==!1&&f.writable,g=!1,P=function(){f.writable||R()},R=function(){d=!1,s||_.call(f)},I=function(){s=!1,d||_.call(f)},j=function(W){_.call(f,W?new Error("exited with error code: "+W):null)},L=function(W){_.call(f,W)},G=function(){process.nextTick(J)},J=function(){if(!g){if(s&&!(v&&v.ended&&!v.destroyed))return _.call(f,new Error("premature close"));if(d&&!(S&&S.ended&&!S.destroyed))return _.call(f,new Error("premature close"))}},Q=function(){f.req.on("finish",R)};return o(f)?(f.on("complete",R),f.on("abort",G),f.req?Q():f.on("request",Q)):d&&!S&&(f.on("end",P),f.on("close",P)),l(f)&&f.on("exit",j),f.on("end",I),f.on("finish",R),O.error!==!1&&f.on("error",L),f.on("close",G),function(){g=!0,f.removeListener("complete",R),f.removeListener("abort",G),f.removeListener("request",Q),f.req&&f.req.removeListener("finish",R),f.removeListener("end",P),f.removeListener("close",P),f.removeListener("finish",R),f.removeListener("exit",j),f.removeListener("end",I),f.removeListener("error",L),f.removeListener("close",G)}};return endOfStream=p,endOfStream}var streamShift,hasRequiredStreamShift;function requireStreamShift(){if(hasRequiredStreamShift)return streamShift;hasRequiredStreamShift=1,streamShift=e;function e(o){var l=o._readableState;return l?l.objectMode||typeof o._duplexState=="number"?o.read():o.read(r(l)):null}function r(o){if(o.buffer.length){var l=o.bufferIndex||0;if(o.buffer.head)return o.buffer.head.data.length;if(o.buffer.length-l>0&&o.buffer[l])return o.buffer[l].length}return o.length}return streamShift}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;var e=requireReadableBrowser(),r=requireEndOfStream(),o=requireInherits_browser(),l=requireStreamShift(),p=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),f=function(g,P){g._corked?g.once("uncork",P):P()},O=function(g,P){g._autoDestroy&&g.destroy(P)},_=function(g,P){return function(R){R?O(g,R.message==="premature close"?null:R):P&&!g._ended&&g.end()}},S=function(g,P){if(!g||g._writableState&&g._writableState.finished)return P();if(g._writableState)return g.end(P);g.end(),P()},v=function(){},s=function(g){return new e.Readable({objectMode:!0,highWaterMark:16}).wrap(g)},d=function(g,P,R){if(!(this instanceof d))return new d(g,P,R);e.Duplex.call(this,R),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!R||R.autoDestroy!==!1,this._forwardDestroy=!R||R.destroy!==!1,this._forwardEnd=!R||R.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,g&&this.setWritable(g),P&&this.setReadable(P)};return o(d,e.Duplex),d.obj=function(g,P,R){return R||(R={}),R.objectMode=!0,R.highWaterMark=16,new d(g,P,R)},d.prototype.cork=function(){++this._corked===1&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},d.prototype.setWritable=function(g){if(this._unwrite&&this._unwrite(),this.destroyed){g&&g.destroy&&g.destroy();return}if(g===null||g===!1){this.end();return}var P=this,R=r(g,{writable:!0,readable:!1},_(this,this._forwardEnd)),I=function(){var L=P._ondrain;P._ondrain=null,L&&L()},j=function(){P._writable.removeListener("drain",I),R()};this._unwrite&&process.nextTick(I),this._writable=g,this._writable.on("drain",I),this._unwrite=j,this.uncork()},d.prototype.setReadable=function(g){if(this._unread&&this._unread(),this.destroyed){g&&g.destroy&&g.destroy();return}if(g===null||g===!1){this.push(null),this.resume();return}var P=this,R=r(g,{writable:!1,readable:!0},_(this)),I=function(){P._forward()},j=function(){P.push(null)},L=function(){P._readable2.removeListener("readable",I),P._readable2.removeListener("end",j),R()};this._drained=!0,this._readable=g,this._readable2=g._readableState?g:s(g),this._readable2.on("readable",I),this._readable2.on("end",j),this._unread=L,this._forward()},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var g;this._drained&&(g=l(this._readable2))!==null;)this.destroyed||(this._drained=this.push(g));this._forwarding=!1}},d.prototype.destroy=function(g,P){if(P||(P=v),this.destroyed)return P(null);this.destroyed=!0;var R=this;process.nextTick(function(){R._destroy(g),P(null)})},d.prototype._destroy=function(g){if(g){var P=this._ondrain;this._ondrain=null,P?P(g):this.emit("error",g)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(g,P,R){if(!this.destroyed){if(this._corked)return f(this,this._write.bind(this,g,P,R));if(g===p)return this._finish(R);if(!this._writable)return R();this._writable.write(g)===!1?this._ondrain=R:this.destroyed||R()}},d.prototype._finish=function(g){var P=this;this.emit("preend"),f(this,function(){S(P._forwardEnd&&P._writable,function(){P._writableState.prefinished===!1&&(P._writableState.prefinished=!0),P.emit("prefinish"),f(P,g)})})},d.prototype.end=function(g,P,R){return typeof g=="function"?this.end(null,null,g):typeof P=="function"?this.end(g,null,P):(this._ended=!0,g&&this.write(g),!this._writableState.ending&&!this._writableState.destroyed&&this.write(p),e.Writable.prototype.end.call(this,R))},duplexify=d,duplexify}var retryRequest={exports:{}},hasRequiredRetryRequest;function requireRetryRequest(){if(hasRequiredRetryRequest)return retryRequest.exports;hasRequiredRetryRequest=1;const{PassThrough:e}=require$$4$3,r=requireExtend();let o=()=>{};typeof process<"u"&&"env"in process&&typeof process.env=="object"&&{}.DEBUG==="retry-request"&&(o=O=>{console.log("retry-request:",O)});const l={objectMode:!1,retries:2,maxRetryDelay:64,retryDelayMultiplier:2,totalTimeout:600,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(O){const _=[[100,199],[429,429],[500,599]],S=O.statusCode;o(`Response status: ${S}`);let v;for(;v=_.shift();)if(S>=v[0]&&S<=v[1])return!0}};function p(O,_,S){typeof O=="string"&&(O={url:O});const v=typeof arguments[arguments.length-1]!="function";typeof _=="function"&&(S=_);const s=_&&typeof _.currentRetryAttempt=="number";if(_=r({},l,_),typeof _.request>"u")throw new Error("A request library must be provided to retry-request.");let d=_.currentRetryAttempt,g=0,P=!1,R,I,j,L;const G={abort:function(){L&&L.abort&&L.abort()}};v&&(R=new e({objectMode:_.objectMode}),R.abort=Q);const J=Date.now();if(d>0?Z(d):W(),v)return R;return G;function Q(){j=null,I&&(I.abort&&I.abort(),I.cancel&&I.cancel(),I.destroy?I.destroy():I.end&&I.end())}function W(){let ee=!1;d++,o(`Current retry attempt: ${d}`);function ie(oe=[]){ee||(ee=!0,R.emit("complete",...oe))}v?(P=!1,j=new e({objectMode:_.objectMode}),I=_.request(O),setImmediate(()=>{R.emit("request")}),I.on("error",oe=>{P||(P=!0,te(oe))}).on("response",(oe,se)=>{P||(P=!0,te(null,oe,se))}).on("complete",(...oe)=>ie(oe)).on("finish",(...oe)=>ie(oe)),I.pipe(j)):L=_.request(O,te)}function Z(ee){v&&Q();const ie=f({maxRetryDelay:_.maxRetryDelay,retryDelayMultiplier:_.retryDelayMultiplier,retryNumber:ee,timeOfFirstRequest:J,totalTimeout:_.totalTimeout});if(o(`Next retry delay: ${ie}`),ie<=0){g=_.noResponseRetries+1;return}setTimeout(W,ie)}function te(ee,ie,oe){if(ee){g++,g<=_.noResponseRetries?Z(g):v?(R.emit("error",ee),R.end()):S(ee,ie,oe);return}if((s?d:d-1)<_.retries&&_.shouldRetryFn(ie)){Z(d);return}v?(R.emit("response",ie),j.pipe(R),I.on("error",le=>{R.destroy(le)})):S(ee,ie,oe)}}retryRequest.exports=p;function f(O){const{maxRetryDelay:_,retryDelayMultiplier:S,retryNumber:v,timeOfFirstRequest:s,totalTimeout:d}=O,g=_*1e3,P=d*1e3,R=Math.floor(Math.random()*1e3),I=Math.pow(S,v)*1e3+R,j=P-(Date.now()-s);return Math.min(I,j,g)}return retryRequest.exports.defaults=l,retryRequest.exports.getNextRetryDelay=f,retryRequest.exports}var hasRequiredStreaming;function requireStreaming(){if(hasRequiredStreaming)return streaming;hasRequiredStreaming=1,Object.defineProperty(streaming,"__esModule",{value:!0}),streaming.StreamProxy=streaming.StreamType=void 0;const e=requireGoogleError(),r=requireStreamingRetryRequest(),o=requireStatus(),l=requireDuplexify(),p=requireRetryRequest();var f;(function(_){_[_.SERVER_STREAMING=1]="SERVER_STREAMING",_[_.CLIENT_STREAMING=2]="CLIENT_STREAMING",_[_.BIDI_STREAMING=3]="BIDI_STREAMING"})(f||(streaming.StreamType=f={}));class O extends l{constructor(S,v,s,d){super(void 0,void 0,{objectMode:!0,readable:S!==f.CLIENT_STREAMING,writable:S!==f.SERVER_STREAMING}),this.retries=0,this.type=S,this._callback=v,this._isCancelCalled=!1,this._responseHasSent=!1,this.rest=s,this.gaxServerStreamingRetries=d}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}retry(S,v){let s=this.argument;if(typeof v.getResumptionRequestFn=="function"){const g=v.getResumptionRequestFn(s);g!==void 0&&(s=g)}this.resetStreams(S);const d=this.apiCall(s,this._callback);return this.stream=d,this.streamHandoffHelper(d,v),d}throwIfMaxRetriesOrTotalTimeoutExceeded(S,v,s){const d=new Date;if(this.prevDeadline!==void 0&&S&&d.getTime()>=this.prevDeadline){const g=new e.GoogleError(`Total timeout of API exceeded ${s} milliseconds before any response was received.`);throw g.code=o.Status.DEADLINE_EXCEEDED,this.emit("error",g),this.destroy(),g}if(this.retries&&this.retries>=v){const g=new e.GoogleError("Exceeded maximum number of retries before any response was received");throw g.code=o.Status.DEADLINE_EXCEEDED,this.emit("error",g),this.destroy(),g}}streamHandoffErrorHandler(S,v,s){let d=this.stream;const g=v.backoffSettings.retryDelayMultiplier,P=v.backoffSettings.maxRetryDelayMillis;v.backoffSettings.rpcTimeoutMultiplier,v.backoffSettings.maxRpcTimeoutMillis;let R=v.backoffSettings.initialRetryDelayMillis;v.backoffSettings.initialRpcTimeoutMillis;let I=new Date,j=0;v.backoffSettings.totalTimeoutMillis&&(j=I.getTime()+v.backoffSettings.totalTimeoutMillis);const L=v.backoffSettings.maxRetries;try{this.throwIfMaxRetriesOrTotalTimeoutExceeded(j,L,v.backoffSettings.totalTimeoutMillis)}catch{return}this.retries++;const G=e.GoogleError.parseGRPCStatusDetails(s);let J=this.defaultShouldRetry(G,v);if(v.shouldRetryFn&&(J=v.shouldRetryFn(G)),J){const Q=Math.random()*R;setTimeout(()=>{I=new Date,R=Math.min(R*g,P),this.prevDeadline=j,j&&j-I.getTime()},Q)}else{G.note="Exception occurred in retry method that was not classified as transient",this.emit("error",G),this.destroy();return}d=this.retry(S,v),this.stream=d}streamHandoffHelper(S,v){let s=!1;this.eventForwardHelper(S),S.on("error",d=>{s=!0,this.streamHandoffErrorHandler(S,v,d)}),S.on("data",d=>{this.retries=0,this.emit.bind(this,"data")(d)}),S.on("end",()=>{s||(s=!0,this.emit("end"),this.cancel())})}eventForwardHelper(S){["metadata","response","status"].forEach(s=>{S.on(s,this.emit.bind(this,s))})}statusMetadataHelper(S){S.on("status",()=>{this._responseHasSent||S.emit("response",{code:200,details:"",message:"OK"})}),S.on("metadata",v=>{S.emit("response",{code:200,details:"",message:"OK",metadata:v}),this._responseHasSent=!0})}forwardEvents(S){this.eventForwardHelper(S),this.statusMetadataHelper(S),S.on("error",v=>{e.GoogleError.parseGRPCStatusDetails(v)})}defaultShouldRetry(S,v){return!(v.retryCodes.length>0&&v.retryCodes.indexOf(S.code)<0||v.retryCodes.length===0)}forwardEventsWithRetries(S,v){let s=this.stream;return this.eventForwardHelper(S),this.statusMetadataHelper(S),S.on("error",d=>{const g=v.backoffSettings.totalTimeoutMillis,P=v.backoffSettings.maxRetries;if(P&&P>0||g&&g>0){const R=e.GoogleError.parseGRPCStatusDetails(d);let I=this.defaultShouldRetry(R,v);if(v.shouldRetryFn&&(I=v.shouldRetryFn(R)),I)if(P&&g){const j=new e.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");j.code=o.Status.INVALID_ARGUMENT,this.emit("error",j),this.destroy();return}else return this.retries++,s=this.retry(S,v),this.stream=s,s;else{const j=e.GoogleError.parseGRPCStatusDetails(d);j.note="Exception occurred in retry method that was not classified as transient",this.destroy(j);return}}else{if(P===0){const R=e.GoogleError.parseGRPCStatusDetails(d);R.note="Max retries is set to zero.",this.destroy(R);return}return e.GoogleError.parseGRPCStatusDetails(d)}}),s}resetStreams(S){S&&(S.cancel&&S.cancel(),S.destroy?S.destroy():S.end&&S.end())}setStream(S,v,s={},d){if(this.apiCall=S,this.argument=v,this.type===f.SERVER_STREAMING){if(this.rest){const P=S(v,this._callback);this.stream=P,this.setReadable(P)}else if(this.gaxServerStreamingRetries){const P=(0,r.streamingRetryRequest)({request:()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}const R=S(v,this._callback);return this.stream=R,this.stream=this.forwardEventsWithRetries(R,d),this.stream}});this.setReadable(P)}else{const P=p(null,{objectMode:!0,request:()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}const R=S(v,this._callback);return this.stream=R,this.forwardEvents(R),R},retries:s.retries,currentRetryAttempt:s.currentRetryAttempt,noResponseRetries:s.noResponseRetries,shouldRetryFn:s.shouldRetryFn});this.setReadable(P)}return}const g=S(v,this._callback);this.stream=g,this.forwardEvents(g),this.type===f.CLIENT_STREAMING&&this.setWritable(g),this.type===f.BIDI_STREAMING&&(this.setReadable(g),this.setWritable(g)),this._isCancelCalled&&this.stream&&this.stream.cancel()}}return streaming.StreamProxy=O,streaming}var hasRequiredStreamingApiCaller;function requireStreamingApiCaller(){if(hasRequiredStreamingApiCaller)return streamingApiCaller;hasRequiredStreamingApiCaller=1,Object.defineProperty(streamingApiCaller,"__esModule",{value:!0}),streamingApiCaller.StreamingApiCaller=void 0;const e=requireWarnings(),r=requireStreaming();class o{constructor(p){this.descriptor=p}init(p){return new r.StreamProxy(this.descriptor.type,p,this.descriptor.rest,this.descriptor.gaxStreamingRetries)}wrap(p){switch(this.descriptor.type){case r.StreamType.SERVER_STREAMING:return(f,O,_)=>p(f,O,_);case r.StreamType.CLIENT_STREAMING:return(f,O,_,S)=>p(O,_,S);case r.StreamType.BIDI_STREAMING:return(f,O,_)=>p(O,_);default:(0,e.warn)("streaming_wrap_unknown_stream_type",`Unknown stream type: ${this.descriptor.type}`)}return p}call(p,f,O,_){_.setStream(p,f,O.retryRequestOptions,O.retry)}fail(p,f){p.emit("error",f)}result(p){return p}}return streamingApiCaller.StreamingApiCaller=o,streamingApiCaller}var hasRequiredCreateApiCall;function requireCreateApiCall(){if(hasRequiredCreateApiCall)return createApiCall;hasRequiredCreateApiCall=1,Object.defineProperty(createApiCall,"__esModule",{value:!0}),createApiCall.createApiCall=O;const e=requireApiCaller(),r=requireGax(),o=requireRetries(),l=requireTimeout(),p=requireStreamingApiCaller(),f=requireWarnings();function O(_,S,v,s){const d=typeof _=="function"?Promise.resolve(_):_,g=(0,e.createAPICaller)(S,v);return(P,R,I)=>{var j,L;let G=g,J;if(G instanceof p.StreamingApiCaller){const W=(L=(j=G.descriptor)===null||j===void 0?void 0:j.gaxStreamingRetries)!==null&&L!==void 0?L:!1,Z=(0,r.convertRetryOptions)(R,W);J=S.merge(Z)}else J=S.merge(R);S.isBundling&&!J.isBundling&&(G=(0,e.createAPICaller)(S,void 0));const Q=G.init(I);return d.then(W=>{var Z,te,ee;W=G.wrap(W);const ie=(Z=G.descriptor)===null||Z===void 0?void 0:Z.streaming,oe=J.retry;if(ie&&oe&&(oe.retryCodes.length>0&&oe.shouldRetryFn&&((0,f.warn)("either_retrycodes_or_shouldretryfn","Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes."),oe.retryCodes=[]),!G.descriptor.gaxStreamingRetries&&oe.getResumptionRequestFn))throw new Error("getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.");if(!ie&&oe){if(oe.shouldRetryFn)throw new Error("Using a function to determine retry eligibility is only supported with server streaming calls");if(oe.getResumptionRequestFn)throw new Error("Resumption strategy can only be used with server streaming retries");if(oe.retryCodes&&oe.retryCodes.length>0)return(te=(ee=oe.backoffSettings).initialRpcTimeoutMillis)!==null&&te!==void 0||(ee.initialRpcTimeoutMillis=J.timeout),(0,o.retryable)(W,J.retry,J.otherArgs,J.apiName)}return(0,l.addTimeoutArg)(W,J.timeout,J.otherArgs)}).then(W=>{G.call(W,P,J,Q)}).catch(W=>{G.fail(Q,W)}),G.result(Q)}}return createApiCall}var descriptor={},longRunningDescriptor={},longRunningApiCaller={},longrunning={},operations={exports:{}},minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var hasRequiredOperations;function requireOperations(){return hasRequiredOperations||(hasRequiredOperations=1,function(e){(function(r){typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=r(requireMinimal()))})(function(r){var o,l,p,f,O=r.Reader,_=r.Writer,S=r.util,v=r.roots.operations_protos||(r.roots.operations_protos={});function s(N,q,H){r.rpc.Service.call(this,N,q,H)}function d(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function g(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function P(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function R(N){if(this.operations=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function I(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function j(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function L(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function G(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function J(N){if(this.rules=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Q(N){if(this.additionalBindings=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function W(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Z(N){if(this.file=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function te(N){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ee(N){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ie(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function oe(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function se(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function le(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function de(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function pe(N){if(this.value=[],this.reservedRange=[],this.reservedName=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function fe(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function he(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ge(N){if(this.method=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function me(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ye(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ve(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Ae(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Pe(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Ne(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Ee(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Ce(N){if(this.uninterpretedOption=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Se(N){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Te(N){if(this.name=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function Oe(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ce(N){if(this.location=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function k(N){if(this.path=[],this.span=[],this.leadingDetachedComments=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function F(N){if(this.annotation=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function V(N){if(this.path=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ne(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function ue(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function we(N){if(N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}function be(N){if(this.details=[],N)for(var q=Object.keys(N),H=0;H<q.length;++H)N[q[H]]!=null&&(this[q[H]]=N[q[H]])}return v.google=((f={}).longrunning=((l={}).Operations=(((s.prototype=Object.create(r.rpc.Service.prototype)).constructor=s).create=function(N,q,H){return new this(N,q,H)},Object.defineProperty(s.prototype.listOperations=function N(q,H){return this.rpcCall(N,v.google.longrunning.ListOperationsRequest,v.google.longrunning.ListOperationsResponse,q,H)},"name",{value:"ListOperations"}),Object.defineProperty(s.prototype.getOperation=function N(q,H){return this.rpcCall(N,v.google.longrunning.GetOperationRequest,v.google.longrunning.Operation,q,H)},"name",{value:"GetOperation"}),Object.defineProperty(s.prototype.deleteOperation=function N(q,H){return this.rpcCall(N,v.google.longrunning.DeleteOperationRequest,v.google.protobuf.Empty,q,H)},"name",{value:"DeleteOperation"}),Object.defineProperty(s.prototype.cancelOperation=function N(q,H){return this.rpcCall(N,v.google.longrunning.CancelOperationRequest,v.google.protobuf.Empty,q,H)},"name",{value:"CancelOperation"}),Object.defineProperty(s.prototype.waitOperation=function N(q,H){return this.rpcCall(N,v.google.longrunning.WaitOperationRequest,v.google.longrunning.Operation,q,H)},"name",{value:"WaitOperation"}),s),l.Operation=(d.prototype.name="",d.prototype.metadata=null,d.prototype.done=!1,d.prototype.error=null,d.prototype.response=null,Object.defineProperty(d.prototype,"result",{get:S.oneOfGetter(p=["error","response"]),set:S.oneOfSetter(p)}),d.create=function(N){return new d(N)},d.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.metadata!=null&&Object.hasOwnProperty.call(N,"metadata")&&v.google.protobuf.Any.encode(N.metadata,q.uint32(18).fork()).ldelim(),N.done!=null&&Object.hasOwnProperty.call(N,"done")&&q.uint32(24).bool(N.done),N.error!=null&&Object.hasOwnProperty.call(N,"error")&&v.google.rpc.Status.encode(N.error,q.uint32(34).fork()).ldelim(),N.response!=null&&Object.hasOwnProperty.call(N,"response")&&v.google.protobuf.Any.encode(N.response,q.uint32(42).fork()).ldelim(),q},d.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},d.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.Operation;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.metadata=v.google.protobuf.Any.decode(N,N.uint32());break;case 3:T.done=N.bool();break;case 4:T.error=v.google.rpc.Status.decode(N,N.uint32());break;case 5:T.response=v.google.protobuf.Any.decode(N,N.uint32());break;default:N.skipType(7&U)}}return T},d.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},d.verify=function(N){if(typeof N!="object"||N===null)return"object expected";var q,H={};if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.metadata!=null&&N.hasOwnProperty("metadata")&&(q=v.google.protobuf.Any.verify(N.metadata)))return"metadata."+q;if(N.done!=null&&N.hasOwnProperty("done")&&typeof N.done!="boolean")return"done: boolean expected";if(N.error!=null&&N.hasOwnProperty("error")&&(H.result=1,q=v.google.rpc.Status.verify(N.error)))return"error."+q;if(N.response!=null&&N.hasOwnProperty("response")){if(H.result===1)return"result: multiple values";if(H.result=1,q=v.google.protobuf.Any.verify(N.response))return"response."+q}return null},d.fromObject=function(N){if(N instanceof v.google.longrunning.Operation)return N;var q=new v.google.longrunning.Operation;if(N.name!=null&&(q.name=String(N.name)),N.metadata!=null){if(typeof N.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");q.metadata=v.google.protobuf.Any.fromObject(N.metadata)}if(N.done!=null&&(q.done=!!N.done),N.error!=null){if(typeof N.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");q.error=v.google.rpc.Status.fromObject(N.error)}if(N.response!=null){if(typeof N.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");q.response=v.google.protobuf.Any.fromObject(N.response)}return q},d.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name="",H.metadata=null,H.done=!1),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.metadata!=null&&N.hasOwnProperty("metadata")&&(H.metadata=v.google.protobuf.Any.toObject(N.metadata,q)),N.done!=null&&N.hasOwnProperty("done")&&(H.done=N.done),N.error!=null&&N.hasOwnProperty("error")&&(H.error=v.google.rpc.Status.toObject(N.error,q),q.oneofs)&&(H.result="error"),N.response!=null&&N.hasOwnProperty("response")&&(H.response=v.google.protobuf.Any.toObject(N.response,q),q.oneofs)&&(H.result="response"),H},d.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},d),l.GetOperationRequest=(g.prototype.name="",g.create=function(N){return new g(N)},g.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),q},g.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},g.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.GetOperationRequest;N.pos<H;){var U=N.uint32();U>>>3==1?T.name=N.string():N.skipType(7&U)}return T},g.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},g.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":null},g.fromObject=function(N){var q;return N instanceof v.google.longrunning.GetOperationRequest?N:(q=new v.google.longrunning.GetOperationRequest,N.name!=null&&(q.name=String(N.name)),q)},g.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name=""),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),H},g.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},g),l.ListOperationsRequest=(P.prototype.name="",P.prototype.filter="",P.prototype.pageSize=0,P.prototype.pageToken="",P.create=function(N){return new P(N)},P.encode=function(N,q){return q=q||_.create(),N.filter!=null&&Object.hasOwnProperty.call(N,"filter")&&q.uint32(10).string(N.filter),N.pageSize!=null&&Object.hasOwnProperty.call(N,"pageSize")&&q.uint32(16).int32(N.pageSize),N.pageToken!=null&&Object.hasOwnProperty.call(N,"pageToken")&&q.uint32(26).string(N.pageToken),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(34).string(N.name),q},P.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},P.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.ListOperationsRequest;N.pos<H;){var U=N.uint32();switch(U>>>3){case 4:T.name=N.string();break;case 1:T.filter=N.string();break;case 2:T.pageSize=N.int32();break;case 3:T.pageToken=N.string();break;default:N.skipType(7&U)}}return T},P.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},P.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":N.filter!=null&&N.hasOwnProperty("filter")&&!S.isString(N.filter)?"filter: string expected":N.pageSize!=null&&N.hasOwnProperty("pageSize")&&!S.isInteger(N.pageSize)?"pageSize: integer expected":N.pageToken!=null&&N.hasOwnProperty("pageToken")&&!S.isString(N.pageToken)?"pageToken: string expected":null},P.fromObject=function(N){var q;return N instanceof v.google.longrunning.ListOperationsRequest?N:(q=new v.google.longrunning.ListOperationsRequest,N.name!=null&&(q.name=String(N.name)),N.filter!=null&&(q.filter=String(N.filter)),N.pageSize!=null&&(q.pageSize=0|N.pageSize),N.pageToken!=null&&(q.pageToken=String(N.pageToken)),q)},P.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.filter="",H.pageSize=0,H.pageToken="",H.name=""),N.filter!=null&&N.hasOwnProperty("filter")&&(H.filter=N.filter),N.pageSize!=null&&N.hasOwnProperty("pageSize")&&(H.pageSize=N.pageSize),N.pageToken!=null&&N.hasOwnProperty("pageToken")&&(H.pageToken=N.pageToken),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),H},P.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},P),l.ListOperationsResponse=(R.prototype.operations=S.emptyArray,R.prototype.nextPageToken="",R.create=function(N){return new R(N)},R.encode=function(N,q){if(q=q||_.create(),N.operations!=null&&N.operations.length)for(var H=0;H<N.operations.length;++H)v.google.longrunning.Operation.encode(N.operations[H],q.uint32(10).fork()).ldelim();return N.nextPageToken!=null&&Object.hasOwnProperty.call(N,"nextPageToken")&&q.uint32(18).string(N.nextPageToken),q},R.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},R.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.ListOperationsResponse;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.operations&&T.operations.length||(T.operations=[]),T.operations.push(v.google.longrunning.Operation.decode(N,N.uint32()));break;case 2:T.nextPageToken=N.string();break;default:N.skipType(7&U)}}return T},R.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},R.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.operations!=null&&N.hasOwnProperty("operations")){if(!Array.isArray(N.operations))return"operations: array expected";for(var q=0;q<N.operations.length;++q){var H=v.google.longrunning.Operation.verify(N.operations[q]);if(H)return"operations."+H}}return N.nextPageToken!=null&&N.hasOwnProperty("nextPageToken")&&!S.isString(N.nextPageToken)?"nextPageToken: string expected":null},R.fromObject=function(N){if(N instanceof v.google.longrunning.ListOperationsResponse)return N;var q=new v.google.longrunning.ListOperationsResponse;if(N.operations){if(!Array.isArray(N.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");q.operations=[];for(var H=0;H<N.operations.length;++H){if(typeof N.operations[H]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");q.operations[H]=v.google.longrunning.Operation.fromObject(N.operations[H])}}return N.nextPageToken!=null&&(q.nextPageToken=String(N.nextPageToken)),q},R.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.operations=[]),q.defaults&&(H.nextPageToken=""),N.operations&&N.operations.length){H.operations=[];for(var T=0;T<N.operations.length;++T)H.operations[T]=v.google.longrunning.Operation.toObject(N.operations[T],q)}return N.nextPageToken!=null&&N.hasOwnProperty("nextPageToken")&&(H.nextPageToken=N.nextPageToken),H},R.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},R),l.CancelOperationRequest=(I.prototype.name="",I.create=function(N){return new I(N)},I.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),q},I.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},I.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.CancelOperationRequest;N.pos<H;){var U=N.uint32();U>>>3==1?T.name=N.string():N.skipType(7&U)}return T},I.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},I.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":null},I.fromObject=function(N){var q;return N instanceof v.google.longrunning.CancelOperationRequest?N:(q=new v.google.longrunning.CancelOperationRequest,N.name!=null&&(q.name=String(N.name)),q)},I.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name=""),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),H},I.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},I),l.DeleteOperationRequest=(j.prototype.name="",j.create=function(N){return new j(N)},j.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),q},j.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},j.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.DeleteOperationRequest;N.pos<H;){var U=N.uint32();U>>>3==1?T.name=N.string():N.skipType(7&U)}return T},j.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},j.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":null},j.fromObject=function(N){var q;return N instanceof v.google.longrunning.DeleteOperationRequest?N:(q=new v.google.longrunning.DeleteOperationRequest,N.name!=null&&(q.name=String(N.name)),q)},j.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name=""),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),H},j.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},j),l.WaitOperationRequest=(L.prototype.name="",L.prototype.timeout=null,L.create=function(N){return new L(N)},L.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.timeout!=null&&Object.hasOwnProperty.call(N,"timeout")&&v.google.protobuf.Duration.encode(N.timeout,q.uint32(18).fork()).ldelim(),q},L.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},L.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.WaitOperationRequest;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.timeout=v.google.protobuf.Duration.decode(N,N.uint32());break;default:N.skipType(7&U)}}return T},L.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},L.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":N.timeout!=null&&N.hasOwnProperty("timeout")&&(N=v.google.protobuf.Duration.verify(N.timeout),N)?"timeout."+N:null},L.fromObject=function(N){if(N instanceof v.google.longrunning.WaitOperationRequest)return N;var q=new v.google.longrunning.WaitOperationRequest;if(N.name!=null&&(q.name=String(N.name)),N.timeout!=null){if(typeof N.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");q.timeout=v.google.protobuf.Duration.fromObject(N.timeout)}return q},L.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name="",H.timeout=null),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.timeout!=null&&N.hasOwnProperty("timeout")&&(H.timeout=v.google.protobuf.Duration.toObject(N.timeout,q)),H},L.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},L),l.OperationInfo=(G.prototype.responseType="",G.prototype.metadataType="",G.create=function(N){return new G(N)},G.encode=function(N,q){return q=q||_.create(),N.responseType!=null&&Object.hasOwnProperty.call(N,"responseType")&&q.uint32(10).string(N.responseType),N.metadataType!=null&&Object.hasOwnProperty.call(N,"metadataType")&&q.uint32(18).string(N.metadataType),q},G.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},G.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.longrunning.OperationInfo;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.responseType=N.string();break;case 2:T.metadataType=N.string();break;default:N.skipType(7&U)}}return T},G.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},G.verify=function(N){return typeof N!="object"||N===null?"object expected":N.responseType!=null&&N.hasOwnProperty("responseType")&&!S.isString(N.responseType)?"responseType: string expected":N.metadataType!=null&&N.hasOwnProperty("metadataType")&&!S.isString(N.metadataType)?"metadataType: string expected":null},G.fromObject=function(N){var q;return N instanceof v.google.longrunning.OperationInfo?N:(q=new v.google.longrunning.OperationInfo,N.responseType!=null&&(q.responseType=String(N.responseType)),N.metadataType!=null&&(q.metadataType=String(N.metadataType)),q)},G.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.responseType="",H.metadataType=""),N.responseType!=null&&N.hasOwnProperty("responseType")&&(H.responseType=N.responseType),N.metadataType!=null&&N.hasOwnProperty("metadataType")&&(H.metadataType=N.metadataType),H},G.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},G),l),f.api=((p={}).Http=(J.prototype.rules=S.emptyArray,J.prototype.fullyDecodeReservedExpansion=!1,J.create=function(N){return new J(N)},J.encode=function(N,q){if(q=q||_.create(),N.rules!=null&&N.rules.length)for(var H=0;H<N.rules.length;++H)v.google.api.HttpRule.encode(N.rules[H],q.uint32(10).fork()).ldelim();return N.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(N,"fullyDecodeReservedExpansion")&&q.uint32(16).bool(N.fullyDecodeReservedExpansion),q},J.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},J.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.api.Http;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.rules&&T.rules.length||(T.rules=[]),T.rules.push(v.google.api.HttpRule.decode(N,N.uint32()));break;case 2:T.fullyDecodeReservedExpansion=N.bool();break;default:N.skipType(7&U)}}return T},J.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},J.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.rules!=null&&N.hasOwnProperty("rules")){if(!Array.isArray(N.rules))return"rules: array expected";for(var q=0;q<N.rules.length;++q){var H=v.google.api.HttpRule.verify(N.rules[q]);if(H)return"rules."+H}}return N.fullyDecodeReservedExpansion!=null&&N.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof N.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},J.fromObject=function(N){if(N instanceof v.google.api.Http)return N;var q=new v.google.api.Http;if(N.rules){if(!Array.isArray(N.rules))throw TypeError(".google.api.Http.rules: array expected");q.rules=[];for(var H=0;H<N.rules.length;++H){if(typeof N.rules[H]!="object")throw TypeError(".google.api.Http.rules: object expected");q.rules[H]=v.google.api.HttpRule.fromObject(N.rules[H])}}return N.fullyDecodeReservedExpansion!=null&&(q.fullyDecodeReservedExpansion=!!N.fullyDecodeReservedExpansion),q},J.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.rules=[]),q.defaults&&(H.fullyDecodeReservedExpansion=!1),N.rules&&N.rules.length){H.rules=[];for(var T=0;T<N.rules.length;++T)H.rules[T]=v.google.api.HttpRule.toObject(N.rules[T],q)}return N.fullyDecodeReservedExpansion!=null&&N.hasOwnProperty("fullyDecodeReservedExpansion")&&(H.fullyDecodeReservedExpansion=N.fullyDecodeReservedExpansion),H},J.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},J),p.HttpRule=(Q.prototype.selector="",Q.prototype.get="",Q.prototype.put="",Q.prototype.post="",Q.prototype.delete="",Q.prototype.patch="",Q.prototype.custom=null,Q.prototype.body="",Q.prototype.responseBody="",Q.prototype.additionalBindings=S.emptyArray,Object.defineProperty(Q.prototype,"pattern",{get:S.oneOfGetter(l=["get","put","post","delete","patch","custom"]),set:S.oneOfSetter(l)}),Q.create=function(N){return new Q(N)},Q.encode=function(N,q){if(q=q||_.create(),N.selector!=null&&Object.hasOwnProperty.call(N,"selector")&&q.uint32(10).string(N.selector),N.get!=null&&Object.hasOwnProperty.call(N,"get")&&q.uint32(18).string(N.get),N.put!=null&&Object.hasOwnProperty.call(N,"put")&&q.uint32(26).string(N.put),N.post!=null&&Object.hasOwnProperty.call(N,"post")&&q.uint32(34).string(N.post),N.delete!=null&&Object.hasOwnProperty.call(N,"delete")&&q.uint32(42).string(N.delete),N.patch!=null&&Object.hasOwnProperty.call(N,"patch")&&q.uint32(50).string(N.patch),N.body!=null&&Object.hasOwnProperty.call(N,"body")&&q.uint32(58).string(N.body),N.custom!=null&&Object.hasOwnProperty.call(N,"custom")&&v.google.api.CustomHttpPattern.encode(N.custom,q.uint32(66).fork()).ldelim(),N.additionalBindings!=null&&N.additionalBindings.length)for(var H=0;H<N.additionalBindings.length;++H)v.google.api.HttpRule.encode(N.additionalBindings[H],q.uint32(90).fork()).ldelim();return N.responseBody!=null&&Object.hasOwnProperty.call(N,"responseBody")&&q.uint32(98).string(N.responseBody),q},Q.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Q.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.api.HttpRule;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.selector=N.string();break;case 2:T.get=N.string();break;case 3:T.put=N.string();break;case 4:T.post=N.string();break;case 5:T.delete=N.string();break;case 6:T.patch=N.string();break;case 8:T.custom=v.google.api.CustomHttpPattern.decode(N,N.uint32());break;case 7:T.body=N.string();break;case 12:T.responseBody=N.string();break;case 11:T.additionalBindings&&T.additionalBindings.length||(T.additionalBindings=[]),T.additionalBindings.push(v.google.api.HttpRule.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},Q.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Q.verify=function(N){if(typeof N!="object"||N===null)return"object expected";var q={};if(N.selector!=null&&N.hasOwnProperty("selector")&&!S.isString(N.selector))return"selector: string expected";if(N.get!=null&&N.hasOwnProperty("get")&&(q.pattern=1,!S.isString(N.get)))return"get: string expected";if(N.put!=null&&N.hasOwnProperty("put")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!S.isString(N.put))return"put: string expected"}if(N.post!=null&&N.hasOwnProperty("post")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!S.isString(N.post))return"post: string expected"}if(N.delete!=null&&N.hasOwnProperty("delete")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!S.isString(N.delete))return"delete: string expected"}if(N.patch!=null&&N.hasOwnProperty("patch")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,!S.isString(N.patch))return"patch: string expected"}if(N.custom!=null&&N.hasOwnProperty("custom")){if(q.pattern===1)return"pattern: multiple values";if(q.pattern=1,H=v.google.api.CustomHttpPattern.verify(N.custom))return"custom."+H}if(N.body!=null&&N.hasOwnProperty("body")&&!S.isString(N.body))return"body: string expected";if(N.responseBody!=null&&N.hasOwnProperty("responseBody")&&!S.isString(N.responseBody))return"responseBody: string expected";if(N.additionalBindings!=null&&N.hasOwnProperty("additionalBindings")){if(!Array.isArray(N.additionalBindings))return"additionalBindings: array expected";for(var H,T=0;T<N.additionalBindings.length;++T)if(H=v.google.api.HttpRule.verify(N.additionalBindings[T]))return"additionalBindings."+H}return null},Q.fromObject=function(N){if(N instanceof v.google.api.HttpRule)return N;var q=new v.google.api.HttpRule;if(N.selector!=null&&(q.selector=String(N.selector)),N.get!=null&&(q.get=String(N.get)),N.put!=null&&(q.put=String(N.put)),N.post!=null&&(q.post=String(N.post)),N.delete!=null&&(q.delete=String(N.delete)),N.patch!=null&&(q.patch=String(N.patch)),N.custom!=null){if(typeof N.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");q.custom=v.google.api.CustomHttpPattern.fromObject(N.custom)}if(N.body!=null&&(q.body=String(N.body)),N.responseBody!=null&&(q.responseBody=String(N.responseBody)),N.additionalBindings){if(!Array.isArray(N.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");q.additionalBindings=[];for(var H=0;H<N.additionalBindings.length;++H){if(typeof N.additionalBindings[H]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");q.additionalBindings[H]=v.google.api.HttpRule.fromObject(N.additionalBindings[H])}}return q},Q.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.additionalBindings=[]),q.defaults&&(H.selector="",H.body="",H.responseBody=""),N.selector!=null&&N.hasOwnProperty("selector")&&(H.selector=N.selector),N.get!=null&&N.hasOwnProperty("get")&&(H.get=N.get,q.oneofs)&&(H.pattern="get"),N.put!=null&&N.hasOwnProperty("put")&&(H.put=N.put,q.oneofs)&&(H.pattern="put"),N.post!=null&&N.hasOwnProperty("post")&&(H.post=N.post,q.oneofs)&&(H.pattern="post"),N.delete!=null&&N.hasOwnProperty("delete")&&(H.delete=N.delete,q.oneofs)&&(H.pattern="delete"),N.patch!=null&&N.hasOwnProperty("patch")&&(H.patch=N.patch,q.oneofs)&&(H.pattern="patch"),N.body!=null&&N.hasOwnProperty("body")&&(H.body=N.body),N.custom!=null&&N.hasOwnProperty("custom")&&(H.custom=v.google.api.CustomHttpPattern.toObject(N.custom,q),q.oneofs)&&(H.pattern="custom"),N.additionalBindings&&N.additionalBindings.length){H.additionalBindings=[];for(var T=0;T<N.additionalBindings.length;++T)H.additionalBindings[T]=v.google.api.HttpRule.toObject(N.additionalBindings[T],q)}return N.responseBody!=null&&N.hasOwnProperty("responseBody")&&(H.responseBody=N.responseBody),H},Q.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Q),p.CustomHttpPattern=(W.prototype.kind="",W.prototype.path="",W.create=function(N){return new W(N)},W.encode=function(N,q){return q=q||_.create(),N.kind!=null&&Object.hasOwnProperty.call(N,"kind")&&q.uint32(10).string(N.kind),N.path!=null&&Object.hasOwnProperty.call(N,"path")&&q.uint32(18).string(N.path),q},W.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},W.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.api.CustomHttpPattern;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.kind=N.string();break;case 2:T.path=N.string();break;default:N.skipType(7&U)}}return T},W.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},W.verify=function(N){return typeof N!="object"||N===null?"object expected":N.kind!=null&&N.hasOwnProperty("kind")&&!S.isString(N.kind)?"kind: string expected":N.path!=null&&N.hasOwnProperty("path")&&!S.isString(N.path)?"path: string expected":null},W.fromObject=function(N){var q;return N instanceof v.google.api.CustomHttpPattern?N:(q=new v.google.api.CustomHttpPattern,N.kind!=null&&(q.kind=String(N.kind)),N.path!=null&&(q.path=String(N.path)),q)},W.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.kind="",H.path=""),N.kind!=null&&N.hasOwnProperty("kind")&&(H.kind=N.kind),N.path!=null&&N.hasOwnProperty("path")&&(H.path=N.path),H},W.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},W),p),f.protobuf=((l={}).FileDescriptorSet=(Z.prototype.file=S.emptyArray,Z.create=function(N){return new Z(N)},Z.encode=function(N,q){if(q=q||_.create(),N.file!=null&&N.file.length)for(var H=0;H<N.file.length;++H)v.google.protobuf.FileDescriptorProto.encode(N.file[H],q.uint32(10).fork()).ldelim();return q},Z.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Z.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.FileDescriptorSet;N.pos<H;){var U=N.uint32();U>>>3==1?(T.file&&T.file.length||(T.file=[]),T.file.push(v.google.protobuf.FileDescriptorProto.decode(N,N.uint32()))):N.skipType(7&U)}return T},Z.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Z.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.file!=null&&N.hasOwnProperty("file")){if(!Array.isArray(N.file))return"file: array expected";for(var q=0;q<N.file.length;++q){var H=v.google.protobuf.FileDescriptorProto.verify(N.file[q]);if(H)return"file."+H}}return null},Z.fromObject=function(N){if(N instanceof v.google.protobuf.FileDescriptorSet)return N;var q=new v.google.protobuf.FileDescriptorSet;if(N.file){if(!Array.isArray(N.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");q.file=[];for(var H=0;H<N.file.length;++H){if(typeof N.file[H]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");q.file[H]=v.google.protobuf.FileDescriptorProto.fromObject(N.file[H])}}return q},Z.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.file=[]),N.file&&N.file.length){H.file=[];for(var T=0;T<N.file.length;++T)H.file[T]=v.google.protobuf.FileDescriptorProto.toObject(N.file[T],q)}return H},Z.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Z),l.FileDescriptorProto=(te.prototype.name="",te.prototype.package="",te.prototype.dependency=S.emptyArray,te.prototype.publicDependency=S.emptyArray,te.prototype.weakDependency=S.emptyArray,te.prototype.messageType=S.emptyArray,te.prototype.enumType=S.emptyArray,te.prototype.service=S.emptyArray,te.prototype.extension=S.emptyArray,te.prototype.options=null,te.prototype.sourceCodeInfo=null,te.prototype.syntax="",te.create=function(N){return new te(N)},te.encode=function(N,q){if(q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.package!=null&&Object.hasOwnProperty.call(N,"package")&&q.uint32(18).string(N.package),N.dependency!=null&&N.dependency.length)for(var H=0;H<N.dependency.length;++H)q.uint32(26).string(N.dependency[H]);if(N.messageType!=null&&N.messageType.length)for(H=0;H<N.messageType.length;++H)v.google.protobuf.DescriptorProto.encode(N.messageType[H],q.uint32(34).fork()).ldelim();if(N.enumType!=null&&N.enumType.length)for(H=0;H<N.enumType.length;++H)v.google.protobuf.EnumDescriptorProto.encode(N.enumType[H],q.uint32(42).fork()).ldelim();if(N.service!=null&&N.service.length)for(H=0;H<N.service.length;++H)v.google.protobuf.ServiceDescriptorProto.encode(N.service[H],q.uint32(50).fork()).ldelim();if(N.extension!=null&&N.extension.length)for(H=0;H<N.extension.length;++H)v.google.protobuf.FieldDescriptorProto.encode(N.extension[H],q.uint32(58).fork()).ldelim();if(N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.FileOptions.encode(N.options,q.uint32(66).fork()).ldelim(),N.sourceCodeInfo!=null&&Object.hasOwnProperty.call(N,"sourceCodeInfo")&&v.google.protobuf.SourceCodeInfo.encode(N.sourceCodeInfo,q.uint32(74).fork()).ldelim(),N.publicDependency!=null&&N.publicDependency.length)for(H=0;H<N.publicDependency.length;++H)q.uint32(80).int32(N.publicDependency[H]);if(N.weakDependency!=null&&N.weakDependency.length)for(H=0;H<N.weakDependency.length;++H)q.uint32(88).int32(N.weakDependency[H]);return N.syntax!=null&&Object.hasOwnProperty.call(N,"syntax")&&q.uint32(98).string(N.syntax),q},te.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},te.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.FileDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.package=N.string();break;case 3:T.dependency&&T.dependency.length||(T.dependency=[]),T.dependency.push(N.string());break;case 10:if(T.publicDependency&&T.publicDependency.length||(T.publicDependency=[]),(7&U)==2)for(var z=N.uint32()+N.pos;N.pos<z;)T.publicDependency.push(N.int32());else T.publicDependency.push(N.int32());break;case 11:if(T.weakDependency&&T.weakDependency.length||(T.weakDependency=[]),(7&U)==2)for(z=N.uint32()+N.pos;N.pos<z;)T.weakDependency.push(N.int32());else T.weakDependency.push(N.int32());break;case 4:T.messageType&&T.messageType.length||(T.messageType=[]),T.messageType.push(v.google.protobuf.DescriptorProto.decode(N,N.uint32()));break;case 5:T.enumType&&T.enumType.length||(T.enumType=[]),T.enumType.push(v.google.protobuf.EnumDescriptorProto.decode(N,N.uint32()));break;case 6:T.service&&T.service.length||(T.service=[]),T.service.push(v.google.protobuf.ServiceDescriptorProto.decode(N,N.uint32()));break;case 7:T.extension&&T.extension.length||(T.extension=[]),T.extension.push(v.google.protobuf.FieldDescriptorProto.decode(N,N.uint32()));break;case 8:T.options=v.google.protobuf.FileOptions.decode(N,N.uint32());break;case 9:T.sourceCodeInfo=v.google.protobuf.SourceCodeInfo.decode(N,N.uint32());break;case 12:T.syntax=N.string();break;default:N.skipType(7&U)}}return T},te.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},te.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.package!=null&&N.hasOwnProperty("package")&&!S.isString(N.package))return"package: string expected";if(N.dependency!=null&&N.hasOwnProperty("dependency")){if(!Array.isArray(N.dependency))return"dependency: array expected";for(var q=0;q<N.dependency.length;++q)if(!S.isString(N.dependency[q]))return"dependency: string[] expected"}if(N.publicDependency!=null&&N.hasOwnProperty("publicDependency")){if(!Array.isArray(N.publicDependency))return"publicDependency: array expected";for(q=0;q<N.publicDependency.length;++q)if(!S.isInteger(N.publicDependency[q]))return"publicDependency: integer[] expected"}if(N.weakDependency!=null&&N.hasOwnProperty("weakDependency")){if(!Array.isArray(N.weakDependency))return"weakDependency: array expected";for(q=0;q<N.weakDependency.length;++q)if(!S.isInteger(N.weakDependency[q]))return"weakDependency: integer[] expected"}if(N.messageType!=null&&N.hasOwnProperty("messageType")){if(!Array.isArray(N.messageType))return"messageType: array expected";for(q=0;q<N.messageType.length;++q)if(H=v.google.protobuf.DescriptorProto.verify(N.messageType[q]))return"messageType."+H}if(N.enumType!=null&&N.hasOwnProperty("enumType")){if(!Array.isArray(N.enumType))return"enumType: array expected";for(q=0;q<N.enumType.length;++q)if(H=v.google.protobuf.EnumDescriptorProto.verify(N.enumType[q]))return"enumType."+H}if(N.service!=null&&N.hasOwnProperty("service")){if(!Array.isArray(N.service))return"service: array expected";for(q=0;q<N.service.length;++q)if(H=v.google.protobuf.ServiceDescriptorProto.verify(N.service[q]))return"service."+H}if(N.extension!=null&&N.hasOwnProperty("extension")){if(!Array.isArray(N.extension))return"extension: array expected";for(q=0;q<N.extension.length;++q)if(H=v.google.protobuf.FieldDescriptorProto.verify(N.extension[q]))return"extension."+H}var H;return N.options!=null&&N.hasOwnProperty("options")&&(H=v.google.protobuf.FileOptions.verify(N.options))?"options."+H:N.sourceCodeInfo!=null&&N.hasOwnProperty("sourceCodeInfo")&&(H=v.google.protobuf.SourceCodeInfo.verify(N.sourceCodeInfo))?"sourceCodeInfo."+H:N.syntax!=null&&N.hasOwnProperty("syntax")&&!S.isString(N.syntax)?"syntax: string expected":null},te.fromObject=function(N){if(N instanceof v.google.protobuf.FileDescriptorProto)return N;var q=new v.google.protobuf.FileDescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.package!=null&&(q.package=String(N.package)),N.dependency){if(!Array.isArray(N.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");q.dependency=[];for(var H=0;H<N.dependency.length;++H)q.dependency[H]=String(N.dependency[H])}if(N.publicDependency){if(!Array.isArray(N.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(q.publicDependency=[],H=0;H<N.publicDependency.length;++H)q.publicDependency[H]=0|N.publicDependency[H]}if(N.weakDependency){if(!Array.isArray(N.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(q.weakDependency=[],H=0;H<N.weakDependency.length;++H)q.weakDependency[H]=0|N.weakDependency[H]}if(N.messageType){if(!Array.isArray(N.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(q.messageType=[],H=0;H<N.messageType.length;++H){if(typeof N.messageType[H]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");q.messageType[H]=v.google.protobuf.DescriptorProto.fromObject(N.messageType[H])}}if(N.enumType){if(!Array.isArray(N.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(q.enumType=[],H=0;H<N.enumType.length;++H){if(typeof N.enumType[H]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");q.enumType[H]=v.google.protobuf.EnumDescriptorProto.fromObject(N.enumType[H])}}if(N.service){if(!Array.isArray(N.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(q.service=[],H=0;H<N.service.length;++H){if(typeof N.service[H]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");q.service[H]=v.google.protobuf.ServiceDescriptorProto.fromObject(N.service[H])}}if(N.extension){if(!Array.isArray(N.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(q.extension=[],H=0;H<N.extension.length;++H){if(typeof N.extension[H]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");q.extension[H]=v.google.protobuf.FieldDescriptorProto.fromObject(N.extension[H])}}if(N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");q.options=v.google.protobuf.FileOptions.fromObject(N.options)}if(N.sourceCodeInfo!=null){if(typeof N.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");q.sourceCodeInfo=v.google.protobuf.SourceCodeInfo.fromObject(N.sourceCodeInfo)}return N.syntax!=null&&(q.syntax=String(N.syntax)),q},te.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.dependency=[],H.messageType=[],H.enumType=[],H.service=[],H.extension=[],H.publicDependency=[],H.weakDependency=[]),q.defaults&&(H.name="",H.package="",H.options=null,H.sourceCodeInfo=null,H.syntax=""),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.package!=null&&N.hasOwnProperty("package")&&(H.package=N.package),N.dependency&&N.dependency.length){H.dependency=[];for(var T=0;T<N.dependency.length;++T)H.dependency[T]=N.dependency[T]}if(N.messageType&&N.messageType.length)for(H.messageType=[],T=0;T<N.messageType.length;++T)H.messageType[T]=v.google.protobuf.DescriptorProto.toObject(N.messageType[T],q);if(N.enumType&&N.enumType.length)for(H.enumType=[],T=0;T<N.enumType.length;++T)H.enumType[T]=v.google.protobuf.EnumDescriptorProto.toObject(N.enumType[T],q);if(N.service&&N.service.length)for(H.service=[],T=0;T<N.service.length;++T)H.service[T]=v.google.protobuf.ServiceDescriptorProto.toObject(N.service[T],q);if(N.extension&&N.extension.length)for(H.extension=[],T=0;T<N.extension.length;++T)H.extension[T]=v.google.protobuf.FieldDescriptorProto.toObject(N.extension[T],q);if(N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.FileOptions.toObject(N.options,q)),N.sourceCodeInfo!=null&&N.hasOwnProperty("sourceCodeInfo")&&(H.sourceCodeInfo=v.google.protobuf.SourceCodeInfo.toObject(N.sourceCodeInfo,q)),N.publicDependency&&N.publicDependency.length)for(H.publicDependency=[],T=0;T<N.publicDependency.length;++T)H.publicDependency[T]=N.publicDependency[T];if(N.weakDependency&&N.weakDependency.length)for(H.weakDependency=[],T=0;T<N.weakDependency.length;++T)H.weakDependency[T]=N.weakDependency[T];return N.syntax!=null&&N.hasOwnProperty("syntax")&&(H.syntax=N.syntax),H},te.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},te),l.DescriptorProto=(ee.prototype.name="",ee.prototype.field=S.emptyArray,ee.prototype.extension=S.emptyArray,ee.prototype.nestedType=S.emptyArray,ee.prototype.enumType=S.emptyArray,ee.prototype.extensionRange=S.emptyArray,ee.prototype.oneofDecl=S.emptyArray,ee.prototype.options=null,ee.prototype.reservedRange=S.emptyArray,ee.prototype.reservedName=S.emptyArray,ee.create=function(N){return new ee(N)},ee.encode=function(N,q){if(q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.field!=null&&N.field.length)for(var H=0;H<N.field.length;++H)v.google.protobuf.FieldDescriptorProto.encode(N.field[H],q.uint32(18).fork()).ldelim();if(N.nestedType!=null&&N.nestedType.length)for(H=0;H<N.nestedType.length;++H)v.google.protobuf.DescriptorProto.encode(N.nestedType[H],q.uint32(26).fork()).ldelim();if(N.enumType!=null&&N.enumType.length)for(H=0;H<N.enumType.length;++H)v.google.protobuf.EnumDescriptorProto.encode(N.enumType[H],q.uint32(34).fork()).ldelim();if(N.extensionRange!=null&&N.extensionRange.length)for(H=0;H<N.extensionRange.length;++H)v.google.protobuf.DescriptorProto.ExtensionRange.encode(N.extensionRange[H],q.uint32(42).fork()).ldelim();if(N.extension!=null&&N.extension.length)for(H=0;H<N.extension.length;++H)v.google.protobuf.FieldDescriptorProto.encode(N.extension[H],q.uint32(50).fork()).ldelim();if(N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.MessageOptions.encode(N.options,q.uint32(58).fork()).ldelim(),N.oneofDecl!=null&&N.oneofDecl.length)for(H=0;H<N.oneofDecl.length;++H)v.google.protobuf.OneofDescriptorProto.encode(N.oneofDecl[H],q.uint32(66).fork()).ldelim();if(N.reservedRange!=null&&N.reservedRange.length)for(H=0;H<N.reservedRange.length;++H)v.google.protobuf.DescriptorProto.ReservedRange.encode(N.reservedRange[H],q.uint32(74).fork()).ldelim();if(N.reservedName!=null&&N.reservedName.length)for(H=0;H<N.reservedName.length;++H)q.uint32(82).string(N.reservedName[H]);return q},ee.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ee.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.DescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.field&&T.field.length||(T.field=[]),T.field.push(v.google.protobuf.FieldDescriptorProto.decode(N,N.uint32()));break;case 6:T.extension&&T.extension.length||(T.extension=[]),T.extension.push(v.google.protobuf.FieldDescriptorProto.decode(N,N.uint32()));break;case 3:T.nestedType&&T.nestedType.length||(T.nestedType=[]),T.nestedType.push(v.google.protobuf.DescriptorProto.decode(N,N.uint32()));break;case 4:T.enumType&&T.enumType.length||(T.enumType=[]),T.enumType.push(v.google.protobuf.EnumDescriptorProto.decode(N,N.uint32()));break;case 5:T.extensionRange&&T.extensionRange.length||(T.extensionRange=[]),T.extensionRange.push(v.google.protobuf.DescriptorProto.ExtensionRange.decode(N,N.uint32()));break;case 8:T.oneofDecl&&T.oneofDecl.length||(T.oneofDecl=[]),T.oneofDecl.push(v.google.protobuf.OneofDescriptorProto.decode(N,N.uint32()));break;case 7:T.options=v.google.protobuf.MessageOptions.decode(N,N.uint32());break;case 9:T.reservedRange&&T.reservedRange.length||(T.reservedRange=[]),T.reservedRange.push(v.google.protobuf.DescriptorProto.ReservedRange.decode(N,N.uint32()));break;case 10:T.reservedName&&T.reservedName.length||(T.reservedName=[]),T.reservedName.push(N.string());break;default:N.skipType(7&U)}}return T},ee.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ee.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.field!=null&&N.hasOwnProperty("field")){if(!Array.isArray(N.field))return"field: array expected";for(var q=0;q<N.field.length;++q)if(H=v.google.protobuf.FieldDescriptorProto.verify(N.field[q]))return"field."+H}if(N.extension!=null&&N.hasOwnProperty("extension")){if(!Array.isArray(N.extension))return"extension: array expected";for(q=0;q<N.extension.length;++q)if(H=v.google.protobuf.FieldDescriptorProto.verify(N.extension[q]))return"extension."+H}if(N.nestedType!=null&&N.hasOwnProperty("nestedType")){if(!Array.isArray(N.nestedType))return"nestedType: array expected";for(q=0;q<N.nestedType.length;++q)if(H=v.google.protobuf.DescriptorProto.verify(N.nestedType[q]))return"nestedType."+H}if(N.enumType!=null&&N.hasOwnProperty("enumType")){if(!Array.isArray(N.enumType))return"enumType: array expected";for(q=0;q<N.enumType.length;++q)if(H=v.google.protobuf.EnumDescriptorProto.verify(N.enumType[q]))return"enumType."+H}if(N.extensionRange!=null&&N.hasOwnProperty("extensionRange")){if(!Array.isArray(N.extensionRange))return"extensionRange: array expected";for(q=0;q<N.extensionRange.length;++q)if(H=v.google.protobuf.DescriptorProto.ExtensionRange.verify(N.extensionRange[q]))return"extensionRange."+H}if(N.oneofDecl!=null&&N.hasOwnProperty("oneofDecl")){if(!Array.isArray(N.oneofDecl))return"oneofDecl: array expected";for(q=0;q<N.oneofDecl.length;++q)if(H=v.google.protobuf.OneofDescriptorProto.verify(N.oneofDecl[q]))return"oneofDecl."+H}if(N.options!=null&&N.hasOwnProperty("options")&&(H=v.google.protobuf.MessageOptions.verify(N.options)))return"options."+H;if(N.reservedRange!=null&&N.hasOwnProperty("reservedRange")){if(!Array.isArray(N.reservedRange))return"reservedRange: array expected";for(var H,q=0;q<N.reservedRange.length;++q)if(H=v.google.protobuf.DescriptorProto.ReservedRange.verify(N.reservedRange[q]))return"reservedRange."+H}if(N.reservedName!=null&&N.hasOwnProperty("reservedName")){if(!Array.isArray(N.reservedName))return"reservedName: array expected";for(q=0;q<N.reservedName.length;++q)if(!S.isString(N.reservedName[q]))return"reservedName: string[] expected"}return null},ee.fromObject=function(N){if(N instanceof v.google.protobuf.DescriptorProto)return N;var q=new v.google.protobuf.DescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.field){if(!Array.isArray(N.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");q.field=[];for(var H=0;H<N.field.length;++H){if(typeof N.field[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");q.field[H]=v.google.protobuf.FieldDescriptorProto.fromObject(N.field[H])}}if(N.extension){if(!Array.isArray(N.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(q.extension=[],H=0;H<N.extension.length;++H){if(typeof N.extension[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");q.extension[H]=v.google.protobuf.FieldDescriptorProto.fromObject(N.extension[H])}}if(N.nestedType){if(!Array.isArray(N.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(q.nestedType=[],H=0;H<N.nestedType.length;++H){if(typeof N.nestedType[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");q.nestedType[H]=v.google.protobuf.DescriptorProto.fromObject(N.nestedType[H])}}if(N.enumType){if(!Array.isArray(N.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(q.enumType=[],H=0;H<N.enumType.length;++H){if(typeof N.enumType[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");q.enumType[H]=v.google.protobuf.EnumDescriptorProto.fromObject(N.enumType[H])}}if(N.extensionRange){if(!Array.isArray(N.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(q.extensionRange=[],H=0;H<N.extensionRange.length;++H){if(typeof N.extensionRange[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");q.extensionRange[H]=v.google.protobuf.DescriptorProto.ExtensionRange.fromObject(N.extensionRange[H])}}if(N.oneofDecl){if(!Array.isArray(N.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(q.oneofDecl=[],H=0;H<N.oneofDecl.length;++H){if(typeof N.oneofDecl[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");q.oneofDecl[H]=v.google.protobuf.OneofDescriptorProto.fromObject(N.oneofDecl[H])}}if(N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");q.options=v.google.protobuf.MessageOptions.fromObject(N.options)}if(N.reservedRange){if(!Array.isArray(N.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(q.reservedRange=[],H=0;H<N.reservedRange.length;++H){if(typeof N.reservedRange[H]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");q.reservedRange[H]=v.google.protobuf.DescriptorProto.ReservedRange.fromObject(N.reservedRange[H])}}if(N.reservedName){if(!Array.isArray(N.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(q.reservedName=[],H=0;H<N.reservedName.length;++H)q.reservedName[H]=String(N.reservedName[H])}return q},ee.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.field=[],H.nestedType=[],H.enumType=[],H.extensionRange=[],H.extension=[],H.oneofDecl=[],H.reservedRange=[],H.reservedName=[]),q.defaults&&(H.name="",H.options=null),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.field&&N.field.length){H.field=[];for(var T=0;T<N.field.length;++T)H.field[T]=v.google.protobuf.FieldDescriptorProto.toObject(N.field[T],q)}if(N.nestedType&&N.nestedType.length)for(H.nestedType=[],T=0;T<N.nestedType.length;++T)H.nestedType[T]=v.google.protobuf.DescriptorProto.toObject(N.nestedType[T],q);if(N.enumType&&N.enumType.length)for(H.enumType=[],T=0;T<N.enumType.length;++T)H.enumType[T]=v.google.protobuf.EnumDescriptorProto.toObject(N.enumType[T],q);if(N.extensionRange&&N.extensionRange.length)for(H.extensionRange=[],T=0;T<N.extensionRange.length;++T)H.extensionRange[T]=v.google.protobuf.DescriptorProto.ExtensionRange.toObject(N.extensionRange[T],q);if(N.extension&&N.extension.length)for(H.extension=[],T=0;T<N.extension.length;++T)H.extension[T]=v.google.protobuf.FieldDescriptorProto.toObject(N.extension[T],q);if(N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.MessageOptions.toObject(N.options,q)),N.oneofDecl&&N.oneofDecl.length)for(H.oneofDecl=[],T=0;T<N.oneofDecl.length;++T)H.oneofDecl[T]=v.google.protobuf.OneofDescriptorProto.toObject(N.oneofDecl[T],q);if(N.reservedRange&&N.reservedRange.length)for(H.reservedRange=[],T=0;T<N.reservedRange.length;++T)H.reservedRange[T]=v.google.protobuf.DescriptorProto.ReservedRange.toObject(N.reservedRange[T],q);if(N.reservedName&&N.reservedName.length)for(H.reservedName=[],T=0;T<N.reservedName.length;++T)H.reservedName[T]=N.reservedName[T];return H},ee.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ee.ExtensionRange=(ie.prototype.start=0,ie.prototype.end=0,ie.prototype.options=null,ie.create=function(N){return new ie(N)},ie.encode=function(N,q){return q=q||_.create(),N.start!=null&&Object.hasOwnProperty.call(N,"start")&&q.uint32(8).int32(N.start),N.end!=null&&Object.hasOwnProperty.call(N,"end")&&q.uint32(16).int32(N.end),N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.ExtensionRangeOptions.encode(N.options,q.uint32(26).fork()).ldelim(),q},ie.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ie.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.DescriptorProto.ExtensionRange;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.start=N.int32();break;case 2:T.end=N.int32();break;case 3:T.options=v.google.protobuf.ExtensionRangeOptions.decode(N,N.uint32());break;default:N.skipType(7&U)}}return T},ie.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ie.verify=function(N){return typeof N!="object"||N===null?"object expected":N.start!=null&&N.hasOwnProperty("start")&&!S.isInteger(N.start)?"start: integer expected":N.end!=null&&N.hasOwnProperty("end")&&!S.isInteger(N.end)?"end: integer expected":N.options!=null&&N.hasOwnProperty("options")&&(N=v.google.protobuf.ExtensionRangeOptions.verify(N.options),N)?"options."+N:null},ie.fromObject=function(N){if(N instanceof v.google.protobuf.DescriptorProto.ExtensionRange)return N;var q=new v.google.protobuf.DescriptorProto.ExtensionRange;if(N.start!=null&&(q.start=0|N.start),N.end!=null&&(q.end=0|N.end),N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");q.options=v.google.protobuf.ExtensionRangeOptions.fromObject(N.options)}return q},ie.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.start=0,H.end=0,H.options=null),N.start!=null&&N.hasOwnProperty("start")&&(H.start=N.start),N.end!=null&&N.hasOwnProperty("end")&&(H.end=N.end),N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.ExtensionRangeOptions.toObject(N.options,q)),H},ie.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ie),ee.ReservedRange=(oe.prototype.start=0,oe.prototype.end=0,oe.create=function(N){return new oe(N)},oe.encode=function(N,q){return q=q||_.create(),N.start!=null&&Object.hasOwnProperty.call(N,"start")&&q.uint32(8).int32(N.start),N.end!=null&&Object.hasOwnProperty.call(N,"end")&&q.uint32(16).int32(N.end),q},oe.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},oe.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.DescriptorProto.ReservedRange;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.start=N.int32();break;case 2:T.end=N.int32();break;default:N.skipType(7&U)}}return T},oe.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},oe.verify=function(N){return typeof N!="object"||N===null?"object expected":N.start!=null&&N.hasOwnProperty("start")&&!S.isInteger(N.start)?"start: integer expected":N.end!=null&&N.hasOwnProperty("end")&&!S.isInteger(N.end)?"end: integer expected":null},oe.fromObject=function(N){var q;return N instanceof v.google.protobuf.DescriptorProto.ReservedRange?N:(q=new v.google.protobuf.DescriptorProto.ReservedRange,N.start!=null&&(q.start=0|N.start),N.end!=null&&(q.end=0|N.end),q)},oe.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.start=0,H.end=0),N.start!=null&&N.hasOwnProperty("start")&&(H.start=N.start),N.end!=null&&N.hasOwnProperty("end")&&(H.end=N.end),H},oe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},oe),ee),l.ExtensionRangeOptions=(se.prototype.uninterpretedOption=S.emptyArray,se.create=function(N){return new se(N)},se.encode=function(N,q){if(q=q||_.create(),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},se.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},se.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.ExtensionRangeOptions;N.pos<H;){var U=N.uint32();U>>>3==999?(T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()))):N.skipType(7&U)}return T},se.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},se.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},se.fromObject=function(N){if(N instanceof v.google.protobuf.ExtensionRangeOptions)return N;var q=new v.google.protobuf.ExtensionRangeOptions;if(N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},se.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},se.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},se),l.FieldDescriptorProto=(le.prototype.name="",le.prototype.number=0,le.prototype.label=1,le.prototype.type=1,le.prototype.typeName="",le.prototype.extendee="",le.prototype.defaultValue="",le.prototype.oneofIndex=0,le.prototype.jsonName="",le.prototype.options=null,le.prototype.proto3Optional=!1,le.create=function(N){return new le(N)},le.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.extendee!=null&&Object.hasOwnProperty.call(N,"extendee")&&q.uint32(18).string(N.extendee),N.number!=null&&Object.hasOwnProperty.call(N,"number")&&q.uint32(24).int32(N.number),N.label!=null&&Object.hasOwnProperty.call(N,"label")&&q.uint32(32).int32(N.label),N.type!=null&&Object.hasOwnProperty.call(N,"type")&&q.uint32(40).int32(N.type),N.typeName!=null&&Object.hasOwnProperty.call(N,"typeName")&&q.uint32(50).string(N.typeName),N.defaultValue!=null&&Object.hasOwnProperty.call(N,"defaultValue")&&q.uint32(58).string(N.defaultValue),N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.FieldOptions.encode(N.options,q.uint32(66).fork()).ldelim(),N.oneofIndex!=null&&Object.hasOwnProperty.call(N,"oneofIndex")&&q.uint32(72).int32(N.oneofIndex),N.jsonName!=null&&Object.hasOwnProperty.call(N,"jsonName")&&q.uint32(82).string(N.jsonName),N.proto3Optional!=null&&Object.hasOwnProperty.call(N,"proto3Optional")&&q.uint32(136).bool(N.proto3Optional),q},le.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},le.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.FieldDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 3:T.number=N.int32();break;case 4:T.label=N.int32();break;case 5:T.type=N.int32();break;case 6:T.typeName=N.string();break;case 2:T.extendee=N.string();break;case 7:T.defaultValue=N.string();break;case 9:T.oneofIndex=N.int32();break;case 10:T.jsonName=N.string();break;case 8:T.options=v.google.protobuf.FieldOptions.decode(N,N.uint32());break;case 17:T.proto3Optional=N.bool();break;default:N.skipType(7&U)}}return T},le.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},le.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.number!=null&&N.hasOwnProperty("number")&&!S.isInteger(N.number))return"number: integer expected";if(N.label!=null&&N.hasOwnProperty("label"))switch(N.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(N.type!=null&&N.hasOwnProperty("type"))switch(N.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(N.typeName!=null&&N.hasOwnProperty("typeName")&&!S.isString(N.typeName))return"typeName: string expected";if(N.extendee!=null&&N.hasOwnProperty("extendee")&&!S.isString(N.extendee))return"extendee: string expected";if(N.defaultValue!=null&&N.hasOwnProperty("defaultValue")&&!S.isString(N.defaultValue))return"defaultValue: string expected";if(N.oneofIndex!=null&&N.hasOwnProperty("oneofIndex")&&!S.isInteger(N.oneofIndex))return"oneofIndex: integer expected";if(N.jsonName!=null&&N.hasOwnProperty("jsonName")&&!S.isString(N.jsonName))return"jsonName: string expected";if(N.options!=null&&N.hasOwnProperty("options")){var q=v.google.protobuf.FieldOptions.verify(N.options);if(q)return"options."+q}return N.proto3Optional!=null&&N.hasOwnProperty("proto3Optional")&&typeof N.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},le.fromObject=function(N){if(N instanceof v.google.protobuf.FieldDescriptorProto)return N;var q=new v.google.protobuf.FieldDescriptorProto;switch(N.name!=null&&(q.name=String(N.name)),N.number!=null&&(q.number=0|N.number),N.label){case"LABEL_OPTIONAL":case 1:q.label=1;break;case"LABEL_REQUIRED":case 2:q.label=2;break;case"LABEL_REPEATED":case 3:q.label=3}switch(N.type){case"TYPE_DOUBLE":case 1:q.type=1;break;case"TYPE_FLOAT":case 2:q.type=2;break;case"TYPE_INT64":case 3:q.type=3;break;case"TYPE_UINT64":case 4:q.type=4;break;case"TYPE_INT32":case 5:q.type=5;break;case"TYPE_FIXED64":case 6:q.type=6;break;case"TYPE_FIXED32":case 7:q.type=7;break;case"TYPE_BOOL":case 8:q.type=8;break;case"TYPE_STRING":case 9:q.type=9;break;case"TYPE_GROUP":case 10:q.type=10;break;case"TYPE_MESSAGE":case 11:q.type=11;break;case"TYPE_BYTES":case 12:q.type=12;break;case"TYPE_UINT32":case 13:q.type=13;break;case"TYPE_ENUM":case 14:q.type=14;break;case"TYPE_SFIXED32":case 15:q.type=15;break;case"TYPE_SFIXED64":case 16:q.type=16;break;case"TYPE_SINT32":case 17:q.type=17;break;case"TYPE_SINT64":case 18:q.type=18}if(N.typeName!=null&&(q.typeName=String(N.typeName)),N.extendee!=null&&(q.extendee=String(N.extendee)),N.defaultValue!=null&&(q.defaultValue=String(N.defaultValue)),N.oneofIndex!=null&&(q.oneofIndex=0|N.oneofIndex),N.jsonName!=null&&(q.jsonName=String(N.jsonName)),N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");q.options=v.google.protobuf.FieldOptions.fromObject(N.options)}return N.proto3Optional!=null&&(q.proto3Optional=!!N.proto3Optional),q},le.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name="",H.extendee="",H.number=0,H.label=q.enums===String?"LABEL_OPTIONAL":1,H.type=q.enums===String?"TYPE_DOUBLE":1,H.typeName="",H.defaultValue="",H.options=null,H.oneofIndex=0,H.jsonName="",H.proto3Optional=!1),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.extendee!=null&&N.hasOwnProperty("extendee")&&(H.extendee=N.extendee),N.number!=null&&N.hasOwnProperty("number")&&(H.number=N.number),N.label!=null&&N.hasOwnProperty("label")&&(H.label=q.enums===String?v.google.protobuf.FieldDescriptorProto.Label[N.label]:N.label),N.type!=null&&N.hasOwnProperty("type")&&(H.type=q.enums===String?v.google.protobuf.FieldDescriptorProto.Type[N.type]:N.type),N.typeName!=null&&N.hasOwnProperty("typeName")&&(H.typeName=N.typeName),N.defaultValue!=null&&N.hasOwnProperty("defaultValue")&&(H.defaultValue=N.defaultValue),N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.FieldOptions.toObject(N.options,q)),N.oneofIndex!=null&&N.hasOwnProperty("oneofIndex")&&(H.oneofIndex=N.oneofIndex),N.jsonName!=null&&N.hasOwnProperty("jsonName")&&(H.jsonName=N.jsonName),N.proto3Optional!=null&&N.hasOwnProperty("proto3Optional")&&(H.proto3Optional=N.proto3Optional),H},le.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},le.Type=(p={},(o=Object.create(p))[p[1]="TYPE_DOUBLE"]=1,o[p[2]="TYPE_FLOAT"]=2,o[p[3]="TYPE_INT64"]=3,o[p[4]="TYPE_UINT64"]=4,o[p[5]="TYPE_INT32"]=5,o[p[6]="TYPE_FIXED64"]=6,o[p[7]="TYPE_FIXED32"]=7,o[p[8]="TYPE_BOOL"]=8,o[p[9]="TYPE_STRING"]=9,o[p[10]="TYPE_GROUP"]=10,o[p[11]="TYPE_MESSAGE"]=11,o[p[12]="TYPE_BYTES"]=12,o[p[13]="TYPE_UINT32"]=13,o[p[14]="TYPE_ENUM"]=14,o[p[15]="TYPE_SFIXED32"]=15,o[p[16]="TYPE_SFIXED64"]=16,o[p[17]="TYPE_SINT32"]=17,o[p[18]="TYPE_SINT64"]=18,o),le.Label=(p={},(o=Object.create(p))[p[1]="LABEL_OPTIONAL"]=1,o[p[2]="LABEL_REQUIRED"]=2,o[p[3]="LABEL_REPEATED"]=3,o),le),l.OneofDescriptorProto=(de.prototype.name="",de.prototype.options=null,de.create=function(N){return new de(N)},de.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.OneofOptions.encode(N.options,q.uint32(18).fork()).ldelim(),q},de.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},de.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.OneofDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.options=v.google.protobuf.OneofOptions.decode(N,N.uint32());break;default:N.skipType(7&U)}}return T},de.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},de.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":N.options!=null&&N.hasOwnProperty("options")&&(N=v.google.protobuf.OneofOptions.verify(N.options),N)?"options."+N:null},de.fromObject=function(N){if(N instanceof v.google.protobuf.OneofDescriptorProto)return N;var q=new v.google.protobuf.OneofDescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");q.options=v.google.protobuf.OneofOptions.fromObject(N.options)}return q},de.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name="",H.options=null),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.OneofOptions.toObject(N.options,q)),H},de.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},de),l.EnumDescriptorProto=(pe.prototype.name="",pe.prototype.value=S.emptyArray,pe.prototype.options=null,pe.prototype.reservedRange=S.emptyArray,pe.prototype.reservedName=S.emptyArray,pe.create=function(N){return new pe(N)},pe.encode=function(N,q){if(q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.value!=null&&N.value.length)for(var H=0;H<N.value.length;++H)v.google.protobuf.EnumValueDescriptorProto.encode(N.value[H],q.uint32(18).fork()).ldelim();if(N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.EnumOptions.encode(N.options,q.uint32(26).fork()).ldelim(),N.reservedRange!=null&&N.reservedRange.length)for(H=0;H<N.reservedRange.length;++H)v.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(N.reservedRange[H],q.uint32(34).fork()).ldelim();if(N.reservedName!=null&&N.reservedName.length)for(H=0;H<N.reservedName.length;++H)q.uint32(42).string(N.reservedName[H]);return q},pe.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},pe.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.EnumDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.value&&T.value.length||(T.value=[]),T.value.push(v.google.protobuf.EnumValueDescriptorProto.decode(N,N.uint32()));break;case 3:T.options=v.google.protobuf.EnumOptions.decode(N,N.uint32());break;case 4:T.reservedRange&&T.reservedRange.length||(T.reservedRange=[]),T.reservedRange.push(v.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(N,N.uint32()));break;case 5:T.reservedName&&T.reservedName.length||(T.reservedName=[]),T.reservedName.push(N.string());break;default:N.skipType(7&U)}}return T},pe.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},pe.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.value!=null&&N.hasOwnProperty("value")){if(!Array.isArray(N.value))return"value: array expected";for(var q=0;q<N.value.length;++q)if(H=v.google.protobuf.EnumValueDescriptorProto.verify(N.value[q]))return"value."+H}if(N.options!=null&&N.hasOwnProperty("options")&&(H=v.google.protobuf.EnumOptions.verify(N.options)))return"options."+H;if(N.reservedRange!=null&&N.hasOwnProperty("reservedRange")){if(!Array.isArray(N.reservedRange))return"reservedRange: array expected";for(var H,q=0;q<N.reservedRange.length;++q)if(H=v.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(N.reservedRange[q]))return"reservedRange."+H}if(N.reservedName!=null&&N.hasOwnProperty("reservedName")){if(!Array.isArray(N.reservedName))return"reservedName: array expected";for(q=0;q<N.reservedName.length;++q)if(!S.isString(N.reservedName[q]))return"reservedName: string[] expected"}return null},pe.fromObject=function(N){if(N instanceof v.google.protobuf.EnumDescriptorProto)return N;var q=new v.google.protobuf.EnumDescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.value){if(!Array.isArray(N.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");q.value=[];for(var H=0;H<N.value.length;++H){if(typeof N.value[H]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");q.value[H]=v.google.protobuf.EnumValueDescriptorProto.fromObject(N.value[H])}}if(N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");q.options=v.google.protobuf.EnumOptions.fromObject(N.options)}if(N.reservedRange){if(!Array.isArray(N.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(q.reservedRange=[],H=0;H<N.reservedRange.length;++H){if(typeof N.reservedRange[H]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");q.reservedRange[H]=v.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(N.reservedRange[H])}}if(N.reservedName){if(!Array.isArray(N.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(q.reservedName=[],H=0;H<N.reservedName.length;++H)q.reservedName[H]=String(N.reservedName[H])}return q},pe.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.value=[],H.reservedRange=[],H.reservedName=[]),q.defaults&&(H.name="",H.options=null),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.value&&N.value.length){H.value=[];for(var T=0;T<N.value.length;++T)H.value[T]=v.google.protobuf.EnumValueDescriptorProto.toObject(N.value[T],q)}if(N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.EnumOptions.toObject(N.options,q)),N.reservedRange&&N.reservedRange.length)for(H.reservedRange=[],T=0;T<N.reservedRange.length;++T)H.reservedRange[T]=v.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(N.reservedRange[T],q);if(N.reservedName&&N.reservedName.length)for(H.reservedName=[],T=0;T<N.reservedName.length;++T)H.reservedName[T]=N.reservedName[T];return H},pe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},pe.EnumReservedRange=(fe.prototype.start=0,fe.prototype.end=0,fe.create=function(N){return new fe(N)},fe.encode=function(N,q){return q=q||_.create(),N.start!=null&&Object.hasOwnProperty.call(N,"start")&&q.uint32(8).int32(N.start),N.end!=null&&Object.hasOwnProperty.call(N,"end")&&q.uint32(16).int32(N.end),q},fe.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},fe.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.EnumDescriptorProto.EnumReservedRange;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.start=N.int32();break;case 2:T.end=N.int32();break;default:N.skipType(7&U)}}return T},fe.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},fe.verify=function(N){return typeof N!="object"||N===null?"object expected":N.start!=null&&N.hasOwnProperty("start")&&!S.isInteger(N.start)?"start: integer expected":N.end!=null&&N.hasOwnProperty("end")&&!S.isInteger(N.end)?"end: integer expected":null},fe.fromObject=function(N){var q;return N instanceof v.google.protobuf.EnumDescriptorProto.EnumReservedRange?N:(q=new v.google.protobuf.EnumDescriptorProto.EnumReservedRange,N.start!=null&&(q.start=0|N.start),N.end!=null&&(q.end=0|N.end),q)},fe.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.start=0,H.end=0),N.start!=null&&N.hasOwnProperty("start")&&(H.start=N.start),N.end!=null&&N.hasOwnProperty("end")&&(H.end=N.end),H},fe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},fe),pe),l.EnumValueDescriptorProto=(he.prototype.name="",he.prototype.number=0,he.prototype.options=null,he.create=function(N){return new he(N)},he.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.number!=null&&Object.hasOwnProperty.call(N,"number")&&q.uint32(16).int32(N.number),N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.EnumValueOptions.encode(N.options,q.uint32(26).fork()).ldelim(),q},he.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},he.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.EnumValueDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.number=N.int32();break;case 3:T.options=v.google.protobuf.EnumValueOptions.decode(N,N.uint32());break;default:N.skipType(7&U)}}return T},he.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},he.verify=function(N){return typeof N!="object"||N===null?"object expected":N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name)?"name: string expected":N.number!=null&&N.hasOwnProperty("number")&&!S.isInteger(N.number)?"number: integer expected":N.options!=null&&N.hasOwnProperty("options")&&(N=v.google.protobuf.EnumValueOptions.verify(N.options),N)?"options."+N:null},he.fromObject=function(N){if(N instanceof v.google.protobuf.EnumValueDescriptorProto)return N;var q=new v.google.protobuf.EnumValueDescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.number!=null&&(q.number=0|N.number),N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");q.options=v.google.protobuf.EnumValueOptions.fromObject(N.options)}return q},he.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name="",H.number=0,H.options=null),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.number!=null&&N.hasOwnProperty("number")&&(H.number=N.number),N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.EnumValueOptions.toObject(N.options,q)),H},he.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},he),l.ServiceDescriptorProto=(ge.prototype.name="",ge.prototype.method=S.emptyArray,ge.prototype.options=null,ge.create=function(N){return new ge(N)},ge.encode=function(N,q){if(q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.method!=null&&N.method.length)for(var H=0;H<N.method.length;++H)v.google.protobuf.MethodDescriptorProto.encode(N.method[H],q.uint32(18).fork()).ldelim();return N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.ServiceOptions.encode(N.options,q.uint32(26).fork()).ldelim(),q},ge.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ge.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.ServiceDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.method&&T.method.length||(T.method=[]),T.method.push(v.google.protobuf.MethodDescriptorProto.decode(N,N.uint32()));break;case 3:T.options=v.google.protobuf.ServiceOptions.decode(N,N.uint32());break;default:N.skipType(7&U)}}return T},ge.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ge.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.method!=null&&N.hasOwnProperty("method")){if(!Array.isArray(N.method))return"method: array expected";for(var q=0;q<N.method.length;++q)if(H=v.google.protobuf.MethodDescriptorProto.verify(N.method[q]))return"method."+H}var H;return N.options!=null&&N.hasOwnProperty("options")&&(H=v.google.protobuf.ServiceOptions.verify(N.options))?"options."+H:null},ge.fromObject=function(N){if(N instanceof v.google.protobuf.ServiceDescriptorProto)return N;var q=new v.google.protobuf.ServiceDescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.method){if(!Array.isArray(N.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");q.method=[];for(var H=0;H<N.method.length;++H){if(typeof N.method[H]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");q.method[H]=v.google.protobuf.MethodDescriptorProto.fromObject(N.method[H])}}if(N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");q.options=v.google.protobuf.ServiceOptions.fromObject(N.options)}return q},ge.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.method=[]),q.defaults&&(H.name="",H.options=null),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.method&&N.method.length){H.method=[];for(var T=0;T<N.method.length;++T)H.method[T]=v.google.protobuf.MethodDescriptorProto.toObject(N.method[T],q)}return N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.ServiceOptions.toObject(N.options,q)),H},ge.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ge),l.MethodDescriptorProto=(me.prototype.name="",me.prototype.inputType="",me.prototype.outputType="",me.prototype.options=null,me.prototype.clientStreaming=!1,me.prototype.serverStreaming=!1,me.create=function(N){return new me(N)},me.encode=function(N,q){return q=q||_.create(),N.name!=null&&Object.hasOwnProperty.call(N,"name")&&q.uint32(10).string(N.name),N.inputType!=null&&Object.hasOwnProperty.call(N,"inputType")&&q.uint32(18).string(N.inputType),N.outputType!=null&&Object.hasOwnProperty.call(N,"outputType")&&q.uint32(26).string(N.outputType),N.options!=null&&Object.hasOwnProperty.call(N,"options")&&v.google.protobuf.MethodOptions.encode(N.options,q.uint32(34).fork()).ldelim(),N.clientStreaming!=null&&Object.hasOwnProperty.call(N,"clientStreaming")&&q.uint32(40).bool(N.clientStreaming),N.serverStreaming!=null&&Object.hasOwnProperty.call(N,"serverStreaming")&&q.uint32(48).bool(N.serverStreaming),q},me.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},me.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.MethodDescriptorProto;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.name=N.string();break;case 2:T.inputType=N.string();break;case 3:T.outputType=N.string();break;case 4:T.options=v.google.protobuf.MethodOptions.decode(N,N.uint32());break;case 5:T.clientStreaming=N.bool();break;case 6:T.serverStreaming=N.bool();break;default:N.skipType(7&U)}}return T},me.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},me.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")&&!S.isString(N.name))return"name: string expected";if(N.inputType!=null&&N.hasOwnProperty("inputType")&&!S.isString(N.inputType))return"inputType: string expected";if(N.outputType!=null&&N.hasOwnProperty("outputType")&&!S.isString(N.outputType))return"outputType: string expected";if(N.options!=null&&N.hasOwnProperty("options")){var q=v.google.protobuf.MethodOptions.verify(N.options);if(q)return"options."+q}return N.clientStreaming!=null&&N.hasOwnProperty("clientStreaming")&&typeof N.clientStreaming!="boolean"?"clientStreaming: boolean expected":N.serverStreaming!=null&&N.hasOwnProperty("serverStreaming")&&typeof N.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},me.fromObject=function(N){if(N instanceof v.google.protobuf.MethodDescriptorProto)return N;var q=new v.google.protobuf.MethodDescriptorProto;if(N.name!=null&&(q.name=String(N.name)),N.inputType!=null&&(q.inputType=String(N.inputType)),N.outputType!=null&&(q.outputType=String(N.outputType)),N.options!=null){if(typeof N.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");q.options=v.google.protobuf.MethodOptions.fromObject(N.options)}return N.clientStreaming!=null&&(q.clientStreaming=!!N.clientStreaming),N.serverStreaming!=null&&(q.serverStreaming=!!N.serverStreaming),q},me.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.name="",H.inputType="",H.outputType="",H.options=null,H.clientStreaming=!1,H.serverStreaming=!1),N.name!=null&&N.hasOwnProperty("name")&&(H.name=N.name),N.inputType!=null&&N.hasOwnProperty("inputType")&&(H.inputType=N.inputType),N.outputType!=null&&N.hasOwnProperty("outputType")&&(H.outputType=N.outputType),N.options!=null&&N.hasOwnProperty("options")&&(H.options=v.google.protobuf.MethodOptions.toObject(N.options,q)),N.clientStreaming!=null&&N.hasOwnProperty("clientStreaming")&&(H.clientStreaming=N.clientStreaming),N.serverStreaming!=null&&N.hasOwnProperty("serverStreaming")&&(H.serverStreaming=N.serverStreaming),H},me.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},me),l.FileOptions=(ye.prototype.javaPackage="",ye.prototype.javaOuterClassname="",ye.prototype.javaMultipleFiles=!1,ye.prototype.javaGenerateEqualsAndHash=!1,ye.prototype.javaStringCheckUtf8=!1,ye.prototype.optimizeFor=1,ye.prototype.goPackage="",ye.prototype.ccGenericServices=!1,ye.prototype.javaGenericServices=!1,ye.prototype.pyGenericServices=!1,ye.prototype.phpGenericServices=!1,ye.prototype.deprecated=!1,ye.prototype.ccEnableArenas=!0,ye.prototype.objcClassPrefix="",ye.prototype.csharpNamespace="",ye.prototype.swiftPrefix="",ye.prototype.phpClassPrefix="",ye.prototype.phpNamespace="",ye.prototype.phpMetadataNamespace="",ye.prototype.rubyPackage="",ye.prototype.uninterpretedOption=S.emptyArray,ye.create=function(N){return new ye(N)},ye.encode=function(N,q){if(q=q||_.create(),N.javaPackage!=null&&Object.hasOwnProperty.call(N,"javaPackage")&&q.uint32(10).string(N.javaPackage),N.javaOuterClassname!=null&&Object.hasOwnProperty.call(N,"javaOuterClassname")&&q.uint32(66).string(N.javaOuterClassname),N.optimizeFor!=null&&Object.hasOwnProperty.call(N,"optimizeFor")&&q.uint32(72).int32(N.optimizeFor),N.javaMultipleFiles!=null&&Object.hasOwnProperty.call(N,"javaMultipleFiles")&&q.uint32(80).bool(N.javaMultipleFiles),N.goPackage!=null&&Object.hasOwnProperty.call(N,"goPackage")&&q.uint32(90).string(N.goPackage),N.ccGenericServices!=null&&Object.hasOwnProperty.call(N,"ccGenericServices")&&q.uint32(128).bool(N.ccGenericServices),N.javaGenericServices!=null&&Object.hasOwnProperty.call(N,"javaGenericServices")&&q.uint32(136).bool(N.javaGenericServices),N.pyGenericServices!=null&&Object.hasOwnProperty.call(N,"pyGenericServices")&&q.uint32(144).bool(N.pyGenericServices),N.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(N,"javaGenerateEqualsAndHash")&&q.uint32(160).bool(N.javaGenerateEqualsAndHash),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(184).bool(N.deprecated),N.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(N,"javaStringCheckUtf8")&&q.uint32(216).bool(N.javaStringCheckUtf8),N.ccEnableArenas!=null&&Object.hasOwnProperty.call(N,"ccEnableArenas")&&q.uint32(248).bool(N.ccEnableArenas),N.objcClassPrefix!=null&&Object.hasOwnProperty.call(N,"objcClassPrefix")&&q.uint32(290).string(N.objcClassPrefix),N.csharpNamespace!=null&&Object.hasOwnProperty.call(N,"csharpNamespace")&&q.uint32(298).string(N.csharpNamespace),N.swiftPrefix!=null&&Object.hasOwnProperty.call(N,"swiftPrefix")&&q.uint32(314).string(N.swiftPrefix),N.phpClassPrefix!=null&&Object.hasOwnProperty.call(N,"phpClassPrefix")&&q.uint32(322).string(N.phpClassPrefix),N.phpNamespace!=null&&Object.hasOwnProperty.call(N,"phpNamespace")&&q.uint32(330).string(N.phpNamespace),N.phpGenericServices!=null&&Object.hasOwnProperty.call(N,"phpGenericServices")&&q.uint32(336).bool(N.phpGenericServices),N.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(N,"phpMetadataNamespace")&&q.uint32(354).string(N.phpMetadataNamespace),N.rubyPackage!=null&&Object.hasOwnProperty.call(N,"rubyPackage")&&q.uint32(362).string(N.rubyPackage),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},ye.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ye.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.FileOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.javaPackage=N.string();break;case 8:T.javaOuterClassname=N.string();break;case 10:T.javaMultipleFiles=N.bool();break;case 20:T.javaGenerateEqualsAndHash=N.bool();break;case 27:T.javaStringCheckUtf8=N.bool();break;case 9:T.optimizeFor=N.int32();break;case 11:T.goPackage=N.string();break;case 16:T.ccGenericServices=N.bool();break;case 17:T.javaGenericServices=N.bool();break;case 18:T.pyGenericServices=N.bool();break;case 42:T.phpGenericServices=N.bool();break;case 23:T.deprecated=N.bool();break;case 31:T.ccEnableArenas=N.bool();break;case 36:T.objcClassPrefix=N.string();break;case 37:T.csharpNamespace=N.string();break;case 39:T.swiftPrefix=N.string();break;case 40:T.phpClassPrefix=N.string();break;case 41:T.phpNamespace=N.string();break;case 44:T.phpMetadataNamespace=N.string();break;case 45:T.rubyPackage=N.string();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},ye.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ye.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.javaPackage!=null&&N.hasOwnProperty("javaPackage")&&!S.isString(N.javaPackage))return"javaPackage: string expected";if(N.javaOuterClassname!=null&&N.hasOwnProperty("javaOuterClassname")&&!S.isString(N.javaOuterClassname))return"javaOuterClassname: string expected";if(N.javaMultipleFiles!=null&&N.hasOwnProperty("javaMultipleFiles")&&typeof N.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(N.javaGenerateEqualsAndHash!=null&&N.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof N.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(N.javaStringCheckUtf8!=null&&N.hasOwnProperty("javaStringCheckUtf8")&&typeof N.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(N.optimizeFor!=null&&N.hasOwnProperty("optimizeFor"))switch(N.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(N.goPackage!=null&&N.hasOwnProperty("goPackage")&&!S.isString(N.goPackage))return"goPackage: string expected";if(N.ccGenericServices!=null&&N.hasOwnProperty("ccGenericServices")&&typeof N.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(N.javaGenericServices!=null&&N.hasOwnProperty("javaGenericServices")&&typeof N.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(N.pyGenericServices!=null&&N.hasOwnProperty("pyGenericServices")&&typeof N.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(N.phpGenericServices!=null&&N.hasOwnProperty("phpGenericServices")&&typeof N.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.ccEnableArenas!=null&&N.hasOwnProperty("ccEnableArenas")&&typeof N.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(N.objcClassPrefix!=null&&N.hasOwnProperty("objcClassPrefix")&&!S.isString(N.objcClassPrefix))return"objcClassPrefix: string expected";if(N.csharpNamespace!=null&&N.hasOwnProperty("csharpNamespace")&&!S.isString(N.csharpNamespace))return"csharpNamespace: string expected";if(N.swiftPrefix!=null&&N.hasOwnProperty("swiftPrefix")&&!S.isString(N.swiftPrefix))return"swiftPrefix: string expected";if(N.phpClassPrefix!=null&&N.hasOwnProperty("phpClassPrefix")&&!S.isString(N.phpClassPrefix))return"phpClassPrefix: string expected";if(N.phpNamespace!=null&&N.hasOwnProperty("phpNamespace")&&!S.isString(N.phpNamespace))return"phpNamespace: string expected";if(N.phpMetadataNamespace!=null&&N.hasOwnProperty("phpMetadataNamespace")&&!S.isString(N.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(N.rubyPackage!=null&&N.hasOwnProperty("rubyPackage")&&!S.isString(N.rubyPackage))return"rubyPackage: string expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},ye.fromObject=function(N){if(N instanceof v.google.protobuf.FileOptions)return N;var q=new v.google.protobuf.FileOptions;switch(N.javaPackage!=null&&(q.javaPackage=String(N.javaPackage)),N.javaOuterClassname!=null&&(q.javaOuterClassname=String(N.javaOuterClassname)),N.javaMultipleFiles!=null&&(q.javaMultipleFiles=!!N.javaMultipleFiles),N.javaGenerateEqualsAndHash!=null&&(q.javaGenerateEqualsAndHash=!!N.javaGenerateEqualsAndHash),N.javaStringCheckUtf8!=null&&(q.javaStringCheckUtf8=!!N.javaStringCheckUtf8),N.optimizeFor){case"SPEED":case 1:q.optimizeFor=1;break;case"CODE_SIZE":case 2:q.optimizeFor=2;break;case"LITE_RUNTIME":case 3:q.optimizeFor=3}if(N.goPackage!=null&&(q.goPackage=String(N.goPackage)),N.ccGenericServices!=null&&(q.ccGenericServices=!!N.ccGenericServices),N.javaGenericServices!=null&&(q.javaGenericServices=!!N.javaGenericServices),N.pyGenericServices!=null&&(q.pyGenericServices=!!N.pyGenericServices),N.phpGenericServices!=null&&(q.phpGenericServices=!!N.phpGenericServices),N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.ccEnableArenas!=null&&(q.ccEnableArenas=!!N.ccEnableArenas),N.objcClassPrefix!=null&&(q.objcClassPrefix=String(N.objcClassPrefix)),N.csharpNamespace!=null&&(q.csharpNamespace=String(N.csharpNamespace)),N.swiftPrefix!=null&&(q.swiftPrefix=String(N.swiftPrefix)),N.phpClassPrefix!=null&&(q.phpClassPrefix=String(N.phpClassPrefix)),N.phpNamespace!=null&&(q.phpNamespace=String(N.phpNamespace)),N.phpMetadataNamespace!=null&&(q.phpMetadataNamespace=String(N.phpMetadataNamespace)),N.rubyPackage!=null&&(q.rubyPackage=String(N.rubyPackage)),N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},ye.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),q.defaults&&(H.javaPackage="",H.javaOuterClassname="",H.optimizeFor=q.enums===String?"SPEED":1,H.javaMultipleFiles=!1,H.goPackage="",H.ccGenericServices=!1,H.javaGenericServices=!1,H.pyGenericServices=!1,H.javaGenerateEqualsAndHash=!1,H.deprecated=!1,H.javaStringCheckUtf8=!1,H.ccEnableArenas=!0,H.objcClassPrefix="",H.csharpNamespace="",H.swiftPrefix="",H.phpClassPrefix="",H.phpNamespace="",H.phpGenericServices=!1,H.phpMetadataNamespace="",H.rubyPackage=""),N.javaPackage!=null&&N.hasOwnProperty("javaPackage")&&(H.javaPackage=N.javaPackage),N.javaOuterClassname!=null&&N.hasOwnProperty("javaOuterClassname")&&(H.javaOuterClassname=N.javaOuterClassname),N.optimizeFor!=null&&N.hasOwnProperty("optimizeFor")&&(H.optimizeFor=q.enums===String?v.google.protobuf.FileOptions.OptimizeMode[N.optimizeFor]:N.optimizeFor),N.javaMultipleFiles!=null&&N.hasOwnProperty("javaMultipleFiles")&&(H.javaMultipleFiles=N.javaMultipleFiles),N.goPackage!=null&&N.hasOwnProperty("goPackage")&&(H.goPackage=N.goPackage),N.ccGenericServices!=null&&N.hasOwnProperty("ccGenericServices")&&(H.ccGenericServices=N.ccGenericServices),N.javaGenericServices!=null&&N.hasOwnProperty("javaGenericServices")&&(H.javaGenericServices=N.javaGenericServices),N.pyGenericServices!=null&&N.hasOwnProperty("pyGenericServices")&&(H.pyGenericServices=N.pyGenericServices),N.javaGenerateEqualsAndHash!=null&&N.hasOwnProperty("javaGenerateEqualsAndHash")&&(H.javaGenerateEqualsAndHash=N.javaGenerateEqualsAndHash),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.javaStringCheckUtf8!=null&&N.hasOwnProperty("javaStringCheckUtf8")&&(H.javaStringCheckUtf8=N.javaStringCheckUtf8),N.ccEnableArenas!=null&&N.hasOwnProperty("ccEnableArenas")&&(H.ccEnableArenas=N.ccEnableArenas),N.objcClassPrefix!=null&&N.hasOwnProperty("objcClassPrefix")&&(H.objcClassPrefix=N.objcClassPrefix),N.csharpNamespace!=null&&N.hasOwnProperty("csharpNamespace")&&(H.csharpNamespace=N.csharpNamespace),N.swiftPrefix!=null&&N.hasOwnProperty("swiftPrefix")&&(H.swiftPrefix=N.swiftPrefix),N.phpClassPrefix!=null&&N.hasOwnProperty("phpClassPrefix")&&(H.phpClassPrefix=N.phpClassPrefix),N.phpNamespace!=null&&N.hasOwnProperty("phpNamespace")&&(H.phpNamespace=N.phpNamespace),N.phpGenericServices!=null&&N.hasOwnProperty("phpGenericServices")&&(H.phpGenericServices=N.phpGenericServices),N.phpMetadataNamespace!=null&&N.hasOwnProperty("phpMetadataNamespace")&&(H.phpMetadataNamespace=N.phpMetadataNamespace),N.rubyPackage!=null&&N.hasOwnProperty("rubyPackage")&&(H.rubyPackage=N.rubyPackage),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},ye.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ye.OptimizeMode=(p={},(o=Object.create(p))[p[1]="SPEED"]=1,o[p[2]="CODE_SIZE"]=2,o[p[3]="LITE_RUNTIME"]=3,o),ye),l.MessageOptions=(ve.prototype.messageSetWireFormat=!1,ve.prototype.noStandardDescriptorAccessor=!1,ve.prototype.deprecated=!1,ve.prototype.mapEntry=!1,ve.prototype.uninterpretedOption=S.emptyArray,ve.create=function(N){return new ve(N)},ve.encode=function(N,q){if(q=q||_.create(),N.messageSetWireFormat!=null&&Object.hasOwnProperty.call(N,"messageSetWireFormat")&&q.uint32(8).bool(N.messageSetWireFormat),N.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(N,"noStandardDescriptorAccessor")&&q.uint32(16).bool(N.noStandardDescriptorAccessor),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(24).bool(N.deprecated),N.mapEntry!=null&&Object.hasOwnProperty.call(N,"mapEntry")&&q.uint32(56).bool(N.mapEntry),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},ve.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ve.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.MessageOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.messageSetWireFormat=N.bool();break;case 2:T.noStandardDescriptorAccessor=N.bool();break;case 3:T.deprecated=N.bool();break;case 7:T.mapEntry=N.bool();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},ve.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ve.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.messageSetWireFormat!=null&&N.hasOwnProperty("messageSetWireFormat")&&typeof N.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(N.noStandardDescriptorAccessor!=null&&N.hasOwnProperty("noStandardDescriptorAccessor")&&typeof N.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.mapEntry!=null&&N.hasOwnProperty("mapEntry")&&typeof N.mapEntry!="boolean")return"mapEntry: boolean expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},ve.fromObject=function(N){if(N instanceof v.google.protobuf.MessageOptions)return N;var q=new v.google.protobuf.MessageOptions;if(N.messageSetWireFormat!=null&&(q.messageSetWireFormat=!!N.messageSetWireFormat),N.noStandardDescriptorAccessor!=null&&(q.noStandardDescriptorAccessor=!!N.noStandardDescriptorAccessor),N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.mapEntry!=null&&(q.mapEntry=!!N.mapEntry),N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},ve.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),q.defaults&&(H.messageSetWireFormat=!1,H.noStandardDescriptorAccessor=!1,H.deprecated=!1,H.mapEntry=!1),N.messageSetWireFormat!=null&&N.hasOwnProperty("messageSetWireFormat")&&(H.messageSetWireFormat=N.messageSetWireFormat),N.noStandardDescriptorAccessor!=null&&N.hasOwnProperty("noStandardDescriptorAccessor")&&(H.noStandardDescriptorAccessor=N.noStandardDescriptorAccessor),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.mapEntry!=null&&N.hasOwnProperty("mapEntry")&&(H.mapEntry=N.mapEntry),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},ve.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ve),l.FieldOptions=(Ae.prototype.ctype=0,Ae.prototype.packed=!1,Ae.prototype.jstype=0,Ae.prototype.lazy=!1,Ae.prototype.deprecated=!1,Ae.prototype.weak=!1,Ae.prototype.uninterpretedOption=S.emptyArray,Ae.create=function(N){return new Ae(N)},Ae.encode=function(N,q){if(q=q||_.create(),N.ctype!=null&&Object.hasOwnProperty.call(N,"ctype")&&q.uint32(8).int32(N.ctype),N.packed!=null&&Object.hasOwnProperty.call(N,"packed")&&q.uint32(16).bool(N.packed),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(24).bool(N.deprecated),N.lazy!=null&&Object.hasOwnProperty.call(N,"lazy")&&q.uint32(40).bool(N.lazy),N.jstype!=null&&Object.hasOwnProperty.call(N,"jstype")&&q.uint32(48).int32(N.jstype),N.weak!=null&&Object.hasOwnProperty.call(N,"weak")&&q.uint32(80).bool(N.weak),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},Ae.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Ae.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.FieldOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.ctype=N.int32();break;case 2:T.packed=N.bool();break;case 6:T.jstype=N.int32();break;case 5:T.lazy=N.bool();break;case 3:T.deprecated=N.bool();break;case 10:T.weak=N.bool();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},Ae.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Ae.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.ctype!=null&&N.hasOwnProperty("ctype"))switch(N.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(N.packed!=null&&N.hasOwnProperty("packed")&&typeof N.packed!="boolean")return"packed: boolean expected";if(N.jstype!=null&&N.hasOwnProperty("jstype"))switch(N.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(N.lazy!=null&&N.hasOwnProperty("lazy")&&typeof N.lazy!="boolean")return"lazy: boolean expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.weak!=null&&N.hasOwnProperty("weak")&&typeof N.weak!="boolean")return"weak: boolean expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},Ae.fromObject=function(N){if(N instanceof v.google.protobuf.FieldOptions)return N;var q=new v.google.protobuf.FieldOptions;switch(N.ctype){case"STRING":case 0:q.ctype=0;break;case"CORD":case 1:q.ctype=1;break;case"STRING_PIECE":case 2:q.ctype=2}switch(N.packed!=null&&(q.packed=!!N.packed),N.jstype){case"JS_NORMAL":case 0:q.jstype=0;break;case"JS_STRING":case 1:q.jstype=1;break;case"JS_NUMBER":case 2:q.jstype=2}if(N.lazy!=null&&(q.lazy=!!N.lazy),N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.weak!=null&&(q.weak=!!N.weak),N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},Ae.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),q.defaults&&(H.ctype=q.enums===String?"STRING":0,H.packed=!1,H.deprecated=!1,H.lazy=!1,H.jstype=q.enums===String?"JS_NORMAL":0,H.weak=!1),N.ctype!=null&&N.hasOwnProperty("ctype")&&(H.ctype=q.enums===String?v.google.protobuf.FieldOptions.CType[N.ctype]:N.ctype),N.packed!=null&&N.hasOwnProperty("packed")&&(H.packed=N.packed),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.lazy!=null&&N.hasOwnProperty("lazy")&&(H.lazy=N.lazy),N.jstype!=null&&N.hasOwnProperty("jstype")&&(H.jstype=q.enums===String?v.google.protobuf.FieldOptions.JSType[N.jstype]:N.jstype),N.weak!=null&&N.hasOwnProperty("weak")&&(H.weak=N.weak),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ae.CType=(p={},(o=Object.create(p))[p[0]="STRING"]=0,o[p[1]="CORD"]=1,o[p[2]="STRING_PIECE"]=2,o),Ae.JSType=(p={},(o=Object.create(p))[p[0]="JS_NORMAL"]=0,o[p[1]="JS_STRING"]=1,o[p[2]="JS_NUMBER"]=2,o),Ae),l.OneofOptions=(Pe.prototype.uninterpretedOption=S.emptyArray,Pe.create=function(N){return new Pe(N)},Pe.encode=function(N,q){if(q=q||_.create(),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},Pe.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Pe.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.OneofOptions;N.pos<H;){var U=N.uint32();U>>>3==999?(T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()))):N.skipType(7&U)}return T},Pe.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Pe.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},Pe.fromObject=function(N){if(N instanceof v.google.protobuf.OneofOptions)return N;var q=new v.google.protobuf.OneofOptions;if(N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},Pe.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},Pe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Pe),l.EnumOptions=(Ne.prototype.allowAlias=!1,Ne.prototype.deprecated=!1,Ne.prototype.uninterpretedOption=S.emptyArray,Ne.create=function(N){return new Ne(N)},Ne.encode=function(N,q){if(q=q||_.create(),N.allowAlias!=null&&Object.hasOwnProperty.call(N,"allowAlias")&&q.uint32(16).bool(N.allowAlias),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(24).bool(N.deprecated),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},Ne.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Ne.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.EnumOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 2:T.allowAlias=N.bool();break;case 3:T.deprecated=N.bool();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},Ne.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Ne.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.allowAlias!=null&&N.hasOwnProperty("allowAlias")&&typeof N.allowAlias!="boolean")return"allowAlias: boolean expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},Ne.fromObject=function(N){if(N instanceof v.google.protobuf.EnumOptions)return N;var q=new v.google.protobuf.EnumOptions;if(N.allowAlias!=null&&(q.allowAlias=!!N.allowAlias),N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},Ne.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),q.defaults&&(H.allowAlias=!1,H.deprecated=!1),N.allowAlias!=null&&N.hasOwnProperty("allowAlias")&&(H.allowAlias=N.allowAlias),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ne),l.EnumValueOptions=(Ee.prototype.deprecated=!1,Ee.prototype.uninterpretedOption=S.emptyArray,Ee.create=function(N){return new Ee(N)},Ee.encode=function(N,q){if(q=q||_.create(),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(8).bool(N.deprecated),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return q},Ee.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Ee.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.EnumValueOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.deprecated=N.bool();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},Ee.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Ee.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return null},Ee.fromObject=function(N){if(N instanceof v.google.protobuf.EnumValueOptions)return N;var q=new v.google.protobuf.EnumValueOptions;if(N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return q},Ee.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),q.defaults&&(H.deprecated=!1),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return H},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ee),l.ServiceOptions=(Ce.prototype.deprecated=!1,Ce.prototype.uninterpretedOption=S.emptyArray,Ce.prototype[".google.api.defaultHost"]="",Ce.prototype[".google.api.oauthScopes"]="",Ce.create=function(N){return new Ce(N)},Ce.encode=function(N,q){if(q=q||_.create(),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(264).bool(N.deprecated),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();return N[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(N,".google.api.defaultHost")&&q.uint32(8394).string(N[".google.api.defaultHost"]),N[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(N,".google.api.oauthScopes")&&q.uint32(8402).string(N[".google.api.oauthScopes"]),q},Ce.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Ce.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.ServiceOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 33:T.deprecated=N.bool();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;case 1049:T[".google.api.defaultHost"]=N.string();break;case 1050:T[".google.api.oauthScopes"]=N.string();break;default:N.skipType(7&U)}}return T},Ce.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Ce.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q){var H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]);if(H)return"uninterpretedOption."+H}}return N[".google.api.defaultHost"]!=null&&N.hasOwnProperty(".google.api.defaultHost")&&!S.isString(N[".google.api.defaultHost"])?".google.api.defaultHost: string expected":N[".google.api.oauthScopes"]!=null&&N.hasOwnProperty(".google.api.oauthScopes")&&!S.isString(N[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},Ce.fromObject=function(N){if(N instanceof v.google.protobuf.ServiceOptions)return N;var q=new v.google.protobuf.ServiceOptions;if(N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}return N[".google.api.defaultHost"]!=null&&(q[".google.api.defaultHost"]=String(N[".google.api.defaultHost"])),N[".google.api.oauthScopes"]!=null&&(q[".google.api.oauthScopes"]=String(N[".google.api.oauthScopes"])),q},Ce.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[]),q.defaults&&(H.deprecated=!1,H[".google.api.defaultHost"]="",H[".google.api.oauthScopes"]=""),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}return N[".google.api.defaultHost"]!=null&&N.hasOwnProperty(".google.api.defaultHost")&&(H[".google.api.defaultHost"]=N[".google.api.defaultHost"]),N[".google.api.oauthScopes"]!=null&&N.hasOwnProperty(".google.api.oauthScopes")&&(H[".google.api.oauthScopes"]=N[".google.api.oauthScopes"]),H},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ce),l.MethodOptions=(Se.prototype.deprecated=!1,Se.prototype.idempotencyLevel=0,Se.prototype.uninterpretedOption=S.emptyArray,Se.prototype[".google.longrunning.operationInfo"]=null,Se.prototype[".google.api.http"]=null,Se.prototype[".google.api.methodSignature"]=S.emptyArray,Se.create=function(N){return new Se(N)},Se.encode=function(N,q){if(q=q||_.create(),N.deprecated!=null&&Object.hasOwnProperty.call(N,"deprecated")&&q.uint32(264).bool(N.deprecated),N.idempotencyLevel!=null&&Object.hasOwnProperty.call(N,"idempotencyLevel")&&q.uint32(272).int32(N.idempotencyLevel),N.uninterpretedOption!=null&&N.uninterpretedOption.length)for(var H=0;H<N.uninterpretedOption.length;++H)v.google.protobuf.UninterpretedOption.encode(N.uninterpretedOption[H],q.uint32(7994).fork()).ldelim();if(N[".google.longrunning.operationInfo"]!=null&&Object.hasOwnProperty.call(N,".google.longrunning.operationInfo")&&v.google.longrunning.OperationInfo.encode(N[".google.longrunning.operationInfo"],q.uint32(8394).fork()).ldelim(),N[".google.api.methodSignature"]!=null&&N[".google.api.methodSignature"].length)for(H=0;H<N[".google.api.methodSignature"].length;++H)q.uint32(8410).string(N[".google.api.methodSignature"][H]);return N[".google.api.http"]!=null&&Object.hasOwnProperty.call(N,".google.api.http")&&v.google.api.HttpRule.encode(N[".google.api.http"],q.uint32(578365826).fork()).ldelim(),q},Se.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Se.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.MethodOptions;N.pos<H;){var U=N.uint32();switch(U>>>3){case 33:T.deprecated=N.bool();break;case 34:T.idempotencyLevel=N.int32();break;case 999:T.uninterpretedOption&&T.uninterpretedOption.length||(T.uninterpretedOption=[]),T.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(N,N.uint32()));break;case 1049:T[".google.longrunning.operationInfo"]=v.google.longrunning.OperationInfo.decode(N,N.uint32());break;case 72295728:T[".google.api.http"]=v.google.api.HttpRule.decode(N,N.uint32());break;case 1051:T[".google.api.methodSignature"]&&T[".google.api.methodSignature"].length||(T[".google.api.methodSignature"]=[]),T[".google.api.methodSignature"].push(N.string());break;default:N.skipType(7&U)}}return T},Se.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Se.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.deprecated!=null&&N.hasOwnProperty("deprecated")&&typeof N.deprecated!="boolean")return"deprecated: boolean expected";if(N.idempotencyLevel!=null&&N.hasOwnProperty("idempotencyLevel"))switch(N.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(N.uninterpretedOption!=null&&N.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(N.uninterpretedOption))return"uninterpretedOption: array expected";for(var q=0;q<N.uninterpretedOption.length;++q)if(H=v.google.protobuf.UninterpretedOption.verify(N.uninterpretedOption[q]))return"uninterpretedOption."+H}var H;if(N[".google.longrunning.operationInfo"]!=null&&N.hasOwnProperty(".google.longrunning.operationInfo")&&(H=v.google.longrunning.OperationInfo.verify(N[".google.longrunning.operationInfo"])))return".google.longrunning.operationInfo."+H;if(N[".google.api.http"]!=null&&N.hasOwnProperty(".google.api.http")&&(H=v.google.api.HttpRule.verify(N[".google.api.http"])))return".google.api.http."+H;if(N[".google.api.methodSignature"]!=null&&N.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(N[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(q=0;q<N[".google.api.methodSignature"].length;++q)if(!S.isString(N[".google.api.methodSignature"][q]))return".google.api.methodSignature: string[] expected"}return null},Se.fromObject=function(N){if(N instanceof v.google.protobuf.MethodOptions)return N;var q=new v.google.protobuf.MethodOptions;switch(N.deprecated!=null&&(q.deprecated=!!N.deprecated),N.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:q.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:q.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:q.idempotencyLevel=2}if(N.uninterpretedOption){if(!Array.isArray(N.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");q.uninterpretedOption=[];for(var H=0;H<N.uninterpretedOption.length;++H){if(typeof N.uninterpretedOption[H]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");q.uninterpretedOption[H]=v.google.protobuf.UninterpretedOption.fromObject(N.uninterpretedOption[H])}}if(N[".google.longrunning.operationInfo"]!=null){if(typeof N[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");q[".google.longrunning.operationInfo"]=v.google.longrunning.OperationInfo.fromObject(N[".google.longrunning.operationInfo"])}if(N[".google.api.http"]!=null){if(typeof N[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");q[".google.api.http"]=v.google.api.HttpRule.fromObject(N[".google.api.http"])}if(N[".google.api.methodSignature"]){if(!Array.isArray(N[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(q[".google.api.methodSignature"]=[],H=0;H<N[".google.api.methodSignature"].length;++H)q[".google.api.methodSignature"][H]=String(N[".google.api.methodSignature"][H])}return q},Se.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.uninterpretedOption=[],H[".google.api.methodSignature"]=[]),q.defaults&&(H.deprecated=!1,H.idempotencyLevel=q.enums===String?"IDEMPOTENCY_UNKNOWN":0,H[".google.longrunning.operationInfo"]=null,H[".google.api.http"]=null),N.deprecated!=null&&N.hasOwnProperty("deprecated")&&(H.deprecated=N.deprecated),N.idempotencyLevel!=null&&N.hasOwnProperty("idempotencyLevel")&&(H.idempotencyLevel=q.enums===String?v.google.protobuf.MethodOptions.IdempotencyLevel[N.idempotencyLevel]:N.idempotencyLevel),N.uninterpretedOption&&N.uninterpretedOption.length){H.uninterpretedOption=[];for(var T=0;T<N.uninterpretedOption.length;++T)H.uninterpretedOption[T]=v.google.protobuf.UninterpretedOption.toObject(N.uninterpretedOption[T],q)}if(N[".google.longrunning.operationInfo"]!=null&&N.hasOwnProperty(".google.longrunning.operationInfo")&&(H[".google.longrunning.operationInfo"]=v.google.longrunning.OperationInfo.toObject(N[".google.longrunning.operationInfo"],q)),N[".google.api.methodSignature"]&&N[".google.api.methodSignature"].length)for(H[".google.api.methodSignature"]=[],T=0;T<N[".google.api.methodSignature"].length;++T)H[".google.api.methodSignature"][T]=N[".google.api.methodSignature"][T];return N[".google.api.http"]!=null&&N.hasOwnProperty(".google.api.http")&&(H[".google.api.http"]=v.google.api.HttpRule.toObject(N[".google.api.http"],q)),H},Se.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Se.IdempotencyLevel=(p={},(o=Object.create(p))[p[0]="IDEMPOTENCY_UNKNOWN"]=0,o[p[1]="NO_SIDE_EFFECTS"]=1,o[p[2]="IDEMPOTENT"]=2,o),Se),l.UninterpretedOption=(Te.prototype.name=S.emptyArray,Te.prototype.identifierValue="",Te.prototype.positiveIntValue=S.Long?S.Long.fromBits(0,0,!0):0,Te.prototype.negativeIntValue=S.Long?S.Long.fromBits(0,0,!1):0,Te.prototype.doubleValue=0,Te.prototype.stringValue=S.newBuffer([]),Te.prototype.aggregateValue="",Te.create=function(N){return new Te(N)},Te.encode=function(N,q){if(q=q||_.create(),N.name!=null&&N.name.length)for(var H=0;H<N.name.length;++H)v.google.protobuf.UninterpretedOption.NamePart.encode(N.name[H],q.uint32(18).fork()).ldelim();return N.identifierValue!=null&&Object.hasOwnProperty.call(N,"identifierValue")&&q.uint32(26).string(N.identifierValue),N.positiveIntValue!=null&&Object.hasOwnProperty.call(N,"positiveIntValue")&&q.uint32(32).uint64(N.positiveIntValue),N.negativeIntValue!=null&&Object.hasOwnProperty.call(N,"negativeIntValue")&&q.uint32(40).int64(N.negativeIntValue),N.doubleValue!=null&&Object.hasOwnProperty.call(N,"doubleValue")&&q.uint32(49).double(N.doubleValue),N.stringValue!=null&&Object.hasOwnProperty.call(N,"stringValue")&&q.uint32(58).bytes(N.stringValue),N.aggregateValue!=null&&Object.hasOwnProperty.call(N,"aggregateValue")&&q.uint32(66).string(N.aggregateValue),q},Te.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Te.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.UninterpretedOption;N.pos<H;){var U=N.uint32();switch(U>>>3){case 2:T.name&&T.name.length||(T.name=[]),T.name.push(v.google.protobuf.UninterpretedOption.NamePart.decode(N,N.uint32()));break;case 3:T.identifierValue=N.string();break;case 4:T.positiveIntValue=N.uint64();break;case 5:T.negativeIntValue=N.int64();break;case 6:T.doubleValue=N.double();break;case 7:T.stringValue=N.bytes();break;case 8:T.aggregateValue=N.string();break;default:N.skipType(7&U)}}return T},Te.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Te.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.name!=null&&N.hasOwnProperty("name")){if(!Array.isArray(N.name))return"name: array expected";for(var q=0;q<N.name.length;++q){var H=v.google.protobuf.UninterpretedOption.NamePart.verify(N.name[q]);if(H)return"name."+H}}return N.identifierValue!=null&&N.hasOwnProperty("identifierValue")&&!S.isString(N.identifierValue)?"identifierValue: string expected":N.positiveIntValue!=null&&N.hasOwnProperty("positiveIntValue")&&!(S.isInteger(N.positiveIntValue)||N.positiveIntValue&&S.isInteger(N.positiveIntValue.low)&&S.isInteger(N.positiveIntValue.high))?"positiveIntValue: integer|Long expected":N.negativeIntValue!=null&&N.hasOwnProperty("negativeIntValue")&&!(S.isInteger(N.negativeIntValue)||N.negativeIntValue&&S.isInteger(N.negativeIntValue.low)&&S.isInteger(N.negativeIntValue.high))?"negativeIntValue: integer|Long expected":N.doubleValue!=null&&N.hasOwnProperty("doubleValue")&&typeof N.doubleValue!="number"?"doubleValue: number expected":N.stringValue!=null&&N.hasOwnProperty("stringValue")&&!(N.stringValue&&typeof N.stringValue.length=="number"||S.isString(N.stringValue))?"stringValue: buffer expected":N.aggregateValue!=null&&N.hasOwnProperty("aggregateValue")&&!S.isString(N.aggregateValue)?"aggregateValue: string expected":null},Te.fromObject=function(N){if(N instanceof v.google.protobuf.UninterpretedOption)return N;var q=new v.google.protobuf.UninterpretedOption;if(N.name){if(!Array.isArray(N.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");q.name=[];for(var H=0;H<N.name.length;++H){if(typeof N.name[H]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");q.name[H]=v.google.protobuf.UninterpretedOption.NamePart.fromObject(N.name[H])}}return N.identifierValue!=null&&(q.identifierValue=String(N.identifierValue)),N.positiveIntValue!=null&&(S.Long?(q.positiveIntValue=S.Long.fromValue(N.positiveIntValue)).unsigned=!0:typeof N.positiveIntValue=="string"?q.positiveIntValue=parseInt(N.positiveIntValue,10):typeof N.positiveIntValue=="number"?q.positiveIntValue=N.positiveIntValue:typeof N.positiveIntValue=="object"&&(q.positiveIntValue=new S.LongBits(N.positiveIntValue.low>>>0,N.positiveIntValue.high>>>0).toNumber(!0))),N.negativeIntValue!=null&&(S.Long?(q.negativeIntValue=S.Long.fromValue(N.negativeIntValue)).unsigned=!1:typeof N.negativeIntValue=="string"?q.negativeIntValue=parseInt(N.negativeIntValue,10):typeof N.negativeIntValue=="number"?q.negativeIntValue=N.negativeIntValue:typeof N.negativeIntValue=="object"&&(q.negativeIntValue=new S.LongBits(N.negativeIntValue.low>>>0,N.negativeIntValue.high>>>0).toNumber())),N.doubleValue!=null&&(q.doubleValue=Number(N.doubleValue)),N.stringValue!=null&&(typeof N.stringValue=="string"?S.base64.decode(N.stringValue,q.stringValue=S.newBuffer(S.base64.length(N.stringValue)),0):N.stringValue.length&&(q.stringValue=N.stringValue)),N.aggregateValue!=null&&(q.aggregateValue=String(N.aggregateValue)),q},Te.toObject=function(N,q){var H,T={};if(((q=q||{}).arrays||q.defaults)&&(T.name=[]),q.defaults&&(T.identifierValue="",S.Long?(H=new S.Long(0,0,!0),T.positiveIntValue=q.longs===String?H.toString():q.longs===Number?H.toNumber():H):T.positiveIntValue=q.longs===String?"0":0,S.Long?(H=new S.Long(0,0,!1),T.negativeIntValue=q.longs===String?H.toString():q.longs===Number?H.toNumber():H):T.negativeIntValue=q.longs===String?"0":0,T.doubleValue=0,q.bytes===String?T.stringValue="":(T.stringValue=[],q.bytes!==Array&&(T.stringValue=S.newBuffer(T.stringValue))),T.aggregateValue=""),N.name&&N.name.length){T.name=[];for(var U=0;U<N.name.length;++U)T.name[U]=v.google.protobuf.UninterpretedOption.NamePart.toObject(N.name[U],q)}return N.identifierValue!=null&&N.hasOwnProperty("identifierValue")&&(T.identifierValue=N.identifierValue),N.positiveIntValue!=null&&N.hasOwnProperty("positiveIntValue")&&(typeof N.positiveIntValue=="number"?T.positiveIntValue=q.longs===String?String(N.positiveIntValue):N.positiveIntValue:T.positiveIntValue=q.longs===String?S.Long.prototype.toString.call(N.positiveIntValue):q.longs===Number?new S.LongBits(N.positiveIntValue.low>>>0,N.positiveIntValue.high>>>0).toNumber(!0):N.positiveIntValue),N.negativeIntValue!=null&&N.hasOwnProperty("negativeIntValue")&&(typeof N.negativeIntValue=="number"?T.negativeIntValue=q.longs===String?String(N.negativeIntValue):N.negativeIntValue:T.negativeIntValue=q.longs===String?S.Long.prototype.toString.call(N.negativeIntValue):q.longs===Number?new S.LongBits(N.negativeIntValue.low>>>0,N.negativeIntValue.high>>>0).toNumber():N.negativeIntValue),N.doubleValue!=null&&N.hasOwnProperty("doubleValue")&&(T.doubleValue=q.json&&!isFinite(N.doubleValue)?String(N.doubleValue):N.doubleValue),N.stringValue!=null&&N.hasOwnProperty("stringValue")&&(T.stringValue=q.bytes===String?S.base64.encode(N.stringValue,0,N.stringValue.length):q.bytes===Array?Array.prototype.slice.call(N.stringValue):N.stringValue),N.aggregateValue!=null&&N.hasOwnProperty("aggregateValue")&&(T.aggregateValue=N.aggregateValue),T},Te.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Te.NamePart=(Oe.prototype.namePart="",Oe.prototype.isExtension=!1,Oe.create=function(N){return new Oe(N)},Oe.encode=function(N,q){return(q=q||_.create()).uint32(10).string(N.namePart),q.uint32(16).bool(N.isExtension),q},Oe.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},Oe.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.UninterpretedOption.NamePart;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.namePart=N.string();break;case 2:T.isExtension=N.bool();break;default:N.skipType(7&U)}}if(!T.hasOwnProperty("namePart"))throw S.ProtocolError("missing required 'namePart'",{instance:T});if(T.hasOwnProperty("isExtension"))return T;throw S.ProtocolError("missing required 'isExtension'",{instance:T})},Oe.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},Oe.verify=function(N){return typeof N!="object"||N===null?"object expected":S.isString(N.namePart)?typeof N.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},Oe.fromObject=function(N){var q;return N instanceof v.google.protobuf.UninterpretedOption.NamePart?N:(q=new v.google.protobuf.UninterpretedOption.NamePart,N.namePart!=null&&(q.namePart=String(N.namePart)),N.isExtension!=null&&(q.isExtension=!!N.isExtension),q)},Oe.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.namePart="",H.isExtension=!1),N.namePart!=null&&N.hasOwnProperty("namePart")&&(H.namePart=N.namePart),N.isExtension!=null&&N.hasOwnProperty("isExtension")&&(H.isExtension=N.isExtension),H},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Oe),Te),l.SourceCodeInfo=(ce.prototype.location=S.emptyArray,ce.create=function(N){return new ce(N)},ce.encode=function(N,q){if(q=q||_.create(),N.location!=null&&N.location.length)for(var H=0;H<N.location.length;++H)v.google.protobuf.SourceCodeInfo.Location.encode(N.location[H],q.uint32(10).fork()).ldelim();return q},ce.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ce.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.SourceCodeInfo;N.pos<H;){var U=N.uint32();U>>>3==1?(T.location&&T.location.length||(T.location=[]),T.location.push(v.google.protobuf.SourceCodeInfo.Location.decode(N,N.uint32()))):N.skipType(7&U)}return T},ce.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ce.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.location!=null&&N.hasOwnProperty("location")){if(!Array.isArray(N.location))return"location: array expected";for(var q=0;q<N.location.length;++q){var H=v.google.protobuf.SourceCodeInfo.Location.verify(N.location[q]);if(H)return"location."+H}}return null},ce.fromObject=function(N){if(N instanceof v.google.protobuf.SourceCodeInfo)return N;var q=new v.google.protobuf.SourceCodeInfo;if(N.location){if(!Array.isArray(N.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");q.location=[];for(var H=0;H<N.location.length;++H){if(typeof N.location[H]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");q.location[H]=v.google.protobuf.SourceCodeInfo.Location.fromObject(N.location[H])}}return q},ce.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.location=[]),N.location&&N.location.length){H.location=[];for(var T=0;T<N.location.length;++T)H.location[T]=v.google.protobuf.SourceCodeInfo.Location.toObject(N.location[T],q)}return H},ce.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ce.Location=(k.prototype.path=S.emptyArray,k.prototype.span=S.emptyArray,k.prototype.leadingComments="",k.prototype.trailingComments="",k.prototype.leadingDetachedComments=S.emptyArray,k.create=function(N){return new k(N)},k.encode=function(N,q){if(q=q||_.create(),N.path!=null&&N.path.length){q.uint32(10).fork();for(var H=0;H<N.path.length;++H)q.int32(N.path[H]);q.ldelim()}if(N.span!=null&&N.span.length){for(q.uint32(18).fork(),H=0;H<N.span.length;++H)q.int32(N.span[H]);q.ldelim()}if(N.leadingComments!=null&&Object.hasOwnProperty.call(N,"leadingComments")&&q.uint32(26).string(N.leadingComments),N.trailingComments!=null&&Object.hasOwnProperty.call(N,"trailingComments")&&q.uint32(34).string(N.trailingComments),N.leadingDetachedComments!=null&&N.leadingDetachedComments.length)for(H=0;H<N.leadingDetachedComments.length;++H)q.uint32(50).string(N.leadingDetachedComments[H]);return q},k.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},k.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.SourceCodeInfo.Location;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:if(T.path&&T.path.length||(T.path=[]),(7&U)==2)for(var z=N.uint32()+N.pos;N.pos<z;)T.path.push(N.int32());else T.path.push(N.int32());break;case 2:if(T.span&&T.span.length||(T.span=[]),(7&U)==2)for(z=N.uint32()+N.pos;N.pos<z;)T.span.push(N.int32());else T.span.push(N.int32());break;case 3:T.leadingComments=N.string();break;case 4:T.trailingComments=N.string();break;case 6:T.leadingDetachedComments&&T.leadingDetachedComments.length||(T.leadingDetachedComments=[]),T.leadingDetachedComments.push(N.string());break;default:N.skipType(7&U)}}return T},k.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},k.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.path!=null&&N.hasOwnProperty("path")){if(!Array.isArray(N.path))return"path: array expected";for(var q=0;q<N.path.length;++q)if(!S.isInteger(N.path[q]))return"path: integer[] expected"}if(N.span!=null&&N.hasOwnProperty("span")){if(!Array.isArray(N.span))return"span: array expected";for(q=0;q<N.span.length;++q)if(!S.isInteger(N.span[q]))return"span: integer[] expected"}if(N.leadingComments!=null&&N.hasOwnProperty("leadingComments")&&!S.isString(N.leadingComments))return"leadingComments: string expected";if(N.trailingComments!=null&&N.hasOwnProperty("trailingComments")&&!S.isString(N.trailingComments))return"trailingComments: string expected";if(N.leadingDetachedComments!=null&&N.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(N.leadingDetachedComments))return"leadingDetachedComments: array expected";for(q=0;q<N.leadingDetachedComments.length;++q)if(!S.isString(N.leadingDetachedComments[q]))return"leadingDetachedComments: string[] expected"}return null},k.fromObject=function(N){if(N instanceof v.google.protobuf.SourceCodeInfo.Location)return N;var q=new v.google.protobuf.SourceCodeInfo.Location;if(N.path){if(!Array.isArray(N.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");q.path=[];for(var H=0;H<N.path.length;++H)q.path[H]=0|N.path[H]}if(N.span){if(!Array.isArray(N.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(q.span=[],H=0;H<N.span.length;++H)q.span[H]=0|N.span[H]}if(N.leadingComments!=null&&(q.leadingComments=String(N.leadingComments)),N.trailingComments!=null&&(q.trailingComments=String(N.trailingComments)),N.leadingDetachedComments){if(!Array.isArray(N.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(q.leadingDetachedComments=[],H=0;H<N.leadingDetachedComments.length;++H)q.leadingDetachedComments[H]=String(N.leadingDetachedComments[H])}return q},k.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.path=[],H.span=[],H.leadingDetachedComments=[]),q.defaults&&(H.leadingComments="",H.trailingComments=""),N.path&&N.path.length){H.path=[];for(var T=0;T<N.path.length;++T)H.path[T]=N.path[T]}if(N.span&&N.span.length)for(H.span=[],T=0;T<N.span.length;++T)H.span[T]=N.span[T];if(N.leadingComments!=null&&N.hasOwnProperty("leadingComments")&&(H.leadingComments=N.leadingComments),N.trailingComments!=null&&N.hasOwnProperty("trailingComments")&&(H.trailingComments=N.trailingComments),N.leadingDetachedComments&&N.leadingDetachedComments.length)for(H.leadingDetachedComments=[],T=0;T<N.leadingDetachedComments.length;++T)H.leadingDetachedComments[T]=N.leadingDetachedComments[T];return H},k.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},k),ce),l.GeneratedCodeInfo=(F.prototype.annotation=S.emptyArray,F.create=function(N){return new F(N)},F.encode=function(N,q){if(q=q||_.create(),N.annotation!=null&&N.annotation.length)for(var H=0;H<N.annotation.length;++H)v.google.protobuf.GeneratedCodeInfo.Annotation.encode(N.annotation[H],q.uint32(10).fork()).ldelim();return q},F.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},F.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.GeneratedCodeInfo;N.pos<H;){var U=N.uint32();U>>>3==1?(T.annotation&&T.annotation.length||(T.annotation=[]),T.annotation.push(v.google.protobuf.GeneratedCodeInfo.Annotation.decode(N,N.uint32()))):N.skipType(7&U)}return T},F.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},F.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.annotation!=null&&N.hasOwnProperty("annotation")){if(!Array.isArray(N.annotation))return"annotation: array expected";for(var q=0;q<N.annotation.length;++q){var H=v.google.protobuf.GeneratedCodeInfo.Annotation.verify(N.annotation[q]);if(H)return"annotation."+H}}return null},F.fromObject=function(N){if(N instanceof v.google.protobuf.GeneratedCodeInfo)return N;var q=new v.google.protobuf.GeneratedCodeInfo;if(N.annotation){if(!Array.isArray(N.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");q.annotation=[];for(var H=0;H<N.annotation.length;++H){if(typeof N.annotation[H]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");q.annotation[H]=v.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(N.annotation[H])}}return q},F.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.annotation=[]),N.annotation&&N.annotation.length){H.annotation=[];for(var T=0;T<N.annotation.length;++T)H.annotation[T]=v.google.protobuf.GeneratedCodeInfo.Annotation.toObject(N.annotation[T],q)}return H},F.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},F.Annotation=(V.prototype.path=S.emptyArray,V.prototype.sourceFile="",V.prototype.begin=0,V.prototype.end=0,V.create=function(N){return new V(N)},V.encode=function(N,q){if(q=q||_.create(),N.path!=null&&N.path.length){q.uint32(10).fork();for(var H=0;H<N.path.length;++H)q.int32(N.path[H]);q.ldelim()}return N.sourceFile!=null&&Object.hasOwnProperty.call(N,"sourceFile")&&q.uint32(18).string(N.sourceFile),N.begin!=null&&Object.hasOwnProperty.call(N,"begin")&&q.uint32(24).int32(N.begin),N.end!=null&&Object.hasOwnProperty.call(N,"end")&&q.uint32(32).int32(N.end),q},V.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},V.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.GeneratedCodeInfo.Annotation;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:if(T.path&&T.path.length||(T.path=[]),(7&U)==2)for(var z=N.uint32()+N.pos;N.pos<z;)T.path.push(N.int32());else T.path.push(N.int32());break;case 2:T.sourceFile=N.string();break;case 3:T.begin=N.int32();break;case 4:T.end=N.int32();break;default:N.skipType(7&U)}}return T},V.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},V.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.path!=null&&N.hasOwnProperty("path")){if(!Array.isArray(N.path))return"path: array expected";for(var q=0;q<N.path.length;++q)if(!S.isInteger(N.path[q]))return"path: integer[] expected"}return N.sourceFile!=null&&N.hasOwnProperty("sourceFile")&&!S.isString(N.sourceFile)?"sourceFile: string expected":N.begin!=null&&N.hasOwnProperty("begin")&&!S.isInteger(N.begin)?"begin: integer expected":N.end!=null&&N.hasOwnProperty("end")&&!S.isInteger(N.end)?"end: integer expected":null},V.fromObject=function(N){if(N instanceof v.google.protobuf.GeneratedCodeInfo.Annotation)return N;var q=new v.google.protobuf.GeneratedCodeInfo.Annotation;if(N.path){if(!Array.isArray(N.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");q.path=[];for(var H=0;H<N.path.length;++H)q.path[H]=0|N.path[H]}return N.sourceFile!=null&&(q.sourceFile=String(N.sourceFile)),N.begin!=null&&(q.begin=0|N.begin),N.end!=null&&(q.end=0|N.end),q},V.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.path=[]),q.defaults&&(H.sourceFile="",H.begin=0,H.end=0),N.path&&N.path.length){H.path=[];for(var T=0;T<N.path.length;++T)H.path[T]=N.path[T]}return N.sourceFile!=null&&N.hasOwnProperty("sourceFile")&&(H.sourceFile=N.sourceFile),N.begin!=null&&N.hasOwnProperty("begin")&&(H.begin=N.begin),N.end!=null&&N.hasOwnProperty("end")&&(H.end=N.end),H},V.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},V),F),l.Any=(ne.prototype.type_url="",ne.prototype.value=S.newBuffer([]),ne.create=function(N){return new ne(N)},ne.encode=function(N,q){return q=q||_.create(),N.type_url!=null&&Object.hasOwnProperty.call(N,"type_url")&&q.uint32(10).string(N.type_url),N.value!=null&&Object.hasOwnProperty.call(N,"value")&&q.uint32(18).bytes(N.value),q},ne.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ne.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.Any;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.type_url=N.string();break;case 2:T.value=N.bytes();break;default:N.skipType(7&U)}}return T},ne.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ne.verify=function(N){return typeof N!="object"||N===null?"object expected":N.type_url!=null&&N.hasOwnProperty("type_url")&&!S.isString(N.type_url)?"type_url: string expected":N.value!=null&&N.hasOwnProperty("value")&&!(N.value&&typeof N.value.length=="number"||S.isString(N.value))?"value: buffer expected":null},ne.fromObject=function(N){var q;return N instanceof v.google.protobuf.Any?N:(q=new v.google.protobuf.Any,N.type_url!=null&&(q.type_url=String(N.type_url)),N.value!=null&&(typeof N.value=="string"?S.base64.decode(N.value,q.value=S.newBuffer(S.base64.length(N.value)),0):N.value.length&&(q.value=N.value)),q)},ne.toObject=function(N,q){var H={};return(q=q||{}).defaults&&(H.type_url="",q.bytes===String?H.value="":(H.value=[],q.bytes!==Array&&(H.value=S.newBuffer(H.value)))),N.type_url!=null&&N.hasOwnProperty("type_url")&&(H.type_url=N.type_url),N.value!=null&&N.hasOwnProperty("value")&&(H.value=q.bytes===String?S.base64.encode(N.value,0,N.value.length):q.bytes===Array?Array.prototype.slice.call(N.value):N.value),H},ne.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ne),l.Duration=(ue.prototype.seconds=S.Long?S.Long.fromBits(0,0,!1):0,ue.prototype.nanos=0,ue.create=function(N){return new ue(N)},ue.encode=function(N,q){return q=q||_.create(),N.seconds!=null&&Object.hasOwnProperty.call(N,"seconds")&&q.uint32(8).int64(N.seconds),N.nanos!=null&&Object.hasOwnProperty.call(N,"nanos")&&q.uint32(16).int32(N.nanos),q},ue.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},ue.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.protobuf.Duration;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.seconds=N.int64();break;case 2:T.nanos=N.int32();break;default:N.skipType(7&U)}}return T},ue.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},ue.verify=function(N){return typeof N!="object"||N===null?"object expected":N.seconds!=null&&N.hasOwnProperty("seconds")&&!(S.isInteger(N.seconds)||N.seconds&&S.isInteger(N.seconds.low)&&S.isInteger(N.seconds.high))?"seconds: integer|Long expected":N.nanos!=null&&N.hasOwnProperty("nanos")&&!S.isInteger(N.nanos)?"nanos: integer expected":null},ue.fromObject=function(N){var q;return N instanceof v.google.protobuf.Duration?N:(q=new v.google.protobuf.Duration,N.seconds!=null&&(S.Long?(q.seconds=S.Long.fromValue(N.seconds)).unsigned=!1:typeof N.seconds=="string"?q.seconds=parseInt(N.seconds,10):typeof N.seconds=="number"?q.seconds=N.seconds:typeof N.seconds=="object"&&(q.seconds=new S.LongBits(N.seconds.low>>>0,N.seconds.high>>>0).toNumber())),N.nanos!=null&&(q.nanos=0|N.nanos),q)},ue.toObject=function(N,q){var H,T={};return(q=q||{}).defaults&&(S.Long?(H=new S.Long(0,0,!1),T.seconds=q.longs===String?H.toString():q.longs===Number?H.toNumber():H):T.seconds=q.longs===String?"0":0,T.nanos=0),N.seconds!=null&&N.hasOwnProperty("seconds")&&(typeof N.seconds=="number"?T.seconds=q.longs===String?String(N.seconds):N.seconds:T.seconds=q.longs===String?S.Long.prototype.toString.call(N.seconds):q.longs===Number?new S.LongBits(N.seconds.low>>>0,N.seconds.high>>>0).toNumber():N.seconds),N.nanos!=null&&N.hasOwnProperty("nanos")&&(T.nanos=N.nanos),T},ue.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ue),l.Empty=(we.create=function(N){return new we(N)},we.encode=function(N,q){return q=q||_.create()},we.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},we.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,q=new v.google.protobuf.Empty;N.pos<H;){var T=N.uint32();N.skipType(7&T)}return q},we.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},we.verify=function(N){return typeof N!="object"||N===null?"object expected":null},we.fromObject=function(N){return N instanceof v.google.protobuf.Empty?N:new v.google.protobuf.Empty},we.toObject=function(){return{}},we.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},we),l),f.rpc=((p={}).Status=(be.prototype.code=0,be.prototype.message="",be.prototype.details=S.emptyArray,be.create=function(N){return new be(N)},be.encode=function(N,q){if(q=q||_.create(),N.code!=null&&Object.hasOwnProperty.call(N,"code")&&q.uint32(8).int32(N.code),N.message!=null&&Object.hasOwnProperty.call(N,"message")&&q.uint32(18).string(N.message),N.details!=null&&N.details.length)for(var H=0;H<N.details.length;++H)v.google.protobuf.Any.encode(N.details[H],q.uint32(26).fork()).ldelim();return q},be.encodeDelimited=function(N,q){return this.encode(N,q).ldelim()},be.decode=function(N,q){N instanceof O||(N=O.create(N));for(var H=q===void 0?N.len:N.pos+q,T=new v.google.rpc.Status;N.pos<H;){var U=N.uint32();switch(U>>>3){case 1:T.code=N.int32();break;case 2:T.message=N.string();break;case 3:T.details&&T.details.length||(T.details=[]),T.details.push(v.google.protobuf.Any.decode(N,N.uint32()));break;default:N.skipType(7&U)}}return T},be.decodeDelimited=function(N){return N instanceof O||(N=new O(N)),this.decode(N,N.uint32())},be.verify=function(N){if(typeof N!="object"||N===null)return"object expected";if(N.code!=null&&N.hasOwnProperty("code")&&!S.isInteger(N.code))return"code: integer expected";if(N.message!=null&&N.hasOwnProperty("message")&&!S.isString(N.message))return"message: string expected";if(N.details!=null&&N.hasOwnProperty("details")){if(!Array.isArray(N.details))return"details: array expected";for(var q=0;q<N.details.length;++q){var H=v.google.protobuf.Any.verify(N.details[q]);if(H)return"details."+H}}return null},be.fromObject=function(N){if(N instanceof v.google.rpc.Status)return N;var q=new v.google.rpc.Status;if(N.code!=null&&(q.code=0|N.code),N.message!=null&&(q.message=String(N.message)),N.details){if(!Array.isArray(N.details))throw TypeError(".google.rpc.Status.details: array expected");q.details=[];for(var H=0;H<N.details.length;++H){if(typeof N.details[H]!="object")throw TypeError(".google.rpc.Status.details: object expected");q.details[H]=v.google.protobuf.Any.fromObject(N.details[H])}}return q},be.toObject=function(N,q){var H={};if(((q=q||{}).arrays||q.defaults)&&(H.details=[]),q.defaults&&(H.code=0,H.message=""),N.code!=null&&N.hasOwnProperty("code")&&(H.code=N.code),N.message!=null&&N.hasOwnProperty("message")&&(H.message=N.message),N.details&&N.details.length){H.details=[];for(var T=0;T<N.details.length;++T)H.details[T]=v.google.protobuf.Any.toObject(N.details[T],q)}return H},be.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},be),p),f),v})}(operations)),operations.exports}var hasRequiredLongrunning;function requireLongrunning(){if(hasRequiredLongrunning)return longrunning;hasRequiredLongrunning=1,Object.defineProperty(longrunning,"__esModule",{value:!0}),longrunning.Operation=void 0,longrunning.operation=f;const e=require$$4$3,r=requireStatus(),o=requireGoogleError(),l=requireOperations();class p extends e.EventEmitter{constructor(_,S,v,s){super(),this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=_,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=S,this.result=null,this.metadata=null,this.backoffSettings=v,this._unpackResponse(_),this._listenForEvents(),this._callOptions=s}_listenForEvents(){this.on("newListener",_=>{_==="complete"&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",_=>{_==="complete"&&--this.completeListeners===0&&(this.hasActiveListeners=!1)})}cancel(){this.currentCallPromise_&&this.currentCallPromise_.cancel();const _=this.longrunningDescriptor.operationsClient,S=new l.google.longrunning.CancelOperationRequest;return S.name=this.latestResponse.name,_.cancelOperation(S)}getOperation(_){const S=this,v=this.longrunningDescriptor.operationsClient;function s(){if(!_)return new Promise((P,R)=>{if(S.latestResponse.error){const I=new o.GoogleError(S.latestResponse.error.message);I.code=S.latestResponse.error.code,R(I)}else P([S.result,S.metadata,S.latestResponse])})}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,_),s();const d=new l.google.longrunning.GetOperationRequest;d.name=this.latestResponse.name,this.currentCallPromise_=v.getOperationInternal(d,this._callOptions);const g=this.currentCallPromise_.then(P=>(S.latestResponse=P[0],S._unpackResponse(P[0],_),s()),P=>{if(_){_(P);return}return Promise.reject(P)});if(!_)return g}_unpackResponse(_,S){const v=this.longrunningDescriptor.responseDecoder,s=this.longrunningDescriptor.metadataDecoder;let d,g;if(_.done){if(_.result==="error"){const P=new o.GoogleError(_.error.message);P.code=_.error.code,this.error=P,S&&S(P);return}v&&_.response&&(this.response=_.response,d=v(_.response.value),this.result=d,this.done=!0)}s&&_.metadata&&(g=s(_.metadata.value),this.metadata=g),S&&S(null,d,g,_)}startPolling_(){const _=this;let S=new Date;const v=this.backoffSettings.retryDelayMultiplier,s=this.backoffSettings.maxRetryDelayMillis;let d=this.backoffSettings.initialRetryDelayMillis,g=1/0;this.backoffSettings.totalTimeoutMillis&&(g=S.getTime()+this.backoffSettings.totalTimeoutMillis);let P;this.latestResponse.metadata&&(P=this.latestResponse.metadata.value);function R(L,...G){_.emit(L,...G)}function I(L,G){if(L.byteLength!==G.byteLength)return!1;for(let J=0;J<L.byteLength;++J)if(L[J]!==G[J])return!1;return!0}function j(){if(_.hasActiveListeners){if(S.getTime()>=g){const L=new o.GoogleError("Total timeout exceeded before any response was received");L.code=r.Status.DEADLINE_EXCEEDED,setImmediate(R,"error",L);return}_.getOperation((L,G,J,Q)=>{if(L){setImmediate(R,"error",L);return}if(!G){if(Q.metadata&&(!P||Q&&!I(Q.metadata.value,P))&&(setImmediate(R,"progress",J,Q),P=Q.metadata.value),Q.done){setImmediate(R,"complete",{},J,Q);return}setTimeout(()=>{S=new Date,d=Math.min(d*v,s),j()},d);return}setImmediate(R,"complete",G,J,Q)})}}j()}promise(){return new Promise((_,S)=>{this.on("error",S).on("complete",(v,s,d)=>{_([v,s,d])})})}}longrunning.Operation=p;function f(O,_,S,v){return new p(O,_,S,v)}return longrunning}var hasRequiredLongRunningApiCaller;function requireLongRunningApiCaller(){if(hasRequiredLongRunningApiCaller)return longRunningApiCaller;hasRequiredLongRunningApiCaller=1,Object.defineProperty(longRunningApiCaller,"__esModule",{value:!0}),longRunningApiCaller.LongrunningApiCaller=void 0;const e=requireCall(),r=requireGax(),o=requireLongrunning();class l{constructor(f){this.longrunningDescriptor=f}init(f){return f?new e.OngoingCall(f):new e.OngoingCallPromise}wrap(f){return f}call(f,O,_,S){S.call((v,s)=>this._wrapOperation(f,_,v,s),O)}_wrapOperation(f,O,_,S){let v=O.longrunning;v||(v=(0,r.createDefaultBackoffSettings)());const s=this.longrunningDescriptor;return f(_,(d,g)=>{if(d){S(d,null,null,g);return}const P=new o.Operation(g,s,v,O);S(null,P,g)})}fail(f,O){f.callback(O)}result(f){return f.promise}}return longRunningApiCaller.LongrunningApiCaller=l,longRunningApiCaller}var hasRequiredLongRunningDescriptor;function requireLongRunningDescriptor(){if(hasRequiredLongRunningDescriptor)return longRunningDescriptor;hasRequiredLongRunningDescriptor=1,Object.defineProperty(longRunningDescriptor,"__esModule",{value:!0}),longRunningDescriptor.LongRunningDescriptor=void 0;const e=requireLongRunningApiCaller();class r{constructor(l,p,f){this.operationsClient=l,this.responseDecoder=p,this.metadataDecoder=f}getApiCaller(){return new e.LongrunningApiCaller(this)}}return longRunningDescriptor.LongRunningDescriptor=r,longRunningDescriptor}var pageDescriptor={},pagedApiCaller={},resourceCollector={},hasRequiredResourceCollector;function requireResourceCollector(){if(hasRequiredResourceCollector)return resourceCollector;hasRequiredResourceCollector=1,Object.defineProperty(resourceCollector,"__esModule",{value:!0}),resourceCollector.ResourceCollector=void 0;class e{constructor(o,l=-1){this.apiCall=o,this.resources=[],this.maxResults=l}callback(o,l,p){if(o){this.rejectCallback(o);return}for(const O of l)if(this.resources.push(O),this.resources.length===this.maxResults){p=null;break}if(!p){this.resolveCallback(this.resources);return}const f=(...O)=>this.callback(...O);setImmediate(this.apiCall,p,f)}processAllPages(o){return new Promise((l,p)=>{this.resolveCallback=l,this.rejectCallback=p;const f=(...O)=>this.callback(...O);setImmediate(this.apiCall,o,f)})}}return resourceCollector.ResourceCollector=e,resourceCollector}var hasRequiredPagedApiCaller;function requirePagedApiCaller(){if(hasRequiredPagedApiCaller)return pagedApiCaller;hasRequiredPagedApiCaller=1,Object.defineProperty(pagedApiCaller,"__esModule",{value:!0}),pagedApiCaller.PagedApiCaller=void 0;const e=requireCall(),r=requireGoogleError(),o=requireResourceCollector();class l{constructor(f){this.pageDescriptor=f}generateParseResponseCallback(f,O){const _=this.pageDescriptor.resourceField,S=this.pageDescriptor.responsePageTokenField,v=this.pageDescriptor.requestPageTokenField;return(s,d)=>{if(s){O(s);return}if(!f){O(new r.GoogleError("Undefined request in pagination method callback."));return}if(!d){O(new r.GoogleError("Undefined response in pagination method callback."));return}const g=d[_]||[],P=d[S];let R=null;P&&(R=Object.assign({},f),R[v]=P),O(s,g,R,d)}}wrap(f){const O=this;return function(S,v,s,d){return f(S,v,s,O.generateParseResponseCallback(S,d))}}init(f){return f?new e.OngoingCall(f):new e.OngoingCallPromise}call(f,O,_,S){if(O=Object.assign({},O),!_.autoPaginate){S.call(f,O);return}const v=_.maxResults||-1;new o.ResourceCollector(f,v).processAllPages(O).then(d=>S.callback(null,d),d=>S.callback(d))}fail(f,O){f.callback(O)}result(f){return f.promise}}return pagedApiCaller.PagedApiCaller=l,pagedApiCaller}var hasRequiredPageDescriptor;function requirePageDescriptor(){if(hasRequiredPageDescriptor)return pageDescriptor;hasRequiredPageDescriptor=1,Object.defineProperty(pageDescriptor,"__esModule",{value:!0}),pageDescriptor.PageDescriptor=void 0;const e=require$$4$3,r=requireNormalApiCaller(),o=requirePagedApiCaller(),l=10;class p{constructor(O,_,S){this.requestPageTokenField=O,this.responsePageTokenField=_,this.resourceField=S}createStream(O,_,S){const v=new e.PassThrough({objectMode:!0});S=Object.assign({},S,{autoPaginate:!1});const s="maxResults"in S?S.maxResults:-1;let d=0,g=!1;function P(R,I,j,L){if(R){v.emit("error",R);return}v.emit("response",L);for(let G=0;G<I.length;++G){if(v._readableState.ended)return;I[G]!==null&&(v.push(I[G]),d++,d===s&&v.end())}if(!v._readableState.ended){if(!j){v.end();return}"pageToken"in S&&delete S.pageToken,v.isPaused()?(_=j,g=!1):setImmediate(O,j,S,P)}}return v.on("resume",()=>{g||(g=!0,O(_,S,P))}),v}asyncIterate(O,_,S){return S=Object.assign({},S,{autoPaginate:!1}),this.createIterator(O,_,S)}createIterator(O,_,S){return{[Symbol.asyncIterator](){let s=_;const d=[];return{async next(){if(d.length>0)return Promise.resolve({done:!1,value:d.shift()});let g=0;for(;d.length===0&&s;){let P;if([P,s]=await O(s,S),P&&!Array.isArray(P))for(const[R,I]of Object.entries(P))d.push([R,I]);else d.push(...P);if(d.length===0&&(++g,g>l))break}return d.length===0?Promise.resolve({done:!0,value:void 0}):Promise.resolve({done:!1,value:d.shift()})}}}}}getApiCaller(O){return O.autoPaginate?new o.PagedApiCaller(this):new r.NormalApiCaller}}return pageDescriptor.PageDescriptor=p,pageDescriptor}var streamDescriptor={},hasRequiredStreamDescriptor;function requireStreamDescriptor(){if(hasRequiredStreamDescriptor)return streamDescriptor;hasRequiredStreamDescriptor=1,Object.defineProperty(streamDescriptor,"__esModule",{value:!0}),streamDescriptor.StreamDescriptor=void 0;const e=requireStreamingApiCaller();class r{constructor(l,p,f){this.type=l,this.streaming=!0,this.rest=p,this.gaxStreamingRetries=f}getApiCaller(){return new e.StreamingApiCaller(this)}}return streamDescriptor.StreamDescriptor=r,streamDescriptor}var bundleDescriptor={},bundleApiCaller={},hasRequiredBundleApiCaller;function requireBundleApiCaller(){if(hasRequiredBundleApiCaller)return bundleApiCaller;hasRequiredBundleApiCaller=1,Object.defineProperty(bundleApiCaller,"__esModule",{value:!0}),bundleApiCaller.BundleApiCaller=void 0;const e=requireCall(),r=requireGoogleError();class o{constructor(p){this.bundler=p}init(p){return p?new e.OngoingCall(p):new e.OngoingCallPromise}wrap(p){return p}call(p,f,O,_){if(!O.isBundling)throw new r.GoogleError("Bundling enabled with no isBundling!");_.call((S,v)=>(this.bundler.schedule(p,S,v),_),f)}fail(p,f){p.callback(f)}result(p){return p.promise}}return bundleApiCaller.BundleApiCaller=o,bundleApiCaller}var bundleExecutor={},bundlingUtils={},hasRequiredBundlingUtils;function requireBundlingUtils(){if(hasRequiredBundlingUtils)return bundlingUtils;hasRequiredBundlingUtils=1,Object.defineProperty(bundlingUtils,"__esModule",{value:!0}),bundlingUtils.computeBundleId=e;function e(o,l){const p=[];let f=!1;for(const O of l){const _=r(o,O);_===void 0?p.push(null):(f=!0,p.push(_))}if(f)return JSON.stringify(p)}function r(o,l){const p=l.split(".");let f=o;for(const O of p)f=f==null?void 0:f[O];return f}return bundlingUtils}var task={},hasRequiredTask;function requireTask(){if(hasRequiredTask)return task;hasRequiredTask=1,Object.defineProperty(task,"__esModule",{value:!0}),task.Task=void 0,task.deepCopyForResponse=o;const e=requireStatus(),r=requireGoogleError();function o(p,f){let O;if(p===null)return null;if(p!==void 0)return Array.isArray(p)?(O=[],p.forEach(_=>{O.push(o(_,null))}),O):p.copy!==void 0?p.copy():p instanceof ArrayBuffer?p.slice(0):typeof p=="object"?(O={},Object.keys(p).forEach(_=>{f&&_===f.field&&Array.isArray(p[_])?O[_]=p[_].slice(f.start,f.end):O[_]=o(p[_],null)}),O):p}class l{constructor(f,O,_,S){this._apiCall=f,this._request=O,this._bundledField=_,this._subresponseField=S,this._data=[]}getElementCount(){let f=0;for(let O=0;O<this._data.length;++O)f+=this._data[O].elements.length;return f}getRequestByteSize(){let f=0;for(let O=0;O<this._data.length;++O)f+=this._data[O].bytes;return f}run(){if(this._data.length===0)return[];const f=this._request,O=[],_=[];for(let v=0;v<this._data.length;++v)O.push(...this._data[v].elements),_.push(this._data[v].callback.id);f[this._bundledField]=O;const S=this;return this.callCanceller=this._apiCall(f,(v,s)=>{const d=[];if(v)S._data.forEach(()=>{d.push(void 0)});else{let g=null;S._subresponseField&&(g={field:S._subresponseField,start:0}),S._data.forEach(P=>{g&&(g.end=g.start+P.elements.length),d.push(o(s,g)),g&&(g.start=g.end)})}for(let g=0;g<S._data.length;++g)if(S._data[g].cancelled){const P=new r.GoogleError("cancelled");P.code=e.Status.CANCELLED,S._data[g].callback(P)}else S._data[g].callback(v,d[g])}),_}extend(f,O,_){this._data.push({elements:f,bytes:O,callback:_})}cancel(f){if(this.callCanceller){let O=!0;return this._data.forEach(_=>{_.callback.id===f&&(_.cancelled=!0),_.cancelled||(O=!1)}),O&&this.callCanceller.cancel(),O}for(let O=0;O<this._data.length;++O)if(this._data[O].callback.id===f){const _=new r.GoogleError("cancelled");_.code=e.Status.CANCELLED,this._data[O].callback(_),this._data.splice(O,1);break}return this._data.length===0}}return task.Task=l,task}var hasRequiredBundleExecutor;function requireBundleExecutor(){if(hasRequiredBundleExecutor)return bundleExecutor;hasRequiredBundleExecutor=1,Object.defineProperty(bundleExecutor,"__esModule",{value:!0}),bundleExecutor.BundleExecutor=void 0;const e=requireStatus(),r=requireGoogleError(),o=requireWarnings(),l=requireBundlingUtils(),p=requireTask();function f(){}class O{constructor(S,v){this._options=S,this._descriptor=v,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(S,v,s){const d=(0,l.computeBundleId)(v,this._descriptor.requestDiscriminatorFields);if(s=s||f,d===void 0)return(0,o.warn)("bundling_schedule_bundleid_undefined",`The request does not have enough information for request bundling. Invoking immediately. Request: ${JSON.stringify(v)} discriminator fields: ${this._descriptor.requestDiscriminatorFields}`),S(v,s);if(v[this._descriptor.bundledField]===void 0)return(0,o.warn)("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. Invoking immediately. Request: ${JSON.stringify(v)}`),S(v,s);d in this._tasks||(this._tasks[d]=new p.Task(S,v,this._descriptor.bundledField,this._descriptor.subresponseField));let g=this._tasks[d];s.id=String(this._invocationId++),this._invocations[s.id]=d;const P=v[this._descriptor.bundledField],R=P.length;let I=0;const j=this;P.forEach(ee=>{I+=this._descriptor.byteLengthFunction(ee)});const L=this._options.elementCountLimit||0,G=this._options.requestByteLimit||0;if(L>0&&R>L||G>0&&I>=G){let ee;L>0&&R>L?ee="The number of elements "+R+" exceeds the limit "+this._options.elementCountLimit:ee="The required bytes "+I+" exceeds the limit "+this._options.requestByteLimit;const ie=new r.GoogleError(ee);return ie.code=e.Status.INVALID_ARGUMENT,s(ie),{cancel:f}}const J=g.getElementCount(),Q=g.getRequestByteSize();(L>0&&R+J>=L||G>0&&I+Q>=G)&&(this._runNow(d),this._tasks[d]=new p.Task(S,v,this._descriptor.bundledField,this._descriptor.subresponseField),g=this._tasks[d]),g.extend(P,I,s);const W={cancel(){j._cancel(s.id)}},Z=this._options.elementCountThreshold||0,te=this._options.requestByteThreshold||0;return Z>0&&g.getElementCount()>=Z||te>0&&g.getRequestByteSize()>=te?(this._runNow(d),W):(!(d in this._timers)&&this._options.delayThreshold>0&&(this._timers[d]=setTimeout(()=>{delete this._timers[d],this._runNow(d)},this._options.delayThreshold)),W)}_maybeClearTimeout(S){if(S in this._timers){const v=this._timers[S];delete this._timers[S],clearTimeout(v)}}_cancel(S){if(!(S in this._invocations))return;const v=this._invocations[S];if(!(v in this._tasks))return;const s=this._tasks[v];delete this._invocations[S],s.cancel(S)&&(this._maybeClearTimeout(v),delete this._tasks[v])}_runNow(S){if(!(S in this._tasks)){(0,o.warn)("bundle_runnow_bundleid_unknown",`No such bundleid: ${S}`);return}this._maybeClearTimeout(S);const v=this._tasks[S];delete this._tasks[S],v.run().forEach(s=>{delete this._invocations[s]})}}return bundleExecutor.BundleExecutor=O,bundleExecutor}var hasRequiredBundleDescriptor;function requireBundleDescriptor(){if(hasRequiredBundleDescriptor)return bundleDescriptor;hasRequiredBundleDescriptor=1,Object.defineProperty(bundleDescriptor,"__esModule",{value:!0}),bundleDescriptor.BundleDescriptor=void 0;const e=requireNormalApiCaller(),r=requireBundleApiCaller(),o=requireBundleExecutor(),l=requireUtil$3();class p{constructor(O,_,S,v){!v&&typeof S=="function"&&(v=S,S=null),this.bundledField=O,this.requestDiscriminatorFields=_.map(l.toCamelCase),this.subresponseField=S,this.byteLengthFunction=v}getApiCaller(O){return O.isBundling===!1?new e.NormalApiCaller:new r.BundleApiCaller(new o.BundleExecutor(O.bundleOptions,this))}}return bundleDescriptor.BundleDescriptor=p,bundleDescriptor}var hasRequiredDescriptor;function requireDescriptor(){return hasRequiredDescriptor||(hasRequiredDescriptor=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BundleDescriptor=e.StreamDescriptor=e.PageDescriptor=e.LongrunningDescriptor=void 0;var r=requireLongRunningDescriptor();Object.defineProperty(e,"LongrunningDescriptor",{enumerable:!0,get:function(){return r.LongRunningDescriptor}});var o=requirePageDescriptor();Object.defineProperty(e,"PageDescriptor",{enumerable:!0,get:function(){return o.PageDescriptor}});var l=requireStreamDescriptor();Object.defineProperty(e,"StreamDescriptor",{enumerable:!0,get:function(){return l.StreamDescriptor}});var p=requireBundleDescriptor();Object.defineProperty(e,"BundleDescriptor",{enumerable:!0,get:function(){return p.BundleDescriptor}})}(descriptor)),descriptor}const interfaces$5={"google.longrunning.Operations":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:9e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:9e4,total_timeout_millis:6e5}},methods:{GetOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListOperations:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CancelOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},DeleteOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}},require$$3={interfaces:interfaces$5},nested$2={google:{nested:{longrunning:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.LongRunning",go_package:"google.golang.org/genproto/googleapis/longrunning;longrunning",java_multiple_files:!0,java_outer_classname:"OperationsProto",java_package:"com.google.longrunning",php_namespace:"Google\\LongRunning"},nested:{operationInfo:{type:"google.longrunning.OperationInfo",id:1049,extend:"google.protobuf.MethodOptions"},Operations:{options:{"(google.api.default_host)":"longrunning.googleapis.com"},methods:{ListOperations:{requestType:"ListOperationsRequest",responseType:"ListOperationsResponse",options:{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},GetOperation:{requestType:"GetOperationRequest",responseType:"Operation",options:{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},DeleteOperation:{requestType:"DeleteOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},CancelOperation:{requestType:"CancelOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=operations/**}:cancel",body:"*"}},{"(google.api.method_signature)":"name"}]},WaitOperation:{requestType:"WaitOperationRequest",responseType:"Operation"}}},Operation:{oneofs:{result:{oneof:["error","response"]}},fields:{name:{type:"string",id:1},metadata:{type:"google.protobuf.Any",id:2},done:{type:"bool",id:3},error:{type:"google.rpc.Status",id:4},response:{type:"google.protobuf.Any",id:5}}},GetOperationRequest:{fields:{name:{type:"string",id:1}}},ListOperationsRequest:{fields:{name:{type:"string",id:4},filter:{type:"string",id:1},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListOperationsResponse:{fields:{operations:{rule:"repeated",type:"Operation",id:1},nextPageToken:{type:"string",id:2}}},CancelOperationRequest:{fields:{name:{type:"string",id:1}}},DeleteOperationRequest:{fields:{name:{type:"string",id:1}}},WaitOperationRequest:{fields:{name:{type:"string",id:1},timeout:{type:"google.protobuf.Duration",id:2}}},OperationInfo:{fields:{responseType:{type:"string",id:1},metadataType:{type:"string",id:2}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ClientProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"}}},protobuf:{options:{go_package:"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Empty:{fields:{}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},require$$4={nested:nested$2};var transcoding={},hasRequiredTranscoding;function requireTranscoding(){if(hasRequiredTranscoding)return transcoding;hasRequiredTranscoding=1,Object.defineProperty(transcoding,"__esModule",{value:!0}),transcoding.getField=p,transcoding.deepCopyWithoutMatchedFields=f,transcoding.deleteField=O,transcoding.buildQueryStringComponents=_,transcoding.encodeWithSlashes=S,transcoding.encodeWithoutSlashes=v,transcoding.applyPattern=d,transcoding.match=P,transcoding.flattenObject=R,transcoding.isProto3OptionalField=I,transcoding.transcode=j,transcoding.overrideHttpRules=L;const e=requireUtil$3(),r="(google.api.http)",o="proto3_optional",l=["get","post","put","patch","delete"];function p(G,J,Q=!1){const W=J.split(".");let Z=G;for(const te of W){if(typeof Z!="object")return;Z=Z[te]}if(!(!Q&&typeof Z=="object"&&!Array.isArray(Z)&&Z!==null))return Z}function f(G,J,Q=""){if(typeof G!="object"||G===null)return G;const W=Object.assign({},G);for(const Z in W){if(J.has(`${Q}${Z}`)){delete W[Z];continue}const te=`${Q}${Z}.`;Array.isArray(W[Z])?W[Z]=W[Z].map(ee=>f(ee,new Set)):typeof W[Z]=="object"&&W[Z]!==null&&(W[Z]=f(W[Z],J,te))}return W}function O(G,J){const Q=J.split(".");for(;Q.length>1;){if(typeof G!="object")return;const Z=Q.shift();G=G[Z]}const W=Q.shift();typeof G=="object"&&delete G[W]}function _(G,J=""){const Q=[];for(const W in G)if(Array.isArray(G[W]))for(const Z of G[W])Q.push(`${J}${v(W)}=${v(Z.toString())}`);else typeof G[W]=="object"&&G[W]!==null?Q.push(..._(G[W],`${W}.`)):Q.push(`${J}${v(W)}=${v(G[W]===null?"null":G[W].toString())}`);return Q}function S(G){return G.split("").map(J=>J.match(/[-_.~0-9a-zA-Z]/)?J:encodeURIComponent(J)).join("")}function v(G){return G.split("").map(J=>J.match(/[-_.~0-9a-zA-Z/]/)?J:encodeURIComponent(J)).join("")}function s(G){return G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(G,J){if(!G||G==="*")return S(J);if(!G.includes("*")&&G!==J)return;const Q=new RegExp("^"+s(G).replace(/\\\*\\\*/g,"(.+)").replace(/\\\*/g,"([^/]+)")+"$");if(J.match(Q))return v(J)}function g(G){return G.split(".").map(Q=>(0,e.toCamelCase)(Q)).join(".")}function P(G,J){let Q=J;const W=[];for(;;){const Z=Q.match(/^(.*)\{([^}=]+)(?:=([^}]*))?\}(.*)/);if(!Z)break;const[,te,ee,ie,oe]=Z,se=g(ee);W.push(g(se));const le=p(G,se);if(le===void 0)return;const de=d(ie,le===null?"null":le.toString());if(de===void 0)return;Q=te+de+oe}return{matchedFields:W,url:Q}}function R(G){const J={};for(const Q in G)if(G[Q]!==void 0){if(Array.isArray(G[Q])){J[Q]=G[Q];continue}if(typeof G[Q]=="object"&&G[Q]!==null){const W=R(G[Q]);for(const Z in W)J[`${Q}.${Z}`]=W[Z];continue}J[Q]=G[Q]}return J}function I(G){return G&&G.options&&G.options[o]}function j(G,J){const Q=[];for(const W of J){if(!(r in W))continue;const Z=W[r];if(Q.push(Z),Z!=null&&Z.additional_bindings){const te=Array.isArray(Z.additional_bindings)?Z.additional_bindings:[Z.additional_bindings];Q.push(...te)}}for(const W of Q)for(const Z of l){if(!(Z in W))continue;const te=W[Z],ee=P(G,te);if(ee===void 0)continue;const{url:ie,matchedFields:oe}=ee;let se=f(G,new Set(oe));if(W.body==="*")return{httpMethod:Z,url:ie,queryString:"",data:se};const le=se;W.body?(se=p(le,g(W.body),!0),O(le,g(W.body))):se="";const pe=_(le).join("&");return(!se||typeof se=="object"&&Object.keys(se).length===0)&&(se=""),{httpMethod:Z,url:ie,queryString:pe,data:se}}}function L(G,J){for(const Q of G){if(!Q.selector)continue;const W=J.lookup(Q.selector);if(!(!W||!W.parsedOptions))for(const Z of W.parsedOptions){if(!(r in Z))continue;const te=Z[r];for(const ee in te){if(ee in Q){if(ee==="additional_bindings")continue;te[ee]=Q[ee]}Q.additional_bindings&&(te.additional_bindings=te.additional_bindings?Array.isArray(te.additional_bindings)?te.additional_bindings:[te.additional_bindings]:[],te.additional_bindings.push(...Q.additional_bindings))}}}}return transcoding}const name$1="google-gax",version$5="4.3.8",description="Google API Extensions",main="build/src/index.js",types$2="build/src/index.d.ts",files=["build/src","build/protos/","!build/src/**/*.map"],dependencies={"@grpc/grpc-js":"^1.10.9","@grpc/proto-loader":"^0.7.13","@types/long":"^4.0.0","abort-controller":"^3.0.0",duplexify:"^4.0.0","google-auth-library":"^9.3.0","node-fetch":"^2.6.1","object-hash":"^3.0.0","proto3-json-serializer":"^2.0.2","retry-request":"^7.0.0",uuid:"^9.0.1",protobufjs:"^7.3.2"},devDependencies={"@types/uuid":"^9.0.7","@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.23","@types/mocha":"^9.0.0","@types/ncp":"^2.0.1","@types/node":"^20.5.0","@types/node-fetch":"^2.5.4","@types/object-hash":"^3.0.0","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/sinon":"^17.0.0","@types/uglify-js":"^3.17.0",c8:"^9.0.0",codecov:"^3.1.0",execa:"^5.0.0",glob:"10.4.0","google-proto-files":"^4.2.0",gts:"^5.0.0",jackspeak:"3.4.0",linkinator:"^4.0.0","lru-cache":"10.3.0",long:"^4.0.0",mkdirp:"^2.0.0",mocha:"^9.0.0",ncp:"^2.0.0","null-loader":"^4.0.0","protobufjs-cli":"1.1.2",proxyquire:"^2.0.1",pumpify:"^2.0.0",sinon:"^18.0.0","stream-events":"^1.0.4","ts-loader":"^8.0.0",typescript:"^5.1.6","uglify-js":"^3.17.0",walkdir:"^0.4.0",webpack:"^4.0.0","webpack-cli":"^4.0.0"},scripts={docs:"compodoc src/",pretest:"npm run prepare",test:"c8 mocha build/test/unit",lint:"gts check src samples test",clean:"gts clean",compile:"tsc -p . && cp src/*.json build/src && cp -r test/fixtures build/test && cp -r protos build/","compile-operation-protos":"pbjs -t json google/longrunning/operations.proto -p ./protos > protos/operations.json && pbjs -t static-module -r operations_protos google/longrunning/operations.proto -p ./protos > protos/operations.js && pbts protos/operations.js -o protos/operations.d.ts","compile-compute-operations-protos":"pbjs -t json google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.json && pbjs -t static-module -r compute_operations_protos google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.js && pbts protos/compute_operations.js -o protos/compute_operations.d.ts","compile-iam-protos":"pbjs -t json google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.json && pbjs -t static-module -r iam_protos google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.js && pbts protos/iam_service.js -o protos/iam_service.d.ts","compile-location-protos":"pbjs -t json google/cloud/location/locations.proto -p ./protos > protos/locations.json && pbjs -t static-module -r locations_protos google/cloud/location/locations.proto -p ./protos > protos/locations.js && pbts protos/locations.js -o protos/locations.d.ts","compile-status-protos":"pbjs -t json google/rpc/status.proto google/rpc/error_details.proto -p ./protos > protos/status.json","compile-http-protos":"pbjs -t static-module -r http_proto --keep-case google/api/http.proto -p ./protos > protos/http.js && pbts protos/http.js -o protos/http.d.ts",fix:"gts fix",prepare:"npm run compile && cd ../tools && npm i && npm run compile && cd ../gax && pwd && node ../tools/build/src/prepublish.js . && mkdirp build/protos && cp -r protos/* build/protos/ && npm run minify-proto-json","system-test":"c8 mocha build/test/system-test --timeout 600000 && npm run test-application","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","docs-test":"linkinator docs","predocs-test":"npm run docs","browser-test":"cd test/browser-test && npm run prefetch && npm install && npm test","test-application":"cd test/test-application && npm run prefetch && npm install && npm start",prelint:"cd samples; npm link ../; npm install",precompile:"gts clean","update-protos":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/listProtos.js .","minify-proto-json":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/minify.js","@compodoc/compodoc":"1.1.21"},keywords$2=["grpc"],repository={type:"git",url:"https://github.com/googleapis/gax-nodejs.git",directory:"gax"},author="Google API Authors",license="Apache-2.0",bugs={url:"https://github.com/googleapis/gax-nodejs/issues"},homepage="https://github.com/googleapis/gax-nodejs#readme",engines={node:">=14"},browser$1="build/src/fallback.js",require$$17={name:name$1,version:version$5,description,main,types:types$2,files,dependencies,devDependencies,scripts,keywords:keywords$2,repository,author,license,bugs,homepage,engines,browser:browser$1};var hasRequiredOperationsClient;function requireOperationsClient(){return hasRequiredOperationsClient||(hasRequiredOperationsClient=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OperationsClientBuilder=e.OperationsClient=e.ALL_SCOPES=e.SERVICE_ADDRESS=void 0;const r=requireCreateApiCall(),o=requireDescriptor(),l=requireGax(),p=require$$3,f=require$$4,O=requireTranscoding();e.SERVICE_ADDRESS="longrunning.googleapis.com";const _=require$$17.version,S=443,v="gapic/0.7.1";e.ALL_SCOPES=[];class s{constructor(P,R,I){const j=Object.assign({servicePath:e.SERVICE_ADDRESS,port:S,clientConfig:{}},I),L=["gl-node/"+process.versions.node];j.libName&&j.libVersion&&L.push(j.libName+"/"+j.libVersion),L.push(v,"gax/"+_),j.fallback?L.push("gl-web/"+_):L.push("grpc/"+P.grpcVersion);const G=P.constructSettings("google.longrunning.Operations",p,j.clientConfig||{},{"x-goog-api-client":L.join(" ")});this.auth=P.auth,this.innerApiCalls={},this.descriptor={listOperations:new o.PageDescriptor("pageToken","nextPageToken","operations")},this.operationsStub=P.createStub(j.fallback?R.lookupService("google.longrunning.Operations"):R.google.longrunning.Operations,j);const J=["getOperation","listOperations","cancelOperation","deleteOperation"];for(const Q of J){const W=this.operationsStub.then(Z=>(...te)=>Z[Q].apply(Z,te),Z=>()=>{throw Z});this.innerApiCalls[Q]=(0,r.createApiCall)(W,G[Q],this.descriptor[Q])}}close(){this.operationsStub.then(P=>P.close())}getProjectId(P){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(P);if(P)P(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getOperationInternal(P,R,I){return P=P||{},R=R||{},this.innerApiCalls.getOperation(P,R,I)}getOperation(P,R,I){let j;return R instanceof Function&&I===void 0?(I=R,j={}):j=R,P=P||{},j=j||{},this.innerApiCalls.getOperation(P,j,I)}listOperations(P,R,I){let j;return R instanceof Function&&I===void 0?(I=R,j={}):j=R,P=P||{},j=j||{},this.innerApiCalls.listOperations(P,j,I)}listOperationsStream(P,R){const I=new l.CallSettings(R);return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations,P,I)}listOperationsAsync(P,R){P=P||{},R=R||{};const I=new l.CallSettings(R);return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations,P,I)}cancelOperation(P,R,I){let j;return R instanceof Function&&I===void 0?(I=R,j={}):j=R,P=P||{},j=j||{},this.innerApiCalls.cancelOperation(P,j,I)}deleteOperation(P,R,I){let j;return R instanceof Function&&I===void 0?(I=R,j={}):j=R,P=P||{},j=j||{},this.innerApiCalls.deleteOperation(P,j,I)}}e.OperationsClient=s;class d{constructor(P,R){R&&P.httpRules&&(0,O.overrideHttpRules)(P.httpRules,R);const I=R??P.loadProtoJSON(f);this.operationsClient=j=>(P.fallback&&(j.fallback=P.fallback),new s(P,I,j)),Object.assign(this.operationsClient,s)}}e.OperationsClientBuilder=d}(operationsClient)),operationsClient}var fallbackRest={},hasRequiredFallbackRest;function requireFallbackRest(){if(hasRequiredFallbackRest)return fallbackRest;hasRequiredFallbackRest=1,Object.defineProperty(fallbackRest,"__esModule",{value:!0}),fallbackRest.encodeRequest=p,fallbackRest.decodeResponse=f;const e=requireSrc(),r=requireFallback(),o=requireGoogleError(),l=requireTranscoding();function p(O,_,S,v,s,d){const g={"Content-Type":"application/json"},P=O.resolvedRequestType.fromObject(s),R=e.toProto3JSON(P,{numericEnums:d});if(!R)throw new Error(`Cannot send null request to RPC ${O.name}.`);if(typeof R!="object"||Array.isArray(R))throw new Error(`Request to RPC ${O.name} must be an object.`);const I=(0,l.transcode)(R,O.parsedOptions);if(!I)throw new Error(`Cannot build HTTP request for ${JSON.stringify(R)}, method: ${O.name}`);d&&(I.queryString=(I.queryString?`${I.queryString}&`:"")+"$alt=json%3Benum-encoding=int");const j=I.httpMethod.toUpperCase(),L=JSON.stringify(I.data),G=`${_}://${S}:${v}/${I.url.replace(/^\//,"")}?${I.queryString}`;return{method:j,url:G,headers:g,body:L}}function f(O,_,S){const v=new TextDecoder().decode(S),s=JSON.parse(v);if(!_)throw o.GoogleError.parseHttpError(s);const d=e.fromProto3JSON(O.resolvedResponseType,s);if(!d)throw new Error(`Received null response from RPC ${O.name}`);return O.resolvedResponseType.toObject(d,r.defaultToObjectOptions)}return fallbackRest}var fallbackServiceStub={},browser={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser.exports;hasRequiredBrowser=1;const{AbortController:e,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser.exports=e,browser.exports.AbortSignal=r,browser.exports.default=e,browser.exports}var streamArrayParser={},hasRequiredStreamArrayParser;function requireStreamArrayParser(){if(hasRequiredStreamArrayParser)return streamArrayParser;hasRequiredStreamArrayParser=1,Object.defineProperty(streamArrayParser,"__esModule",{value:!0}),streamArrayParser.StreamArrayParser=void 0;const e=requireBrowser(),r=require$$4$3,o=requireFallbackRest(),l=requireFeatureDetection();class p extends r.Transform{constructor(O,_){super(Object.assign({},_,{readableObjectMode:!0})),this._done=!1,this._prevBlock=Buffer.from(""),this._isInString=!1,this._isSkipped=!1,this._level=0,this.rpc=O,this.cancelController=(0,l.hasAbortController)()?new AbortController:new e.AbortController,this.cancelSignal=this.cancelController.signal,this.cancelRequested=!1}_transform(O,_,S){let v=0,s=0;for(this._level===0&&s===0&&(String.fromCharCode(O[0])!=="["&&this.emit("error",new Error(`Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with ${String.fromCharCode(O[0])}`)),s++,this._level++);s<O.length;){const d=String.fromCharCode(O[s]);if(this._isSkipped)this._isSkipped=!1;else switch(d){case"{":this._isInString||this._level++,!this._isInString&&this._level===2&&(v=s);break;case'"':this._isInString=!this._isInString;break;case"}":if(this._isInString||this._level--,!this._isInString&&this._level===1){const g=Buffer.concat([this._prevBlock,O.slice(v,s+1)]);try{const P=(0,o.decodeResponse)(this.rpc,!0,g);this.push(P)}catch(P){this.emit("error",P)}v=s+1,this._prevBlock=Buffer.from("")}break;case"]":!this._isInString&&this._level===1&&(this._done=!0,this.push(null));break;case"\\":this._isSkipped=!0;break}s++}this._level>1&&(this._prevBlock=Buffer.concat([this._prevBlock,O.slice(v,s)])),S()}_flush(O){O()}cancel(){this._done=!0,this.cancelRequested=!0,this.cancelController.abort(),this.end()}}return streamArrayParser.StreamArrayParser=p,streamArrayParser}var hasRequiredFallbackServiceStub;function requireFallbackServiceStub(){if(hasRequiredFallbackServiceStub)return fallbackServiceStub;hasRequiredFallbackServiceStub=1,Object.defineProperty(fallbackServiceStub,"__esModule",{value:!0}),fallbackServiceStub.generateServiceStub=f;const e=requireBrowser$3(),r=requireBrowser(),o=requireFeatureDetection(),l=requireStreamArrayParser(),p=require$$4$3;function f(O,_,S,v,s,d,g,P){const R=(0,o.hasWindowFetch)()?window.fetch:e.default,I={close:()=>({cancel:()=>{}})};for(const[j,L]of Object.entries(O))I[j]=(G,J,Q,W)=>{J??(J={});let Z;try{Z=d(L,_,S,v,G,P)}catch(de){return W&&W(de),{cancel(){}}}const te=(0,o.hasAbortController)()?new AbortController:new r.AbortController,ee=te.signal;let ie=!1;const oe=Z.url,se=Z.headers;for(const de of Object.keys(J))se[de]=J[de][0];const le=new l.StreamArrayParser(L);return s.getRequestHeaders().then(de=>{const pe={headers:{...de,...se},body:Z.body,method:Z.method,signal:ee};return(Z.method==="GET"||Z.method==="DELETE")&&delete pe.body,R(oe,pe)}).then(de=>{if(de.ok&&L.responseStream){(0,p.pipeline)(de.body,le,pe=>{pe&&(!ie||pe instanceof Error&&pe.name!=="AbortError")&&(W&&W(pe),le.emit("error",pe))});return}else return Promise.all([Promise.resolve(de.ok),de.arrayBuffer()]).then(([pe,fe])=>{const he=g(L,pe,fe);W(null,he)}).catch(pe=>{if(!ie||pe.name!=="AbortError")if(L.responseStream)W&&W(pe),le.emit("error",pe);else if(W)W(pe);else throw pe})}).catch(de=>{if(L.responseStream)W&&W(de),le.emit("error",de);else if(W)W(de);else throw de}),L.responseStream?le:{cancel:()=>{ie=!0,te.abort()}}};return I}return fallbackServiceStub}var iam_service={exports:{}},hasRequiredIam_service;function requireIam_service(){return hasRequiredIam_service||(hasRequiredIam_service=1,function(e){(function(r){typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=r(requireMinimal()))})(function(r){var o,l,p,f,O,_=r.Reader,S=r.Writer,v=r.util,s=r.roots.iam_protos||(r.roots.iam_protos={});function d(T,U,z){r.rpc.Service.call(this,T,U,z)}function g(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function P(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function R(T){if(this.permissions=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function I(T){if(this.permissions=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function j(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function L(T){if(this.bindings=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function G(T){if(this.members=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function J(T){if(this.bindingDeltas=[],this.auditConfigDeltas=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Q(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function W(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Z(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function te(T){if(this.rules=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ee(T){if(this.additionalBindings=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ie(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function oe(T){if(this.pattern=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function se(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function le(T){if(this.file=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function de(T){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function pe(T){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function fe(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function he(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ge(T){if(this.uninterpretedOption=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function me(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ye(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ve(T){if(this.value=[],this.reservedRange=[],this.reservedName=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Ae(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Pe(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Ne(T){if(this.method=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Ee(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Ce(T){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Se(T){if(this.uninterpretedOption=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Te(T){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function Oe(T){if(this.uninterpretedOption=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ce(T){if(this.uninterpretedOption=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function k(T){if(this.uninterpretedOption=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function F(T){if(this.uninterpretedOption=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function V(T){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ne(T){if(this.name=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function ue(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function we(T){if(this.location=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function be(T){if(this.path=[],this.span=[],this.leadingDetachedComments=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function N(T){if(this.annotation=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function q(T){if(this.path=[],T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}function H(T){if(T)for(var U=Object.keys(T),z=0;z<U.length;++z)T[U[z]]!=null&&(this[U[z]]=T[U[z]])}return s.google=((O={}).iam=((p={}).v1=((l={}).IAMPolicy=(((d.prototype=Object.create(r.rpc.Service.prototype)).constructor=d).create=function(T,U,z){return new this(T,U,z)},Object.defineProperty(d.prototype.setIamPolicy=function T(U,z){return this.rpcCall(T,s.google.iam.v1.SetIamPolicyRequest,s.google.iam.v1.Policy,U,z)},"name",{value:"SetIamPolicy"}),Object.defineProperty(d.prototype.getIamPolicy=function T(U,z){return this.rpcCall(T,s.google.iam.v1.GetIamPolicyRequest,s.google.iam.v1.Policy,U,z)},"name",{value:"GetIamPolicy"}),Object.defineProperty(d.prototype.testIamPermissions=function T(U,z){return this.rpcCall(T,s.google.iam.v1.TestIamPermissionsRequest,s.google.iam.v1.TestIamPermissionsResponse,U,z)},"name",{value:"TestIamPermissions"}),d),l.SetIamPolicyRequest=(g.prototype.resource="",g.prototype.policy=null,g.create=function(T){return new g(T)},g.encode=function(T,U){return U=U||S.create(),T.resource!=null&&Object.hasOwnProperty.call(T,"resource")&&U.uint32(10).string(T.resource),T.policy!=null&&Object.hasOwnProperty.call(T,"policy")&&s.google.iam.v1.Policy.encode(T.policy,U.uint32(18).fork()).ldelim(),U},g.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},g.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.SetIamPolicyRequest;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.resource=T.string();break;case 2:ae.policy=s.google.iam.v1.Policy.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},g.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},g.verify=function(T){return typeof T!="object"||T===null?"object expected":T.resource!=null&&T.hasOwnProperty("resource")&&!v.isString(T.resource)?"resource: string expected":T.policy!=null&&T.hasOwnProperty("policy")&&(T=s.google.iam.v1.Policy.verify(T.policy),T)?"policy."+T:null},g.fromObject=function(T){if(T instanceof s.google.iam.v1.SetIamPolicyRequest)return T;var U=new s.google.iam.v1.SetIamPolicyRequest;if(T.resource!=null&&(U.resource=String(T.resource)),T.policy!=null){if(typeof T.policy!="object")throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");U.policy=s.google.iam.v1.Policy.fromObject(T.policy)}return U},g.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.resource="",z.policy=null),T.resource!=null&&T.hasOwnProperty("resource")&&(z.resource=T.resource),T.policy!=null&&T.hasOwnProperty("policy")&&(z.policy=s.google.iam.v1.Policy.toObject(T.policy,U)),z},g.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},g),l.GetIamPolicyRequest=(P.prototype.resource="",P.prototype.options=null,P.create=function(T){return new P(T)},P.encode=function(T,U){return U=U||S.create(),T.resource!=null&&Object.hasOwnProperty.call(T,"resource")&&U.uint32(10).string(T.resource),T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.iam.v1.GetPolicyOptions.encode(T.options,U.uint32(18).fork()).ldelim(),U},P.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},P.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.GetIamPolicyRequest;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.resource=T.string();break;case 2:ae.options=s.google.iam.v1.GetPolicyOptions.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},P.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},P.verify=function(T){return typeof T!="object"||T===null?"object expected":T.resource!=null&&T.hasOwnProperty("resource")&&!v.isString(T.resource)?"resource: string expected":T.options!=null&&T.hasOwnProperty("options")&&(T=s.google.iam.v1.GetPolicyOptions.verify(T.options),T)?"options."+T:null},P.fromObject=function(T){if(T instanceof s.google.iam.v1.GetIamPolicyRequest)return T;var U=new s.google.iam.v1.GetIamPolicyRequest;if(T.resource!=null&&(U.resource=String(T.resource)),T.options!=null){if(typeof T.options!="object")throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");U.options=s.google.iam.v1.GetPolicyOptions.fromObject(T.options)}return U},P.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.resource="",z.options=null),T.resource!=null&&T.hasOwnProperty("resource")&&(z.resource=T.resource),T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.iam.v1.GetPolicyOptions.toObject(T.options,U)),z},P.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},P),l.TestIamPermissionsRequest=(R.prototype.resource="",R.prototype.permissions=v.emptyArray,R.create=function(T){return new R(T)},R.encode=function(T,U){if(U=U||S.create(),T.resource!=null&&Object.hasOwnProperty.call(T,"resource")&&U.uint32(10).string(T.resource),T.permissions!=null&&T.permissions.length)for(var z=0;z<T.permissions.length;++z)U.uint32(18).string(T.permissions[z]);return U},R.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},R.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.TestIamPermissionsRequest;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.resource=T.string();break;case 2:ae.permissions&&ae.permissions.length||(ae.permissions=[]),ae.permissions.push(T.string());break;default:T.skipType(7&xe)}}return ae},R.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},R.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.resource!=null&&T.hasOwnProperty("resource")&&!v.isString(T.resource))return"resource: string expected";if(T.permissions!=null&&T.hasOwnProperty("permissions")){if(!Array.isArray(T.permissions))return"permissions: array expected";for(var U=0;U<T.permissions.length;++U)if(!v.isString(T.permissions[U]))return"permissions: string[] expected"}return null},R.fromObject=function(T){if(T instanceof s.google.iam.v1.TestIamPermissionsRequest)return T;var U=new s.google.iam.v1.TestIamPermissionsRequest;if(T.resource!=null&&(U.resource=String(T.resource)),T.permissions){if(!Array.isArray(T.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");U.permissions=[];for(var z=0;z<T.permissions.length;++z)U.permissions[z]=String(T.permissions[z])}return U},R.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.permissions=[]),U.defaults&&(z.resource=""),T.resource!=null&&T.hasOwnProperty("resource")&&(z.resource=T.resource),T.permissions&&T.permissions.length){z.permissions=[];for(var ae=0;ae<T.permissions.length;++ae)z.permissions[ae]=T.permissions[ae]}return z},R.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},R),l.TestIamPermissionsResponse=(I.prototype.permissions=v.emptyArray,I.create=function(T){return new I(T)},I.encode=function(T,U){if(U=U||S.create(),T.permissions!=null&&T.permissions.length)for(var z=0;z<T.permissions.length;++z)U.uint32(10).string(T.permissions[z]);return U},I.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},I.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.TestIamPermissionsResponse;T.pos<z;){var xe=T.uint32();xe>>>3==1?(ae.permissions&&ae.permissions.length||(ae.permissions=[]),ae.permissions.push(T.string())):T.skipType(7&xe)}return ae},I.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},I.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.permissions!=null&&T.hasOwnProperty("permissions")){if(!Array.isArray(T.permissions))return"permissions: array expected";for(var U=0;U<T.permissions.length;++U)if(!v.isString(T.permissions[U]))return"permissions: string[] expected"}return null},I.fromObject=function(T){if(T instanceof s.google.iam.v1.TestIamPermissionsResponse)return T;var U=new s.google.iam.v1.TestIamPermissionsResponse;if(T.permissions){if(!Array.isArray(T.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");U.permissions=[];for(var z=0;z<T.permissions.length;++z)U.permissions[z]=String(T.permissions[z])}return U},I.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.permissions=[]),T.permissions&&T.permissions.length){z.permissions=[];for(var ae=0;ae<T.permissions.length;++ae)z.permissions[ae]=T.permissions[ae]}return z},I.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},I),l.GetPolicyOptions=(j.prototype.requestedPolicyVersion=0,j.create=function(T){return new j(T)},j.encode=function(T,U){return U=U||S.create(),T.requestedPolicyVersion!=null&&Object.hasOwnProperty.call(T,"requestedPolicyVersion")&&U.uint32(8).int32(T.requestedPolicyVersion),U},j.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},j.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.GetPolicyOptions;T.pos<z;){var xe=T.uint32();xe>>>3==1?ae.requestedPolicyVersion=T.int32():T.skipType(7&xe)}return ae},j.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},j.verify=function(T){return typeof T!="object"||T===null?"object expected":T.requestedPolicyVersion!=null&&T.hasOwnProperty("requestedPolicyVersion")&&!v.isInteger(T.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},j.fromObject=function(T){var U;return T instanceof s.google.iam.v1.GetPolicyOptions?T:(U=new s.google.iam.v1.GetPolicyOptions,T.requestedPolicyVersion!=null&&(U.requestedPolicyVersion=0|T.requestedPolicyVersion),U)},j.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.requestedPolicyVersion=0),T.requestedPolicyVersion!=null&&T.hasOwnProperty("requestedPolicyVersion")&&(z.requestedPolicyVersion=T.requestedPolicyVersion),z},j.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},j),l.Policy=(L.prototype.version=0,L.prototype.bindings=v.emptyArray,L.prototype.etag=v.newBuffer([]),L.create=function(T){return new L(T)},L.encode=function(T,U){if(U=U||S.create(),T.version!=null&&Object.hasOwnProperty.call(T,"version")&&U.uint32(8).int32(T.version),T.etag!=null&&Object.hasOwnProperty.call(T,"etag")&&U.uint32(26).bytes(T.etag),T.bindings!=null&&T.bindings.length)for(var z=0;z<T.bindings.length;++z)s.google.iam.v1.Binding.encode(T.bindings[z],U.uint32(34).fork()).ldelim();return U},L.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},L.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.Policy;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.version=T.int32();break;case 4:ae.bindings&&ae.bindings.length||(ae.bindings=[]),ae.bindings.push(s.google.iam.v1.Binding.decode(T,T.uint32()));break;case 3:ae.etag=T.bytes();break;default:T.skipType(7&xe)}}return ae},L.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},L.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.version!=null&&T.hasOwnProperty("version")&&!v.isInteger(T.version))return"version: integer expected";if(T.bindings!=null&&T.hasOwnProperty("bindings")){if(!Array.isArray(T.bindings))return"bindings: array expected";for(var U=0;U<T.bindings.length;++U){var z=s.google.iam.v1.Binding.verify(T.bindings[U]);if(z)return"bindings."+z}}return T.etag!=null&&T.hasOwnProperty("etag")&&!(T.etag&&typeof T.etag.length=="number"||v.isString(T.etag))?"etag: buffer expected":null},L.fromObject=function(T){if(T instanceof s.google.iam.v1.Policy)return T;var U=new s.google.iam.v1.Policy;if(T.version!=null&&(U.version=0|T.version),T.bindings){if(!Array.isArray(T.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");U.bindings=[];for(var z=0;z<T.bindings.length;++z){if(typeof T.bindings[z]!="object")throw TypeError(".google.iam.v1.Policy.bindings: object expected");U.bindings[z]=s.google.iam.v1.Binding.fromObject(T.bindings[z])}}return T.etag!=null&&(typeof T.etag=="string"?v.base64.decode(T.etag,U.etag=v.newBuffer(v.base64.length(T.etag)),0):T.etag.length&&(U.etag=T.etag)),U},L.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.bindings=[]),U.defaults&&(z.version=0,U.bytes===String?z.etag="":(z.etag=[],U.bytes!==Array&&(z.etag=v.newBuffer(z.etag)))),T.version!=null&&T.hasOwnProperty("version")&&(z.version=T.version),T.etag!=null&&T.hasOwnProperty("etag")&&(z.etag=U.bytes===String?v.base64.encode(T.etag,0,T.etag.length):U.bytes===Array?Array.prototype.slice.call(T.etag):T.etag),T.bindings&&T.bindings.length){z.bindings=[];for(var ae=0;ae<T.bindings.length;++ae)z.bindings[ae]=s.google.iam.v1.Binding.toObject(T.bindings[ae],U)}return z},L.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},L),l.Binding=(G.prototype.role="",G.prototype.members=v.emptyArray,G.prototype.condition=null,G.create=function(T){return new G(T)},G.encode=function(T,U){if(U=U||S.create(),T.role!=null&&Object.hasOwnProperty.call(T,"role")&&U.uint32(10).string(T.role),T.members!=null&&T.members.length)for(var z=0;z<T.members.length;++z)U.uint32(18).string(T.members[z]);return T.condition!=null&&Object.hasOwnProperty.call(T,"condition")&&s.google.type.Expr.encode(T.condition,U.uint32(26).fork()).ldelim(),U},G.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},G.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.Binding;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.role=T.string();break;case 2:ae.members&&ae.members.length||(ae.members=[]),ae.members.push(T.string());break;case 3:ae.condition=s.google.type.Expr.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},G.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},G.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.role!=null&&T.hasOwnProperty("role")&&!v.isString(T.role))return"role: string expected";if(T.members!=null&&T.hasOwnProperty("members")){if(!Array.isArray(T.members))return"members: array expected";for(var U=0;U<T.members.length;++U)if(!v.isString(T.members[U]))return"members: string[] expected"}if(T.condition!=null&&T.hasOwnProperty("condition")){var z=s.google.type.Expr.verify(T.condition);if(z)return"condition."+z}return null},G.fromObject=function(T){if(T instanceof s.google.iam.v1.Binding)return T;var U=new s.google.iam.v1.Binding;if(T.role!=null&&(U.role=String(T.role)),T.members){if(!Array.isArray(T.members))throw TypeError(".google.iam.v1.Binding.members: array expected");U.members=[];for(var z=0;z<T.members.length;++z)U.members[z]=String(T.members[z])}if(T.condition!=null){if(typeof T.condition!="object")throw TypeError(".google.iam.v1.Binding.condition: object expected");U.condition=s.google.type.Expr.fromObject(T.condition)}return U},G.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.members=[]),U.defaults&&(z.role="",z.condition=null),T.role!=null&&T.hasOwnProperty("role")&&(z.role=T.role),T.members&&T.members.length){z.members=[];for(var ae=0;ae<T.members.length;++ae)z.members[ae]=T.members[ae]}return T.condition!=null&&T.hasOwnProperty("condition")&&(z.condition=s.google.type.Expr.toObject(T.condition,U)),z},G.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},G),l.PolicyDelta=(J.prototype.bindingDeltas=v.emptyArray,J.prototype.auditConfigDeltas=v.emptyArray,J.create=function(T){return new J(T)},J.encode=function(T,U){if(U=U||S.create(),T.bindingDeltas!=null&&T.bindingDeltas.length)for(var z=0;z<T.bindingDeltas.length;++z)s.google.iam.v1.BindingDelta.encode(T.bindingDeltas[z],U.uint32(10).fork()).ldelim();if(T.auditConfigDeltas!=null&&T.auditConfigDeltas.length)for(z=0;z<T.auditConfigDeltas.length;++z)s.google.iam.v1.AuditConfigDelta.encode(T.auditConfigDeltas[z],U.uint32(18).fork()).ldelim();return U},J.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},J.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.PolicyDelta;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.bindingDeltas&&ae.bindingDeltas.length||(ae.bindingDeltas=[]),ae.bindingDeltas.push(s.google.iam.v1.BindingDelta.decode(T,T.uint32()));break;case 2:ae.auditConfigDeltas&&ae.auditConfigDeltas.length||(ae.auditConfigDeltas=[]),ae.auditConfigDeltas.push(s.google.iam.v1.AuditConfigDelta.decode(T,T.uint32()));break;default:T.skipType(7&xe)}}return ae},J.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},J.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.bindingDeltas!=null&&T.hasOwnProperty("bindingDeltas")){if(!Array.isArray(T.bindingDeltas))return"bindingDeltas: array expected";for(var U=0;U<T.bindingDeltas.length;++U)if(z=s.google.iam.v1.BindingDelta.verify(T.bindingDeltas[U]))return"bindingDeltas."+z}if(T.auditConfigDeltas!=null&&T.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(T.auditConfigDeltas))return"auditConfigDeltas: array expected";for(var z,U=0;U<T.auditConfigDeltas.length;++U)if(z=s.google.iam.v1.AuditConfigDelta.verify(T.auditConfigDeltas[U]))return"auditConfigDeltas."+z}return null},J.fromObject=function(T){if(T instanceof s.google.iam.v1.PolicyDelta)return T;var U=new s.google.iam.v1.PolicyDelta;if(T.bindingDeltas){if(!Array.isArray(T.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");U.bindingDeltas=[];for(var z=0;z<T.bindingDeltas.length;++z){if(typeof T.bindingDeltas[z]!="object")throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");U.bindingDeltas[z]=s.google.iam.v1.BindingDelta.fromObject(T.bindingDeltas[z])}}if(T.auditConfigDeltas){if(!Array.isArray(T.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");for(U.auditConfigDeltas=[],z=0;z<T.auditConfigDeltas.length;++z){if(typeof T.auditConfigDeltas[z]!="object")throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");U.auditConfigDeltas[z]=s.google.iam.v1.AuditConfigDelta.fromObject(T.auditConfigDeltas[z])}}return U},J.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.bindingDeltas=[],z.auditConfigDeltas=[]),T.bindingDeltas&&T.bindingDeltas.length){z.bindingDeltas=[];for(var ae=0;ae<T.bindingDeltas.length;++ae)z.bindingDeltas[ae]=s.google.iam.v1.BindingDelta.toObject(T.bindingDeltas[ae],U)}if(T.auditConfigDeltas&&T.auditConfigDeltas.length)for(z.auditConfigDeltas=[],ae=0;ae<T.auditConfigDeltas.length;++ae)z.auditConfigDeltas[ae]=s.google.iam.v1.AuditConfigDelta.toObject(T.auditConfigDeltas[ae],U);return z},J.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},J),l.BindingDelta=(Q.prototype.action=0,Q.prototype.role="",Q.prototype.member="",Q.prototype.condition=null,Q.create=function(T){return new Q(T)},Q.encode=function(T,U){return U=U||S.create(),T.action!=null&&Object.hasOwnProperty.call(T,"action")&&U.uint32(8).int32(T.action),T.role!=null&&Object.hasOwnProperty.call(T,"role")&&U.uint32(18).string(T.role),T.member!=null&&Object.hasOwnProperty.call(T,"member")&&U.uint32(26).string(T.member),T.condition!=null&&Object.hasOwnProperty.call(T,"condition")&&s.google.type.Expr.encode(T.condition,U.uint32(34).fork()).ldelim(),U},Q.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Q.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.BindingDelta;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.action=T.int32();break;case 2:ae.role=T.string();break;case 3:ae.member=T.string();break;case 4:ae.condition=s.google.type.Expr.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},Q.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Q.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.action!=null&&T.hasOwnProperty("action"))switch(T.action){default:return"action: enum value expected";case 0:case 1:case 2:}return T.role!=null&&T.hasOwnProperty("role")&&!v.isString(T.role)?"role: string expected":T.member!=null&&T.hasOwnProperty("member")&&!v.isString(T.member)?"member: string expected":T.condition!=null&&T.hasOwnProperty("condition")&&(T=s.google.type.Expr.verify(T.condition),T)?"condition."+T:null},Q.fromObject=function(T){if(T instanceof s.google.iam.v1.BindingDelta)return T;var U=new s.google.iam.v1.BindingDelta;switch(T.action){case"ACTION_UNSPECIFIED":case 0:U.action=0;break;case"ADD":case 1:U.action=1;break;case"REMOVE":case 2:U.action=2}if(T.role!=null&&(U.role=String(T.role)),T.member!=null&&(U.member=String(T.member)),T.condition!=null){if(typeof T.condition!="object")throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");U.condition=s.google.type.Expr.fromObject(T.condition)}return U},Q.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.action=U.enums===String?"ACTION_UNSPECIFIED":0,z.role="",z.member="",z.condition=null),T.action!=null&&T.hasOwnProperty("action")&&(z.action=U.enums===String?s.google.iam.v1.BindingDelta.Action[T.action]:T.action),T.role!=null&&T.hasOwnProperty("role")&&(z.role=T.role),T.member!=null&&T.hasOwnProperty("member")&&(z.member=T.member),T.condition!=null&&T.hasOwnProperty("condition")&&(z.condition=s.google.type.Expr.toObject(T.condition,U)),z},Q.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Q.Action=(o={},(f=Object.create(o))[o[0]="ACTION_UNSPECIFIED"]=0,f[o[1]="ADD"]=1,f[o[2]="REMOVE"]=2,f),Q),l.AuditConfigDelta=(W.prototype.action=0,W.prototype.service="",W.prototype.exemptedMember="",W.prototype.logType="",W.create=function(T){return new W(T)},W.encode=function(T,U){return U=U||S.create(),T.action!=null&&Object.hasOwnProperty.call(T,"action")&&U.uint32(8).int32(T.action),T.service!=null&&Object.hasOwnProperty.call(T,"service")&&U.uint32(18).string(T.service),T.exemptedMember!=null&&Object.hasOwnProperty.call(T,"exemptedMember")&&U.uint32(26).string(T.exemptedMember),T.logType!=null&&Object.hasOwnProperty.call(T,"logType")&&U.uint32(34).string(T.logType),U},W.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},W.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.AuditConfigDelta;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.action=T.int32();break;case 2:ae.service=T.string();break;case 3:ae.exemptedMember=T.string();break;case 4:ae.logType=T.string();break;default:T.skipType(7&xe)}}return ae},W.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},W.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.action!=null&&T.hasOwnProperty("action"))switch(T.action){default:return"action: enum value expected";case 0:case 1:case 2:}return T.service!=null&&T.hasOwnProperty("service")&&!v.isString(T.service)?"service: string expected":T.exemptedMember!=null&&T.hasOwnProperty("exemptedMember")&&!v.isString(T.exemptedMember)?"exemptedMember: string expected":T.logType!=null&&T.hasOwnProperty("logType")&&!v.isString(T.logType)?"logType: string expected":null},W.fromObject=function(T){if(T instanceof s.google.iam.v1.AuditConfigDelta)return T;var U=new s.google.iam.v1.AuditConfigDelta;switch(T.action){case"ACTION_UNSPECIFIED":case 0:U.action=0;break;case"ADD":case 1:U.action=1;break;case"REMOVE":case 2:U.action=2}return T.service!=null&&(U.service=String(T.service)),T.exemptedMember!=null&&(U.exemptedMember=String(T.exemptedMember)),T.logType!=null&&(U.logType=String(T.logType)),U},W.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.action=U.enums===String?"ACTION_UNSPECIFIED":0,z.service="",z.exemptedMember="",z.logType=""),T.action!=null&&T.hasOwnProperty("action")&&(z.action=U.enums===String?s.google.iam.v1.AuditConfigDelta.Action[T.action]:T.action),T.service!=null&&T.hasOwnProperty("service")&&(z.service=T.service),T.exemptedMember!=null&&T.hasOwnProperty("exemptedMember")&&(z.exemptedMember=T.exemptedMember),T.logType!=null&&T.hasOwnProperty("logType")&&(z.logType=T.logType),z},W.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},W.Action=(o={},(f=Object.create(o))[o[0]="ACTION_UNSPECIFIED"]=0,f[o[1]="ADD"]=1,f[o[2]="REMOVE"]=2,f),W),l.logging=((o={}).AuditData=(Z.prototype.policyDelta=null,Z.create=function(T){return new Z(T)},Z.encode=function(T,U){return U=U||S.create(),T.policyDelta!=null&&Object.hasOwnProperty.call(T,"policyDelta")&&s.google.iam.v1.PolicyDelta.encode(T.policyDelta,U.uint32(18).fork()).ldelim(),U},Z.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Z.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.iam.v1.logging.AuditData;T.pos<z;){var xe=T.uint32();xe>>>3==2?ae.policyDelta=s.google.iam.v1.PolicyDelta.decode(T,T.uint32()):T.skipType(7&xe)}return ae},Z.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Z.verify=function(T){return typeof T!="object"||T===null?"object expected":T.policyDelta!=null&&T.hasOwnProperty("policyDelta")&&(T=s.google.iam.v1.PolicyDelta.verify(T.policyDelta),T)?"policyDelta."+T:null},Z.fromObject=function(T){if(T instanceof s.google.iam.v1.logging.AuditData)return T;var U=new s.google.iam.v1.logging.AuditData;if(T.policyDelta!=null){if(typeof T.policyDelta!="object")throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");U.policyDelta=s.google.iam.v1.PolicyDelta.fromObject(T.policyDelta)}return U},Z.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.policyDelta=null),T.policyDelta!=null&&T.hasOwnProperty("policyDelta")&&(z.policyDelta=s.google.iam.v1.PolicyDelta.toObject(T.policyDelta,U)),z},Z.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Z),o),l),p),O.api=((f={}).Http=(te.prototype.rules=v.emptyArray,te.prototype.fullyDecodeReservedExpansion=!1,te.create=function(T){return new te(T)},te.encode=function(T,U){if(U=U||S.create(),T.rules!=null&&T.rules.length)for(var z=0;z<T.rules.length;++z)s.google.api.HttpRule.encode(T.rules[z],U.uint32(10).fork()).ldelim();return T.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(T,"fullyDecodeReservedExpansion")&&U.uint32(16).bool(T.fullyDecodeReservedExpansion),U},te.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},te.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.api.Http;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.rules&&ae.rules.length||(ae.rules=[]),ae.rules.push(s.google.api.HttpRule.decode(T,T.uint32()));break;case 2:ae.fullyDecodeReservedExpansion=T.bool();break;default:T.skipType(7&xe)}}return ae},te.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},te.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.rules!=null&&T.hasOwnProperty("rules")){if(!Array.isArray(T.rules))return"rules: array expected";for(var U=0;U<T.rules.length;++U){var z=s.google.api.HttpRule.verify(T.rules[U]);if(z)return"rules."+z}}return T.fullyDecodeReservedExpansion!=null&&T.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof T.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},te.fromObject=function(T){if(T instanceof s.google.api.Http)return T;var U=new s.google.api.Http;if(T.rules){if(!Array.isArray(T.rules))throw TypeError(".google.api.Http.rules: array expected");U.rules=[];for(var z=0;z<T.rules.length;++z){if(typeof T.rules[z]!="object")throw TypeError(".google.api.Http.rules: object expected");U.rules[z]=s.google.api.HttpRule.fromObject(T.rules[z])}}return T.fullyDecodeReservedExpansion!=null&&(U.fullyDecodeReservedExpansion=!!T.fullyDecodeReservedExpansion),U},te.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.rules=[]),U.defaults&&(z.fullyDecodeReservedExpansion=!1),T.rules&&T.rules.length){z.rules=[];for(var ae=0;ae<T.rules.length;++ae)z.rules[ae]=s.google.api.HttpRule.toObject(T.rules[ae],U)}return T.fullyDecodeReservedExpansion!=null&&T.hasOwnProperty("fullyDecodeReservedExpansion")&&(z.fullyDecodeReservedExpansion=T.fullyDecodeReservedExpansion),z},te.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},te),f.HttpRule=(ee.prototype.selector="",ee.prototype.get="",ee.prototype.put="",ee.prototype.post="",ee.prototype.delete="",ee.prototype.patch="",ee.prototype.custom=null,ee.prototype.body="",ee.prototype.responseBody="",ee.prototype.additionalBindings=v.emptyArray,Object.defineProperty(ee.prototype,"pattern",{get:v.oneOfGetter(o=["get","put","post","delete","patch","custom"]),set:v.oneOfSetter(o)}),ee.create=function(T){return new ee(T)},ee.encode=function(T,U){if(U=U||S.create(),T.selector!=null&&Object.hasOwnProperty.call(T,"selector")&&U.uint32(10).string(T.selector),T.get!=null&&Object.hasOwnProperty.call(T,"get")&&U.uint32(18).string(T.get),T.put!=null&&Object.hasOwnProperty.call(T,"put")&&U.uint32(26).string(T.put),T.post!=null&&Object.hasOwnProperty.call(T,"post")&&U.uint32(34).string(T.post),T.delete!=null&&Object.hasOwnProperty.call(T,"delete")&&U.uint32(42).string(T.delete),T.patch!=null&&Object.hasOwnProperty.call(T,"patch")&&U.uint32(50).string(T.patch),T.body!=null&&Object.hasOwnProperty.call(T,"body")&&U.uint32(58).string(T.body),T.custom!=null&&Object.hasOwnProperty.call(T,"custom")&&s.google.api.CustomHttpPattern.encode(T.custom,U.uint32(66).fork()).ldelim(),T.additionalBindings!=null&&T.additionalBindings.length)for(var z=0;z<T.additionalBindings.length;++z)s.google.api.HttpRule.encode(T.additionalBindings[z],U.uint32(90).fork()).ldelim();return T.responseBody!=null&&Object.hasOwnProperty.call(T,"responseBody")&&U.uint32(98).string(T.responseBody),U},ee.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ee.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.api.HttpRule;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.selector=T.string();break;case 2:ae.get=T.string();break;case 3:ae.put=T.string();break;case 4:ae.post=T.string();break;case 5:ae.delete=T.string();break;case 6:ae.patch=T.string();break;case 8:ae.custom=s.google.api.CustomHttpPattern.decode(T,T.uint32());break;case 7:ae.body=T.string();break;case 12:ae.responseBody=T.string();break;case 11:ae.additionalBindings&&ae.additionalBindings.length||(ae.additionalBindings=[]),ae.additionalBindings.push(s.google.api.HttpRule.decode(T,T.uint32()));break;default:T.skipType(7&xe)}}return ae},ee.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ee.verify=function(T){if(typeof T!="object"||T===null)return"object expected";var U={};if(T.selector!=null&&T.hasOwnProperty("selector")&&!v.isString(T.selector))return"selector: string expected";if(T.get!=null&&T.hasOwnProperty("get")&&(U.pattern=1,!v.isString(T.get)))return"get: string expected";if(T.put!=null&&T.hasOwnProperty("put")){if(U.pattern===1)return"pattern: multiple values";if(U.pattern=1,!v.isString(T.put))return"put: string expected"}if(T.post!=null&&T.hasOwnProperty("post")){if(U.pattern===1)return"pattern: multiple values";if(U.pattern=1,!v.isString(T.post))return"post: string expected"}if(T.delete!=null&&T.hasOwnProperty("delete")){if(U.pattern===1)return"pattern: multiple values";if(U.pattern=1,!v.isString(T.delete))return"delete: string expected"}if(T.patch!=null&&T.hasOwnProperty("patch")){if(U.pattern===1)return"pattern: multiple values";if(U.pattern=1,!v.isString(T.patch))return"patch: string expected"}if(T.custom!=null&&T.hasOwnProperty("custom")){if(U.pattern===1)return"pattern: multiple values";if(U.pattern=1,z=s.google.api.CustomHttpPattern.verify(T.custom))return"custom."+z}if(T.body!=null&&T.hasOwnProperty("body")&&!v.isString(T.body))return"body: string expected";if(T.responseBody!=null&&T.hasOwnProperty("responseBody")&&!v.isString(T.responseBody))return"responseBody: string expected";if(T.additionalBindings!=null&&T.hasOwnProperty("additionalBindings")){if(!Array.isArray(T.additionalBindings))return"additionalBindings: array expected";for(var z,ae=0;ae<T.additionalBindings.length;++ae)if(z=s.google.api.HttpRule.verify(T.additionalBindings[ae]))return"additionalBindings."+z}return null},ee.fromObject=function(T){if(T instanceof s.google.api.HttpRule)return T;var U=new s.google.api.HttpRule;if(T.selector!=null&&(U.selector=String(T.selector)),T.get!=null&&(U.get=String(T.get)),T.put!=null&&(U.put=String(T.put)),T.post!=null&&(U.post=String(T.post)),T.delete!=null&&(U.delete=String(T.delete)),T.patch!=null&&(U.patch=String(T.patch)),T.custom!=null){if(typeof T.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");U.custom=s.google.api.CustomHttpPattern.fromObject(T.custom)}if(T.body!=null&&(U.body=String(T.body)),T.responseBody!=null&&(U.responseBody=String(T.responseBody)),T.additionalBindings){if(!Array.isArray(T.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");U.additionalBindings=[];for(var z=0;z<T.additionalBindings.length;++z){if(typeof T.additionalBindings[z]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");U.additionalBindings[z]=s.google.api.HttpRule.fromObject(T.additionalBindings[z])}}return U},ee.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.additionalBindings=[]),U.defaults&&(z.selector="",z.body="",z.responseBody=""),T.selector!=null&&T.hasOwnProperty("selector")&&(z.selector=T.selector),T.get!=null&&T.hasOwnProperty("get")&&(z.get=T.get,U.oneofs)&&(z.pattern="get"),T.put!=null&&T.hasOwnProperty("put")&&(z.put=T.put,U.oneofs)&&(z.pattern="put"),T.post!=null&&T.hasOwnProperty("post")&&(z.post=T.post,U.oneofs)&&(z.pattern="post"),T.delete!=null&&T.hasOwnProperty("delete")&&(z.delete=T.delete,U.oneofs)&&(z.pattern="delete"),T.patch!=null&&T.hasOwnProperty("patch")&&(z.patch=T.patch,U.oneofs)&&(z.pattern="patch"),T.body!=null&&T.hasOwnProperty("body")&&(z.body=T.body),T.custom!=null&&T.hasOwnProperty("custom")&&(z.custom=s.google.api.CustomHttpPattern.toObject(T.custom,U),U.oneofs)&&(z.pattern="custom"),T.additionalBindings&&T.additionalBindings.length){z.additionalBindings=[];for(var ae=0;ae<T.additionalBindings.length;++ae)z.additionalBindings[ae]=s.google.api.HttpRule.toObject(T.additionalBindings[ae],U)}return T.responseBody!=null&&T.hasOwnProperty("responseBody")&&(z.responseBody=T.responseBody),z},ee.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ee),f.CustomHttpPattern=(ie.prototype.kind="",ie.prototype.path="",ie.create=function(T){return new ie(T)},ie.encode=function(T,U){return U=U||S.create(),T.kind!=null&&Object.hasOwnProperty.call(T,"kind")&&U.uint32(10).string(T.kind),T.path!=null&&Object.hasOwnProperty.call(T,"path")&&U.uint32(18).string(T.path),U},ie.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ie.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.api.CustomHttpPattern;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.kind=T.string();break;case 2:ae.path=T.string();break;default:T.skipType(7&xe)}}return ae},ie.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ie.verify=function(T){return typeof T!="object"||T===null?"object expected":T.kind!=null&&T.hasOwnProperty("kind")&&!v.isString(T.kind)?"kind: string expected":T.path!=null&&T.hasOwnProperty("path")&&!v.isString(T.path)?"path: string expected":null},ie.fromObject=function(T){var U;return T instanceof s.google.api.CustomHttpPattern?T:(U=new s.google.api.CustomHttpPattern,T.kind!=null&&(U.kind=String(T.kind)),T.path!=null&&(U.path=String(T.path)),U)},ie.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.kind="",z.path=""),T.kind!=null&&T.hasOwnProperty("kind")&&(z.kind=T.kind),T.path!=null&&T.hasOwnProperty("path")&&(z.path=T.path),z},ie.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ie),f.FieldBehavior=(o={},(l=Object.create(o))[o[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,l[o[1]="OPTIONAL"]=1,l[o[2]="REQUIRED"]=2,l[o[3]="OUTPUT_ONLY"]=3,l[o[4]="INPUT_ONLY"]=4,l[o[5]="IMMUTABLE"]=5,l),f.ResourceDescriptor=(oe.prototype.type="",oe.prototype.pattern=v.emptyArray,oe.prototype.nameField="",oe.prototype.history=0,oe.prototype.plural="",oe.prototype.singular="",oe.create=function(T){return new oe(T)},oe.encode=function(T,U){if(U=U||S.create(),T.type!=null&&Object.hasOwnProperty.call(T,"type")&&U.uint32(10).string(T.type),T.pattern!=null&&T.pattern.length)for(var z=0;z<T.pattern.length;++z)U.uint32(18).string(T.pattern[z]);return T.nameField!=null&&Object.hasOwnProperty.call(T,"nameField")&&U.uint32(26).string(T.nameField),T.history!=null&&Object.hasOwnProperty.call(T,"history")&&U.uint32(32).int32(T.history),T.plural!=null&&Object.hasOwnProperty.call(T,"plural")&&U.uint32(42).string(T.plural),T.singular!=null&&Object.hasOwnProperty.call(T,"singular")&&U.uint32(50).string(T.singular),U},oe.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},oe.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.api.ResourceDescriptor;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.type=T.string();break;case 2:ae.pattern&&ae.pattern.length||(ae.pattern=[]),ae.pattern.push(T.string());break;case 3:ae.nameField=T.string();break;case 4:ae.history=T.int32();break;case 5:ae.plural=T.string();break;case 6:ae.singular=T.string();break;default:T.skipType(7&xe)}}return ae},oe.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},oe.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.type!=null&&T.hasOwnProperty("type")&&!v.isString(T.type))return"type: string expected";if(T.pattern!=null&&T.hasOwnProperty("pattern")){if(!Array.isArray(T.pattern))return"pattern: array expected";for(var U=0;U<T.pattern.length;++U)if(!v.isString(T.pattern[U]))return"pattern: string[] expected"}if(T.nameField!=null&&T.hasOwnProperty("nameField")&&!v.isString(T.nameField))return"nameField: string expected";if(T.history!=null&&T.hasOwnProperty("history"))switch(T.history){default:return"history: enum value expected";case 0:case 1:case 2:}return T.plural!=null&&T.hasOwnProperty("plural")&&!v.isString(T.plural)?"plural: string expected":T.singular!=null&&T.hasOwnProperty("singular")&&!v.isString(T.singular)?"singular: string expected":null},oe.fromObject=function(T){if(T instanceof s.google.api.ResourceDescriptor)return T;var U=new s.google.api.ResourceDescriptor;if(T.type!=null&&(U.type=String(T.type)),T.pattern){if(!Array.isArray(T.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");U.pattern=[];for(var z=0;z<T.pattern.length;++z)U.pattern[z]=String(T.pattern[z])}switch(T.nameField!=null&&(U.nameField=String(T.nameField)),T.history){case"HISTORY_UNSPECIFIED":case 0:U.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:U.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:U.history=2}return T.plural!=null&&(U.plural=String(T.plural)),T.singular!=null&&(U.singular=String(T.singular)),U},oe.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.pattern=[]),U.defaults&&(z.type="",z.nameField="",z.history=U.enums===String?"HISTORY_UNSPECIFIED":0,z.plural="",z.singular=""),T.type!=null&&T.hasOwnProperty("type")&&(z.type=T.type),T.pattern&&T.pattern.length){z.pattern=[];for(var ae=0;ae<T.pattern.length;++ae)z.pattern[ae]=T.pattern[ae]}return T.nameField!=null&&T.hasOwnProperty("nameField")&&(z.nameField=T.nameField),T.history!=null&&T.hasOwnProperty("history")&&(z.history=U.enums===String?s.google.api.ResourceDescriptor.History[T.history]:T.history),T.plural!=null&&T.hasOwnProperty("plural")&&(z.plural=T.plural),T.singular!=null&&T.hasOwnProperty("singular")&&(z.singular=T.singular),z},oe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},oe.History=(o={},(l=Object.create(o))[o[0]="HISTORY_UNSPECIFIED"]=0,l[o[1]="ORIGINALLY_SINGLE_PATTERN"]=1,l[o[2]="FUTURE_MULTI_PATTERN"]=2,l),oe),f.ResourceReference=(se.prototype.type="",se.prototype.childType="",se.create=function(T){return new se(T)},se.encode=function(T,U){return U=U||S.create(),T.type!=null&&Object.hasOwnProperty.call(T,"type")&&U.uint32(10).string(T.type),T.childType!=null&&Object.hasOwnProperty.call(T,"childType")&&U.uint32(18).string(T.childType),U},se.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},se.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.api.ResourceReference;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.type=T.string();break;case 2:ae.childType=T.string();break;default:T.skipType(7&xe)}}return ae},se.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},se.verify=function(T){return typeof T!="object"||T===null?"object expected":T.type!=null&&T.hasOwnProperty("type")&&!v.isString(T.type)?"type: string expected":T.childType!=null&&T.hasOwnProperty("childType")&&!v.isString(T.childType)?"childType: string expected":null},se.fromObject=function(T){var U;return T instanceof s.google.api.ResourceReference?T:(U=new s.google.api.ResourceReference,T.type!=null&&(U.type=String(T.type)),T.childType!=null&&(U.childType=String(T.childType)),U)},se.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.type="",z.childType=""),T.type!=null&&T.hasOwnProperty("type")&&(z.type=T.type),T.childType!=null&&T.hasOwnProperty("childType")&&(z.childType=T.childType),z},se.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},se),f),O.protobuf=((p={}).FileDescriptorSet=(le.prototype.file=v.emptyArray,le.create=function(T){return new le(T)},le.encode=function(T,U){if(U=U||S.create(),T.file!=null&&T.file.length)for(var z=0;z<T.file.length;++z)s.google.protobuf.FileDescriptorProto.encode(T.file[z],U.uint32(10).fork()).ldelim();return U},le.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},le.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.FileDescriptorSet;T.pos<z;){var xe=T.uint32();xe>>>3==1?(ae.file&&ae.file.length||(ae.file=[]),ae.file.push(s.google.protobuf.FileDescriptorProto.decode(T,T.uint32()))):T.skipType(7&xe)}return ae},le.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},le.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.file!=null&&T.hasOwnProperty("file")){if(!Array.isArray(T.file))return"file: array expected";for(var U=0;U<T.file.length;++U){var z=s.google.protobuf.FileDescriptorProto.verify(T.file[U]);if(z)return"file."+z}}return null},le.fromObject=function(T){if(T instanceof s.google.protobuf.FileDescriptorSet)return T;var U=new s.google.protobuf.FileDescriptorSet;if(T.file){if(!Array.isArray(T.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");U.file=[];for(var z=0;z<T.file.length;++z){if(typeof T.file[z]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");U.file[z]=s.google.protobuf.FileDescriptorProto.fromObject(T.file[z])}}return U},le.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.file=[]),T.file&&T.file.length){z.file=[];for(var ae=0;ae<T.file.length;++ae)z.file[ae]=s.google.protobuf.FileDescriptorProto.toObject(T.file[ae],U)}return z},le.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},le),p.FileDescriptorProto=(de.prototype.name="",de.prototype.package="",de.prototype.dependency=v.emptyArray,de.prototype.publicDependency=v.emptyArray,de.prototype.weakDependency=v.emptyArray,de.prototype.messageType=v.emptyArray,de.prototype.enumType=v.emptyArray,de.prototype.service=v.emptyArray,de.prototype.extension=v.emptyArray,de.prototype.options=null,de.prototype.sourceCodeInfo=null,de.prototype.syntax="",de.create=function(T){return new de(T)},de.encode=function(T,U){if(U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.package!=null&&Object.hasOwnProperty.call(T,"package")&&U.uint32(18).string(T.package),T.dependency!=null&&T.dependency.length)for(var z=0;z<T.dependency.length;++z)U.uint32(26).string(T.dependency[z]);if(T.messageType!=null&&T.messageType.length)for(z=0;z<T.messageType.length;++z)s.google.protobuf.DescriptorProto.encode(T.messageType[z],U.uint32(34).fork()).ldelim();if(T.enumType!=null&&T.enumType.length)for(z=0;z<T.enumType.length;++z)s.google.protobuf.EnumDescriptorProto.encode(T.enumType[z],U.uint32(42).fork()).ldelim();if(T.service!=null&&T.service.length)for(z=0;z<T.service.length;++z)s.google.protobuf.ServiceDescriptorProto.encode(T.service[z],U.uint32(50).fork()).ldelim();if(T.extension!=null&&T.extension.length)for(z=0;z<T.extension.length;++z)s.google.protobuf.FieldDescriptorProto.encode(T.extension[z],U.uint32(58).fork()).ldelim();if(T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.FileOptions.encode(T.options,U.uint32(66).fork()).ldelim(),T.sourceCodeInfo!=null&&Object.hasOwnProperty.call(T,"sourceCodeInfo")&&s.google.protobuf.SourceCodeInfo.encode(T.sourceCodeInfo,U.uint32(74).fork()).ldelim(),T.publicDependency!=null&&T.publicDependency.length)for(z=0;z<T.publicDependency.length;++z)U.uint32(80).int32(T.publicDependency[z]);if(T.weakDependency!=null&&T.weakDependency.length)for(z=0;z<T.weakDependency.length;++z)U.uint32(88).int32(T.weakDependency[z]);return T.syntax!=null&&Object.hasOwnProperty.call(T,"syntax")&&U.uint32(98).string(T.syntax),U},de.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},de.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.FileDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.package=T.string();break;case 3:ae.dependency&&ae.dependency.length||(ae.dependency=[]),ae.dependency.push(T.string());break;case 10:if(ae.publicDependency&&ae.publicDependency.length||(ae.publicDependency=[]),(7&xe)==2)for(var Le=T.uint32()+T.pos;T.pos<Le;)ae.publicDependency.push(T.int32());else ae.publicDependency.push(T.int32());break;case 11:if(ae.weakDependency&&ae.weakDependency.length||(ae.weakDependency=[]),(7&xe)==2)for(Le=T.uint32()+T.pos;T.pos<Le;)ae.weakDependency.push(T.int32());else ae.weakDependency.push(T.int32());break;case 4:ae.messageType&&ae.messageType.length||(ae.messageType=[]),ae.messageType.push(s.google.protobuf.DescriptorProto.decode(T,T.uint32()));break;case 5:ae.enumType&&ae.enumType.length||(ae.enumType=[]),ae.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(T,T.uint32()));break;case 6:ae.service&&ae.service.length||(ae.service=[]),ae.service.push(s.google.protobuf.ServiceDescriptorProto.decode(T,T.uint32()));break;case 7:ae.extension&&ae.extension.length||(ae.extension=[]),ae.extension.push(s.google.protobuf.FieldDescriptorProto.decode(T,T.uint32()));break;case 8:ae.options=s.google.protobuf.FileOptions.decode(T,T.uint32());break;case 9:ae.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.decode(T,T.uint32());break;case 12:ae.syntax=T.string();break;default:T.skipType(7&xe)}}return ae},de.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},de.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name))return"name: string expected";if(T.package!=null&&T.hasOwnProperty("package")&&!v.isString(T.package))return"package: string expected";if(T.dependency!=null&&T.hasOwnProperty("dependency")){if(!Array.isArray(T.dependency))return"dependency: array expected";for(var U=0;U<T.dependency.length;++U)if(!v.isString(T.dependency[U]))return"dependency: string[] expected"}if(T.publicDependency!=null&&T.hasOwnProperty("publicDependency")){if(!Array.isArray(T.publicDependency))return"publicDependency: array expected";for(U=0;U<T.publicDependency.length;++U)if(!v.isInteger(T.publicDependency[U]))return"publicDependency: integer[] expected"}if(T.weakDependency!=null&&T.hasOwnProperty("weakDependency")){if(!Array.isArray(T.weakDependency))return"weakDependency: array expected";for(U=0;U<T.weakDependency.length;++U)if(!v.isInteger(T.weakDependency[U]))return"weakDependency: integer[] expected"}if(T.messageType!=null&&T.hasOwnProperty("messageType")){if(!Array.isArray(T.messageType))return"messageType: array expected";for(U=0;U<T.messageType.length;++U)if(z=s.google.protobuf.DescriptorProto.verify(T.messageType[U]))return"messageType."+z}if(T.enumType!=null&&T.hasOwnProperty("enumType")){if(!Array.isArray(T.enumType))return"enumType: array expected";for(U=0;U<T.enumType.length;++U)if(z=s.google.protobuf.EnumDescriptorProto.verify(T.enumType[U]))return"enumType."+z}if(T.service!=null&&T.hasOwnProperty("service")){if(!Array.isArray(T.service))return"service: array expected";for(U=0;U<T.service.length;++U)if(z=s.google.protobuf.ServiceDescriptorProto.verify(T.service[U]))return"service."+z}if(T.extension!=null&&T.hasOwnProperty("extension")){if(!Array.isArray(T.extension))return"extension: array expected";for(U=0;U<T.extension.length;++U)if(z=s.google.protobuf.FieldDescriptorProto.verify(T.extension[U]))return"extension."+z}var z;return T.options!=null&&T.hasOwnProperty("options")&&(z=s.google.protobuf.FileOptions.verify(T.options))?"options."+z:T.sourceCodeInfo!=null&&T.hasOwnProperty("sourceCodeInfo")&&(z=s.google.protobuf.SourceCodeInfo.verify(T.sourceCodeInfo))?"sourceCodeInfo."+z:T.syntax!=null&&T.hasOwnProperty("syntax")&&!v.isString(T.syntax)?"syntax: string expected":null},de.fromObject=function(T){if(T instanceof s.google.protobuf.FileDescriptorProto)return T;var U=new s.google.protobuf.FileDescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.package!=null&&(U.package=String(T.package)),T.dependency){if(!Array.isArray(T.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");U.dependency=[];for(var z=0;z<T.dependency.length;++z)U.dependency[z]=String(T.dependency[z])}if(T.publicDependency){if(!Array.isArray(T.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(U.publicDependency=[],z=0;z<T.publicDependency.length;++z)U.publicDependency[z]=0|T.publicDependency[z]}if(T.weakDependency){if(!Array.isArray(T.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(U.weakDependency=[],z=0;z<T.weakDependency.length;++z)U.weakDependency[z]=0|T.weakDependency[z]}if(T.messageType){if(!Array.isArray(T.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(U.messageType=[],z=0;z<T.messageType.length;++z){if(typeof T.messageType[z]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");U.messageType[z]=s.google.protobuf.DescriptorProto.fromObject(T.messageType[z])}}if(T.enumType){if(!Array.isArray(T.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(U.enumType=[],z=0;z<T.enumType.length;++z){if(typeof T.enumType[z]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");U.enumType[z]=s.google.protobuf.EnumDescriptorProto.fromObject(T.enumType[z])}}if(T.service){if(!Array.isArray(T.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(U.service=[],z=0;z<T.service.length;++z){if(typeof T.service[z]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");U.service[z]=s.google.protobuf.ServiceDescriptorProto.fromObject(T.service[z])}}if(T.extension){if(!Array.isArray(T.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(U.extension=[],z=0;z<T.extension.length;++z){if(typeof T.extension[z]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");U.extension[z]=s.google.protobuf.FieldDescriptorProto.fromObject(T.extension[z])}}if(T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");U.options=s.google.protobuf.FileOptions.fromObject(T.options)}if(T.sourceCodeInfo!=null){if(typeof T.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");U.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.fromObject(T.sourceCodeInfo)}return T.syntax!=null&&(U.syntax=String(T.syntax)),U},de.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.dependency=[],z.messageType=[],z.enumType=[],z.service=[],z.extension=[],z.publicDependency=[],z.weakDependency=[]),U.defaults&&(z.name="",z.package="",z.options=null,z.sourceCodeInfo=null,z.syntax=""),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.package!=null&&T.hasOwnProperty("package")&&(z.package=T.package),T.dependency&&T.dependency.length){z.dependency=[];for(var ae=0;ae<T.dependency.length;++ae)z.dependency[ae]=T.dependency[ae]}if(T.messageType&&T.messageType.length)for(z.messageType=[],ae=0;ae<T.messageType.length;++ae)z.messageType[ae]=s.google.protobuf.DescriptorProto.toObject(T.messageType[ae],U);if(T.enumType&&T.enumType.length)for(z.enumType=[],ae=0;ae<T.enumType.length;++ae)z.enumType[ae]=s.google.protobuf.EnumDescriptorProto.toObject(T.enumType[ae],U);if(T.service&&T.service.length)for(z.service=[],ae=0;ae<T.service.length;++ae)z.service[ae]=s.google.protobuf.ServiceDescriptorProto.toObject(T.service[ae],U);if(T.extension&&T.extension.length)for(z.extension=[],ae=0;ae<T.extension.length;++ae)z.extension[ae]=s.google.protobuf.FieldDescriptorProto.toObject(T.extension[ae],U);if(T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.FileOptions.toObject(T.options,U)),T.sourceCodeInfo!=null&&T.hasOwnProperty("sourceCodeInfo")&&(z.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.toObject(T.sourceCodeInfo,U)),T.publicDependency&&T.publicDependency.length)for(z.publicDependency=[],ae=0;ae<T.publicDependency.length;++ae)z.publicDependency[ae]=T.publicDependency[ae];if(T.weakDependency&&T.weakDependency.length)for(z.weakDependency=[],ae=0;ae<T.weakDependency.length;++ae)z.weakDependency[ae]=T.weakDependency[ae];return T.syntax!=null&&T.hasOwnProperty("syntax")&&(z.syntax=T.syntax),z},de.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},de),p.DescriptorProto=(pe.prototype.name="",pe.prototype.field=v.emptyArray,pe.prototype.extension=v.emptyArray,pe.prototype.nestedType=v.emptyArray,pe.prototype.enumType=v.emptyArray,pe.prototype.extensionRange=v.emptyArray,pe.prototype.oneofDecl=v.emptyArray,pe.prototype.options=null,pe.prototype.reservedRange=v.emptyArray,pe.prototype.reservedName=v.emptyArray,pe.create=function(T){return new pe(T)},pe.encode=function(T,U){if(U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.field!=null&&T.field.length)for(var z=0;z<T.field.length;++z)s.google.protobuf.FieldDescriptorProto.encode(T.field[z],U.uint32(18).fork()).ldelim();if(T.nestedType!=null&&T.nestedType.length)for(z=0;z<T.nestedType.length;++z)s.google.protobuf.DescriptorProto.encode(T.nestedType[z],U.uint32(26).fork()).ldelim();if(T.enumType!=null&&T.enumType.length)for(z=0;z<T.enumType.length;++z)s.google.protobuf.EnumDescriptorProto.encode(T.enumType[z],U.uint32(34).fork()).ldelim();if(T.extensionRange!=null&&T.extensionRange.length)for(z=0;z<T.extensionRange.length;++z)s.google.protobuf.DescriptorProto.ExtensionRange.encode(T.extensionRange[z],U.uint32(42).fork()).ldelim();if(T.extension!=null&&T.extension.length)for(z=0;z<T.extension.length;++z)s.google.protobuf.FieldDescriptorProto.encode(T.extension[z],U.uint32(50).fork()).ldelim();if(T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.MessageOptions.encode(T.options,U.uint32(58).fork()).ldelim(),T.oneofDecl!=null&&T.oneofDecl.length)for(z=0;z<T.oneofDecl.length;++z)s.google.protobuf.OneofDescriptorProto.encode(T.oneofDecl[z],U.uint32(66).fork()).ldelim();if(T.reservedRange!=null&&T.reservedRange.length)for(z=0;z<T.reservedRange.length;++z)s.google.protobuf.DescriptorProto.ReservedRange.encode(T.reservedRange[z],U.uint32(74).fork()).ldelim();if(T.reservedName!=null&&T.reservedName.length)for(z=0;z<T.reservedName.length;++z)U.uint32(82).string(T.reservedName[z]);return U},pe.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},pe.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.DescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.field&&ae.field.length||(ae.field=[]),ae.field.push(s.google.protobuf.FieldDescriptorProto.decode(T,T.uint32()));break;case 6:ae.extension&&ae.extension.length||(ae.extension=[]),ae.extension.push(s.google.protobuf.FieldDescriptorProto.decode(T,T.uint32()));break;case 3:ae.nestedType&&ae.nestedType.length||(ae.nestedType=[]),ae.nestedType.push(s.google.protobuf.DescriptorProto.decode(T,T.uint32()));break;case 4:ae.enumType&&ae.enumType.length||(ae.enumType=[]),ae.enumType.push(s.google.protobuf.EnumDescriptorProto.decode(T,T.uint32()));break;case 5:ae.extensionRange&&ae.extensionRange.length||(ae.extensionRange=[]),ae.extensionRange.push(s.google.protobuf.DescriptorProto.ExtensionRange.decode(T,T.uint32()));break;case 8:ae.oneofDecl&&ae.oneofDecl.length||(ae.oneofDecl=[]),ae.oneofDecl.push(s.google.protobuf.OneofDescriptorProto.decode(T,T.uint32()));break;case 7:ae.options=s.google.protobuf.MessageOptions.decode(T,T.uint32());break;case 9:ae.reservedRange&&ae.reservedRange.length||(ae.reservedRange=[]),ae.reservedRange.push(s.google.protobuf.DescriptorProto.ReservedRange.decode(T,T.uint32()));break;case 10:ae.reservedName&&ae.reservedName.length||(ae.reservedName=[]),ae.reservedName.push(T.string());break;default:T.skipType(7&xe)}}return ae},pe.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},pe.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name))return"name: string expected";if(T.field!=null&&T.hasOwnProperty("field")){if(!Array.isArray(T.field))return"field: array expected";for(var U=0;U<T.field.length;++U)if(z=s.google.protobuf.FieldDescriptorProto.verify(T.field[U]))return"field."+z}if(T.extension!=null&&T.hasOwnProperty("extension")){if(!Array.isArray(T.extension))return"extension: array expected";for(U=0;U<T.extension.length;++U)if(z=s.google.protobuf.FieldDescriptorProto.verify(T.extension[U]))return"extension."+z}if(T.nestedType!=null&&T.hasOwnProperty("nestedType")){if(!Array.isArray(T.nestedType))return"nestedType: array expected";for(U=0;U<T.nestedType.length;++U)if(z=s.google.protobuf.DescriptorProto.verify(T.nestedType[U]))return"nestedType."+z}if(T.enumType!=null&&T.hasOwnProperty("enumType")){if(!Array.isArray(T.enumType))return"enumType: array expected";for(U=0;U<T.enumType.length;++U)if(z=s.google.protobuf.EnumDescriptorProto.verify(T.enumType[U]))return"enumType."+z}if(T.extensionRange!=null&&T.hasOwnProperty("extensionRange")){if(!Array.isArray(T.extensionRange))return"extensionRange: array expected";for(U=0;U<T.extensionRange.length;++U)if(z=s.google.protobuf.DescriptorProto.ExtensionRange.verify(T.extensionRange[U]))return"extensionRange."+z}if(T.oneofDecl!=null&&T.hasOwnProperty("oneofDecl")){if(!Array.isArray(T.oneofDecl))return"oneofDecl: array expected";for(U=0;U<T.oneofDecl.length;++U)if(z=s.google.protobuf.OneofDescriptorProto.verify(T.oneofDecl[U]))return"oneofDecl."+z}if(T.options!=null&&T.hasOwnProperty("options")&&(z=s.google.protobuf.MessageOptions.verify(T.options)))return"options."+z;if(T.reservedRange!=null&&T.hasOwnProperty("reservedRange")){if(!Array.isArray(T.reservedRange))return"reservedRange: array expected";for(var z,U=0;U<T.reservedRange.length;++U)if(z=s.google.protobuf.DescriptorProto.ReservedRange.verify(T.reservedRange[U]))return"reservedRange."+z}if(T.reservedName!=null&&T.hasOwnProperty("reservedName")){if(!Array.isArray(T.reservedName))return"reservedName: array expected";for(U=0;U<T.reservedName.length;++U)if(!v.isString(T.reservedName[U]))return"reservedName: string[] expected"}return null},pe.fromObject=function(T){if(T instanceof s.google.protobuf.DescriptorProto)return T;var U=new s.google.protobuf.DescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.field){if(!Array.isArray(T.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");U.field=[];for(var z=0;z<T.field.length;++z){if(typeof T.field[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");U.field[z]=s.google.protobuf.FieldDescriptorProto.fromObject(T.field[z])}}if(T.extension){if(!Array.isArray(T.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(U.extension=[],z=0;z<T.extension.length;++z){if(typeof T.extension[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");U.extension[z]=s.google.protobuf.FieldDescriptorProto.fromObject(T.extension[z])}}if(T.nestedType){if(!Array.isArray(T.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(U.nestedType=[],z=0;z<T.nestedType.length;++z){if(typeof T.nestedType[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");U.nestedType[z]=s.google.protobuf.DescriptorProto.fromObject(T.nestedType[z])}}if(T.enumType){if(!Array.isArray(T.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(U.enumType=[],z=0;z<T.enumType.length;++z){if(typeof T.enumType[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");U.enumType[z]=s.google.protobuf.EnumDescriptorProto.fromObject(T.enumType[z])}}if(T.extensionRange){if(!Array.isArray(T.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(U.extensionRange=[],z=0;z<T.extensionRange.length;++z){if(typeof T.extensionRange[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");U.extensionRange[z]=s.google.protobuf.DescriptorProto.ExtensionRange.fromObject(T.extensionRange[z])}}if(T.oneofDecl){if(!Array.isArray(T.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(U.oneofDecl=[],z=0;z<T.oneofDecl.length;++z){if(typeof T.oneofDecl[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");U.oneofDecl[z]=s.google.protobuf.OneofDescriptorProto.fromObject(T.oneofDecl[z])}}if(T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");U.options=s.google.protobuf.MessageOptions.fromObject(T.options)}if(T.reservedRange){if(!Array.isArray(T.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(U.reservedRange=[],z=0;z<T.reservedRange.length;++z){if(typeof T.reservedRange[z]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");U.reservedRange[z]=s.google.protobuf.DescriptorProto.ReservedRange.fromObject(T.reservedRange[z])}}if(T.reservedName){if(!Array.isArray(T.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(U.reservedName=[],z=0;z<T.reservedName.length;++z)U.reservedName[z]=String(T.reservedName[z])}return U},pe.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.field=[],z.nestedType=[],z.enumType=[],z.extensionRange=[],z.extension=[],z.oneofDecl=[],z.reservedRange=[],z.reservedName=[]),U.defaults&&(z.name="",z.options=null),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.field&&T.field.length){z.field=[];for(var ae=0;ae<T.field.length;++ae)z.field[ae]=s.google.protobuf.FieldDescriptorProto.toObject(T.field[ae],U)}if(T.nestedType&&T.nestedType.length)for(z.nestedType=[],ae=0;ae<T.nestedType.length;++ae)z.nestedType[ae]=s.google.protobuf.DescriptorProto.toObject(T.nestedType[ae],U);if(T.enumType&&T.enumType.length)for(z.enumType=[],ae=0;ae<T.enumType.length;++ae)z.enumType[ae]=s.google.protobuf.EnumDescriptorProto.toObject(T.enumType[ae],U);if(T.extensionRange&&T.extensionRange.length)for(z.extensionRange=[],ae=0;ae<T.extensionRange.length;++ae)z.extensionRange[ae]=s.google.protobuf.DescriptorProto.ExtensionRange.toObject(T.extensionRange[ae],U);if(T.extension&&T.extension.length)for(z.extension=[],ae=0;ae<T.extension.length;++ae)z.extension[ae]=s.google.protobuf.FieldDescriptorProto.toObject(T.extension[ae],U);if(T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.MessageOptions.toObject(T.options,U)),T.oneofDecl&&T.oneofDecl.length)for(z.oneofDecl=[],ae=0;ae<T.oneofDecl.length;++ae)z.oneofDecl[ae]=s.google.protobuf.OneofDescriptorProto.toObject(T.oneofDecl[ae],U);if(T.reservedRange&&T.reservedRange.length)for(z.reservedRange=[],ae=0;ae<T.reservedRange.length;++ae)z.reservedRange[ae]=s.google.protobuf.DescriptorProto.ReservedRange.toObject(T.reservedRange[ae],U);if(T.reservedName&&T.reservedName.length)for(z.reservedName=[],ae=0;ae<T.reservedName.length;++ae)z.reservedName[ae]=T.reservedName[ae];return z},pe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},pe.ExtensionRange=(fe.prototype.start=0,fe.prototype.end=0,fe.prototype.options=null,fe.create=function(T){return new fe(T)},fe.encode=function(T,U){return U=U||S.create(),T.start!=null&&Object.hasOwnProperty.call(T,"start")&&U.uint32(8).int32(T.start),T.end!=null&&Object.hasOwnProperty.call(T,"end")&&U.uint32(16).int32(T.end),T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.ExtensionRangeOptions.encode(T.options,U.uint32(26).fork()).ldelim(),U},fe.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},fe.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.DescriptorProto.ExtensionRange;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.start=T.int32();break;case 2:ae.end=T.int32();break;case 3:ae.options=s.google.protobuf.ExtensionRangeOptions.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},fe.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},fe.verify=function(T){return typeof T!="object"||T===null?"object expected":T.start!=null&&T.hasOwnProperty("start")&&!v.isInteger(T.start)?"start: integer expected":T.end!=null&&T.hasOwnProperty("end")&&!v.isInteger(T.end)?"end: integer expected":T.options!=null&&T.hasOwnProperty("options")&&(T=s.google.protobuf.ExtensionRangeOptions.verify(T.options),T)?"options."+T:null},fe.fromObject=function(T){if(T instanceof s.google.protobuf.DescriptorProto.ExtensionRange)return T;var U=new s.google.protobuf.DescriptorProto.ExtensionRange;if(T.start!=null&&(U.start=0|T.start),T.end!=null&&(U.end=0|T.end),T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");U.options=s.google.protobuf.ExtensionRangeOptions.fromObject(T.options)}return U},fe.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.start=0,z.end=0,z.options=null),T.start!=null&&T.hasOwnProperty("start")&&(z.start=T.start),T.end!=null&&T.hasOwnProperty("end")&&(z.end=T.end),T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.ExtensionRangeOptions.toObject(T.options,U)),z},fe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},fe),pe.ReservedRange=(he.prototype.start=0,he.prototype.end=0,he.create=function(T){return new he(T)},he.encode=function(T,U){return U=U||S.create(),T.start!=null&&Object.hasOwnProperty.call(T,"start")&&U.uint32(8).int32(T.start),T.end!=null&&Object.hasOwnProperty.call(T,"end")&&U.uint32(16).int32(T.end),U},he.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},he.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.DescriptorProto.ReservedRange;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.start=T.int32();break;case 2:ae.end=T.int32();break;default:T.skipType(7&xe)}}return ae},he.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},he.verify=function(T){return typeof T!="object"||T===null?"object expected":T.start!=null&&T.hasOwnProperty("start")&&!v.isInteger(T.start)?"start: integer expected":T.end!=null&&T.hasOwnProperty("end")&&!v.isInteger(T.end)?"end: integer expected":null},he.fromObject=function(T){var U;return T instanceof s.google.protobuf.DescriptorProto.ReservedRange?T:(U=new s.google.protobuf.DescriptorProto.ReservedRange,T.start!=null&&(U.start=0|T.start),T.end!=null&&(U.end=0|T.end),U)},he.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.start=0,z.end=0),T.start!=null&&T.hasOwnProperty("start")&&(z.start=T.start),T.end!=null&&T.hasOwnProperty("end")&&(z.end=T.end),z},he.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},he),pe),p.ExtensionRangeOptions=(ge.prototype.uninterpretedOption=v.emptyArray,ge.create=function(T){return new ge(T)},ge.encode=function(T,U){if(U=U||S.create(),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();return U},ge.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ge.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.ExtensionRangeOptions;T.pos<z;){var xe=T.uint32();xe>>>3==999?(ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()))):T.skipType(7&xe)}return ae},ge.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ge.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U){var z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]);if(z)return"uninterpretedOption."+z}}return null},ge.fromObject=function(T){if(T instanceof s.google.protobuf.ExtensionRangeOptions)return T;var U=new s.google.protobuf.ExtensionRangeOptions;if(T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}return U},ge.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[]),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}return z},ge.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ge),p.FieldDescriptorProto=(me.prototype.name="",me.prototype.number=0,me.prototype.label=1,me.prototype.type=1,me.prototype.typeName="",me.prototype.extendee="",me.prototype.defaultValue="",me.prototype.oneofIndex=0,me.prototype.jsonName="",me.prototype.options=null,me.prototype.proto3Optional=!1,me.create=function(T){return new me(T)},me.encode=function(T,U){return U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.extendee!=null&&Object.hasOwnProperty.call(T,"extendee")&&U.uint32(18).string(T.extendee),T.number!=null&&Object.hasOwnProperty.call(T,"number")&&U.uint32(24).int32(T.number),T.label!=null&&Object.hasOwnProperty.call(T,"label")&&U.uint32(32).int32(T.label),T.type!=null&&Object.hasOwnProperty.call(T,"type")&&U.uint32(40).int32(T.type),T.typeName!=null&&Object.hasOwnProperty.call(T,"typeName")&&U.uint32(50).string(T.typeName),T.defaultValue!=null&&Object.hasOwnProperty.call(T,"defaultValue")&&U.uint32(58).string(T.defaultValue),T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.FieldOptions.encode(T.options,U.uint32(66).fork()).ldelim(),T.oneofIndex!=null&&Object.hasOwnProperty.call(T,"oneofIndex")&&U.uint32(72).int32(T.oneofIndex),T.jsonName!=null&&Object.hasOwnProperty.call(T,"jsonName")&&U.uint32(82).string(T.jsonName),T.proto3Optional!=null&&Object.hasOwnProperty.call(T,"proto3Optional")&&U.uint32(136).bool(T.proto3Optional),U},me.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},me.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.FieldDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 3:ae.number=T.int32();break;case 4:ae.label=T.int32();break;case 5:ae.type=T.int32();break;case 6:ae.typeName=T.string();break;case 2:ae.extendee=T.string();break;case 7:ae.defaultValue=T.string();break;case 9:ae.oneofIndex=T.int32();break;case 10:ae.jsonName=T.string();break;case 8:ae.options=s.google.protobuf.FieldOptions.decode(T,T.uint32());break;case 17:ae.proto3Optional=T.bool();break;default:T.skipType(7&xe)}}return ae},me.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},me.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name))return"name: string expected";if(T.number!=null&&T.hasOwnProperty("number")&&!v.isInteger(T.number))return"number: integer expected";if(T.label!=null&&T.hasOwnProperty("label"))switch(T.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(T.type!=null&&T.hasOwnProperty("type"))switch(T.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(T.typeName!=null&&T.hasOwnProperty("typeName")&&!v.isString(T.typeName))return"typeName: string expected";if(T.extendee!=null&&T.hasOwnProperty("extendee")&&!v.isString(T.extendee))return"extendee: string expected";if(T.defaultValue!=null&&T.hasOwnProperty("defaultValue")&&!v.isString(T.defaultValue))return"defaultValue: string expected";if(T.oneofIndex!=null&&T.hasOwnProperty("oneofIndex")&&!v.isInteger(T.oneofIndex))return"oneofIndex: integer expected";if(T.jsonName!=null&&T.hasOwnProperty("jsonName")&&!v.isString(T.jsonName))return"jsonName: string expected";if(T.options!=null&&T.hasOwnProperty("options")){var U=s.google.protobuf.FieldOptions.verify(T.options);if(U)return"options."+U}return T.proto3Optional!=null&&T.hasOwnProperty("proto3Optional")&&typeof T.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},me.fromObject=function(T){if(T instanceof s.google.protobuf.FieldDescriptorProto)return T;var U=new s.google.protobuf.FieldDescriptorProto;switch(T.name!=null&&(U.name=String(T.name)),T.number!=null&&(U.number=0|T.number),T.label){case"LABEL_OPTIONAL":case 1:U.label=1;break;case"LABEL_REQUIRED":case 2:U.label=2;break;case"LABEL_REPEATED":case 3:U.label=3}switch(T.type){case"TYPE_DOUBLE":case 1:U.type=1;break;case"TYPE_FLOAT":case 2:U.type=2;break;case"TYPE_INT64":case 3:U.type=3;break;case"TYPE_UINT64":case 4:U.type=4;break;case"TYPE_INT32":case 5:U.type=5;break;case"TYPE_FIXED64":case 6:U.type=6;break;case"TYPE_FIXED32":case 7:U.type=7;break;case"TYPE_BOOL":case 8:U.type=8;break;case"TYPE_STRING":case 9:U.type=9;break;case"TYPE_GROUP":case 10:U.type=10;break;case"TYPE_MESSAGE":case 11:U.type=11;break;case"TYPE_BYTES":case 12:U.type=12;break;case"TYPE_UINT32":case 13:U.type=13;break;case"TYPE_ENUM":case 14:U.type=14;break;case"TYPE_SFIXED32":case 15:U.type=15;break;case"TYPE_SFIXED64":case 16:U.type=16;break;case"TYPE_SINT32":case 17:U.type=17;break;case"TYPE_SINT64":case 18:U.type=18}if(T.typeName!=null&&(U.typeName=String(T.typeName)),T.extendee!=null&&(U.extendee=String(T.extendee)),T.defaultValue!=null&&(U.defaultValue=String(T.defaultValue)),T.oneofIndex!=null&&(U.oneofIndex=0|T.oneofIndex),T.jsonName!=null&&(U.jsonName=String(T.jsonName)),T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");U.options=s.google.protobuf.FieldOptions.fromObject(T.options)}return T.proto3Optional!=null&&(U.proto3Optional=!!T.proto3Optional),U},me.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.name="",z.extendee="",z.number=0,z.label=U.enums===String?"LABEL_OPTIONAL":1,z.type=U.enums===String?"TYPE_DOUBLE":1,z.typeName="",z.defaultValue="",z.options=null,z.oneofIndex=0,z.jsonName="",z.proto3Optional=!1),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.extendee!=null&&T.hasOwnProperty("extendee")&&(z.extendee=T.extendee),T.number!=null&&T.hasOwnProperty("number")&&(z.number=T.number),T.label!=null&&T.hasOwnProperty("label")&&(z.label=U.enums===String?s.google.protobuf.FieldDescriptorProto.Label[T.label]:T.label),T.type!=null&&T.hasOwnProperty("type")&&(z.type=U.enums===String?s.google.protobuf.FieldDescriptorProto.Type[T.type]:T.type),T.typeName!=null&&T.hasOwnProperty("typeName")&&(z.typeName=T.typeName),T.defaultValue!=null&&T.hasOwnProperty("defaultValue")&&(z.defaultValue=T.defaultValue),T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.FieldOptions.toObject(T.options,U)),T.oneofIndex!=null&&T.hasOwnProperty("oneofIndex")&&(z.oneofIndex=T.oneofIndex),T.jsonName!=null&&T.hasOwnProperty("jsonName")&&(z.jsonName=T.jsonName),T.proto3Optional!=null&&T.hasOwnProperty("proto3Optional")&&(z.proto3Optional=T.proto3Optional),z},me.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},me.Type=(o={},(l=Object.create(o))[o[1]="TYPE_DOUBLE"]=1,l[o[2]="TYPE_FLOAT"]=2,l[o[3]="TYPE_INT64"]=3,l[o[4]="TYPE_UINT64"]=4,l[o[5]="TYPE_INT32"]=5,l[o[6]="TYPE_FIXED64"]=6,l[o[7]="TYPE_FIXED32"]=7,l[o[8]="TYPE_BOOL"]=8,l[o[9]="TYPE_STRING"]=9,l[o[10]="TYPE_GROUP"]=10,l[o[11]="TYPE_MESSAGE"]=11,l[o[12]="TYPE_BYTES"]=12,l[o[13]="TYPE_UINT32"]=13,l[o[14]="TYPE_ENUM"]=14,l[o[15]="TYPE_SFIXED32"]=15,l[o[16]="TYPE_SFIXED64"]=16,l[o[17]="TYPE_SINT32"]=17,l[o[18]="TYPE_SINT64"]=18,l),me.Label=(o={},(l=Object.create(o))[o[1]="LABEL_OPTIONAL"]=1,l[o[2]="LABEL_REQUIRED"]=2,l[o[3]="LABEL_REPEATED"]=3,l),me),p.OneofDescriptorProto=(ye.prototype.name="",ye.prototype.options=null,ye.create=function(T){return new ye(T)},ye.encode=function(T,U){return U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.OneofOptions.encode(T.options,U.uint32(18).fork()).ldelim(),U},ye.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ye.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.OneofDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.options=s.google.protobuf.OneofOptions.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},ye.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ye.verify=function(T){return typeof T!="object"||T===null?"object expected":T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name)?"name: string expected":T.options!=null&&T.hasOwnProperty("options")&&(T=s.google.protobuf.OneofOptions.verify(T.options),T)?"options."+T:null},ye.fromObject=function(T){if(T instanceof s.google.protobuf.OneofDescriptorProto)return T;var U=new s.google.protobuf.OneofDescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");U.options=s.google.protobuf.OneofOptions.fromObject(T.options)}return U},ye.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.name="",z.options=null),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.OneofOptions.toObject(T.options,U)),z},ye.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ye),p.EnumDescriptorProto=(ve.prototype.name="",ve.prototype.value=v.emptyArray,ve.prototype.options=null,ve.prototype.reservedRange=v.emptyArray,ve.prototype.reservedName=v.emptyArray,ve.create=function(T){return new ve(T)},ve.encode=function(T,U){if(U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.value!=null&&T.value.length)for(var z=0;z<T.value.length;++z)s.google.protobuf.EnumValueDescriptorProto.encode(T.value[z],U.uint32(18).fork()).ldelim();if(T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.EnumOptions.encode(T.options,U.uint32(26).fork()).ldelim(),T.reservedRange!=null&&T.reservedRange.length)for(z=0;z<T.reservedRange.length;++z)s.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(T.reservedRange[z],U.uint32(34).fork()).ldelim();if(T.reservedName!=null&&T.reservedName.length)for(z=0;z<T.reservedName.length;++z)U.uint32(42).string(T.reservedName[z]);return U},ve.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ve.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.EnumDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.value&&ae.value.length||(ae.value=[]),ae.value.push(s.google.protobuf.EnumValueDescriptorProto.decode(T,T.uint32()));break;case 3:ae.options=s.google.protobuf.EnumOptions.decode(T,T.uint32());break;case 4:ae.reservedRange&&ae.reservedRange.length||(ae.reservedRange=[]),ae.reservedRange.push(s.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(T,T.uint32()));break;case 5:ae.reservedName&&ae.reservedName.length||(ae.reservedName=[]),ae.reservedName.push(T.string());break;default:T.skipType(7&xe)}}return ae},ve.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ve.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name))return"name: string expected";if(T.value!=null&&T.hasOwnProperty("value")){if(!Array.isArray(T.value))return"value: array expected";for(var U=0;U<T.value.length;++U)if(z=s.google.protobuf.EnumValueDescriptorProto.verify(T.value[U]))return"value."+z}if(T.options!=null&&T.hasOwnProperty("options")&&(z=s.google.protobuf.EnumOptions.verify(T.options)))return"options."+z;if(T.reservedRange!=null&&T.hasOwnProperty("reservedRange")){if(!Array.isArray(T.reservedRange))return"reservedRange: array expected";for(var z,U=0;U<T.reservedRange.length;++U)if(z=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(T.reservedRange[U]))return"reservedRange."+z}if(T.reservedName!=null&&T.hasOwnProperty("reservedName")){if(!Array.isArray(T.reservedName))return"reservedName: array expected";for(U=0;U<T.reservedName.length;++U)if(!v.isString(T.reservedName[U]))return"reservedName: string[] expected"}return null},ve.fromObject=function(T){if(T instanceof s.google.protobuf.EnumDescriptorProto)return T;var U=new s.google.protobuf.EnumDescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.value){if(!Array.isArray(T.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");U.value=[];for(var z=0;z<T.value.length;++z){if(typeof T.value[z]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");U.value[z]=s.google.protobuf.EnumValueDescriptorProto.fromObject(T.value[z])}}if(T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");U.options=s.google.protobuf.EnumOptions.fromObject(T.options)}if(T.reservedRange){if(!Array.isArray(T.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(U.reservedRange=[],z=0;z<T.reservedRange.length;++z){if(typeof T.reservedRange[z]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");U.reservedRange[z]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(T.reservedRange[z])}}if(T.reservedName){if(!Array.isArray(T.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(U.reservedName=[],z=0;z<T.reservedName.length;++z)U.reservedName[z]=String(T.reservedName[z])}return U},ve.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.value=[],z.reservedRange=[],z.reservedName=[]),U.defaults&&(z.name="",z.options=null),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.value&&T.value.length){z.value=[];for(var ae=0;ae<T.value.length;++ae)z.value[ae]=s.google.protobuf.EnumValueDescriptorProto.toObject(T.value[ae],U)}if(T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.EnumOptions.toObject(T.options,U)),T.reservedRange&&T.reservedRange.length)for(z.reservedRange=[],ae=0;ae<T.reservedRange.length;++ae)z.reservedRange[ae]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(T.reservedRange[ae],U);if(T.reservedName&&T.reservedName.length)for(z.reservedName=[],ae=0;ae<T.reservedName.length;++ae)z.reservedName[ae]=T.reservedName[ae];return z},ve.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ve.EnumReservedRange=(Ae.prototype.start=0,Ae.prototype.end=0,Ae.create=function(T){return new Ae(T)},Ae.encode=function(T,U){return U=U||S.create(),T.start!=null&&Object.hasOwnProperty.call(T,"start")&&U.uint32(8).int32(T.start),T.end!=null&&Object.hasOwnProperty.call(T,"end")&&U.uint32(16).int32(T.end),U},Ae.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Ae.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.start=T.int32();break;case 2:ae.end=T.int32();break;default:T.skipType(7&xe)}}return ae},Ae.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Ae.verify=function(T){return typeof T!="object"||T===null?"object expected":T.start!=null&&T.hasOwnProperty("start")&&!v.isInteger(T.start)?"start: integer expected":T.end!=null&&T.hasOwnProperty("end")&&!v.isInteger(T.end)?"end: integer expected":null},Ae.fromObject=function(T){var U;return T instanceof s.google.protobuf.EnumDescriptorProto.EnumReservedRange?T:(U=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange,T.start!=null&&(U.start=0|T.start),T.end!=null&&(U.end=0|T.end),U)},Ae.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.start=0,z.end=0),T.start!=null&&T.hasOwnProperty("start")&&(z.start=T.start),T.end!=null&&T.hasOwnProperty("end")&&(z.end=T.end),z},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ae),ve),p.EnumValueDescriptorProto=(Pe.prototype.name="",Pe.prototype.number=0,Pe.prototype.options=null,Pe.create=function(T){return new Pe(T)},Pe.encode=function(T,U){return U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.number!=null&&Object.hasOwnProperty.call(T,"number")&&U.uint32(16).int32(T.number),T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.EnumValueOptions.encode(T.options,U.uint32(26).fork()).ldelim(),U},Pe.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Pe.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.EnumValueDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.number=T.int32();break;case 3:ae.options=s.google.protobuf.EnumValueOptions.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},Pe.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Pe.verify=function(T){return typeof T!="object"||T===null?"object expected":T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name)?"name: string expected":T.number!=null&&T.hasOwnProperty("number")&&!v.isInteger(T.number)?"number: integer expected":T.options!=null&&T.hasOwnProperty("options")&&(T=s.google.protobuf.EnumValueOptions.verify(T.options),T)?"options."+T:null},Pe.fromObject=function(T){if(T instanceof s.google.protobuf.EnumValueDescriptorProto)return T;var U=new s.google.protobuf.EnumValueDescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.number!=null&&(U.number=0|T.number),T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");U.options=s.google.protobuf.EnumValueOptions.fromObject(T.options)}return U},Pe.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.name="",z.number=0,z.options=null),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.number!=null&&T.hasOwnProperty("number")&&(z.number=T.number),T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.EnumValueOptions.toObject(T.options,U)),z},Pe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Pe),p.ServiceDescriptorProto=(Ne.prototype.name="",Ne.prototype.method=v.emptyArray,Ne.prototype.options=null,Ne.create=function(T){return new Ne(T)},Ne.encode=function(T,U){if(U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.method!=null&&T.method.length)for(var z=0;z<T.method.length;++z)s.google.protobuf.MethodDescriptorProto.encode(T.method[z],U.uint32(18).fork()).ldelim();return T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.ServiceOptions.encode(T.options,U.uint32(26).fork()).ldelim(),U},Ne.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Ne.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.ServiceDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.method&&ae.method.length||(ae.method=[]),ae.method.push(s.google.protobuf.MethodDescriptorProto.decode(T,T.uint32()));break;case 3:ae.options=s.google.protobuf.ServiceOptions.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},Ne.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Ne.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name))return"name: string expected";if(T.method!=null&&T.hasOwnProperty("method")){if(!Array.isArray(T.method))return"method: array expected";for(var U=0;U<T.method.length;++U)if(z=s.google.protobuf.MethodDescriptorProto.verify(T.method[U]))return"method."+z}var z;return T.options!=null&&T.hasOwnProperty("options")&&(z=s.google.protobuf.ServiceOptions.verify(T.options))?"options."+z:null},Ne.fromObject=function(T){if(T instanceof s.google.protobuf.ServiceDescriptorProto)return T;var U=new s.google.protobuf.ServiceDescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.method){if(!Array.isArray(T.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");U.method=[];for(var z=0;z<T.method.length;++z){if(typeof T.method[z]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");U.method[z]=s.google.protobuf.MethodDescriptorProto.fromObject(T.method[z])}}if(T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");U.options=s.google.protobuf.ServiceOptions.fromObject(T.options)}return U},Ne.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.method=[]),U.defaults&&(z.name="",z.options=null),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.method&&T.method.length){z.method=[];for(var ae=0;ae<T.method.length;++ae)z.method[ae]=s.google.protobuf.MethodDescriptorProto.toObject(T.method[ae],U)}return T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.ServiceOptions.toObject(T.options,U)),z},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ne),p.MethodDescriptorProto=(Ee.prototype.name="",Ee.prototype.inputType="",Ee.prototype.outputType="",Ee.prototype.options=null,Ee.prototype.clientStreaming=!1,Ee.prototype.serverStreaming=!1,Ee.create=function(T){return new Ee(T)},Ee.encode=function(T,U){return U=U||S.create(),T.name!=null&&Object.hasOwnProperty.call(T,"name")&&U.uint32(10).string(T.name),T.inputType!=null&&Object.hasOwnProperty.call(T,"inputType")&&U.uint32(18).string(T.inputType),T.outputType!=null&&Object.hasOwnProperty.call(T,"outputType")&&U.uint32(26).string(T.outputType),T.options!=null&&Object.hasOwnProperty.call(T,"options")&&s.google.protobuf.MethodOptions.encode(T.options,U.uint32(34).fork()).ldelim(),T.clientStreaming!=null&&Object.hasOwnProperty.call(T,"clientStreaming")&&U.uint32(40).bool(T.clientStreaming),T.serverStreaming!=null&&Object.hasOwnProperty.call(T,"serverStreaming")&&U.uint32(48).bool(T.serverStreaming),U},Ee.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Ee.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.MethodDescriptorProto;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.name=T.string();break;case 2:ae.inputType=T.string();break;case 3:ae.outputType=T.string();break;case 4:ae.options=s.google.protobuf.MethodOptions.decode(T,T.uint32());break;case 5:ae.clientStreaming=T.bool();break;case 6:ae.serverStreaming=T.bool();break;default:T.skipType(7&xe)}}return ae},Ee.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Ee.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")&&!v.isString(T.name))return"name: string expected";if(T.inputType!=null&&T.hasOwnProperty("inputType")&&!v.isString(T.inputType))return"inputType: string expected";if(T.outputType!=null&&T.hasOwnProperty("outputType")&&!v.isString(T.outputType))return"outputType: string expected";if(T.options!=null&&T.hasOwnProperty("options")){var U=s.google.protobuf.MethodOptions.verify(T.options);if(U)return"options."+U}return T.clientStreaming!=null&&T.hasOwnProperty("clientStreaming")&&typeof T.clientStreaming!="boolean"?"clientStreaming: boolean expected":T.serverStreaming!=null&&T.hasOwnProperty("serverStreaming")&&typeof T.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},Ee.fromObject=function(T){if(T instanceof s.google.protobuf.MethodDescriptorProto)return T;var U=new s.google.protobuf.MethodDescriptorProto;if(T.name!=null&&(U.name=String(T.name)),T.inputType!=null&&(U.inputType=String(T.inputType)),T.outputType!=null&&(U.outputType=String(T.outputType)),T.options!=null){if(typeof T.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");U.options=s.google.protobuf.MethodOptions.fromObject(T.options)}return T.clientStreaming!=null&&(U.clientStreaming=!!T.clientStreaming),T.serverStreaming!=null&&(U.serverStreaming=!!T.serverStreaming),U},Ee.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.name="",z.inputType="",z.outputType="",z.options=null,z.clientStreaming=!1,z.serverStreaming=!1),T.name!=null&&T.hasOwnProperty("name")&&(z.name=T.name),T.inputType!=null&&T.hasOwnProperty("inputType")&&(z.inputType=T.inputType),T.outputType!=null&&T.hasOwnProperty("outputType")&&(z.outputType=T.outputType),T.options!=null&&T.hasOwnProperty("options")&&(z.options=s.google.protobuf.MethodOptions.toObject(T.options,U)),T.clientStreaming!=null&&T.hasOwnProperty("clientStreaming")&&(z.clientStreaming=T.clientStreaming),T.serverStreaming!=null&&T.hasOwnProperty("serverStreaming")&&(z.serverStreaming=T.serverStreaming),z},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ee),p.FileOptions=(Ce.prototype.javaPackage="",Ce.prototype.javaOuterClassname="",Ce.prototype.javaMultipleFiles=!1,Ce.prototype.javaGenerateEqualsAndHash=!1,Ce.prototype.javaStringCheckUtf8=!1,Ce.prototype.optimizeFor=1,Ce.prototype.goPackage="",Ce.prototype.ccGenericServices=!1,Ce.prototype.javaGenericServices=!1,Ce.prototype.pyGenericServices=!1,Ce.prototype.phpGenericServices=!1,Ce.prototype.deprecated=!1,Ce.prototype.ccEnableArenas=!0,Ce.prototype.objcClassPrefix="",Ce.prototype.csharpNamespace="",Ce.prototype.swiftPrefix="",Ce.prototype.phpClassPrefix="",Ce.prototype.phpNamespace="",Ce.prototype.phpMetadataNamespace="",Ce.prototype.rubyPackage="",Ce.prototype.uninterpretedOption=v.emptyArray,Ce.prototype[".google.api.resourceDefinition"]=v.emptyArray,Ce.create=function(T){return new Ce(T)},Ce.encode=function(T,U){if(U=U||S.create(),T.javaPackage!=null&&Object.hasOwnProperty.call(T,"javaPackage")&&U.uint32(10).string(T.javaPackage),T.javaOuterClassname!=null&&Object.hasOwnProperty.call(T,"javaOuterClassname")&&U.uint32(66).string(T.javaOuterClassname),T.optimizeFor!=null&&Object.hasOwnProperty.call(T,"optimizeFor")&&U.uint32(72).int32(T.optimizeFor),T.javaMultipleFiles!=null&&Object.hasOwnProperty.call(T,"javaMultipleFiles")&&U.uint32(80).bool(T.javaMultipleFiles),T.goPackage!=null&&Object.hasOwnProperty.call(T,"goPackage")&&U.uint32(90).string(T.goPackage),T.ccGenericServices!=null&&Object.hasOwnProperty.call(T,"ccGenericServices")&&U.uint32(128).bool(T.ccGenericServices),T.javaGenericServices!=null&&Object.hasOwnProperty.call(T,"javaGenericServices")&&U.uint32(136).bool(T.javaGenericServices),T.pyGenericServices!=null&&Object.hasOwnProperty.call(T,"pyGenericServices")&&U.uint32(144).bool(T.pyGenericServices),T.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(T,"javaGenerateEqualsAndHash")&&U.uint32(160).bool(T.javaGenerateEqualsAndHash),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(184).bool(T.deprecated),T.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(T,"javaStringCheckUtf8")&&U.uint32(216).bool(T.javaStringCheckUtf8),T.ccEnableArenas!=null&&Object.hasOwnProperty.call(T,"ccEnableArenas")&&U.uint32(248).bool(T.ccEnableArenas),T.objcClassPrefix!=null&&Object.hasOwnProperty.call(T,"objcClassPrefix")&&U.uint32(290).string(T.objcClassPrefix),T.csharpNamespace!=null&&Object.hasOwnProperty.call(T,"csharpNamespace")&&U.uint32(298).string(T.csharpNamespace),T.swiftPrefix!=null&&Object.hasOwnProperty.call(T,"swiftPrefix")&&U.uint32(314).string(T.swiftPrefix),T.phpClassPrefix!=null&&Object.hasOwnProperty.call(T,"phpClassPrefix")&&U.uint32(322).string(T.phpClassPrefix),T.phpNamespace!=null&&Object.hasOwnProperty.call(T,"phpNamespace")&&U.uint32(330).string(T.phpNamespace),T.phpGenericServices!=null&&Object.hasOwnProperty.call(T,"phpGenericServices")&&U.uint32(336).bool(T.phpGenericServices),T.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(T,"phpMetadataNamespace")&&U.uint32(354).string(T.phpMetadataNamespace),T.rubyPackage!=null&&Object.hasOwnProperty.call(T,"rubyPackage")&&U.uint32(362).string(T.rubyPackage),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();if(T[".google.api.resourceDefinition"]!=null&&T[".google.api.resourceDefinition"].length)for(z=0;z<T[".google.api.resourceDefinition"].length;++z)s.google.api.ResourceDescriptor.encode(T[".google.api.resourceDefinition"][z],U.uint32(8426).fork()).ldelim();return U},Ce.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Ce.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.FileOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.javaPackage=T.string();break;case 8:ae.javaOuterClassname=T.string();break;case 10:ae.javaMultipleFiles=T.bool();break;case 20:ae.javaGenerateEqualsAndHash=T.bool();break;case 27:ae.javaStringCheckUtf8=T.bool();break;case 9:ae.optimizeFor=T.int32();break;case 11:ae.goPackage=T.string();break;case 16:ae.ccGenericServices=T.bool();break;case 17:ae.javaGenericServices=T.bool();break;case 18:ae.pyGenericServices=T.bool();break;case 42:ae.phpGenericServices=T.bool();break;case 23:ae.deprecated=T.bool();break;case 31:ae.ccEnableArenas=T.bool();break;case 36:ae.objcClassPrefix=T.string();break;case 37:ae.csharpNamespace=T.string();break;case 39:ae.swiftPrefix=T.string();break;case 40:ae.phpClassPrefix=T.string();break;case 41:ae.phpNamespace=T.string();break;case 44:ae.phpMetadataNamespace=T.string();break;case 45:ae.rubyPackage=T.string();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;case 1053:ae[".google.api.resourceDefinition"]&&ae[".google.api.resourceDefinition"].length||(ae[".google.api.resourceDefinition"]=[]),ae[".google.api.resourceDefinition"].push(s.google.api.ResourceDescriptor.decode(T,T.uint32()));break;default:T.skipType(7&xe)}}return ae},Ce.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Ce.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.javaPackage!=null&&T.hasOwnProperty("javaPackage")&&!v.isString(T.javaPackage))return"javaPackage: string expected";if(T.javaOuterClassname!=null&&T.hasOwnProperty("javaOuterClassname")&&!v.isString(T.javaOuterClassname))return"javaOuterClassname: string expected";if(T.javaMultipleFiles!=null&&T.hasOwnProperty("javaMultipleFiles")&&typeof T.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(T.javaGenerateEqualsAndHash!=null&&T.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof T.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(T.javaStringCheckUtf8!=null&&T.hasOwnProperty("javaStringCheckUtf8")&&typeof T.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(T.optimizeFor!=null&&T.hasOwnProperty("optimizeFor"))switch(T.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(T.goPackage!=null&&T.hasOwnProperty("goPackage")&&!v.isString(T.goPackage))return"goPackage: string expected";if(T.ccGenericServices!=null&&T.hasOwnProperty("ccGenericServices")&&typeof T.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(T.javaGenericServices!=null&&T.hasOwnProperty("javaGenericServices")&&typeof T.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(T.pyGenericServices!=null&&T.hasOwnProperty("pyGenericServices")&&typeof T.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(T.phpGenericServices!=null&&T.hasOwnProperty("phpGenericServices")&&typeof T.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.ccEnableArenas!=null&&T.hasOwnProperty("ccEnableArenas")&&typeof T.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(T.objcClassPrefix!=null&&T.hasOwnProperty("objcClassPrefix")&&!v.isString(T.objcClassPrefix))return"objcClassPrefix: string expected";if(T.csharpNamespace!=null&&T.hasOwnProperty("csharpNamespace")&&!v.isString(T.csharpNamespace))return"csharpNamespace: string expected";if(T.swiftPrefix!=null&&T.hasOwnProperty("swiftPrefix")&&!v.isString(T.swiftPrefix))return"swiftPrefix: string expected";if(T.phpClassPrefix!=null&&T.hasOwnProperty("phpClassPrefix")&&!v.isString(T.phpClassPrefix))return"phpClassPrefix: string expected";if(T.phpNamespace!=null&&T.hasOwnProperty("phpNamespace")&&!v.isString(T.phpNamespace))return"phpNamespace: string expected";if(T.phpMetadataNamespace!=null&&T.hasOwnProperty("phpMetadataNamespace")&&!v.isString(T.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(T.rubyPackage!=null&&T.hasOwnProperty("rubyPackage")&&!v.isString(T.rubyPackage))return"rubyPackage: string expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U)if(z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]))return"uninterpretedOption."+z}if(T[".google.api.resourceDefinition"]!=null&&T.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(T[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(var z,U=0;U<T[".google.api.resourceDefinition"].length;++U)if(z=s.google.api.ResourceDescriptor.verify(T[".google.api.resourceDefinition"][U]))return".google.api.resourceDefinition."+z}return null},Ce.fromObject=function(T){if(T instanceof s.google.protobuf.FileOptions)return T;var U=new s.google.protobuf.FileOptions;switch(T.javaPackage!=null&&(U.javaPackage=String(T.javaPackage)),T.javaOuterClassname!=null&&(U.javaOuterClassname=String(T.javaOuterClassname)),T.javaMultipleFiles!=null&&(U.javaMultipleFiles=!!T.javaMultipleFiles),T.javaGenerateEqualsAndHash!=null&&(U.javaGenerateEqualsAndHash=!!T.javaGenerateEqualsAndHash),T.javaStringCheckUtf8!=null&&(U.javaStringCheckUtf8=!!T.javaStringCheckUtf8),T.optimizeFor){case"SPEED":case 1:U.optimizeFor=1;break;case"CODE_SIZE":case 2:U.optimizeFor=2;break;case"LITE_RUNTIME":case 3:U.optimizeFor=3}if(T.goPackage!=null&&(U.goPackage=String(T.goPackage)),T.ccGenericServices!=null&&(U.ccGenericServices=!!T.ccGenericServices),T.javaGenericServices!=null&&(U.javaGenericServices=!!T.javaGenericServices),T.pyGenericServices!=null&&(U.pyGenericServices=!!T.pyGenericServices),T.phpGenericServices!=null&&(U.phpGenericServices=!!T.phpGenericServices),T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.ccEnableArenas!=null&&(U.ccEnableArenas=!!T.ccEnableArenas),T.objcClassPrefix!=null&&(U.objcClassPrefix=String(T.objcClassPrefix)),T.csharpNamespace!=null&&(U.csharpNamespace=String(T.csharpNamespace)),T.swiftPrefix!=null&&(U.swiftPrefix=String(T.swiftPrefix)),T.phpClassPrefix!=null&&(U.phpClassPrefix=String(T.phpClassPrefix)),T.phpNamespace!=null&&(U.phpNamespace=String(T.phpNamespace)),T.phpMetadataNamespace!=null&&(U.phpMetadataNamespace=String(T.phpMetadataNamespace)),T.rubyPackage!=null&&(U.rubyPackage=String(T.rubyPackage)),T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}if(T[".google.api.resourceDefinition"]){if(!Array.isArray(T[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(U[".google.api.resourceDefinition"]=[],z=0;z<T[".google.api.resourceDefinition"].length;++z){if(typeof T[".google.api.resourceDefinition"][z]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");U[".google.api.resourceDefinition"][z]=s.google.api.ResourceDescriptor.fromObject(T[".google.api.resourceDefinition"][z])}}return U},Ce.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[],z[".google.api.resourceDefinition"]=[]),U.defaults&&(z.javaPackage="",z.javaOuterClassname="",z.optimizeFor=U.enums===String?"SPEED":1,z.javaMultipleFiles=!1,z.goPackage="",z.ccGenericServices=!1,z.javaGenericServices=!1,z.pyGenericServices=!1,z.javaGenerateEqualsAndHash=!1,z.deprecated=!1,z.javaStringCheckUtf8=!1,z.ccEnableArenas=!0,z.objcClassPrefix="",z.csharpNamespace="",z.swiftPrefix="",z.phpClassPrefix="",z.phpNamespace="",z.phpGenericServices=!1,z.phpMetadataNamespace="",z.rubyPackage=""),T.javaPackage!=null&&T.hasOwnProperty("javaPackage")&&(z.javaPackage=T.javaPackage),T.javaOuterClassname!=null&&T.hasOwnProperty("javaOuterClassname")&&(z.javaOuterClassname=T.javaOuterClassname),T.optimizeFor!=null&&T.hasOwnProperty("optimizeFor")&&(z.optimizeFor=U.enums===String?s.google.protobuf.FileOptions.OptimizeMode[T.optimizeFor]:T.optimizeFor),T.javaMultipleFiles!=null&&T.hasOwnProperty("javaMultipleFiles")&&(z.javaMultipleFiles=T.javaMultipleFiles),T.goPackage!=null&&T.hasOwnProperty("goPackage")&&(z.goPackage=T.goPackage),T.ccGenericServices!=null&&T.hasOwnProperty("ccGenericServices")&&(z.ccGenericServices=T.ccGenericServices),T.javaGenericServices!=null&&T.hasOwnProperty("javaGenericServices")&&(z.javaGenericServices=T.javaGenericServices),T.pyGenericServices!=null&&T.hasOwnProperty("pyGenericServices")&&(z.pyGenericServices=T.pyGenericServices),T.javaGenerateEqualsAndHash!=null&&T.hasOwnProperty("javaGenerateEqualsAndHash")&&(z.javaGenerateEqualsAndHash=T.javaGenerateEqualsAndHash),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.javaStringCheckUtf8!=null&&T.hasOwnProperty("javaStringCheckUtf8")&&(z.javaStringCheckUtf8=T.javaStringCheckUtf8),T.ccEnableArenas!=null&&T.hasOwnProperty("ccEnableArenas")&&(z.ccEnableArenas=T.ccEnableArenas),T.objcClassPrefix!=null&&T.hasOwnProperty("objcClassPrefix")&&(z.objcClassPrefix=T.objcClassPrefix),T.csharpNamespace!=null&&T.hasOwnProperty("csharpNamespace")&&(z.csharpNamespace=T.csharpNamespace),T.swiftPrefix!=null&&T.hasOwnProperty("swiftPrefix")&&(z.swiftPrefix=T.swiftPrefix),T.phpClassPrefix!=null&&T.hasOwnProperty("phpClassPrefix")&&(z.phpClassPrefix=T.phpClassPrefix),T.phpNamespace!=null&&T.hasOwnProperty("phpNamespace")&&(z.phpNamespace=T.phpNamespace),T.phpGenericServices!=null&&T.hasOwnProperty("phpGenericServices")&&(z.phpGenericServices=T.phpGenericServices),T.phpMetadataNamespace!=null&&T.hasOwnProperty("phpMetadataNamespace")&&(z.phpMetadataNamespace=T.phpMetadataNamespace),T.rubyPackage!=null&&T.hasOwnProperty("rubyPackage")&&(z.rubyPackage=T.rubyPackage),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}if(T[".google.api.resourceDefinition"]&&T[".google.api.resourceDefinition"].length)for(z[".google.api.resourceDefinition"]=[],ae=0;ae<T[".google.api.resourceDefinition"].length;++ae)z[".google.api.resourceDefinition"][ae]=s.google.api.ResourceDescriptor.toObject(T[".google.api.resourceDefinition"][ae],U);return z},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ce.OptimizeMode=(o={},(l=Object.create(o))[o[1]="SPEED"]=1,l[o[2]="CODE_SIZE"]=2,l[o[3]="LITE_RUNTIME"]=3,l),Ce),p.MessageOptions=(Se.prototype.messageSetWireFormat=!1,Se.prototype.noStandardDescriptorAccessor=!1,Se.prototype.deprecated=!1,Se.prototype.mapEntry=!1,Se.prototype.uninterpretedOption=v.emptyArray,Se.prototype[".google.api.resource"]=null,Se.create=function(T){return new Se(T)},Se.encode=function(T,U){if(U=U||S.create(),T.messageSetWireFormat!=null&&Object.hasOwnProperty.call(T,"messageSetWireFormat")&&U.uint32(8).bool(T.messageSetWireFormat),T.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(T,"noStandardDescriptorAccessor")&&U.uint32(16).bool(T.noStandardDescriptorAccessor),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(24).bool(T.deprecated),T.mapEntry!=null&&Object.hasOwnProperty.call(T,"mapEntry")&&U.uint32(56).bool(T.mapEntry),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();return T[".google.api.resource"]!=null&&Object.hasOwnProperty.call(T,".google.api.resource")&&s.google.api.ResourceDescriptor.encode(T[".google.api.resource"],U.uint32(8426).fork()).ldelim(),U},Se.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Se.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.MessageOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.messageSetWireFormat=T.bool();break;case 2:ae.noStandardDescriptorAccessor=T.bool();break;case 3:ae.deprecated=T.bool();break;case 7:ae.mapEntry=T.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;case 1053:ae[".google.api.resource"]=s.google.api.ResourceDescriptor.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},Se.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Se.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.messageSetWireFormat!=null&&T.hasOwnProperty("messageSetWireFormat")&&typeof T.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(T.noStandardDescriptorAccessor!=null&&T.hasOwnProperty("noStandardDescriptorAccessor")&&typeof T.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.mapEntry!=null&&T.hasOwnProperty("mapEntry")&&typeof T.mapEntry!="boolean")return"mapEntry: boolean expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U)if(z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]))return"uninterpretedOption."+z}var z;return T[".google.api.resource"]!=null&&T.hasOwnProperty(".google.api.resource")&&(z=s.google.api.ResourceDescriptor.verify(T[".google.api.resource"]))?".google.api.resource."+z:null},Se.fromObject=function(T){if(T instanceof s.google.protobuf.MessageOptions)return T;var U=new s.google.protobuf.MessageOptions;if(T.messageSetWireFormat!=null&&(U.messageSetWireFormat=!!T.messageSetWireFormat),T.noStandardDescriptorAccessor!=null&&(U.noStandardDescriptorAccessor=!!T.noStandardDescriptorAccessor),T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.mapEntry!=null&&(U.mapEntry=!!T.mapEntry),T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}if(T[".google.api.resource"]!=null){if(typeof T[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");U[".google.api.resource"]=s.google.api.ResourceDescriptor.fromObject(T[".google.api.resource"])}return U},Se.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[]),U.defaults&&(z.messageSetWireFormat=!1,z.noStandardDescriptorAccessor=!1,z.deprecated=!1,z.mapEntry=!1,z[".google.api.resource"]=null),T.messageSetWireFormat!=null&&T.hasOwnProperty("messageSetWireFormat")&&(z.messageSetWireFormat=T.messageSetWireFormat),T.noStandardDescriptorAccessor!=null&&T.hasOwnProperty("noStandardDescriptorAccessor")&&(z.noStandardDescriptorAccessor=T.noStandardDescriptorAccessor),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.mapEntry!=null&&T.hasOwnProperty("mapEntry")&&(z.mapEntry=T.mapEntry),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}return T[".google.api.resource"]!=null&&T.hasOwnProperty(".google.api.resource")&&(z[".google.api.resource"]=s.google.api.ResourceDescriptor.toObject(T[".google.api.resource"],U)),z},Se.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Se),p.FieldOptions=(Te.prototype.ctype=0,Te.prototype.packed=!1,Te.prototype.jstype=0,Te.prototype.lazy=!1,Te.prototype.deprecated=!1,Te.prototype.weak=!1,Te.prototype.uninterpretedOption=v.emptyArray,Te.prototype[".google.api.fieldBehavior"]=v.emptyArray,Te.prototype[".google.api.resourceReference"]=null,Te.create=function(T){return new Te(T)},Te.encode=function(T,U){if(U=U||S.create(),T.ctype!=null&&Object.hasOwnProperty.call(T,"ctype")&&U.uint32(8).int32(T.ctype),T.packed!=null&&Object.hasOwnProperty.call(T,"packed")&&U.uint32(16).bool(T.packed),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(24).bool(T.deprecated),T.lazy!=null&&Object.hasOwnProperty.call(T,"lazy")&&U.uint32(40).bool(T.lazy),T.jstype!=null&&Object.hasOwnProperty.call(T,"jstype")&&U.uint32(48).int32(T.jstype),T.weak!=null&&Object.hasOwnProperty.call(T,"weak")&&U.uint32(80).bool(T.weak),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();if(T[".google.api.fieldBehavior"]!=null&&T[".google.api.fieldBehavior"].length){for(U.uint32(8418).fork(),z=0;z<T[".google.api.fieldBehavior"].length;++z)U.int32(T[".google.api.fieldBehavior"][z]);U.ldelim()}return T[".google.api.resourceReference"]!=null&&Object.hasOwnProperty.call(T,".google.api.resourceReference")&&s.google.api.ResourceReference.encode(T[".google.api.resourceReference"],U.uint32(8442).fork()).ldelim(),U},Te.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Te.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.FieldOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.ctype=T.int32();break;case 2:ae.packed=T.bool();break;case 6:ae.jstype=T.int32();break;case 5:ae.lazy=T.bool();break;case 3:ae.deprecated=T.bool();break;case 10:ae.weak=T.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;case 1052:if(ae[".google.api.fieldBehavior"]&&ae[".google.api.fieldBehavior"].length||(ae[".google.api.fieldBehavior"]=[]),(7&xe)==2)for(var Le=T.uint32()+T.pos;T.pos<Le;)ae[".google.api.fieldBehavior"].push(T.int32());else ae[".google.api.fieldBehavior"].push(T.int32());break;case 1055:ae[".google.api.resourceReference"]=s.google.api.ResourceReference.decode(T,T.uint32());break;default:T.skipType(7&xe)}}return ae},Te.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Te.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.ctype!=null&&T.hasOwnProperty("ctype"))switch(T.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(T.packed!=null&&T.hasOwnProperty("packed")&&typeof T.packed!="boolean")return"packed: boolean expected";if(T.jstype!=null&&T.hasOwnProperty("jstype"))switch(T.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(T.lazy!=null&&T.hasOwnProperty("lazy")&&typeof T.lazy!="boolean")return"lazy: boolean expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.weak!=null&&T.hasOwnProperty("weak")&&typeof T.weak!="boolean")return"weak: boolean expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U)if(z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]))return"uninterpretedOption."+z}if(T[".google.api.fieldBehavior"]!=null&&T.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(T[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(U=0;U<T[".google.api.fieldBehavior"].length;++U)switch(T[".google.api.fieldBehavior"][U]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}var z;return T[".google.api.resourceReference"]!=null&&T.hasOwnProperty(".google.api.resourceReference")&&(z=s.google.api.ResourceReference.verify(T[".google.api.resourceReference"]))?".google.api.resourceReference."+z:null},Te.fromObject=function(T){if(T instanceof s.google.protobuf.FieldOptions)return T;var U=new s.google.protobuf.FieldOptions;switch(T.ctype){case"STRING":case 0:U.ctype=0;break;case"CORD":case 1:U.ctype=1;break;case"STRING_PIECE":case 2:U.ctype=2}switch(T.packed!=null&&(U.packed=!!T.packed),T.jstype){case"JS_NORMAL":case 0:U.jstype=0;break;case"JS_STRING":case 1:U.jstype=1;break;case"JS_NUMBER":case 2:U.jstype=2}if(T.lazy!=null&&(U.lazy=!!T.lazy),T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.weak!=null&&(U.weak=!!T.weak),T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}if(T[".google.api.fieldBehavior"]){if(!Array.isArray(T[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(U[".google.api.fieldBehavior"]=[],z=0;z<T[".google.api.fieldBehavior"].length;++z)switch(T[".google.api.fieldBehavior"][z]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:U[".google.api.fieldBehavior"][z]=0;break;case"OPTIONAL":case 1:U[".google.api.fieldBehavior"][z]=1;break;case"REQUIRED":case 2:U[".google.api.fieldBehavior"][z]=2;break;case"OUTPUT_ONLY":case 3:U[".google.api.fieldBehavior"][z]=3;break;case"INPUT_ONLY":case 4:U[".google.api.fieldBehavior"][z]=4;break;case"IMMUTABLE":case 5:U[".google.api.fieldBehavior"][z]=5}}if(T[".google.api.resourceReference"]!=null){if(typeof T[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");U[".google.api.resourceReference"]=s.google.api.ResourceReference.fromObject(T[".google.api.resourceReference"])}return U},Te.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[],z[".google.api.fieldBehavior"]=[]),U.defaults&&(z.ctype=U.enums===String?"STRING":0,z.packed=!1,z.deprecated=!1,z.lazy=!1,z.jstype=U.enums===String?"JS_NORMAL":0,z.weak=!1,z[".google.api.resourceReference"]=null),T.ctype!=null&&T.hasOwnProperty("ctype")&&(z.ctype=U.enums===String?s.google.protobuf.FieldOptions.CType[T.ctype]:T.ctype),T.packed!=null&&T.hasOwnProperty("packed")&&(z.packed=T.packed),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.lazy!=null&&T.hasOwnProperty("lazy")&&(z.lazy=T.lazy),T.jstype!=null&&T.hasOwnProperty("jstype")&&(z.jstype=U.enums===String?s.google.protobuf.FieldOptions.JSType[T.jstype]:T.jstype),T.weak!=null&&T.hasOwnProperty("weak")&&(z.weak=T.weak),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}if(T[".google.api.fieldBehavior"]&&T[".google.api.fieldBehavior"].length)for(z[".google.api.fieldBehavior"]=[],ae=0;ae<T[".google.api.fieldBehavior"].length;++ae)z[".google.api.fieldBehavior"][ae]=U.enums===String?s.google.api.FieldBehavior[T[".google.api.fieldBehavior"][ae]]:T[".google.api.fieldBehavior"][ae];return T[".google.api.resourceReference"]!=null&&T.hasOwnProperty(".google.api.resourceReference")&&(z[".google.api.resourceReference"]=s.google.api.ResourceReference.toObject(T[".google.api.resourceReference"],U)),z},Te.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Te.CType=(o={},(l=Object.create(o))[o[0]="STRING"]=0,l[o[1]="CORD"]=1,l[o[2]="STRING_PIECE"]=2,l),Te.JSType=(o={},(l=Object.create(o))[o[0]="JS_NORMAL"]=0,l[o[1]="JS_STRING"]=1,l[o[2]="JS_NUMBER"]=2,l),Te),p.OneofOptions=(Oe.prototype.uninterpretedOption=v.emptyArray,Oe.create=function(T){return new Oe(T)},Oe.encode=function(T,U){if(U=U||S.create(),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();return U},Oe.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},Oe.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.OneofOptions;T.pos<z;){var xe=T.uint32();xe>>>3==999?(ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()))):T.skipType(7&xe)}return ae},Oe.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},Oe.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U){var z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]);if(z)return"uninterpretedOption."+z}}return null},Oe.fromObject=function(T){if(T instanceof s.google.protobuf.OneofOptions)return T;var U=new s.google.protobuf.OneofOptions;if(T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}return U},Oe.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[]),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}return z},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Oe),p.EnumOptions=(ce.prototype.allowAlias=!1,ce.prototype.deprecated=!1,ce.prototype.uninterpretedOption=v.emptyArray,ce.create=function(T){return new ce(T)},ce.encode=function(T,U){if(U=U||S.create(),T.allowAlias!=null&&Object.hasOwnProperty.call(T,"allowAlias")&&U.uint32(16).bool(T.allowAlias),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(24).bool(T.deprecated),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();return U},ce.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ce.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.EnumOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 2:ae.allowAlias=T.bool();break;case 3:ae.deprecated=T.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;default:T.skipType(7&xe)}}return ae},ce.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ce.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.allowAlias!=null&&T.hasOwnProperty("allowAlias")&&typeof T.allowAlias!="boolean")return"allowAlias: boolean expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U){var z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]);if(z)return"uninterpretedOption."+z}}return null},ce.fromObject=function(T){if(T instanceof s.google.protobuf.EnumOptions)return T;var U=new s.google.protobuf.EnumOptions;if(T.allowAlias!=null&&(U.allowAlias=!!T.allowAlias),T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}return U},ce.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[]),U.defaults&&(z.allowAlias=!1,z.deprecated=!1),T.allowAlias!=null&&T.hasOwnProperty("allowAlias")&&(z.allowAlias=T.allowAlias),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}return z},ce.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ce),p.EnumValueOptions=(k.prototype.deprecated=!1,k.prototype.uninterpretedOption=v.emptyArray,k.create=function(T){return new k(T)},k.encode=function(T,U){if(U=U||S.create(),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(8).bool(T.deprecated),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();return U},k.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},k.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.EnumValueOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.deprecated=T.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;default:T.skipType(7&xe)}}return ae},k.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},k.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U){var z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]);if(z)return"uninterpretedOption."+z}}return null},k.fromObject=function(T){if(T instanceof s.google.protobuf.EnumValueOptions)return T;var U=new s.google.protobuf.EnumValueOptions;if(T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}return U},k.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[]),U.defaults&&(z.deprecated=!1),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}return z},k.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},k),p.ServiceOptions=(F.prototype.deprecated=!1,F.prototype.uninterpretedOption=v.emptyArray,F.prototype[".google.api.defaultHost"]="",F.prototype[".google.api.oauthScopes"]="",F.create=function(T){return new F(T)},F.encode=function(T,U){if(U=U||S.create(),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(264).bool(T.deprecated),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();return T[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(T,".google.api.defaultHost")&&U.uint32(8394).string(T[".google.api.defaultHost"]),T[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(T,".google.api.oauthScopes")&&U.uint32(8402).string(T[".google.api.oauthScopes"]),U},F.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},F.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.ServiceOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 33:ae.deprecated=T.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;case 1049:ae[".google.api.defaultHost"]=T.string();break;case 1050:ae[".google.api.oauthScopes"]=T.string();break;default:T.skipType(7&xe)}}return ae},F.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},F.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U){var z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]);if(z)return"uninterpretedOption."+z}}return T[".google.api.defaultHost"]!=null&&T.hasOwnProperty(".google.api.defaultHost")&&!v.isString(T[".google.api.defaultHost"])?".google.api.defaultHost: string expected":T[".google.api.oauthScopes"]!=null&&T.hasOwnProperty(".google.api.oauthScopes")&&!v.isString(T[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},F.fromObject=function(T){if(T instanceof s.google.protobuf.ServiceOptions)return T;var U=new s.google.protobuf.ServiceOptions;if(T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}return T[".google.api.defaultHost"]!=null&&(U[".google.api.defaultHost"]=String(T[".google.api.defaultHost"])),T[".google.api.oauthScopes"]!=null&&(U[".google.api.oauthScopes"]=String(T[".google.api.oauthScopes"])),U},F.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[]),U.defaults&&(z.deprecated=!1,z[".google.api.defaultHost"]="",z[".google.api.oauthScopes"]=""),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}return T[".google.api.defaultHost"]!=null&&T.hasOwnProperty(".google.api.defaultHost")&&(z[".google.api.defaultHost"]=T[".google.api.defaultHost"]),T[".google.api.oauthScopes"]!=null&&T.hasOwnProperty(".google.api.oauthScopes")&&(z[".google.api.oauthScopes"]=T[".google.api.oauthScopes"]),z},F.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},F),p.MethodOptions=(V.prototype.deprecated=!1,V.prototype.idempotencyLevel=0,V.prototype.uninterpretedOption=v.emptyArray,V.prototype[".google.api.http"]=null,V.prototype[".google.api.methodSignature"]=v.emptyArray,V.create=function(T){return new V(T)},V.encode=function(T,U){if(U=U||S.create(),T.deprecated!=null&&Object.hasOwnProperty.call(T,"deprecated")&&U.uint32(264).bool(T.deprecated),T.idempotencyLevel!=null&&Object.hasOwnProperty.call(T,"idempotencyLevel")&&U.uint32(272).int32(T.idempotencyLevel),T.uninterpretedOption!=null&&T.uninterpretedOption.length)for(var z=0;z<T.uninterpretedOption.length;++z)s.google.protobuf.UninterpretedOption.encode(T.uninterpretedOption[z],U.uint32(7994).fork()).ldelim();if(T[".google.api.methodSignature"]!=null&&T[".google.api.methodSignature"].length)for(z=0;z<T[".google.api.methodSignature"].length;++z)U.uint32(8410).string(T[".google.api.methodSignature"][z]);return T[".google.api.http"]!=null&&Object.hasOwnProperty.call(T,".google.api.http")&&s.google.api.HttpRule.encode(T[".google.api.http"],U.uint32(578365826).fork()).ldelim(),U},V.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},V.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.MethodOptions;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 33:ae.deprecated=T.bool();break;case 34:ae.idempotencyLevel=T.int32();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(s.google.protobuf.UninterpretedOption.decode(T,T.uint32()));break;case 72295728:ae[".google.api.http"]=s.google.api.HttpRule.decode(T,T.uint32());break;case 1051:ae[".google.api.methodSignature"]&&ae[".google.api.methodSignature"].length||(ae[".google.api.methodSignature"]=[]),ae[".google.api.methodSignature"].push(T.string());break;default:T.skipType(7&xe)}}return ae},V.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},V.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.deprecated!=null&&T.hasOwnProperty("deprecated")&&typeof T.deprecated!="boolean")return"deprecated: boolean expected";if(T.idempotencyLevel!=null&&T.hasOwnProperty("idempotencyLevel"))switch(T.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(T.uninterpretedOption!=null&&T.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(T.uninterpretedOption))return"uninterpretedOption: array expected";for(var U=0;U<T.uninterpretedOption.length;++U)if(z=s.google.protobuf.UninterpretedOption.verify(T.uninterpretedOption[U]))return"uninterpretedOption."+z}var z;if(T[".google.api.http"]!=null&&T.hasOwnProperty(".google.api.http")&&(z=s.google.api.HttpRule.verify(T[".google.api.http"])))return".google.api.http."+z;if(T[".google.api.methodSignature"]!=null&&T.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(T[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(U=0;U<T[".google.api.methodSignature"].length;++U)if(!v.isString(T[".google.api.methodSignature"][U]))return".google.api.methodSignature: string[] expected"}return null},V.fromObject=function(T){if(T instanceof s.google.protobuf.MethodOptions)return T;var U=new s.google.protobuf.MethodOptions;switch(T.deprecated!=null&&(U.deprecated=!!T.deprecated),T.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:U.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:U.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:U.idempotencyLevel=2}if(T.uninterpretedOption){if(!Array.isArray(T.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");U.uninterpretedOption=[];for(var z=0;z<T.uninterpretedOption.length;++z){if(typeof T.uninterpretedOption[z]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");U.uninterpretedOption[z]=s.google.protobuf.UninterpretedOption.fromObject(T.uninterpretedOption[z])}}if(T[".google.api.http"]!=null){if(typeof T[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");U[".google.api.http"]=s.google.api.HttpRule.fromObject(T[".google.api.http"])}if(T[".google.api.methodSignature"]){if(!Array.isArray(T[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(U[".google.api.methodSignature"]=[],z=0;z<T[".google.api.methodSignature"].length;++z)U[".google.api.methodSignature"][z]=String(T[".google.api.methodSignature"][z])}return U},V.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.uninterpretedOption=[],z[".google.api.methodSignature"]=[]),U.defaults&&(z.deprecated=!1,z.idempotencyLevel=U.enums===String?"IDEMPOTENCY_UNKNOWN":0,z[".google.api.http"]=null),T.deprecated!=null&&T.hasOwnProperty("deprecated")&&(z.deprecated=T.deprecated),T.idempotencyLevel!=null&&T.hasOwnProperty("idempotencyLevel")&&(z.idempotencyLevel=U.enums===String?s.google.protobuf.MethodOptions.IdempotencyLevel[T.idempotencyLevel]:T.idempotencyLevel),T.uninterpretedOption&&T.uninterpretedOption.length){z.uninterpretedOption=[];for(var ae=0;ae<T.uninterpretedOption.length;++ae)z.uninterpretedOption[ae]=s.google.protobuf.UninterpretedOption.toObject(T.uninterpretedOption[ae],U)}if(T[".google.api.methodSignature"]&&T[".google.api.methodSignature"].length)for(z[".google.api.methodSignature"]=[],ae=0;ae<T[".google.api.methodSignature"].length;++ae)z[".google.api.methodSignature"][ae]=T[".google.api.methodSignature"][ae];return T[".google.api.http"]!=null&&T.hasOwnProperty(".google.api.http")&&(z[".google.api.http"]=s.google.api.HttpRule.toObject(T[".google.api.http"],U)),z},V.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},V.IdempotencyLevel=(o={},(l=Object.create(o))[o[0]="IDEMPOTENCY_UNKNOWN"]=0,l[o[1]="NO_SIDE_EFFECTS"]=1,l[o[2]="IDEMPOTENT"]=2,l),V),p.UninterpretedOption=(ne.prototype.name=v.emptyArray,ne.prototype.identifierValue="",ne.prototype.positiveIntValue=v.Long?v.Long.fromBits(0,0,!0):0,ne.prototype.negativeIntValue=v.Long?v.Long.fromBits(0,0,!1):0,ne.prototype.doubleValue=0,ne.prototype.stringValue=v.newBuffer([]),ne.prototype.aggregateValue="",ne.create=function(T){return new ne(T)},ne.encode=function(T,U){if(U=U||S.create(),T.name!=null&&T.name.length)for(var z=0;z<T.name.length;++z)s.google.protobuf.UninterpretedOption.NamePart.encode(T.name[z],U.uint32(18).fork()).ldelim();return T.identifierValue!=null&&Object.hasOwnProperty.call(T,"identifierValue")&&U.uint32(26).string(T.identifierValue),T.positiveIntValue!=null&&Object.hasOwnProperty.call(T,"positiveIntValue")&&U.uint32(32).uint64(T.positiveIntValue),T.negativeIntValue!=null&&Object.hasOwnProperty.call(T,"negativeIntValue")&&U.uint32(40).int64(T.negativeIntValue),T.doubleValue!=null&&Object.hasOwnProperty.call(T,"doubleValue")&&U.uint32(49).double(T.doubleValue),T.stringValue!=null&&Object.hasOwnProperty.call(T,"stringValue")&&U.uint32(58).bytes(T.stringValue),T.aggregateValue!=null&&Object.hasOwnProperty.call(T,"aggregateValue")&&U.uint32(66).string(T.aggregateValue),U},ne.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ne.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.UninterpretedOption;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 2:ae.name&&ae.name.length||(ae.name=[]),ae.name.push(s.google.protobuf.UninterpretedOption.NamePart.decode(T,T.uint32()));break;case 3:ae.identifierValue=T.string();break;case 4:ae.positiveIntValue=T.uint64();break;case 5:ae.negativeIntValue=T.int64();break;case 6:ae.doubleValue=T.double();break;case 7:ae.stringValue=T.bytes();break;case 8:ae.aggregateValue=T.string();break;default:T.skipType(7&xe)}}return ae},ne.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ne.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.name!=null&&T.hasOwnProperty("name")){if(!Array.isArray(T.name))return"name: array expected";for(var U=0;U<T.name.length;++U){var z=s.google.protobuf.UninterpretedOption.NamePart.verify(T.name[U]);if(z)return"name."+z}}return T.identifierValue!=null&&T.hasOwnProperty("identifierValue")&&!v.isString(T.identifierValue)?"identifierValue: string expected":T.positiveIntValue!=null&&T.hasOwnProperty("positiveIntValue")&&!(v.isInteger(T.positiveIntValue)||T.positiveIntValue&&v.isInteger(T.positiveIntValue.low)&&v.isInteger(T.positiveIntValue.high))?"positiveIntValue: integer|Long expected":T.negativeIntValue!=null&&T.hasOwnProperty("negativeIntValue")&&!(v.isInteger(T.negativeIntValue)||T.negativeIntValue&&v.isInteger(T.negativeIntValue.low)&&v.isInteger(T.negativeIntValue.high))?"negativeIntValue: integer|Long expected":T.doubleValue!=null&&T.hasOwnProperty("doubleValue")&&typeof T.doubleValue!="number"?"doubleValue: number expected":T.stringValue!=null&&T.hasOwnProperty("stringValue")&&!(T.stringValue&&typeof T.stringValue.length=="number"||v.isString(T.stringValue))?"stringValue: buffer expected":T.aggregateValue!=null&&T.hasOwnProperty("aggregateValue")&&!v.isString(T.aggregateValue)?"aggregateValue: string expected":null},ne.fromObject=function(T){if(T instanceof s.google.protobuf.UninterpretedOption)return T;var U=new s.google.protobuf.UninterpretedOption;if(T.name){if(!Array.isArray(T.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");U.name=[];for(var z=0;z<T.name.length;++z){if(typeof T.name[z]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");U.name[z]=s.google.protobuf.UninterpretedOption.NamePart.fromObject(T.name[z])}}return T.identifierValue!=null&&(U.identifierValue=String(T.identifierValue)),T.positiveIntValue!=null&&(v.Long?(U.positiveIntValue=v.Long.fromValue(T.positiveIntValue)).unsigned=!0:typeof T.positiveIntValue=="string"?U.positiveIntValue=parseInt(T.positiveIntValue,10):typeof T.positiveIntValue=="number"?U.positiveIntValue=T.positiveIntValue:typeof T.positiveIntValue=="object"&&(U.positiveIntValue=new v.LongBits(T.positiveIntValue.low>>>0,T.positiveIntValue.high>>>0).toNumber(!0))),T.negativeIntValue!=null&&(v.Long?(U.negativeIntValue=v.Long.fromValue(T.negativeIntValue)).unsigned=!1:typeof T.negativeIntValue=="string"?U.negativeIntValue=parseInt(T.negativeIntValue,10):typeof T.negativeIntValue=="number"?U.negativeIntValue=T.negativeIntValue:typeof T.negativeIntValue=="object"&&(U.negativeIntValue=new v.LongBits(T.negativeIntValue.low>>>0,T.negativeIntValue.high>>>0).toNumber())),T.doubleValue!=null&&(U.doubleValue=Number(T.doubleValue)),T.stringValue!=null&&(typeof T.stringValue=="string"?v.base64.decode(T.stringValue,U.stringValue=v.newBuffer(v.base64.length(T.stringValue)),0):T.stringValue.length&&(U.stringValue=T.stringValue)),T.aggregateValue!=null&&(U.aggregateValue=String(T.aggregateValue)),U},ne.toObject=function(T,U){var z,ae={};if(((U=U||{}).arrays||U.defaults)&&(ae.name=[]),U.defaults&&(ae.identifierValue="",v.Long?(z=new v.Long(0,0,!0),ae.positiveIntValue=U.longs===String?z.toString():U.longs===Number?z.toNumber():z):ae.positiveIntValue=U.longs===String?"0":0,v.Long?(z=new v.Long(0,0,!1),ae.negativeIntValue=U.longs===String?z.toString():U.longs===Number?z.toNumber():z):ae.negativeIntValue=U.longs===String?"0":0,ae.doubleValue=0,U.bytes===String?ae.stringValue="":(ae.stringValue=[],U.bytes!==Array&&(ae.stringValue=v.newBuffer(ae.stringValue))),ae.aggregateValue=""),T.name&&T.name.length){ae.name=[];for(var xe=0;xe<T.name.length;++xe)ae.name[xe]=s.google.protobuf.UninterpretedOption.NamePart.toObject(T.name[xe],U)}return T.identifierValue!=null&&T.hasOwnProperty("identifierValue")&&(ae.identifierValue=T.identifierValue),T.positiveIntValue!=null&&T.hasOwnProperty("positiveIntValue")&&(typeof T.positiveIntValue=="number"?ae.positiveIntValue=U.longs===String?String(T.positiveIntValue):T.positiveIntValue:ae.positiveIntValue=U.longs===String?v.Long.prototype.toString.call(T.positiveIntValue):U.longs===Number?new v.LongBits(T.positiveIntValue.low>>>0,T.positiveIntValue.high>>>0).toNumber(!0):T.positiveIntValue),T.negativeIntValue!=null&&T.hasOwnProperty("negativeIntValue")&&(typeof T.negativeIntValue=="number"?ae.negativeIntValue=U.longs===String?String(T.negativeIntValue):T.negativeIntValue:ae.negativeIntValue=U.longs===String?v.Long.prototype.toString.call(T.negativeIntValue):U.longs===Number?new v.LongBits(T.negativeIntValue.low>>>0,T.negativeIntValue.high>>>0).toNumber():T.negativeIntValue),T.doubleValue!=null&&T.hasOwnProperty("doubleValue")&&(ae.doubleValue=U.json&&!isFinite(T.doubleValue)?String(T.doubleValue):T.doubleValue),T.stringValue!=null&&T.hasOwnProperty("stringValue")&&(ae.stringValue=U.bytes===String?v.base64.encode(T.stringValue,0,T.stringValue.length):U.bytes===Array?Array.prototype.slice.call(T.stringValue):T.stringValue),T.aggregateValue!=null&&T.hasOwnProperty("aggregateValue")&&(ae.aggregateValue=T.aggregateValue),ae},ne.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ne.NamePart=(ue.prototype.namePart="",ue.prototype.isExtension=!1,ue.create=function(T){return new ue(T)},ue.encode=function(T,U){return(U=U||S.create()).uint32(10).string(T.namePart),U.uint32(16).bool(T.isExtension),U},ue.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},ue.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.UninterpretedOption.NamePart;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.namePart=T.string();break;case 2:ae.isExtension=T.bool();break;default:T.skipType(7&xe)}}if(!ae.hasOwnProperty("namePart"))throw v.ProtocolError("missing required 'namePart'",{instance:ae});if(ae.hasOwnProperty("isExtension"))return ae;throw v.ProtocolError("missing required 'isExtension'",{instance:ae})},ue.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},ue.verify=function(T){return typeof T!="object"||T===null?"object expected":v.isString(T.namePart)?typeof T.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},ue.fromObject=function(T){var U;return T instanceof s.google.protobuf.UninterpretedOption.NamePart?T:(U=new s.google.protobuf.UninterpretedOption.NamePart,T.namePart!=null&&(U.namePart=String(T.namePart)),T.isExtension!=null&&(U.isExtension=!!T.isExtension),U)},ue.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.namePart="",z.isExtension=!1),T.namePart!=null&&T.hasOwnProperty("namePart")&&(z.namePart=T.namePart),T.isExtension!=null&&T.hasOwnProperty("isExtension")&&(z.isExtension=T.isExtension),z},ue.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ue),ne),p.SourceCodeInfo=(we.prototype.location=v.emptyArray,we.create=function(T){return new we(T)},we.encode=function(T,U){if(U=U||S.create(),T.location!=null&&T.location.length)for(var z=0;z<T.location.length;++z)s.google.protobuf.SourceCodeInfo.Location.encode(T.location[z],U.uint32(10).fork()).ldelim();return U},we.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},we.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.SourceCodeInfo;T.pos<z;){var xe=T.uint32();xe>>>3==1?(ae.location&&ae.location.length||(ae.location=[]),ae.location.push(s.google.protobuf.SourceCodeInfo.Location.decode(T,T.uint32()))):T.skipType(7&xe)}return ae},we.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},we.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.location!=null&&T.hasOwnProperty("location")){if(!Array.isArray(T.location))return"location: array expected";for(var U=0;U<T.location.length;++U){var z=s.google.protobuf.SourceCodeInfo.Location.verify(T.location[U]);if(z)return"location."+z}}return null},we.fromObject=function(T){if(T instanceof s.google.protobuf.SourceCodeInfo)return T;var U=new s.google.protobuf.SourceCodeInfo;if(T.location){if(!Array.isArray(T.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");U.location=[];for(var z=0;z<T.location.length;++z){if(typeof T.location[z]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");U.location[z]=s.google.protobuf.SourceCodeInfo.Location.fromObject(T.location[z])}}return U},we.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.location=[]),T.location&&T.location.length){z.location=[];for(var ae=0;ae<T.location.length;++ae)z.location[ae]=s.google.protobuf.SourceCodeInfo.Location.toObject(T.location[ae],U)}return z},we.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},we.Location=(be.prototype.path=v.emptyArray,be.prototype.span=v.emptyArray,be.prototype.leadingComments="",be.prototype.trailingComments="",be.prototype.leadingDetachedComments=v.emptyArray,be.create=function(T){return new be(T)},be.encode=function(T,U){if(U=U||S.create(),T.path!=null&&T.path.length){U.uint32(10).fork();for(var z=0;z<T.path.length;++z)U.int32(T.path[z]);U.ldelim()}if(T.span!=null&&T.span.length){for(U.uint32(18).fork(),z=0;z<T.span.length;++z)U.int32(T.span[z]);U.ldelim()}if(T.leadingComments!=null&&Object.hasOwnProperty.call(T,"leadingComments")&&U.uint32(26).string(T.leadingComments),T.trailingComments!=null&&Object.hasOwnProperty.call(T,"trailingComments")&&U.uint32(34).string(T.trailingComments),T.leadingDetachedComments!=null&&T.leadingDetachedComments.length)for(z=0;z<T.leadingDetachedComments.length;++z)U.uint32(50).string(T.leadingDetachedComments[z]);return U},be.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},be.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.SourceCodeInfo.Location;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:if(ae.path&&ae.path.length||(ae.path=[]),(7&xe)==2)for(var Le=T.uint32()+T.pos;T.pos<Le;)ae.path.push(T.int32());else ae.path.push(T.int32());break;case 2:if(ae.span&&ae.span.length||(ae.span=[]),(7&xe)==2)for(Le=T.uint32()+T.pos;T.pos<Le;)ae.span.push(T.int32());else ae.span.push(T.int32());break;case 3:ae.leadingComments=T.string();break;case 4:ae.trailingComments=T.string();break;case 6:ae.leadingDetachedComments&&ae.leadingDetachedComments.length||(ae.leadingDetachedComments=[]),ae.leadingDetachedComments.push(T.string());break;default:T.skipType(7&xe)}}return ae},be.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},be.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.path!=null&&T.hasOwnProperty("path")){if(!Array.isArray(T.path))return"path: array expected";for(var U=0;U<T.path.length;++U)if(!v.isInteger(T.path[U]))return"path: integer[] expected"}if(T.span!=null&&T.hasOwnProperty("span")){if(!Array.isArray(T.span))return"span: array expected";for(U=0;U<T.span.length;++U)if(!v.isInteger(T.span[U]))return"span: integer[] expected"}if(T.leadingComments!=null&&T.hasOwnProperty("leadingComments")&&!v.isString(T.leadingComments))return"leadingComments: string expected";if(T.trailingComments!=null&&T.hasOwnProperty("trailingComments")&&!v.isString(T.trailingComments))return"trailingComments: string expected";if(T.leadingDetachedComments!=null&&T.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(T.leadingDetachedComments))return"leadingDetachedComments: array expected";for(U=0;U<T.leadingDetachedComments.length;++U)if(!v.isString(T.leadingDetachedComments[U]))return"leadingDetachedComments: string[] expected"}return null},be.fromObject=function(T){if(T instanceof s.google.protobuf.SourceCodeInfo.Location)return T;var U=new s.google.protobuf.SourceCodeInfo.Location;if(T.path){if(!Array.isArray(T.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");U.path=[];for(var z=0;z<T.path.length;++z)U.path[z]=0|T.path[z]}if(T.span){if(!Array.isArray(T.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(U.span=[],z=0;z<T.span.length;++z)U.span[z]=0|T.span[z]}if(T.leadingComments!=null&&(U.leadingComments=String(T.leadingComments)),T.trailingComments!=null&&(U.trailingComments=String(T.trailingComments)),T.leadingDetachedComments){if(!Array.isArray(T.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(U.leadingDetachedComments=[],z=0;z<T.leadingDetachedComments.length;++z)U.leadingDetachedComments[z]=String(T.leadingDetachedComments[z])}return U},be.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.path=[],z.span=[],z.leadingDetachedComments=[]),U.defaults&&(z.leadingComments="",z.trailingComments=""),T.path&&T.path.length){z.path=[];for(var ae=0;ae<T.path.length;++ae)z.path[ae]=T.path[ae]}if(T.span&&T.span.length)for(z.span=[],ae=0;ae<T.span.length;++ae)z.span[ae]=T.span[ae];if(T.leadingComments!=null&&T.hasOwnProperty("leadingComments")&&(z.leadingComments=T.leadingComments),T.trailingComments!=null&&T.hasOwnProperty("trailingComments")&&(z.trailingComments=T.trailingComments),T.leadingDetachedComments&&T.leadingDetachedComments.length)for(z.leadingDetachedComments=[],ae=0;ae<T.leadingDetachedComments.length;++ae)z.leadingDetachedComments[ae]=T.leadingDetachedComments[ae];return z},be.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},be),we),p.GeneratedCodeInfo=(N.prototype.annotation=v.emptyArray,N.create=function(T){return new N(T)},N.encode=function(T,U){if(U=U||S.create(),T.annotation!=null&&T.annotation.length)for(var z=0;z<T.annotation.length;++z)s.google.protobuf.GeneratedCodeInfo.Annotation.encode(T.annotation[z],U.uint32(10).fork()).ldelim();return U},N.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},N.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.GeneratedCodeInfo;T.pos<z;){var xe=T.uint32();xe>>>3==1?(ae.annotation&&ae.annotation.length||(ae.annotation=[]),ae.annotation.push(s.google.protobuf.GeneratedCodeInfo.Annotation.decode(T,T.uint32()))):T.skipType(7&xe)}return ae},N.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},N.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.annotation!=null&&T.hasOwnProperty("annotation")){if(!Array.isArray(T.annotation))return"annotation: array expected";for(var U=0;U<T.annotation.length;++U){var z=s.google.protobuf.GeneratedCodeInfo.Annotation.verify(T.annotation[U]);if(z)return"annotation."+z}}return null},N.fromObject=function(T){if(T instanceof s.google.protobuf.GeneratedCodeInfo)return T;var U=new s.google.protobuf.GeneratedCodeInfo;if(T.annotation){if(!Array.isArray(T.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");U.annotation=[];for(var z=0;z<T.annotation.length;++z){if(typeof T.annotation[z]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");U.annotation[z]=s.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(T.annotation[z])}}return U},N.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.annotation=[]),T.annotation&&T.annotation.length){z.annotation=[];for(var ae=0;ae<T.annotation.length;++ae)z.annotation[ae]=s.google.protobuf.GeneratedCodeInfo.Annotation.toObject(T.annotation[ae],U)}return z},N.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},N.Annotation=(q.prototype.path=v.emptyArray,q.prototype.sourceFile="",q.prototype.begin=0,q.prototype.end=0,q.create=function(T){return new q(T)},q.encode=function(T,U){if(U=U||S.create(),T.path!=null&&T.path.length){U.uint32(10).fork();for(var z=0;z<T.path.length;++z)U.int32(T.path[z]);U.ldelim()}return T.sourceFile!=null&&Object.hasOwnProperty.call(T,"sourceFile")&&U.uint32(18).string(T.sourceFile),T.begin!=null&&Object.hasOwnProperty.call(T,"begin")&&U.uint32(24).int32(T.begin),T.end!=null&&Object.hasOwnProperty.call(T,"end")&&U.uint32(32).int32(T.end),U},q.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},q.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.protobuf.GeneratedCodeInfo.Annotation;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:if(ae.path&&ae.path.length||(ae.path=[]),(7&xe)==2)for(var Le=T.uint32()+T.pos;T.pos<Le;)ae.path.push(T.int32());else ae.path.push(T.int32());break;case 2:ae.sourceFile=T.string();break;case 3:ae.begin=T.int32();break;case 4:ae.end=T.int32();break;default:T.skipType(7&xe)}}return ae},q.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},q.verify=function(T){if(typeof T!="object"||T===null)return"object expected";if(T.path!=null&&T.hasOwnProperty("path")){if(!Array.isArray(T.path))return"path: array expected";for(var U=0;U<T.path.length;++U)if(!v.isInteger(T.path[U]))return"path: integer[] expected"}return T.sourceFile!=null&&T.hasOwnProperty("sourceFile")&&!v.isString(T.sourceFile)?"sourceFile: string expected":T.begin!=null&&T.hasOwnProperty("begin")&&!v.isInteger(T.begin)?"begin: integer expected":T.end!=null&&T.hasOwnProperty("end")&&!v.isInteger(T.end)?"end: integer expected":null},q.fromObject=function(T){if(T instanceof s.google.protobuf.GeneratedCodeInfo.Annotation)return T;var U=new s.google.protobuf.GeneratedCodeInfo.Annotation;if(T.path){if(!Array.isArray(T.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");U.path=[];for(var z=0;z<T.path.length;++z)U.path[z]=0|T.path[z]}return T.sourceFile!=null&&(U.sourceFile=String(T.sourceFile)),T.begin!=null&&(U.begin=0|T.begin),T.end!=null&&(U.end=0|T.end),U},q.toObject=function(T,U){var z={};if(((U=U||{}).arrays||U.defaults)&&(z.path=[]),U.defaults&&(z.sourceFile="",z.begin=0,z.end=0),T.path&&T.path.length){z.path=[];for(var ae=0;ae<T.path.length;++ae)z.path[ae]=T.path[ae]}return T.sourceFile!=null&&T.hasOwnProperty("sourceFile")&&(z.sourceFile=T.sourceFile),T.begin!=null&&T.hasOwnProperty("begin")&&(z.begin=T.begin),T.end!=null&&T.hasOwnProperty("end")&&(z.end=T.end),z},q.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},q),N),p),O.type=((f={}).Expr=(H.prototype.expression="",H.prototype.title="",H.prototype.description="",H.prototype.location="",H.create=function(T){return new H(T)},H.encode=function(T,U){return U=U||S.create(),T.expression!=null&&Object.hasOwnProperty.call(T,"expression")&&U.uint32(10).string(T.expression),T.title!=null&&Object.hasOwnProperty.call(T,"title")&&U.uint32(18).string(T.title),T.description!=null&&Object.hasOwnProperty.call(T,"description")&&U.uint32(26).string(T.description),T.location!=null&&Object.hasOwnProperty.call(T,"location")&&U.uint32(34).string(T.location),U},H.encodeDelimited=function(T,U){return this.encode(T,U).ldelim()},H.decode=function(T,U){T instanceof _||(T=_.create(T));for(var z=U===void 0?T.len:T.pos+U,ae=new s.google.type.Expr;T.pos<z;){var xe=T.uint32();switch(xe>>>3){case 1:ae.expression=T.string();break;case 2:ae.title=T.string();break;case 3:ae.description=T.string();break;case 4:ae.location=T.string();break;default:T.skipType(7&xe)}}return ae},H.decodeDelimited=function(T){return T instanceof _||(T=new _(T)),this.decode(T,T.uint32())},H.verify=function(T){return typeof T!="object"||T===null?"object expected":T.expression!=null&&T.hasOwnProperty("expression")&&!v.isString(T.expression)?"expression: string expected":T.title!=null&&T.hasOwnProperty("title")&&!v.isString(T.title)?"title: string expected":T.description!=null&&T.hasOwnProperty("description")&&!v.isString(T.description)?"description: string expected":T.location!=null&&T.hasOwnProperty("location")&&!v.isString(T.location)?"location: string expected":null},H.fromObject=function(T){var U;return T instanceof s.google.type.Expr?T:(U=new s.google.type.Expr,T.expression!=null&&(U.expression=String(T.expression)),T.title!=null&&(U.title=String(T.title)),T.description!=null&&(U.description=String(T.description)),T.location!=null&&(U.location=String(T.location)),U)},H.toObject=function(T,U){var z={};return(U=U||{}).defaults&&(z.expression="",z.title="",z.description="",z.location=""),T.expression!=null&&T.hasOwnProperty("expression")&&(z.expression=T.expression),T.title!=null&&T.hasOwnProperty("title")&&(z.title=T.title),T.description!=null&&T.hasOwnProperty("description")&&(z.description=T.description),T.location!=null&&T.hasOwnProperty("location")&&(z.location=T.location),z},H.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},H),f),O),s})}(iam_service)),iam_service.exports}var locations={exports:{}},hasRequiredLocations;function requireLocations(){return hasRequiredLocations||(hasRequiredLocations=1,function(e){(function(r){typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=r(requireMinimal()))})(function(r){var o,l,p,f,O=r.Reader,_=r.Writer,S=r.util,v=r.roots.locations_protos||(r.roots.locations_protos={});function s(k,F,V){r.rpc.Service.call(this,k,F,V)}function d(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function g(k){if(this.locations=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function P(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function R(k){if(this.labels={},k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function I(k){if(this.rules=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function j(k){if(this.additionalBindings=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function L(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function G(k){if(this.file=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function J(k){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Q(k){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function W(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Z(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function te(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function ee(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function ie(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function oe(k){if(this.value=[],this.reservedRange=[],this.reservedName=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function se(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function le(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function de(k){if(this.method=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function pe(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function fe(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function he(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function ge(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function me(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function ye(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function ve(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Ae(k){if(this.uninterpretedOption=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Pe(k){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Ne(k){if(this.name=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Ee(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Ce(k){if(this.location=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Se(k){if(this.path=[],this.span=[],this.leadingDetachedComments=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Te(k){if(this.annotation=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function Oe(k){if(this.path=[],k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}function ce(k){if(k)for(var F=Object.keys(k),V=0;V<F.length;++V)k[F[V]]!=null&&(this[F[V]]=k[F[V]])}return v.google=((f={}).cloud=((p={}).location=((o={}).Locations=(((s.prototype=Object.create(r.rpc.Service.prototype)).constructor=s).create=function(k,F,V){return new this(k,F,V)},Object.defineProperty(s.prototype.listLocations=function k(F,V){return this.rpcCall(k,v.google.cloud.location.ListLocationsRequest,v.google.cloud.location.ListLocationsResponse,F,V)},"name",{value:"ListLocations"}),Object.defineProperty(s.prototype.getLocation=function k(F,V){return this.rpcCall(k,v.google.cloud.location.GetLocationRequest,v.google.cloud.location.Location,F,V)},"name",{value:"GetLocation"}),s),o.ListLocationsRequest=(d.prototype.name="",d.prototype.filter="",d.prototype.pageSize=0,d.prototype.pageToken="",d.create=function(k){return new d(k)},d.encode=function(k,F){return F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.filter!=null&&Object.hasOwnProperty.call(k,"filter")&&F.uint32(18).string(k.filter),k.pageSize!=null&&Object.hasOwnProperty.call(k,"pageSize")&&F.uint32(24).int32(k.pageSize),k.pageToken!=null&&Object.hasOwnProperty.call(k,"pageToken")&&F.uint32(34).string(k.pageToken),F},d.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},d.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.cloud.location.ListLocationsRequest;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.filter=k.string();break;case 3:ne.pageSize=k.int32();break;case 4:ne.pageToken=k.string();break;default:k.skipType(7&ue)}}return ne},d.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},d.verify=function(k){return typeof k!="object"||k===null?"object expected":k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name)?"name: string expected":k.filter!=null&&k.hasOwnProperty("filter")&&!S.isString(k.filter)?"filter: string expected":k.pageSize!=null&&k.hasOwnProperty("pageSize")&&!S.isInteger(k.pageSize)?"pageSize: integer expected":k.pageToken!=null&&k.hasOwnProperty("pageToken")&&!S.isString(k.pageToken)?"pageToken: string expected":null},d.fromObject=function(k){var F;return k instanceof v.google.cloud.location.ListLocationsRequest?k:(F=new v.google.cloud.location.ListLocationsRequest,k.name!=null&&(F.name=String(k.name)),k.filter!=null&&(F.filter=String(k.filter)),k.pageSize!=null&&(F.pageSize=0|k.pageSize),k.pageToken!=null&&(F.pageToken=String(k.pageToken)),F)},d.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.name="",V.filter="",V.pageSize=0,V.pageToken=""),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.filter!=null&&k.hasOwnProperty("filter")&&(V.filter=k.filter),k.pageSize!=null&&k.hasOwnProperty("pageSize")&&(V.pageSize=k.pageSize),k.pageToken!=null&&k.hasOwnProperty("pageToken")&&(V.pageToken=k.pageToken),V},d.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},d),o.ListLocationsResponse=(g.prototype.locations=S.emptyArray,g.prototype.nextPageToken="",g.create=function(k){return new g(k)},g.encode=function(k,F){if(F=F||_.create(),k.locations!=null&&k.locations.length)for(var V=0;V<k.locations.length;++V)v.google.cloud.location.Location.encode(k.locations[V],F.uint32(10).fork()).ldelim();return k.nextPageToken!=null&&Object.hasOwnProperty.call(k,"nextPageToken")&&F.uint32(18).string(k.nextPageToken),F},g.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},g.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.cloud.location.ListLocationsResponse;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.locations&&ne.locations.length||(ne.locations=[]),ne.locations.push(v.google.cloud.location.Location.decode(k,k.uint32()));break;case 2:ne.nextPageToken=k.string();break;default:k.skipType(7&ue)}}return ne},g.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},g.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.locations!=null&&k.hasOwnProperty("locations")){if(!Array.isArray(k.locations))return"locations: array expected";for(var F=0;F<k.locations.length;++F){var V=v.google.cloud.location.Location.verify(k.locations[F]);if(V)return"locations."+V}}return k.nextPageToken!=null&&k.hasOwnProperty("nextPageToken")&&!S.isString(k.nextPageToken)?"nextPageToken: string expected":null},g.fromObject=function(k){if(k instanceof v.google.cloud.location.ListLocationsResponse)return k;var F=new v.google.cloud.location.ListLocationsResponse;if(k.locations){if(!Array.isArray(k.locations))throw TypeError(".google.cloud.location.ListLocationsResponse.locations: array expected");F.locations=[];for(var V=0;V<k.locations.length;++V){if(typeof k.locations[V]!="object")throw TypeError(".google.cloud.location.ListLocationsResponse.locations: object expected");F.locations[V]=v.google.cloud.location.Location.fromObject(k.locations[V])}}return k.nextPageToken!=null&&(F.nextPageToken=String(k.nextPageToken)),F},g.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.locations=[]),F.defaults&&(V.nextPageToken=""),k.locations&&k.locations.length){V.locations=[];for(var ne=0;ne<k.locations.length;++ne)V.locations[ne]=v.google.cloud.location.Location.toObject(k.locations[ne],F)}return k.nextPageToken!=null&&k.hasOwnProperty("nextPageToken")&&(V.nextPageToken=k.nextPageToken),V},g.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},g),o.GetLocationRequest=(P.prototype.name="",P.create=function(k){return new P(k)},P.encode=function(k,F){return F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),F},P.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},P.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.cloud.location.GetLocationRequest;k.pos<V;){var ue=k.uint32();ue>>>3==1?ne.name=k.string():k.skipType(7&ue)}return ne},P.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},P.verify=function(k){return typeof k!="object"||k===null?"object expected":k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name)?"name: string expected":null},P.fromObject=function(k){var F;return k instanceof v.google.cloud.location.GetLocationRequest?k:(F=new v.google.cloud.location.GetLocationRequest,k.name!=null&&(F.name=String(k.name)),F)},P.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.name=""),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),V},P.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},P),o.Location=(R.prototype.name="",R.prototype.locationId="",R.prototype.displayName="",R.prototype.labels=S.emptyObject,R.prototype.metadata=null,R.create=function(k){return new R(k)},R.encode=function(k,F){if(F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.labels!=null&&Object.hasOwnProperty.call(k,"labels"))for(var V=Object.keys(k.labels),ne=0;ne<V.length;++ne)F.uint32(18).fork().uint32(10).string(V[ne]).uint32(18).string(k.labels[V[ne]]).ldelim();return k.metadata!=null&&Object.hasOwnProperty.call(k,"metadata")&&v.google.protobuf.Any.encode(k.metadata,F.uint32(26).fork()).ldelim(),k.locationId!=null&&Object.hasOwnProperty.call(k,"locationId")&&F.uint32(34).string(k.locationId),k.displayName!=null&&Object.hasOwnProperty.call(k,"displayName")&&F.uint32(42).string(k.displayName),F},R.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},R.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.cloud.location.Location;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 4:ne.locationId=k.string();break;case 5:ne.displayName=k.string();break;case 2:ne.labels===S.emptyObject&&(ne.labels={});for(var we=k.uint32()+k.pos,be="",N="";k.pos<we;){var q=k.uint32();switch(q>>>3){case 1:be=k.string();break;case 2:N=k.string();break;default:k.skipType(7&q)}}ne.labels[be]=N;break;case 3:ne.metadata=v.google.protobuf.Any.decode(k,k.uint32());break;default:k.skipType(7&ue)}}return ne},R.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},R.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.locationId!=null&&k.hasOwnProperty("locationId")&&!S.isString(k.locationId))return"locationId: string expected";if(k.displayName!=null&&k.hasOwnProperty("displayName")&&!S.isString(k.displayName))return"displayName: string expected";if(k.labels!=null&&k.hasOwnProperty("labels")){if(!S.isObject(k.labels))return"labels: object expected";for(var F=Object.keys(k.labels),V=0;V<F.length;++V)if(!S.isString(k.labels[F[V]]))return"labels: string{k:string} expected"}if(k.metadata!=null&&k.hasOwnProperty("metadata")){var ne=v.google.protobuf.Any.verify(k.metadata);if(ne)return"metadata."+ne}return null},R.fromObject=function(k){if(k instanceof v.google.cloud.location.Location)return k;var F=new v.google.cloud.location.Location;if(k.name!=null&&(F.name=String(k.name)),k.locationId!=null&&(F.locationId=String(k.locationId)),k.displayName!=null&&(F.displayName=String(k.displayName)),k.labels){if(typeof k.labels!="object")throw TypeError(".google.cloud.location.Location.labels: object expected");F.labels={};for(var V=Object.keys(k.labels),ne=0;ne<V.length;++ne)F.labels[V[ne]]=String(k.labels[V[ne]])}if(k.metadata!=null){if(typeof k.metadata!="object")throw TypeError(".google.cloud.location.Location.metadata: object expected");F.metadata=v.google.protobuf.Any.fromObject(k.metadata)}return F},R.toObject=function(k,F){var V,ne={};if(((F=F||{}).objects||F.defaults)&&(ne.labels={}),F.defaults&&(ne.name="",ne.metadata=null,ne.locationId="",ne.displayName=""),k.name!=null&&k.hasOwnProperty("name")&&(ne.name=k.name),k.labels&&(V=Object.keys(k.labels)).length){ne.labels={};for(var ue=0;ue<V.length;++ue)ne.labels[V[ue]]=k.labels[V[ue]]}return k.metadata!=null&&k.hasOwnProperty("metadata")&&(ne.metadata=v.google.protobuf.Any.toObject(k.metadata,F)),k.locationId!=null&&k.hasOwnProperty("locationId")&&(ne.locationId=k.locationId),k.displayName!=null&&k.hasOwnProperty("displayName")&&(ne.displayName=k.displayName),ne},R.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},R),o),p),f.api=((o={}).Http=(I.prototype.rules=S.emptyArray,I.prototype.fullyDecodeReservedExpansion=!1,I.create=function(k){return new I(k)},I.encode=function(k,F){if(F=F||_.create(),k.rules!=null&&k.rules.length)for(var V=0;V<k.rules.length;++V)v.google.api.HttpRule.encode(k.rules[V],F.uint32(10).fork()).ldelim();return k.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(k,"fullyDecodeReservedExpansion")&&F.uint32(16).bool(k.fullyDecodeReservedExpansion),F},I.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},I.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.api.Http;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.rules&&ne.rules.length||(ne.rules=[]),ne.rules.push(v.google.api.HttpRule.decode(k,k.uint32()));break;case 2:ne.fullyDecodeReservedExpansion=k.bool();break;default:k.skipType(7&ue)}}return ne},I.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},I.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.rules!=null&&k.hasOwnProperty("rules")){if(!Array.isArray(k.rules))return"rules: array expected";for(var F=0;F<k.rules.length;++F){var V=v.google.api.HttpRule.verify(k.rules[F]);if(V)return"rules."+V}}return k.fullyDecodeReservedExpansion!=null&&k.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof k.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},I.fromObject=function(k){if(k instanceof v.google.api.Http)return k;var F=new v.google.api.Http;if(k.rules){if(!Array.isArray(k.rules))throw TypeError(".google.api.Http.rules: array expected");F.rules=[];for(var V=0;V<k.rules.length;++V){if(typeof k.rules[V]!="object")throw TypeError(".google.api.Http.rules: object expected");F.rules[V]=v.google.api.HttpRule.fromObject(k.rules[V])}}return k.fullyDecodeReservedExpansion!=null&&(F.fullyDecodeReservedExpansion=!!k.fullyDecodeReservedExpansion),F},I.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.rules=[]),F.defaults&&(V.fullyDecodeReservedExpansion=!1),k.rules&&k.rules.length){V.rules=[];for(var ne=0;ne<k.rules.length;++ne)V.rules[ne]=v.google.api.HttpRule.toObject(k.rules[ne],F)}return k.fullyDecodeReservedExpansion!=null&&k.hasOwnProperty("fullyDecodeReservedExpansion")&&(V.fullyDecodeReservedExpansion=k.fullyDecodeReservedExpansion),V},I.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},I),o.HttpRule=(j.prototype.selector="",j.prototype.get=null,j.prototype.put=null,j.prototype.post=null,j.prototype.delete=null,j.prototype.patch=null,j.prototype.custom=null,j.prototype.body="",j.prototype.responseBody="",j.prototype.additionalBindings=S.emptyArray,Object.defineProperty(j.prototype,"pattern",{get:S.oneOfGetter(p=["get","put","post","delete","patch","custom"]),set:S.oneOfSetter(p)}),j.create=function(k){return new j(k)},j.encode=function(k,F){if(F=F||_.create(),k.selector!=null&&Object.hasOwnProperty.call(k,"selector")&&F.uint32(10).string(k.selector),k.get!=null&&Object.hasOwnProperty.call(k,"get")&&F.uint32(18).string(k.get),k.put!=null&&Object.hasOwnProperty.call(k,"put")&&F.uint32(26).string(k.put),k.post!=null&&Object.hasOwnProperty.call(k,"post")&&F.uint32(34).string(k.post),k.delete!=null&&Object.hasOwnProperty.call(k,"delete")&&F.uint32(42).string(k.delete),k.patch!=null&&Object.hasOwnProperty.call(k,"patch")&&F.uint32(50).string(k.patch),k.body!=null&&Object.hasOwnProperty.call(k,"body")&&F.uint32(58).string(k.body),k.custom!=null&&Object.hasOwnProperty.call(k,"custom")&&v.google.api.CustomHttpPattern.encode(k.custom,F.uint32(66).fork()).ldelim(),k.additionalBindings!=null&&k.additionalBindings.length)for(var V=0;V<k.additionalBindings.length;++V)v.google.api.HttpRule.encode(k.additionalBindings[V],F.uint32(90).fork()).ldelim();return k.responseBody!=null&&Object.hasOwnProperty.call(k,"responseBody")&&F.uint32(98).string(k.responseBody),F},j.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},j.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.api.HttpRule;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.selector=k.string();break;case 2:ne.get=k.string();break;case 3:ne.put=k.string();break;case 4:ne.post=k.string();break;case 5:ne.delete=k.string();break;case 6:ne.patch=k.string();break;case 8:ne.custom=v.google.api.CustomHttpPattern.decode(k,k.uint32());break;case 7:ne.body=k.string();break;case 12:ne.responseBody=k.string();break;case 11:ne.additionalBindings&&ne.additionalBindings.length||(ne.additionalBindings=[]),ne.additionalBindings.push(v.google.api.HttpRule.decode(k,k.uint32()));break;default:k.skipType(7&ue)}}return ne},j.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},j.verify=function(k){if(typeof k!="object"||k===null)return"object expected";var F={};if(k.selector!=null&&k.hasOwnProperty("selector")&&!S.isString(k.selector))return"selector: string expected";if(k.get!=null&&k.hasOwnProperty("get")&&(F.pattern=1,!S.isString(k.get)))return"get: string expected";if(k.put!=null&&k.hasOwnProperty("put")){if(F.pattern===1)return"pattern: multiple values";if(F.pattern=1,!S.isString(k.put))return"put: string expected"}if(k.post!=null&&k.hasOwnProperty("post")){if(F.pattern===1)return"pattern: multiple values";if(F.pattern=1,!S.isString(k.post))return"post: string expected"}if(k.delete!=null&&k.hasOwnProperty("delete")){if(F.pattern===1)return"pattern: multiple values";if(F.pattern=1,!S.isString(k.delete))return"delete: string expected"}if(k.patch!=null&&k.hasOwnProperty("patch")){if(F.pattern===1)return"pattern: multiple values";if(F.pattern=1,!S.isString(k.patch))return"patch: string expected"}if(k.custom!=null&&k.hasOwnProperty("custom")){if(F.pattern===1)return"pattern: multiple values";if(F.pattern=1,V=v.google.api.CustomHttpPattern.verify(k.custom))return"custom."+V}if(k.body!=null&&k.hasOwnProperty("body")&&!S.isString(k.body))return"body: string expected";if(k.responseBody!=null&&k.hasOwnProperty("responseBody")&&!S.isString(k.responseBody))return"responseBody: string expected";if(k.additionalBindings!=null&&k.hasOwnProperty("additionalBindings")){if(!Array.isArray(k.additionalBindings))return"additionalBindings: array expected";for(var V,ne=0;ne<k.additionalBindings.length;++ne)if(V=v.google.api.HttpRule.verify(k.additionalBindings[ne]))return"additionalBindings."+V}return null},j.fromObject=function(k){if(k instanceof v.google.api.HttpRule)return k;var F=new v.google.api.HttpRule;if(k.selector!=null&&(F.selector=String(k.selector)),k.get!=null&&(F.get=String(k.get)),k.put!=null&&(F.put=String(k.put)),k.post!=null&&(F.post=String(k.post)),k.delete!=null&&(F.delete=String(k.delete)),k.patch!=null&&(F.patch=String(k.patch)),k.custom!=null){if(typeof k.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");F.custom=v.google.api.CustomHttpPattern.fromObject(k.custom)}if(k.body!=null&&(F.body=String(k.body)),k.responseBody!=null&&(F.responseBody=String(k.responseBody)),k.additionalBindings){if(!Array.isArray(k.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");F.additionalBindings=[];for(var V=0;V<k.additionalBindings.length;++V){if(typeof k.additionalBindings[V]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");F.additionalBindings[V]=v.google.api.HttpRule.fromObject(k.additionalBindings[V])}}return F},j.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.additionalBindings=[]),F.defaults&&(V.selector="",V.body="",V.responseBody=""),k.selector!=null&&k.hasOwnProperty("selector")&&(V.selector=k.selector),k.get!=null&&k.hasOwnProperty("get")&&(V.get=k.get,F.oneofs)&&(V.pattern="get"),k.put!=null&&k.hasOwnProperty("put")&&(V.put=k.put,F.oneofs)&&(V.pattern="put"),k.post!=null&&k.hasOwnProperty("post")&&(V.post=k.post,F.oneofs)&&(V.pattern="post"),k.delete!=null&&k.hasOwnProperty("delete")&&(V.delete=k.delete,F.oneofs)&&(V.pattern="delete"),k.patch!=null&&k.hasOwnProperty("patch")&&(V.patch=k.patch,F.oneofs)&&(V.pattern="patch"),k.body!=null&&k.hasOwnProperty("body")&&(V.body=k.body),k.custom!=null&&k.hasOwnProperty("custom")&&(V.custom=v.google.api.CustomHttpPattern.toObject(k.custom,F),F.oneofs)&&(V.pattern="custom"),k.additionalBindings&&k.additionalBindings.length){V.additionalBindings=[];for(var ne=0;ne<k.additionalBindings.length;++ne)V.additionalBindings[ne]=v.google.api.HttpRule.toObject(k.additionalBindings[ne],F)}return k.responseBody!=null&&k.hasOwnProperty("responseBody")&&(V.responseBody=k.responseBody),V},j.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},j),o.CustomHttpPattern=(L.prototype.kind="",L.prototype.path="",L.create=function(k){return new L(k)},L.encode=function(k,F){return F=F||_.create(),k.kind!=null&&Object.hasOwnProperty.call(k,"kind")&&F.uint32(10).string(k.kind),k.path!=null&&Object.hasOwnProperty.call(k,"path")&&F.uint32(18).string(k.path),F},L.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},L.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.api.CustomHttpPattern;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.kind=k.string();break;case 2:ne.path=k.string();break;default:k.skipType(7&ue)}}return ne},L.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},L.verify=function(k){return typeof k!="object"||k===null?"object expected":k.kind!=null&&k.hasOwnProperty("kind")&&!S.isString(k.kind)?"kind: string expected":k.path!=null&&k.hasOwnProperty("path")&&!S.isString(k.path)?"path: string expected":null},L.fromObject=function(k){var F;return k instanceof v.google.api.CustomHttpPattern?k:(F=new v.google.api.CustomHttpPattern,k.kind!=null&&(F.kind=String(k.kind)),k.path!=null&&(F.path=String(k.path)),F)},L.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.kind="",V.path=""),k.kind!=null&&k.hasOwnProperty("kind")&&(V.kind=k.kind),k.path!=null&&k.hasOwnProperty("path")&&(V.path=k.path),V},L.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},L),o),f.protobuf=((p={}).FileDescriptorSet=(G.prototype.file=S.emptyArray,G.create=function(k){return new G(k)},G.encode=function(k,F){if(F=F||_.create(),k.file!=null&&k.file.length)for(var V=0;V<k.file.length;++V)v.google.protobuf.FileDescriptorProto.encode(k.file[V],F.uint32(10).fork()).ldelim();return F},G.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},G.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.FileDescriptorSet;k.pos<V;){var ue=k.uint32();ue>>>3==1?(ne.file&&ne.file.length||(ne.file=[]),ne.file.push(v.google.protobuf.FileDescriptorProto.decode(k,k.uint32()))):k.skipType(7&ue)}return ne},G.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},G.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.file!=null&&k.hasOwnProperty("file")){if(!Array.isArray(k.file))return"file: array expected";for(var F=0;F<k.file.length;++F){var V=v.google.protobuf.FileDescriptorProto.verify(k.file[F]);if(V)return"file."+V}}return null},G.fromObject=function(k){if(k instanceof v.google.protobuf.FileDescriptorSet)return k;var F=new v.google.protobuf.FileDescriptorSet;if(k.file){if(!Array.isArray(k.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");F.file=[];for(var V=0;V<k.file.length;++V){if(typeof k.file[V]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");F.file[V]=v.google.protobuf.FileDescriptorProto.fromObject(k.file[V])}}return F},G.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.file=[]),k.file&&k.file.length){V.file=[];for(var ne=0;ne<k.file.length;++ne)V.file[ne]=v.google.protobuf.FileDescriptorProto.toObject(k.file[ne],F)}return V},G.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},G),p.FileDescriptorProto=(J.prototype.name="",J.prototype.package="",J.prototype.dependency=S.emptyArray,J.prototype.publicDependency=S.emptyArray,J.prototype.weakDependency=S.emptyArray,J.prototype.messageType=S.emptyArray,J.prototype.enumType=S.emptyArray,J.prototype.service=S.emptyArray,J.prototype.extension=S.emptyArray,J.prototype.options=null,J.prototype.sourceCodeInfo=null,J.prototype.syntax="",J.create=function(k){return new J(k)},J.encode=function(k,F){if(F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.package!=null&&Object.hasOwnProperty.call(k,"package")&&F.uint32(18).string(k.package),k.dependency!=null&&k.dependency.length)for(var V=0;V<k.dependency.length;++V)F.uint32(26).string(k.dependency[V]);if(k.messageType!=null&&k.messageType.length)for(V=0;V<k.messageType.length;++V)v.google.protobuf.DescriptorProto.encode(k.messageType[V],F.uint32(34).fork()).ldelim();if(k.enumType!=null&&k.enumType.length)for(V=0;V<k.enumType.length;++V)v.google.protobuf.EnumDescriptorProto.encode(k.enumType[V],F.uint32(42).fork()).ldelim();if(k.service!=null&&k.service.length)for(V=0;V<k.service.length;++V)v.google.protobuf.ServiceDescriptorProto.encode(k.service[V],F.uint32(50).fork()).ldelim();if(k.extension!=null&&k.extension.length)for(V=0;V<k.extension.length;++V)v.google.protobuf.FieldDescriptorProto.encode(k.extension[V],F.uint32(58).fork()).ldelim();if(k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.FileOptions.encode(k.options,F.uint32(66).fork()).ldelim(),k.sourceCodeInfo!=null&&Object.hasOwnProperty.call(k,"sourceCodeInfo")&&v.google.protobuf.SourceCodeInfo.encode(k.sourceCodeInfo,F.uint32(74).fork()).ldelim(),k.publicDependency!=null&&k.publicDependency.length)for(V=0;V<k.publicDependency.length;++V)F.uint32(80).int32(k.publicDependency[V]);if(k.weakDependency!=null&&k.weakDependency.length)for(V=0;V<k.weakDependency.length;++V)F.uint32(88).int32(k.weakDependency[V]);return k.syntax!=null&&Object.hasOwnProperty.call(k,"syntax")&&F.uint32(98).string(k.syntax),F},J.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},J.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.FileDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.package=k.string();break;case 3:ne.dependency&&ne.dependency.length||(ne.dependency=[]),ne.dependency.push(k.string());break;case 10:if(ne.publicDependency&&ne.publicDependency.length||(ne.publicDependency=[]),(7&ue)==2)for(var we=k.uint32()+k.pos;k.pos<we;)ne.publicDependency.push(k.int32());else ne.publicDependency.push(k.int32());break;case 11:if(ne.weakDependency&&ne.weakDependency.length||(ne.weakDependency=[]),(7&ue)==2)for(we=k.uint32()+k.pos;k.pos<we;)ne.weakDependency.push(k.int32());else ne.weakDependency.push(k.int32());break;case 4:ne.messageType&&ne.messageType.length||(ne.messageType=[]),ne.messageType.push(v.google.protobuf.DescriptorProto.decode(k,k.uint32()));break;case 5:ne.enumType&&ne.enumType.length||(ne.enumType=[]),ne.enumType.push(v.google.protobuf.EnumDescriptorProto.decode(k,k.uint32()));break;case 6:ne.service&&ne.service.length||(ne.service=[]),ne.service.push(v.google.protobuf.ServiceDescriptorProto.decode(k,k.uint32()));break;case 7:ne.extension&&ne.extension.length||(ne.extension=[]),ne.extension.push(v.google.protobuf.FieldDescriptorProto.decode(k,k.uint32()));break;case 8:ne.options=v.google.protobuf.FileOptions.decode(k,k.uint32());break;case 9:ne.sourceCodeInfo=v.google.protobuf.SourceCodeInfo.decode(k,k.uint32());break;case 12:ne.syntax=k.string();break;default:k.skipType(7&ue)}}return ne},J.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},J.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.package!=null&&k.hasOwnProperty("package")&&!S.isString(k.package))return"package: string expected";if(k.dependency!=null&&k.hasOwnProperty("dependency")){if(!Array.isArray(k.dependency))return"dependency: array expected";for(var F=0;F<k.dependency.length;++F)if(!S.isString(k.dependency[F]))return"dependency: string[] expected"}if(k.publicDependency!=null&&k.hasOwnProperty("publicDependency")){if(!Array.isArray(k.publicDependency))return"publicDependency: array expected";for(F=0;F<k.publicDependency.length;++F)if(!S.isInteger(k.publicDependency[F]))return"publicDependency: integer[] expected"}if(k.weakDependency!=null&&k.hasOwnProperty("weakDependency")){if(!Array.isArray(k.weakDependency))return"weakDependency: array expected";for(F=0;F<k.weakDependency.length;++F)if(!S.isInteger(k.weakDependency[F]))return"weakDependency: integer[] expected"}if(k.messageType!=null&&k.hasOwnProperty("messageType")){if(!Array.isArray(k.messageType))return"messageType: array expected";for(F=0;F<k.messageType.length;++F)if(V=v.google.protobuf.DescriptorProto.verify(k.messageType[F]))return"messageType."+V}if(k.enumType!=null&&k.hasOwnProperty("enumType")){if(!Array.isArray(k.enumType))return"enumType: array expected";for(F=0;F<k.enumType.length;++F)if(V=v.google.protobuf.EnumDescriptorProto.verify(k.enumType[F]))return"enumType."+V}if(k.service!=null&&k.hasOwnProperty("service")){if(!Array.isArray(k.service))return"service: array expected";for(F=0;F<k.service.length;++F)if(V=v.google.protobuf.ServiceDescriptorProto.verify(k.service[F]))return"service."+V}if(k.extension!=null&&k.hasOwnProperty("extension")){if(!Array.isArray(k.extension))return"extension: array expected";for(F=0;F<k.extension.length;++F)if(V=v.google.protobuf.FieldDescriptorProto.verify(k.extension[F]))return"extension."+V}var V;return k.options!=null&&k.hasOwnProperty("options")&&(V=v.google.protobuf.FileOptions.verify(k.options))?"options."+V:k.sourceCodeInfo!=null&&k.hasOwnProperty("sourceCodeInfo")&&(V=v.google.protobuf.SourceCodeInfo.verify(k.sourceCodeInfo))?"sourceCodeInfo."+V:k.syntax!=null&&k.hasOwnProperty("syntax")&&!S.isString(k.syntax)?"syntax: string expected":null},J.fromObject=function(k){if(k instanceof v.google.protobuf.FileDescriptorProto)return k;var F=new v.google.protobuf.FileDescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.package!=null&&(F.package=String(k.package)),k.dependency){if(!Array.isArray(k.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");F.dependency=[];for(var V=0;V<k.dependency.length;++V)F.dependency[V]=String(k.dependency[V])}if(k.publicDependency){if(!Array.isArray(k.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(F.publicDependency=[],V=0;V<k.publicDependency.length;++V)F.publicDependency[V]=0|k.publicDependency[V]}if(k.weakDependency){if(!Array.isArray(k.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(F.weakDependency=[],V=0;V<k.weakDependency.length;++V)F.weakDependency[V]=0|k.weakDependency[V]}if(k.messageType){if(!Array.isArray(k.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(F.messageType=[],V=0;V<k.messageType.length;++V){if(typeof k.messageType[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");F.messageType[V]=v.google.protobuf.DescriptorProto.fromObject(k.messageType[V])}}if(k.enumType){if(!Array.isArray(k.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(F.enumType=[],V=0;V<k.enumType.length;++V){if(typeof k.enumType[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");F.enumType[V]=v.google.protobuf.EnumDescriptorProto.fromObject(k.enumType[V])}}if(k.service){if(!Array.isArray(k.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(F.service=[],V=0;V<k.service.length;++V){if(typeof k.service[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");F.service[V]=v.google.protobuf.ServiceDescriptorProto.fromObject(k.service[V])}}if(k.extension){if(!Array.isArray(k.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(F.extension=[],V=0;V<k.extension.length;++V){if(typeof k.extension[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");F.extension[V]=v.google.protobuf.FieldDescriptorProto.fromObject(k.extension[V])}}if(k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");F.options=v.google.protobuf.FileOptions.fromObject(k.options)}if(k.sourceCodeInfo!=null){if(typeof k.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");F.sourceCodeInfo=v.google.protobuf.SourceCodeInfo.fromObject(k.sourceCodeInfo)}return k.syntax!=null&&(F.syntax=String(k.syntax)),F},J.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.dependency=[],V.messageType=[],V.enumType=[],V.service=[],V.extension=[],V.publicDependency=[],V.weakDependency=[]),F.defaults&&(V.name="",V.package="",V.options=null,V.sourceCodeInfo=null,V.syntax=""),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.package!=null&&k.hasOwnProperty("package")&&(V.package=k.package),k.dependency&&k.dependency.length){V.dependency=[];for(var ne=0;ne<k.dependency.length;++ne)V.dependency[ne]=k.dependency[ne]}if(k.messageType&&k.messageType.length)for(V.messageType=[],ne=0;ne<k.messageType.length;++ne)V.messageType[ne]=v.google.protobuf.DescriptorProto.toObject(k.messageType[ne],F);if(k.enumType&&k.enumType.length)for(V.enumType=[],ne=0;ne<k.enumType.length;++ne)V.enumType[ne]=v.google.protobuf.EnumDescriptorProto.toObject(k.enumType[ne],F);if(k.service&&k.service.length)for(V.service=[],ne=0;ne<k.service.length;++ne)V.service[ne]=v.google.protobuf.ServiceDescriptorProto.toObject(k.service[ne],F);if(k.extension&&k.extension.length)for(V.extension=[],ne=0;ne<k.extension.length;++ne)V.extension[ne]=v.google.protobuf.FieldDescriptorProto.toObject(k.extension[ne],F);if(k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.FileOptions.toObject(k.options,F)),k.sourceCodeInfo!=null&&k.hasOwnProperty("sourceCodeInfo")&&(V.sourceCodeInfo=v.google.protobuf.SourceCodeInfo.toObject(k.sourceCodeInfo,F)),k.publicDependency&&k.publicDependency.length)for(V.publicDependency=[],ne=0;ne<k.publicDependency.length;++ne)V.publicDependency[ne]=k.publicDependency[ne];if(k.weakDependency&&k.weakDependency.length)for(V.weakDependency=[],ne=0;ne<k.weakDependency.length;++ne)V.weakDependency[ne]=k.weakDependency[ne];return k.syntax!=null&&k.hasOwnProperty("syntax")&&(V.syntax=k.syntax),V},J.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},J),p.DescriptorProto=(Q.prototype.name="",Q.prototype.field=S.emptyArray,Q.prototype.extension=S.emptyArray,Q.prototype.nestedType=S.emptyArray,Q.prototype.enumType=S.emptyArray,Q.prototype.extensionRange=S.emptyArray,Q.prototype.oneofDecl=S.emptyArray,Q.prototype.options=null,Q.prototype.reservedRange=S.emptyArray,Q.prototype.reservedName=S.emptyArray,Q.create=function(k){return new Q(k)},Q.encode=function(k,F){if(F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.field!=null&&k.field.length)for(var V=0;V<k.field.length;++V)v.google.protobuf.FieldDescriptorProto.encode(k.field[V],F.uint32(18).fork()).ldelim();if(k.nestedType!=null&&k.nestedType.length)for(V=0;V<k.nestedType.length;++V)v.google.protobuf.DescriptorProto.encode(k.nestedType[V],F.uint32(26).fork()).ldelim();if(k.enumType!=null&&k.enumType.length)for(V=0;V<k.enumType.length;++V)v.google.protobuf.EnumDescriptorProto.encode(k.enumType[V],F.uint32(34).fork()).ldelim();if(k.extensionRange!=null&&k.extensionRange.length)for(V=0;V<k.extensionRange.length;++V)v.google.protobuf.DescriptorProto.ExtensionRange.encode(k.extensionRange[V],F.uint32(42).fork()).ldelim();if(k.extension!=null&&k.extension.length)for(V=0;V<k.extension.length;++V)v.google.protobuf.FieldDescriptorProto.encode(k.extension[V],F.uint32(50).fork()).ldelim();if(k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.MessageOptions.encode(k.options,F.uint32(58).fork()).ldelim(),k.oneofDecl!=null&&k.oneofDecl.length)for(V=0;V<k.oneofDecl.length;++V)v.google.protobuf.OneofDescriptorProto.encode(k.oneofDecl[V],F.uint32(66).fork()).ldelim();if(k.reservedRange!=null&&k.reservedRange.length)for(V=0;V<k.reservedRange.length;++V)v.google.protobuf.DescriptorProto.ReservedRange.encode(k.reservedRange[V],F.uint32(74).fork()).ldelim();if(k.reservedName!=null&&k.reservedName.length)for(V=0;V<k.reservedName.length;++V)F.uint32(82).string(k.reservedName[V]);return F},Q.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Q.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.DescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.field&&ne.field.length||(ne.field=[]),ne.field.push(v.google.protobuf.FieldDescriptorProto.decode(k,k.uint32()));break;case 6:ne.extension&&ne.extension.length||(ne.extension=[]),ne.extension.push(v.google.protobuf.FieldDescriptorProto.decode(k,k.uint32()));break;case 3:ne.nestedType&&ne.nestedType.length||(ne.nestedType=[]),ne.nestedType.push(v.google.protobuf.DescriptorProto.decode(k,k.uint32()));break;case 4:ne.enumType&&ne.enumType.length||(ne.enumType=[]),ne.enumType.push(v.google.protobuf.EnumDescriptorProto.decode(k,k.uint32()));break;case 5:ne.extensionRange&&ne.extensionRange.length||(ne.extensionRange=[]),ne.extensionRange.push(v.google.protobuf.DescriptorProto.ExtensionRange.decode(k,k.uint32()));break;case 8:ne.oneofDecl&&ne.oneofDecl.length||(ne.oneofDecl=[]),ne.oneofDecl.push(v.google.protobuf.OneofDescriptorProto.decode(k,k.uint32()));break;case 7:ne.options=v.google.protobuf.MessageOptions.decode(k,k.uint32());break;case 9:ne.reservedRange&&ne.reservedRange.length||(ne.reservedRange=[]),ne.reservedRange.push(v.google.protobuf.DescriptorProto.ReservedRange.decode(k,k.uint32()));break;case 10:ne.reservedName&&ne.reservedName.length||(ne.reservedName=[]),ne.reservedName.push(k.string());break;default:k.skipType(7&ue)}}return ne},Q.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Q.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.field!=null&&k.hasOwnProperty("field")){if(!Array.isArray(k.field))return"field: array expected";for(var F=0;F<k.field.length;++F)if(V=v.google.protobuf.FieldDescriptorProto.verify(k.field[F]))return"field."+V}if(k.extension!=null&&k.hasOwnProperty("extension")){if(!Array.isArray(k.extension))return"extension: array expected";for(F=0;F<k.extension.length;++F)if(V=v.google.protobuf.FieldDescriptorProto.verify(k.extension[F]))return"extension."+V}if(k.nestedType!=null&&k.hasOwnProperty("nestedType")){if(!Array.isArray(k.nestedType))return"nestedType: array expected";for(F=0;F<k.nestedType.length;++F)if(V=v.google.protobuf.DescriptorProto.verify(k.nestedType[F]))return"nestedType."+V}if(k.enumType!=null&&k.hasOwnProperty("enumType")){if(!Array.isArray(k.enumType))return"enumType: array expected";for(F=0;F<k.enumType.length;++F)if(V=v.google.protobuf.EnumDescriptorProto.verify(k.enumType[F]))return"enumType."+V}if(k.extensionRange!=null&&k.hasOwnProperty("extensionRange")){if(!Array.isArray(k.extensionRange))return"extensionRange: array expected";for(F=0;F<k.extensionRange.length;++F)if(V=v.google.protobuf.DescriptorProto.ExtensionRange.verify(k.extensionRange[F]))return"extensionRange."+V}if(k.oneofDecl!=null&&k.hasOwnProperty("oneofDecl")){if(!Array.isArray(k.oneofDecl))return"oneofDecl: array expected";for(F=0;F<k.oneofDecl.length;++F)if(V=v.google.protobuf.OneofDescriptorProto.verify(k.oneofDecl[F]))return"oneofDecl."+V}if(k.options!=null&&k.hasOwnProperty("options")&&(V=v.google.protobuf.MessageOptions.verify(k.options)))return"options."+V;if(k.reservedRange!=null&&k.hasOwnProperty("reservedRange")){if(!Array.isArray(k.reservedRange))return"reservedRange: array expected";for(var V,F=0;F<k.reservedRange.length;++F)if(V=v.google.protobuf.DescriptorProto.ReservedRange.verify(k.reservedRange[F]))return"reservedRange."+V}if(k.reservedName!=null&&k.hasOwnProperty("reservedName")){if(!Array.isArray(k.reservedName))return"reservedName: array expected";for(F=0;F<k.reservedName.length;++F)if(!S.isString(k.reservedName[F]))return"reservedName: string[] expected"}return null},Q.fromObject=function(k){if(k instanceof v.google.protobuf.DescriptorProto)return k;var F=new v.google.protobuf.DescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.field){if(!Array.isArray(k.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");F.field=[];for(var V=0;V<k.field.length;++V){if(typeof k.field[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");F.field[V]=v.google.protobuf.FieldDescriptorProto.fromObject(k.field[V])}}if(k.extension){if(!Array.isArray(k.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(F.extension=[],V=0;V<k.extension.length;++V){if(typeof k.extension[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");F.extension[V]=v.google.protobuf.FieldDescriptorProto.fromObject(k.extension[V])}}if(k.nestedType){if(!Array.isArray(k.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(F.nestedType=[],V=0;V<k.nestedType.length;++V){if(typeof k.nestedType[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");F.nestedType[V]=v.google.protobuf.DescriptorProto.fromObject(k.nestedType[V])}}if(k.enumType){if(!Array.isArray(k.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(F.enumType=[],V=0;V<k.enumType.length;++V){if(typeof k.enumType[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");F.enumType[V]=v.google.protobuf.EnumDescriptorProto.fromObject(k.enumType[V])}}if(k.extensionRange){if(!Array.isArray(k.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(F.extensionRange=[],V=0;V<k.extensionRange.length;++V){if(typeof k.extensionRange[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");F.extensionRange[V]=v.google.protobuf.DescriptorProto.ExtensionRange.fromObject(k.extensionRange[V])}}if(k.oneofDecl){if(!Array.isArray(k.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(F.oneofDecl=[],V=0;V<k.oneofDecl.length;++V){if(typeof k.oneofDecl[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");F.oneofDecl[V]=v.google.protobuf.OneofDescriptorProto.fromObject(k.oneofDecl[V])}}if(k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");F.options=v.google.protobuf.MessageOptions.fromObject(k.options)}if(k.reservedRange){if(!Array.isArray(k.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(F.reservedRange=[],V=0;V<k.reservedRange.length;++V){if(typeof k.reservedRange[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");F.reservedRange[V]=v.google.protobuf.DescriptorProto.ReservedRange.fromObject(k.reservedRange[V])}}if(k.reservedName){if(!Array.isArray(k.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(F.reservedName=[],V=0;V<k.reservedName.length;++V)F.reservedName[V]=String(k.reservedName[V])}return F},Q.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.field=[],V.nestedType=[],V.enumType=[],V.extensionRange=[],V.extension=[],V.oneofDecl=[],V.reservedRange=[],V.reservedName=[]),F.defaults&&(V.name="",V.options=null),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.field&&k.field.length){V.field=[];for(var ne=0;ne<k.field.length;++ne)V.field[ne]=v.google.protobuf.FieldDescriptorProto.toObject(k.field[ne],F)}if(k.nestedType&&k.nestedType.length)for(V.nestedType=[],ne=0;ne<k.nestedType.length;++ne)V.nestedType[ne]=v.google.protobuf.DescriptorProto.toObject(k.nestedType[ne],F);if(k.enumType&&k.enumType.length)for(V.enumType=[],ne=0;ne<k.enumType.length;++ne)V.enumType[ne]=v.google.protobuf.EnumDescriptorProto.toObject(k.enumType[ne],F);if(k.extensionRange&&k.extensionRange.length)for(V.extensionRange=[],ne=0;ne<k.extensionRange.length;++ne)V.extensionRange[ne]=v.google.protobuf.DescriptorProto.ExtensionRange.toObject(k.extensionRange[ne],F);if(k.extension&&k.extension.length)for(V.extension=[],ne=0;ne<k.extension.length;++ne)V.extension[ne]=v.google.protobuf.FieldDescriptorProto.toObject(k.extension[ne],F);if(k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.MessageOptions.toObject(k.options,F)),k.oneofDecl&&k.oneofDecl.length)for(V.oneofDecl=[],ne=0;ne<k.oneofDecl.length;++ne)V.oneofDecl[ne]=v.google.protobuf.OneofDescriptorProto.toObject(k.oneofDecl[ne],F);if(k.reservedRange&&k.reservedRange.length)for(V.reservedRange=[],ne=0;ne<k.reservedRange.length;++ne)V.reservedRange[ne]=v.google.protobuf.DescriptorProto.ReservedRange.toObject(k.reservedRange[ne],F);if(k.reservedName&&k.reservedName.length)for(V.reservedName=[],ne=0;ne<k.reservedName.length;++ne)V.reservedName[ne]=k.reservedName[ne];return V},Q.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Q.ExtensionRange=(W.prototype.start=0,W.prototype.end=0,W.prototype.options=null,W.create=function(k){return new W(k)},W.encode=function(k,F){return F=F||_.create(),k.start!=null&&Object.hasOwnProperty.call(k,"start")&&F.uint32(8).int32(k.start),k.end!=null&&Object.hasOwnProperty.call(k,"end")&&F.uint32(16).int32(k.end),k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.ExtensionRangeOptions.encode(k.options,F.uint32(26).fork()).ldelim(),F},W.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},W.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.DescriptorProto.ExtensionRange;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.start=k.int32();break;case 2:ne.end=k.int32();break;case 3:ne.options=v.google.protobuf.ExtensionRangeOptions.decode(k,k.uint32());break;default:k.skipType(7&ue)}}return ne},W.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},W.verify=function(k){return typeof k!="object"||k===null?"object expected":k.start!=null&&k.hasOwnProperty("start")&&!S.isInteger(k.start)?"start: integer expected":k.end!=null&&k.hasOwnProperty("end")&&!S.isInteger(k.end)?"end: integer expected":k.options!=null&&k.hasOwnProperty("options")&&(k=v.google.protobuf.ExtensionRangeOptions.verify(k.options),k)?"options."+k:null},W.fromObject=function(k){if(k instanceof v.google.protobuf.DescriptorProto.ExtensionRange)return k;var F=new v.google.protobuf.DescriptorProto.ExtensionRange;if(k.start!=null&&(F.start=0|k.start),k.end!=null&&(F.end=0|k.end),k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");F.options=v.google.protobuf.ExtensionRangeOptions.fromObject(k.options)}return F},W.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.start=0,V.end=0,V.options=null),k.start!=null&&k.hasOwnProperty("start")&&(V.start=k.start),k.end!=null&&k.hasOwnProperty("end")&&(V.end=k.end),k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.ExtensionRangeOptions.toObject(k.options,F)),V},W.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},W),Q.ReservedRange=(Z.prototype.start=0,Z.prototype.end=0,Z.create=function(k){return new Z(k)},Z.encode=function(k,F){return F=F||_.create(),k.start!=null&&Object.hasOwnProperty.call(k,"start")&&F.uint32(8).int32(k.start),k.end!=null&&Object.hasOwnProperty.call(k,"end")&&F.uint32(16).int32(k.end),F},Z.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Z.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.DescriptorProto.ReservedRange;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.start=k.int32();break;case 2:ne.end=k.int32();break;default:k.skipType(7&ue)}}return ne},Z.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Z.verify=function(k){return typeof k!="object"||k===null?"object expected":k.start!=null&&k.hasOwnProperty("start")&&!S.isInteger(k.start)?"start: integer expected":k.end!=null&&k.hasOwnProperty("end")&&!S.isInteger(k.end)?"end: integer expected":null},Z.fromObject=function(k){var F;return k instanceof v.google.protobuf.DescriptorProto.ReservedRange?k:(F=new v.google.protobuf.DescriptorProto.ReservedRange,k.start!=null&&(F.start=0|k.start),k.end!=null&&(F.end=0|k.end),F)},Z.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.start=0,V.end=0),k.start!=null&&k.hasOwnProperty("start")&&(V.start=k.start),k.end!=null&&k.hasOwnProperty("end")&&(V.end=k.end),V},Z.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Z),Q),p.ExtensionRangeOptions=(te.prototype.uninterpretedOption=S.emptyArray,te.create=function(k){return new te(k)},te.encode=function(k,F){if(F=F||_.create(),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},te.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},te.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.ExtensionRangeOptions;k.pos<V;){var ue=k.uint32();ue>>>3==999?(ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()))):k.skipType(7&ue)}return ne},te.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},te.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},te.fromObject=function(k){if(k instanceof v.google.protobuf.ExtensionRangeOptions)return k;var F=new v.google.protobuf.ExtensionRangeOptions;if(k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},te.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},te.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},te),p.FieldDescriptorProto=(ee.prototype.name="",ee.prototype.number=0,ee.prototype.label=1,ee.prototype.type=1,ee.prototype.typeName="",ee.prototype.extendee="",ee.prototype.defaultValue="",ee.prototype.oneofIndex=0,ee.prototype.jsonName="",ee.prototype.options=null,ee.prototype.proto3Optional=!1,ee.create=function(k){return new ee(k)},ee.encode=function(k,F){return F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.extendee!=null&&Object.hasOwnProperty.call(k,"extendee")&&F.uint32(18).string(k.extendee),k.number!=null&&Object.hasOwnProperty.call(k,"number")&&F.uint32(24).int32(k.number),k.label!=null&&Object.hasOwnProperty.call(k,"label")&&F.uint32(32).int32(k.label),k.type!=null&&Object.hasOwnProperty.call(k,"type")&&F.uint32(40).int32(k.type),k.typeName!=null&&Object.hasOwnProperty.call(k,"typeName")&&F.uint32(50).string(k.typeName),k.defaultValue!=null&&Object.hasOwnProperty.call(k,"defaultValue")&&F.uint32(58).string(k.defaultValue),k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.FieldOptions.encode(k.options,F.uint32(66).fork()).ldelim(),k.oneofIndex!=null&&Object.hasOwnProperty.call(k,"oneofIndex")&&F.uint32(72).int32(k.oneofIndex),k.jsonName!=null&&Object.hasOwnProperty.call(k,"jsonName")&&F.uint32(82).string(k.jsonName),k.proto3Optional!=null&&Object.hasOwnProperty.call(k,"proto3Optional")&&F.uint32(136).bool(k.proto3Optional),F},ee.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},ee.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.FieldDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 3:ne.number=k.int32();break;case 4:ne.label=k.int32();break;case 5:ne.type=k.int32();break;case 6:ne.typeName=k.string();break;case 2:ne.extendee=k.string();break;case 7:ne.defaultValue=k.string();break;case 9:ne.oneofIndex=k.int32();break;case 10:ne.jsonName=k.string();break;case 8:ne.options=v.google.protobuf.FieldOptions.decode(k,k.uint32());break;case 17:ne.proto3Optional=k.bool();break;default:k.skipType(7&ue)}}return ne},ee.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},ee.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.number!=null&&k.hasOwnProperty("number")&&!S.isInteger(k.number))return"number: integer expected";if(k.label!=null&&k.hasOwnProperty("label"))switch(k.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(k.type!=null&&k.hasOwnProperty("type"))switch(k.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(k.typeName!=null&&k.hasOwnProperty("typeName")&&!S.isString(k.typeName))return"typeName: string expected";if(k.extendee!=null&&k.hasOwnProperty("extendee")&&!S.isString(k.extendee))return"extendee: string expected";if(k.defaultValue!=null&&k.hasOwnProperty("defaultValue")&&!S.isString(k.defaultValue))return"defaultValue: string expected";if(k.oneofIndex!=null&&k.hasOwnProperty("oneofIndex")&&!S.isInteger(k.oneofIndex))return"oneofIndex: integer expected";if(k.jsonName!=null&&k.hasOwnProperty("jsonName")&&!S.isString(k.jsonName))return"jsonName: string expected";if(k.options!=null&&k.hasOwnProperty("options")){var F=v.google.protobuf.FieldOptions.verify(k.options);if(F)return"options."+F}return k.proto3Optional!=null&&k.hasOwnProperty("proto3Optional")&&typeof k.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},ee.fromObject=function(k){if(k instanceof v.google.protobuf.FieldDescriptorProto)return k;var F=new v.google.protobuf.FieldDescriptorProto;switch(k.name!=null&&(F.name=String(k.name)),k.number!=null&&(F.number=0|k.number),k.label){case"LABEL_OPTIONAL":case 1:F.label=1;break;case"LABEL_REQUIRED":case 2:F.label=2;break;case"LABEL_REPEATED":case 3:F.label=3}switch(k.type){case"TYPE_DOUBLE":case 1:F.type=1;break;case"TYPE_FLOAT":case 2:F.type=2;break;case"TYPE_INT64":case 3:F.type=3;break;case"TYPE_UINT64":case 4:F.type=4;break;case"TYPE_INT32":case 5:F.type=5;break;case"TYPE_FIXED64":case 6:F.type=6;break;case"TYPE_FIXED32":case 7:F.type=7;break;case"TYPE_BOOL":case 8:F.type=8;break;case"TYPE_STRING":case 9:F.type=9;break;case"TYPE_GROUP":case 10:F.type=10;break;case"TYPE_MESSAGE":case 11:F.type=11;break;case"TYPE_BYTES":case 12:F.type=12;break;case"TYPE_UINT32":case 13:F.type=13;break;case"TYPE_ENUM":case 14:F.type=14;break;case"TYPE_SFIXED32":case 15:F.type=15;break;case"TYPE_SFIXED64":case 16:F.type=16;break;case"TYPE_SINT32":case 17:F.type=17;break;case"TYPE_SINT64":case 18:F.type=18}if(k.typeName!=null&&(F.typeName=String(k.typeName)),k.extendee!=null&&(F.extendee=String(k.extendee)),k.defaultValue!=null&&(F.defaultValue=String(k.defaultValue)),k.oneofIndex!=null&&(F.oneofIndex=0|k.oneofIndex),k.jsonName!=null&&(F.jsonName=String(k.jsonName)),k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");F.options=v.google.protobuf.FieldOptions.fromObject(k.options)}return k.proto3Optional!=null&&(F.proto3Optional=!!k.proto3Optional),F},ee.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.name="",V.extendee="",V.number=0,V.label=F.enums===String?"LABEL_OPTIONAL":1,V.type=F.enums===String?"TYPE_DOUBLE":1,V.typeName="",V.defaultValue="",V.options=null,V.oneofIndex=0,V.jsonName="",V.proto3Optional=!1),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.extendee!=null&&k.hasOwnProperty("extendee")&&(V.extendee=k.extendee),k.number!=null&&k.hasOwnProperty("number")&&(V.number=k.number),k.label!=null&&k.hasOwnProperty("label")&&(V.label=F.enums===String?v.google.protobuf.FieldDescriptorProto.Label[k.label]:k.label),k.type!=null&&k.hasOwnProperty("type")&&(V.type=F.enums===String?v.google.protobuf.FieldDescriptorProto.Type[k.type]:k.type),k.typeName!=null&&k.hasOwnProperty("typeName")&&(V.typeName=k.typeName),k.defaultValue!=null&&k.hasOwnProperty("defaultValue")&&(V.defaultValue=k.defaultValue),k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.FieldOptions.toObject(k.options,F)),k.oneofIndex!=null&&k.hasOwnProperty("oneofIndex")&&(V.oneofIndex=k.oneofIndex),k.jsonName!=null&&k.hasOwnProperty("jsonName")&&(V.jsonName=k.jsonName),k.proto3Optional!=null&&k.hasOwnProperty("proto3Optional")&&(V.proto3Optional=k.proto3Optional),V},ee.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ee.Type=(o={},(l=Object.create(o))[o[1]="TYPE_DOUBLE"]=1,l[o[2]="TYPE_FLOAT"]=2,l[o[3]="TYPE_INT64"]=3,l[o[4]="TYPE_UINT64"]=4,l[o[5]="TYPE_INT32"]=5,l[o[6]="TYPE_FIXED64"]=6,l[o[7]="TYPE_FIXED32"]=7,l[o[8]="TYPE_BOOL"]=8,l[o[9]="TYPE_STRING"]=9,l[o[10]="TYPE_GROUP"]=10,l[o[11]="TYPE_MESSAGE"]=11,l[o[12]="TYPE_BYTES"]=12,l[o[13]="TYPE_UINT32"]=13,l[o[14]="TYPE_ENUM"]=14,l[o[15]="TYPE_SFIXED32"]=15,l[o[16]="TYPE_SFIXED64"]=16,l[o[17]="TYPE_SINT32"]=17,l[o[18]="TYPE_SINT64"]=18,l),ee.Label=(o={},(l=Object.create(o))[o[1]="LABEL_OPTIONAL"]=1,l[o[2]="LABEL_REQUIRED"]=2,l[o[3]="LABEL_REPEATED"]=3,l),ee),p.OneofDescriptorProto=(ie.prototype.name="",ie.prototype.options=null,ie.create=function(k){return new ie(k)},ie.encode=function(k,F){return F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.OneofOptions.encode(k.options,F.uint32(18).fork()).ldelim(),F},ie.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},ie.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.OneofDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.options=v.google.protobuf.OneofOptions.decode(k,k.uint32());break;default:k.skipType(7&ue)}}return ne},ie.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},ie.verify=function(k){return typeof k!="object"||k===null?"object expected":k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name)?"name: string expected":k.options!=null&&k.hasOwnProperty("options")&&(k=v.google.protobuf.OneofOptions.verify(k.options),k)?"options."+k:null},ie.fromObject=function(k){if(k instanceof v.google.protobuf.OneofDescriptorProto)return k;var F=new v.google.protobuf.OneofDescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");F.options=v.google.protobuf.OneofOptions.fromObject(k.options)}return F},ie.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.name="",V.options=null),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.OneofOptions.toObject(k.options,F)),V},ie.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ie),p.EnumDescriptorProto=(oe.prototype.name="",oe.prototype.value=S.emptyArray,oe.prototype.options=null,oe.prototype.reservedRange=S.emptyArray,oe.prototype.reservedName=S.emptyArray,oe.create=function(k){return new oe(k)},oe.encode=function(k,F){if(F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.value!=null&&k.value.length)for(var V=0;V<k.value.length;++V)v.google.protobuf.EnumValueDescriptorProto.encode(k.value[V],F.uint32(18).fork()).ldelim();if(k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.EnumOptions.encode(k.options,F.uint32(26).fork()).ldelim(),k.reservedRange!=null&&k.reservedRange.length)for(V=0;V<k.reservedRange.length;++V)v.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(k.reservedRange[V],F.uint32(34).fork()).ldelim();if(k.reservedName!=null&&k.reservedName.length)for(V=0;V<k.reservedName.length;++V)F.uint32(42).string(k.reservedName[V]);return F},oe.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},oe.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.EnumDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.value&&ne.value.length||(ne.value=[]),ne.value.push(v.google.protobuf.EnumValueDescriptorProto.decode(k,k.uint32()));break;case 3:ne.options=v.google.protobuf.EnumOptions.decode(k,k.uint32());break;case 4:ne.reservedRange&&ne.reservedRange.length||(ne.reservedRange=[]),ne.reservedRange.push(v.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(k,k.uint32()));break;case 5:ne.reservedName&&ne.reservedName.length||(ne.reservedName=[]),ne.reservedName.push(k.string());break;default:k.skipType(7&ue)}}return ne},oe.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},oe.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.value!=null&&k.hasOwnProperty("value")){if(!Array.isArray(k.value))return"value: array expected";for(var F=0;F<k.value.length;++F)if(V=v.google.protobuf.EnumValueDescriptorProto.verify(k.value[F]))return"value."+V}if(k.options!=null&&k.hasOwnProperty("options")&&(V=v.google.protobuf.EnumOptions.verify(k.options)))return"options."+V;if(k.reservedRange!=null&&k.hasOwnProperty("reservedRange")){if(!Array.isArray(k.reservedRange))return"reservedRange: array expected";for(var V,F=0;F<k.reservedRange.length;++F)if(V=v.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(k.reservedRange[F]))return"reservedRange."+V}if(k.reservedName!=null&&k.hasOwnProperty("reservedName")){if(!Array.isArray(k.reservedName))return"reservedName: array expected";for(F=0;F<k.reservedName.length;++F)if(!S.isString(k.reservedName[F]))return"reservedName: string[] expected"}return null},oe.fromObject=function(k){if(k instanceof v.google.protobuf.EnumDescriptorProto)return k;var F=new v.google.protobuf.EnumDescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.value){if(!Array.isArray(k.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");F.value=[];for(var V=0;V<k.value.length;++V){if(typeof k.value[V]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");F.value[V]=v.google.protobuf.EnumValueDescriptorProto.fromObject(k.value[V])}}if(k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");F.options=v.google.protobuf.EnumOptions.fromObject(k.options)}if(k.reservedRange){if(!Array.isArray(k.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(F.reservedRange=[],V=0;V<k.reservedRange.length;++V){if(typeof k.reservedRange[V]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");F.reservedRange[V]=v.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(k.reservedRange[V])}}if(k.reservedName){if(!Array.isArray(k.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(F.reservedName=[],V=0;V<k.reservedName.length;++V)F.reservedName[V]=String(k.reservedName[V])}return F},oe.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.value=[],V.reservedRange=[],V.reservedName=[]),F.defaults&&(V.name="",V.options=null),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.value&&k.value.length){V.value=[];for(var ne=0;ne<k.value.length;++ne)V.value[ne]=v.google.protobuf.EnumValueDescriptorProto.toObject(k.value[ne],F)}if(k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.EnumOptions.toObject(k.options,F)),k.reservedRange&&k.reservedRange.length)for(V.reservedRange=[],ne=0;ne<k.reservedRange.length;++ne)V.reservedRange[ne]=v.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(k.reservedRange[ne],F);if(k.reservedName&&k.reservedName.length)for(V.reservedName=[],ne=0;ne<k.reservedName.length;++ne)V.reservedName[ne]=k.reservedName[ne];return V},oe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},oe.EnumReservedRange=(se.prototype.start=0,se.prototype.end=0,se.create=function(k){return new se(k)},se.encode=function(k,F){return F=F||_.create(),k.start!=null&&Object.hasOwnProperty.call(k,"start")&&F.uint32(8).int32(k.start),k.end!=null&&Object.hasOwnProperty.call(k,"end")&&F.uint32(16).int32(k.end),F},se.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},se.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.EnumDescriptorProto.EnumReservedRange;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.start=k.int32();break;case 2:ne.end=k.int32();break;default:k.skipType(7&ue)}}return ne},se.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},se.verify=function(k){return typeof k!="object"||k===null?"object expected":k.start!=null&&k.hasOwnProperty("start")&&!S.isInteger(k.start)?"start: integer expected":k.end!=null&&k.hasOwnProperty("end")&&!S.isInteger(k.end)?"end: integer expected":null},se.fromObject=function(k){var F;return k instanceof v.google.protobuf.EnumDescriptorProto.EnumReservedRange?k:(F=new v.google.protobuf.EnumDescriptorProto.EnumReservedRange,k.start!=null&&(F.start=0|k.start),k.end!=null&&(F.end=0|k.end),F)},se.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.start=0,V.end=0),k.start!=null&&k.hasOwnProperty("start")&&(V.start=k.start),k.end!=null&&k.hasOwnProperty("end")&&(V.end=k.end),V},se.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},se),oe),p.EnumValueDescriptorProto=(le.prototype.name="",le.prototype.number=0,le.prototype.options=null,le.create=function(k){return new le(k)},le.encode=function(k,F){return F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.number!=null&&Object.hasOwnProperty.call(k,"number")&&F.uint32(16).int32(k.number),k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.EnumValueOptions.encode(k.options,F.uint32(26).fork()).ldelim(),F},le.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},le.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.EnumValueDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.number=k.int32();break;case 3:ne.options=v.google.protobuf.EnumValueOptions.decode(k,k.uint32());break;default:k.skipType(7&ue)}}return ne},le.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},le.verify=function(k){return typeof k!="object"||k===null?"object expected":k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name)?"name: string expected":k.number!=null&&k.hasOwnProperty("number")&&!S.isInteger(k.number)?"number: integer expected":k.options!=null&&k.hasOwnProperty("options")&&(k=v.google.protobuf.EnumValueOptions.verify(k.options),k)?"options."+k:null},le.fromObject=function(k){if(k instanceof v.google.protobuf.EnumValueDescriptorProto)return k;var F=new v.google.protobuf.EnumValueDescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.number!=null&&(F.number=0|k.number),k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");F.options=v.google.protobuf.EnumValueOptions.fromObject(k.options)}return F},le.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.name="",V.number=0,V.options=null),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.number!=null&&k.hasOwnProperty("number")&&(V.number=k.number),k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.EnumValueOptions.toObject(k.options,F)),V},le.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},le),p.ServiceDescriptorProto=(de.prototype.name="",de.prototype.method=S.emptyArray,de.prototype.options=null,de.create=function(k){return new de(k)},de.encode=function(k,F){if(F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.method!=null&&k.method.length)for(var V=0;V<k.method.length;++V)v.google.protobuf.MethodDescriptorProto.encode(k.method[V],F.uint32(18).fork()).ldelim();return k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.ServiceOptions.encode(k.options,F.uint32(26).fork()).ldelim(),F},de.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},de.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.ServiceDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.method&&ne.method.length||(ne.method=[]),ne.method.push(v.google.protobuf.MethodDescriptorProto.decode(k,k.uint32()));break;case 3:ne.options=v.google.protobuf.ServiceOptions.decode(k,k.uint32());break;default:k.skipType(7&ue)}}return ne},de.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},de.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.method!=null&&k.hasOwnProperty("method")){if(!Array.isArray(k.method))return"method: array expected";for(var F=0;F<k.method.length;++F)if(V=v.google.protobuf.MethodDescriptorProto.verify(k.method[F]))return"method."+V}var V;return k.options!=null&&k.hasOwnProperty("options")&&(V=v.google.protobuf.ServiceOptions.verify(k.options))?"options."+V:null},de.fromObject=function(k){if(k instanceof v.google.protobuf.ServiceDescriptorProto)return k;var F=new v.google.protobuf.ServiceDescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.method){if(!Array.isArray(k.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");F.method=[];for(var V=0;V<k.method.length;++V){if(typeof k.method[V]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");F.method[V]=v.google.protobuf.MethodDescriptorProto.fromObject(k.method[V])}}if(k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");F.options=v.google.protobuf.ServiceOptions.fromObject(k.options)}return F},de.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.method=[]),F.defaults&&(V.name="",V.options=null),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.method&&k.method.length){V.method=[];for(var ne=0;ne<k.method.length;++ne)V.method[ne]=v.google.protobuf.MethodDescriptorProto.toObject(k.method[ne],F)}return k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.ServiceOptions.toObject(k.options,F)),V},de.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},de),p.MethodDescriptorProto=(pe.prototype.name="",pe.prototype.inputType="",pe.prototype.outputType="",pe.prototype.options=null,pe.prototype.clientStreaming=!1,pe.prototype.serverStreaming=!1,pe.create=function(k){return new pe(k)},pe.encode=function(k,F){return F=F||_.create(),k.name!=null&&Object.hasOwnProperty.call(k,"name")&&F.uint32(10).string(k.name),k.inputType!=null&&Object.hasOwnProperty.call(k,"inputType")&&F.uint32(18).string(k.inputType),k.outputType!=null&&Object.hasOwnProperty.call(k,"outputType")&&F.uint32(26).string(k.outputType),k.options!=null&&Object.hasOwnProperty.call(k,"options")&&v.google.protobuf.MethodOptions.encode(k.options,F.uint32(34).fork()).ldelim(),k.clientStreaming!=null&&Object.hasOwnProperty.call(k,"clientStreaming")&&F.uint32(40).bool(k.clientStreaming),k.serverStreaming!=null&&Object.hasOwnProperty.call(k,"serverStreaming")&&F.uint32(48).bool(k.serverStreaming),F},pe.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},pe.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.MethodDescriptorProto;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.name=k.string();break;case 2:ne.inputType=k.string();break;case 3:ne.outputType=k.string();break;case 4:ne.options=v.google.protobuf.MethodOptions.decode(k,k.uint32());break;case 5:ne.clientStreaming=k.bool();break;case 6:ne.serverStreaming=k.bool();break;default:k.skipType(7&ue)}}return ne},pe.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},pe.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")&&!S.isString(k.name))return"name: string expected";if(k.inputType!=null&&k.hasOwnProperty("inputType")&&!S.isString(k.inputType))return"inputType: string expected";if(k.outputType!=null&&k.hasOwnProperty("outputType")&&!S.isString(k.outputType))return"outputType: string expected";if(k.options!=null&&k.hasOwnProperty("options")){var F=v.google.protobuf.MethodOptions.verify(k.options);if(F)return"options."+F}return k.clientStreaming!=null&&k.hasOwnProperty("clientStreaming")&&typeof k.clientStreaming!="boolean"?"clientStreaming: boolean expected":k.serverStreaming!=null&&k.hasOwnProperty("serverStreaming")&&typeof k.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},pe.fromObject=function(k){if(k instanceof v.google.protobuf.MethodDescriptorProto)return k;var F=new v.google.protobuf.MethodDescriptorProto;if(k.name!=null&&(F.name=String(k.name)),k.inputType!=null&&(F.inputType=String(k.inputType)),k.outputType!=null&&(F.outputType=String(k.outputType)),k.options!=null){if(typeof k.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");F.options=v.google.protobuf.MethodOptions.fromObject(k.options)}return k.clientStreaming!=null&&(F.clientStreaming=!!k.clientStreaming),k.serverStreaming!=null&&(F.serverStreaming=!!k.serverStreaming),F},pe.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.name="",V.inputType="",V.outputType="",V.options=null,V.clientStreaming=!1,V.serverStreaming=!1),k.name!=null&&k.hasOwnProperty("name")&&(V.name=k.name),k.inputType!=null&&k.hasOwnProperty("inputType")&&(V.inputType=k.inputType),k.outputType!=null&&k.hasOwnProperty("outputType")&&(V.outputType=k.outputType),k.options!=null&&k.hasOwnProperty("options")&&(V.options=v.google.protobuf.MethodOptions.toObject(k.options,F)),k.clientStreaming!=null&&k.hasOwnProperty("clientStreaming")&&(V.clientStreaming=k.clientStreaming),k.serverStreaming!=null&&k.hasOwnProperty("serverStreaming")&&(V.serverStreaming=k.serverStreaming),V},pe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},pe),p.FileOptions=(fe.prototype.javaPackage="",fe.prototype.javaOuterClassname="",fe.prototype.javaMultipleFiles=!1,fe.prototype.javaGenerateEqualsAndHash=!1,fe.prototype.javaStringCheckUtf8=!1,fe.prototype.optimizeFor=1,fe.prototype.goPackage="",fe.prototype.ccGenericServices=!1,fe.prototype.javaGenericServices=!1,fe.prototype.pyGenericServices=!1,fe.prototype.phpGenericServices=!1,fe.prototype.deprecated=!1,fe.prototype.ccEnableArenas=!0,fe.prototype.objcClassPrefix="",fe.prototype.csharpNamespace="",fe.prototype.swiftPrefix="",fe.prototype.phpClassPrefix="",fe.prototype.phpNamespace="",fe.prototype.phpMetadataNamespace="",fe.prototype.rubyPackage="",fe.prototype.uninterpretedOption=S.emptyArray,fe.create=function(k){return new fe(k)},fe.encode=function(k,F){if(F=F||_.create(),k.javaPackage!=null&&Object.hasOwnProperty.call(k,"javaPackage")&&F.uint32(10).string(k.javaPackage),k.javaOuterClassname!=null&&Object.hasOwnProperty.call(k,"javaOuterClassname")&&F.uint32(66).string(k.javaOuterClassname),k.optimizeFor!=null&&Object.hasOwnProperty.call(k,"optimizeFor")&&F.uint32(72).int32(k.optimizeFor),k.javaMultipleFiles!=null&&Object.hasOwnProperty.call(k,"javaMultipleFiles")&&F.uint32(80).bool(k.javaMultipleFiles),k.goPackage!=null&&Object.hasOwnProperty.call(k,"goPackage")&&F.uint32(90).string(k.goPackage),k.ccGenericServices!=null&&Object.hasOwnProperty.call(k,"ccGenericServices")&&F.uint32(128).bool(k.ccGenericServices),k.javaGenericServices!=null&&Object.hasOwnProperty.call(k,"javaGenericServices")&&F.uint32(136).bool(k.javaGenericServices),k.pyGenericServices!=null&&Object.hasOwnProperty.call(k,"pyGenericServices")&&F.uint32(144).bool(k.pyGenericServices),k.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(k,"javaGenerateEqualsAndHash")&&F.uint32(160).bool(k.javaGenerateEqualsAndHash),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(184).bool(k.deprecated),k.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(k,"javaStringCheckUtf8")&&F.uint32(216).bool(k.javaStringCheckUtf8),k.ccEnableArenas!=null&&Object.hasOwnProperty.call(k,"ccEnableArenas")&&F.uint32(248).bool(k.ccEnableArenas),k.objcClassPrefix!=null&&Object.hasOwnProperty.call(k,"objcClassPrefix")&&F.uint32(290).string(k.objcClassPrefix),k.csharpNamespace!=null&&Object.hasOwnProperty.call(k,"csharpNamespace")&&F.uint32(298).string(k.csharpNamespace),k.swiftPrefix!=null&&Object.hasOwnProperty.call(k,"swiftPrefix")&&F.uint32(314).string(k.swiftPrefix),k.phpClassPrefix!=null&&Object.hasOwnProperty.call(k,"phpClassPrefix")&&F.uint32(322).string(k.phpClassPrefix),k.phpNamespace!=null&&Object.hasOwnProperty.call(k,"phpNamespace")&&F.uint32(330).string(k.phpNamespace),k.phpGenericServices!=null&&Object.hasOwnProperty.call(k,"phpGenericServices")&&F.uint32(336).bool(k.phpGenericServices),k.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(k,"phpMetadataNamespace")&&F.uint32(354).string(k.phpMetadataNamespace),k.rubyPackage!=null&&Object.hasOwnProperty.call(k,"rubyPackage")&&F.uint32(362).string(k.rubyPackage),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},fe.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},fe.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.FileOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.javaPackage=k.string();break;case 8:ne.javaOuterClassname=k.string();break;case 10:ne.javaMultipleFiles=k.bool();break;case 20:ne.javaGenerateEqualsAndHash=k.bool();break;case 27:ne.javaStringCheckUtf8=k.bool();break;case 9:ne.optimizeFor=k.int32();break;case 11:ne.goPackage=k.string();break;case 16:ne.ccGenericServices=k.bool();break;case 17:ne.javaGenericServices=k.bool();break;case 18:ne.pyGenericServices=k.bool();break;case 42:ne.phpGenericServices=k.bool();break;case 23:ne.deprecated=k.bool();break;case 31:ne.ccEnableArenas=k.bool();break;case 36:ne.objcClassPrefix=k.string();break;case 37:ne.csharpNamespace=k.string();break;case 39:ne.swiftPrefix=k.string();break;case 40:ne.phpClassPrefix=k.string();break;case 41:ne.phpNamespace=k.string();break;case 44:ne.phpMetadataNamespace=k.string();break;case 45:ne.rubyPackage=k.string();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;default:k.skipType(7&ue)}}return ne},fe.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},fe.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.javaPackage!=null&&k.hasOwnProperty("javaPackage")&&!S.isString(k.javaPackage))return"javaPackage: string expected";if(k.javaOuterClassname!=null&&k.hasOwnProperty("javaOuterClassname")&&!S.isString(k.javaOuterClassname))return"javaOuterClassname: string expected";if(k.javaMultipleFiles!=null&&k.hasOwnProperty("javaMultipleFiles")&&typeof k.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(k.javaGenerateEqualsAndHash!=null&&k.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof k.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(k.javaStringCheckUtf8!=null&&k.hasOwnProperty("javaStringCheckUtf8")&&typeof k.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(k.optimizeFor!=null&&k.hasOwnProperty("optimizeFor"))switch(k.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(k.goPackage!=null&&k.hasOwnProperty("goPackage")&&!S.isString(k.goPackage))return"goPackage: string expected";if(k.ccGenericServices!=null&&k.hasOwnProperty("ccGenericServices")&&typeof k.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(k.javaGenericServices!=null&&k.hasOwnProperty("javaGenericServices")&&typeof k.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(k.pyGenericServices!=null&&k.hasOwnProperty("pyGenericServices")&&typeof k.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(k.phpGenericServices!=null&&k.hasOwnProperty("phpGenericServices")&&typeof k.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.ccEnableArenas!=null&&k.hasOwnProperty("ccEnableArenas")&&typeof k.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(k.objcClassPrefix!=null&&k.hasOwnProperty("objcClassPrefix")&&!S.isString(k.objcClassPrefix))return"objcClassPrefix: string expected";if(k.csharpNamespace!=null&&k.hasOwnProperty("csharpNamespace")&&!S.isString(k.csharpNamespace))return"csharpNamespace: string expected";if(k.swiftPrefix!=null&&k.hasOwnProperty("swiftPrefix")&&!S.isString(k.swiftPrefix))return"swiftPrefix: string expected";if(k.phpClassPrefix!=null&&k.hasOwnProperty("phpClassPrefix")&&!S.isString(k.phpClassPrefix))return"phpClassPrefix: string expected";if(k.phpNamespace!=null&&k.hasOwnProperty("phpNamespace")&&!S.isString(k.phpNamespace))return"phpNamespace: string expected";if(k.phpMetadataNamespace!=null&&k.hasOwnProperty("phpMetadataNamespace")&&!S.isString(k.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(k.rubyPackage!=null&&k.hasOwnProperty("rubyPackage")&&!S.isString(k.rubyPackage))return"rubyPackage: string expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},fe.fromObject=function(k){if(k instanceof v.google.protobuf.FileOptions)return k;var F=new v.google.protobuf.FileOptions;switch(k.javaPackage!=null&&(F.javaPackage=String(k.javaPackage)),k.javaOuterClassname!=null&&(F.javaOuterClassname=String(k.javaOuterClassname)),k.javaMultipleFiles!=null&&(F.javaMultipleFiles=!!k.javaMultipleFiles),k.javaGenerateEqualsAndHash!=null&&(F.javaGenerateEqualsAndHash=!!k.javaGenerateEqualsAndHash),k.javaStringCheckUtf8!=null&&(F.javaStringCheckUtf8=!!k.javaStringCheckUtf8),k.optimizeFor){case"SPEED":case 1:F.optimizeFor=1;break;case"CODE_SIZE":case 2:F.optimizeFor=2;break;case"LITE_RUNTIME":case 3:F.optimizeFor=3}if(k.goPackage!=null&&(F.goPackage=String(k.goPackage)),k.ccGenericServices!=null&&(F.ccGenericServices=!!k.ccGenericServices),k.javaGenericServices!=null&&(F.javaGenericServices=!!k.javaGenericServices),k.pyGenericServices!=null&&(F.pyGenericServices=!!k.pyGenericServices),k.phpGenericServices!=null&&(F.phpGenericServices=!!k.phpGenericServices),k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.ccEnableArenas!=null&&(F.ccEnableArenas=!!k.ccEnableArenas),k.objcClassPrefix!=null&&(F.objcClassPrefix=String(k.objcClassPrefix)),k.csharpNamespace!=null&&(F.csharpNamespace=String(k.csharpNamespace)),k.swiftPrefix!=null&&(F.swiftPrefix=String(k.swiftPrefix)),k.phpClassPrefix!=null&&(F.phpClassPrefix=String(k.phpClassPrefix)),k.phpNamespace!=null&&(F.phpNamespace=String(k.phpNamespace)),k.phpMetadataNamespace!=null&&(F.phpMetadataNamespace=String(k.phpMetadataNamespace)),k.rubyPackage!=null&&(F.rubyPackage=String(k.rubyPackage)),k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},fe.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),F.defaults&&(V.javaPackage="",V.javaOuterClassname="",V.optimizeFor=F.enums===String?"SPEED":1,V.javaMultipleFiles=!1,V.goPackage="",V.ccGenericServices=!1,V.javaGenericServices=!1,V.pyGenericServices=!1,V.javaGenerateEqualsAndHash=!1,V.deprecated=!1,V.javaStringCheckUtf8=!1,V.ccEnableArenas=!0,V.objcClassPrefix="",V.csharpNamespace="",V.swiftPrefix="",V.phpClassPrefix="",V.phpNamespace="",V.phpGenericServices=!1,V.phpMetadataNamespace="",V.rubyPackage=""),k.javaPackage!=null&&k.hasOwnProperty("javaPackage")&&(V.javaPackage=k.javaPackage),k.javaOuterClassname!=null&&k.hasOwnProperty("javaOuterClassname")&&(V.javaOuterClassname=k.javaOuterClassname),k.optimizeFor!=null&&k.hasOwnProperty("optimizeFor")&&(V.optimizeFor=F.enums===String?v.google.protobuf.FileOptions.OptimizeMode[k.optimizeFor]:k.optimizeFor),k.javaMultipleFiles!=null&&k.hasOwnProperty("javaMultipleFiles")&&(V.javaMultipleFiles=k.javaMultipleFiles),k.goPackage!=null&&k.hasOwnProperty("goPackage")&&(V.goPackage=k.goPackage),k.ccGenericServices!=null&&k.hasOwnProperty("ccGenericServices")&&(V.ccGenericServices=k.ccGenericServices),k.javaGenericServices!=null&&k.hasOwnProperty("javaGenericServices")&&(V.javaGenericServices=k.javaGenericServices),k.pyGenericServices!=null&&k.hasOwnProperty("pyGenericServices")&&(V.pyGenericServices=k.pyGenericServices),k.javaGenerateEqualsAndHash!=null&&k.hasOwnProperty("javaGenerateEqualsAndHash")&&(V.javaGenerateEqualsAndHash=k.javaGenerateEqualsAndHash),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.javaStringCheckUtf8!=null&&k.hasOwnProperty("javaStringCheckUtf8")&&(V.javaStringCheckUtf8=k.javaStringCheckUtf8),k.ccEnableArenas!=null&&k.hasOwnProperty("ccEnableArenas")&&(V.ccEnableArenas=k.ccEnableArenas),k.objcClassPrefix!=null&&k.hasOwnProperty("objcClassPrefix")&&(V.objcClassPrefix=k.objcClassPrefix),k.csharpNamespace!=null&&k.hasOwnProperty("csharpNamespace")&&(V.csharpNamespace=k.csharpNamespace),k.swiftPrefix!=null&&k.hasOwnProperty("swiftPrefix")&&(V.swiftPrefix=k.swiftPrefix),k.phpClassPrefix!=null&&k.hasOwnProperty("phpClassPrefix")&&(V.phpClassPrefix=k.phpClassPrefix),k.phpNamespace!=null&&k.hasOwnProperty("phpNamespace")&&(V.phpNamespace=k.phpNamespace),k.phpGenericServices!=null&&k.hasOwnProperty("phpGenericServices")&&(V.phpGenericServices=k.phpGenericServices),k.phpMetadataNamespace!=null&&k.hasOwnProperty("phpMetadataNamespace")&&(V.phpMetadataNamespace=k.phpMetadataNamespace),k.rubyPackage!=null&&k.hasOwnProperty("rubyPackage")&&(V.rubyPackage=k.rubyPackage),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},fe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},fe.OptimizeMode=(o={},(l=Object.create(o))[o[1]="SPEED"]=1,l[o[2]="CODE_SIZE"]=2,l[o[3]="LITE_RUNTIME"]=3,l),fe),p.MessageOptions=(he.prototype.messageSetWireFormat=!1,he.prototype.noStandardDescriptorAccessor=!1,he.prototype.deprecated=!1,he.prototype.mapEntry=!1,he.prototype.uninterpretedOption=S.emptyArray,he.create=function(k){return new he(k)},he.encode=function(k,F){if(F=F||_.create(),k.messageSetWireFormat!=null&&Object.hasOwnProperty.call(k,"messageSetWireFormat")&&F.uint32(8).bool(k.messageSetWireFormat),k.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(k,"noStandardDescriptorAccessor")&&F.uint32(16).bool(k.noStandardDescriptorAccessor),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(24).bool(k.deprecated),k.mapEntry!=null&&Object.hasOwnProperty.call(k,"mapEntry")&&F.uint32(56).bool(k.mapEntry),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},he.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},he.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.MessageOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.messageSetWireFormat=k.bool();break;case 2:ne.noStandardDescriptorAccessor=k.bool();break;case 3:ne.deprecated=k.bool();break;case 7:ne.mapEntry=k.bool();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;default:k.skipType(7&ue)}}return ne},he.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},he.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.messageSetWireFormat!=null&&k.hasOwnProperty("messageSetWireFormat")&&typeof k.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(k.noStandardDescriptorAccessor!=null&&k.hasOwnProperty("noStandardDescriptorAccessor")&&typeof k.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.mapEntry!=null&&k.hasOwnProperty("mapEntry")&&typeof k.mapEntry!="boolean")return"mapEntry: boolean expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},he.fromObject=function(k){if(k instanceof v.google.protobuf.MessageOptions)return k;var F=new v.google.protobuf.MessageOptions;if(k.messageSetWireFormat!=null&&(F.messageSetWireFormat=!!k.messageSetWireFormat),k.noStandardDescriptorAccessor!=null&&(F.noStandardDescriptorAccessor=!!k.noStandardDescriptorAccessor),k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.mapEntry!=null&&(F.mapEntry=!!k.mapEntry),k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},he.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),F.defaults&&(V.messageSetWireFormat=!1,V.noStandardDescriptorAccessor=!1,V.deprecated=!1,V.mapEntry=!1),k.messageSetWireFormat!=null&&k.hasOwnProperty("messageSetWireFormat")&&(V.messageSetWireFormat=k.messageSetWireFormat),k.noStandardDescriptorAccessor!=null&&k.hasOwnProperty("noStandardDescriptorAccessor")&&(V.noStandardDescriptorAccessor=k.noStandardDescriptorAccessor),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.mapEntry!=null&&k.hasOwnProperty("mapEntry")&&(V.mapEntry=k.mapEntry),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},he.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},he),p.FieldOptions=(ge.prototype.ctype=0,ge.prototype.packed=!1,ge.prototype.jstype=0,ge.prototype.lazy=!1,ge.prototype.deprecated=!1,ge.prototype.weak=!1,ge.prototype.uninterpretedOption=S.emptyArray,ge.create=function(k){return new ge(k)},ge.encode=function(k,F){if(F=F||_.create(),k.ctype!=null&&Object.hasOwnProperty.call(k,"ctype")&&F.uint32(8).int32(k.ctype),k.packed!=null&&Object.hasOwnProperty.call(k,"packed")&&F.uint32(16).bool(k.packed),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(24).bool(k.deprecated),k.lazy!=null&&Object.hasOwnProperty.call(k,"lazy")&&F.uint32(40).bool(k.lazy),k.jstype!=null&&Object.hasOwnProperty.call(k,"jstype")&&F.uint32(48).int32(k.jstype),k.weak!=null&&Object.hasOwnProperty.call(k,"weak")&&F.uint32(80).bool(k.weak),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},ge.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},ge.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.FieldOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.ctype=k.int32();break;case 2:ne.packed=k.bool();break;case 6:ne.jstype=k.int32();break;case 5:ne.lazy=k.bool();break;case 3:ne.deprecated=k.bool();break;case 10:ne.weak=k.bool();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;default:k.skipType(7&ue)}}return ne},ge.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},ge.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.ctype!=null&&k.hasOwnProperty("ctype"))switch(k.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(k.packed!=null&&k.hasOwnProperty("packed")&&typeof k.packed!="boolean")return"packed: boolean expected";if(k.jstype!=null&&k.hasOwnProperty("jstype"))switch(k.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(k.lazy!=null&&k.hasOwnProperty("lazy")&&typeof k.lazy!="boolean")return"lazy: boolean expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.weak!=null&&k.hasOwnProperty("weak")&&typeof k.weak!="boolean")return"weak: boolean expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},ge.fromObject=function(k){if(k instanceof v.google.protobuf.FieldOptions)return k;var F=new v.google.protobuf.FieldOptions;switch(k.ctype){case"STRING":case 0:F.ctype=0;break;case"CORD":case 1:F.ctype=1;break;case"STRING_PIECE":case 2:F.ctype=2}switch(k.packed!=null&&(F.packed=!!k.packed),k.jstype){case"JS_NORMAL":case 0:F.jstype=0;break;case"JS_STRING":case 1:F.jstype=1;break;case"JS_NUMBER":case 2:F.jstype=2}if(k.lazy!=null&&(F.lazy=!!k.lazy),k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.weak!=null&&(F.weak=!!k.weak),k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},ge.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),F.defaults&&(V.ctype=F.enums===String?"STRING":0,V.packed=!1,V.deprecated=!1,V.lazy=!1,V.jstype=F.enums===String?"JS_NORMAL":0,V.weak=!1),k.ctype!=null&&k.hasOwnProperty("ctype")&&(V.ctype=F.enums===String?v.google.protobuf.FieldOptions.CType[k.ctype]:k.ctype),k.packed!=null&&k.hasOwnProperty("packed")&&(V.packed=k.packed),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.lazy!=null&&k.hasOwnProperty("lazy")&&(V.lazy=k.lazy),k.jstype!=null&&k.hasOwnProperty("jstype")&&(V.jstype=F.enums===String?v.google.protobuf.FieldOptions.JSType[k.jstype]:k.jstype),k.weak!=null&&k.hasOwnProperty("weak")&&(V.weak=k.weak),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},ge.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ge.CType=(o={},(l=Object.create(o))[o[0]="STRING"]=0,l[o[1]="CORD"]=1,l[o[2]="STRING_PIECE"]=2,l),ge.JSType=(o={},(l=Object.create(o))[o[0]="JS_NORMAL"]=0,l[o[1]="JS_STRING"]=1,l[o[2]="JS_NUMBER"]=2,l),ge),p.OneofOptions=(me.prototype.uninterpretedOption=S.emptyArray,me.create=function(k){return new me(k)},me.encode=function(k,F){if(F=F||_.create(),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},me.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},me.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.OneofOptions;k.pos<V;){var ue=k.uint32();ue>>>3==999?(ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()))):k.skipType(7&ue)}return ne},me.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},me.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},me.fromObject=function(k){if(k instanceof v.google.protobuf.OneofOptions)return k;var F=new v.google.protobuf.OneofOptions;if(k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},me.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},me.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},me),p.EnumOptions=(ye.prototype.allowAlias=!1,ye.prototype.deprecated=!1,ye.prototype.uninterpretedOption=S.emptyArray,ye.create=function(k){return new ye(k)},ye.encode=function(k,F){if(F=F||_.create(),k.allowAlias!=null&&Object.hasOwnProperty.call(k,"allowAlias")&&F.uint32(16).bool(k.allowAlias),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(24).bool(k.deprecated),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},ye.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},ye.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.EnumOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 2:ne.allowAlias=k.bool();break;case 3:ne.deprecated=k.bool();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;default:k.skipType(7&ue)}}return ne},ye.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},ye.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.allowAlias!=null&&k.hasOwnProperty("allowAlias")&&typeof k.allowAlias!="boolean")return"allowAlias: boolean expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},ye.fromObject=function(k){if(k instanceof v.google.protobuf.EnumOptions)return k;var F=new v.google.protobuf.EnumOptions;if(k.allowAlias!=null&&(F.allowAlias=!!k.allowAlias),k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},ye.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),F.defaults&&(V.allowAlias=!1,V.deprecated=!1),k.allowAlias!=null&&k.hasOwnProperty("allowAlias")&&(V.allowAlias=k.allowAlias),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},ye.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ye),p.EnumValueOptions=(ve.prototype.deprecated=!1,ve.prototype.uninterpretedOption=S.emptyArray,ve.create=function(k){return new ve(k)},ve.encode=function(k,F){if(F=F||_.create(),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(8).bool(k.deprecated),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return F},ve.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},ve.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.EnumValueOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.deprecated=k.bool();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;default:k.skipType(7&ue)}}return ne},ve.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},ve.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return null},ve.fromObject=function(k){if(k instanceof v.google.protobuf.EnumValueOptions)return k;var F=new v.google.protobuf.EnumValueOptions;if(k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return F},ve.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),F.defaults&&(V.deprecated=!1),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return V},ve.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ve),p.ServiceOptions=(Ae.prototype.deprecated=!1,Ae.prototype.uninterpretedOption=S.emptyArray,Ae.prototype[".google.api.defaultHost"]="",Ae.prototype[".google.api.oauthScopes"]="",Ae.create=function(k){return new Ae(k)},Ae.encode=function(k,F){if(F=F||_.create(),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(264).bool(k.deprecated),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();return k[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(k,".google.api.defaultHost")&&F.uint32(8394).string(k[".google.api.defaultHost"]),k[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(k,".google.api.oauthScopes")&&F.uint32(8402).string(k[".google.api.oauthScopes"]),F},Ae.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Ae.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.ServiceOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 33:ne.deprecated=k.bool();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;case 1049:ne[".google.api.defaultHost"]=k.string();break;case 1050:ne[".google.api.oauthScopes"]=k.string();break;default:k.skipType(7&ue)}}return ne},Ae.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Ae.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F){var V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]);if(V)return"uninterpretedOption."+V}}return k[".google.api.defaultHost"]!=null&&k.hasOwnProperty(".google.api.defaultHost")&&!S.isString(k[".google.api.defaultHost"])?".google.api.defaultHost: string expected":k[".google.api.oauthScopes"]!=null&&k.hasOwnProperty(".google.api.oauthScopes")&&!S.isString(k[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},Ae.fromObject=function(k){if(k instanceof v.google.protobuf.ServiceOptions)return k;var F=new v.google.protobuf.ServiceOptions;if(k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}return k[".google.api.defaultHost"]!=null&&(F[".google.api.defaultHost"]=String(k[".google.api.defaultHost"])),k[".google.api.oauthScopes"]!=null&&(F[".google.api.oauthScopes"]=String(k[".google.api.oauthScopes"])),F},Ae.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[]),F.defaults&&(V.deprecated=!1,V[".google.api.defaultHost"]="",V[".google.api.oauthScopes"]=""),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}return k[".google.api.defaultHost"]!=null&&k.hasOwnProperty(".google.api.defaultHost")&&(V[".google.api.defaultHost"]=k[".google.api.defaultHost"]),k[".google.api.oauthScopes"]!=null&&k.hasOwnProperty(".google.api.oauthScopes")&&(V[".google.api.oauthScopes"]=k[".google.api.oauthScopes"]),V},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ae),p.MethodOptions=(Pe.prototype.deprecated=!1,Pe.prototype.idempotencyLevel=0,Pe.prototype.uninterpretedOption=S.emptyArray,Pe.prototype[".google.api.http"]=null,Pe.prototype[".google.api.methodSignature"]=S.emptyArray,Pe.create=function(k){return new Pe(k)},Pe.encode=function(k,F){if(F=F||_.create(),k.deprecated!=null&&Object.hasOwnProperty.call(k,"deprecated")&&F.uint32(264).bool(k.deprecated),k.idempotencyLevel!=null&&Object.hasOwnProperty.call(k,"idempotencyLevel")&&F.uint32(272).int32(k.idempotencyLevel),k.uninterpretedOption!=null&&k.uninterpretedOption.length)for(var V=0;V<k.uninterpretedOption.length;++V)v.google.protobuf.UninterpretedOption.encode(k.uninterpretedOption[V],F.uint32(7994).fork()).ldelim();if(k[".google.api.methodSignature"]!=null&&k[".google.api.methodSignature"].length)for(V=0;V<k[".google.api.methodSignature"].length;++V)F.uint32(8410).string(k[".google.api.methodSignature"][V]);return k[".google.api.http"]!=null&&Object.hasOwnProperty.call(k,".google.api.http")&&v.google.api.HttpRule.encode(k[".google.api.http"],F.uint32(578365826).fork()).ldelim(),F},Pe.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Pe.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.MethodOptions;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 33:ne.deprecated=k.bool();break;case 34:ne.idempotencyLevel=k.int32();break;case 999:ne.uninterpretedOption&&ne.uninterpretedOption.length||(ne.uninterpretedOption=[]),ne.uninterpretedOption.push(v.google.protobuf.UninterpretedOption.decode(k,k.uint32()));break;case 72295728:ne[".google.api.http"]=v.google.api.HttpRule.decode(k,k.uint32());break;case 1051:ne[".google.api.methodSignature"]&&ne[".google.api.methodSignature"].length||(ne[".google.api.methodSignature"]=[]),ne[".google.api.methodSignature"].push(k.string());break;default:k.skipType(7&ue)}}return ne},Pe.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Pe.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.deprecated!=null&&k.hasOwnProperty("deprecated")&&typeof k.deprecated!="boolean")return"deprecated: boolean expected";if(k.idempotencyLevel!=null&&k.hasOwnProperty("idempotencyLevel"))switch(k.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(k.uninterpretedOption!=null&&k.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(k.uninterpretedOption))return"uninterpretedOption: array expected";for(var F=0;F<k.uninterpretedOption.length;++F)if(V=v.google.protobuf.UninterpretedOption.verify(k.uninterpretedOption[F]))return"uninterpretedOption."+V}var V;if(k[".google.api.http"]!=null&&k.hasOwnProperty(".google.api.http")&&(V=v.google.api.HttpRule.verify(k[".google.api.http"])))return".google.api.http."+V;if(k[".google.api.methodSignature"]!=null&&k.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(k[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(F=0;F<k[".google.api.methodSignature"].length;++F)if(!S.isString(k[".google.api.methodSignature"][F]))return".google.api.methodSignature: string[] expected"}return null},Pe.fromObject=function(k){if(k instanceof v.google.protobuf.MethodOptions)return k;var F=new v.google.protobuf.MethodOptions;switch(k.deprecated!=null&&(F.deprecated=!!k.deprecated),k.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:F.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:F.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:F.idempotencyLevel=2}if(k.uninterpretedOption){if(!Array.isArray(k.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");F.uninterpretedOption=[];for(var V=0;V<k.uninterpretedOption.length;++V){if(typeof k.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");F.uninterpretedOption[V]=v.google.protobuf.UninterpretedOption.fromObject(k.uninterpretedOption[V])}}if(k[".google.api.http"]!=null){if(typeof k[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");F[".google.api.http"]=v.google.api.HttpRule.fromObject(k[".google.api.http"])}if(k[".google.api.methodSignature"]){if(!Array.isArray(k[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(F[".google.api.methodSignature"]=[],V=0;V<k[".google.api.methodSignature"].length;++V)F[".google.api.methodSignature"][V]=String(k[".google.api.methodSignature"][V])}return F},Pe.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.uninterpretedOption=[],V[".google.api.methodSignature"]=[]),F.defaults&&(V.deprecated=!1,V.idempotencyLevel=F.enums===String?"IDEMPOTENCY_UNKNOWN":0,V[".google.api.http"]=null),k.deprecated!=null&&k.hasOwnProperty("deprecated")&&(V.deprecated=k.deprecated),k.idempotencyLevel!=null&&k.hasOwnProperty("idempotencyLevel")&&(V.idempotencyLevel=F.enums===String?v.google.protobuf.MethodOptions.IdempotencyLevel[k.idempotencyLevel]:k.idempotencyLevel),k.uninterpretedOption&&k.uninterpretedOption.length){V.uninterpretedOption=[];for(var ne=0;ne<k.uninterpretedOption.length;++ne)V.uninterpretedOption[ne]=v.google.protobuf.UninterpretedOption.toObject(k.uninterpretedOption[ne],F)}if(k[".google.api.methodSignature"]&&k[".google.api.methodSignature"].length)for(V[".google.api.methodSignature"]=[],ne=0;ne<k[".google.api.methodSignature"].length;++ne)V[".google.api.methodSignature"][ne]=k[".google.api.methodSignature"][ne];return k[".google.api.http"]!=null&&k.hasOwnProperty(".google.api.http")&&(V[".google.api.http"]=v.google.api.HttpRule.toObject(k[".google.api.http"],F)),V},Pe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Pe.IdempotencyLevel=(o={},(l=Object.create(o))[o[0]="IDEMPOTENCY_UNKNOWN"]=0,l[o[1]="NO_SIDE_EFFECTS"]=1,l[o[2]="IDEMPOTENT"]=2,l),Pe),p.UninterpretedOption=(Ne.prototype.name=S.emptyArray,Ne.prototype.identifierValue="",Ne.prototype.positiveIntValue=S.Long?S.Long.fromBits(0,0,!0):0,Ne.prototype.negativeIntValue=S.Long?S.Long.fromBits(0,0,!1):0,Ne.prototype.doubleValue=0,Ne.prototype.stringValue=S.newBuffer([]),Ne.prototype.aggregateValue="",Ne.create=function(k){return new Ne(k)},Ne.encode=function(k,F){if(F=F||_.create(),k.name!=null&&k.name.length)for(var V=0;V<k.name.length;++V)v.google.protobuf.UninterpretedOption.NamePart.encode(k.name[V],F.uint32(18).fork()).ldelim();return k.identifierValue!=null&&Object.hasOwnProperty.call(k,"identifierValue")&&F.uint32(26).string(k.identifierValue),k.positiveIntValue!=null&&Object.hasOwnProperty.call(k,"positiveIntValue")&&F.uint32(32).uint64(k.positiveIntValue),k.negativeIntValue!=null&&Object.hasOwnProperty.call(k,"negativeIntValue")&&F.uint32(40).int64(k.negativeIntValue),k.doubleValue!=null&&Object.hasOwnProperty.call(k,"doubleValue")&&F.uint32(49).double(k.doubleValue),k.stringValue!=null&&Object.hasOwnProperty.call(k,"stringValue")&&F.uint32(58).bytes(k.stringValue),k.aggregateValue!=null&&Object.hasOwnProperty.call(k,"aggregateValue")&&F.uint32(66).string(k.aggregateValue),F},Ne.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Ne.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.UninterpretedOption;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 2:ne.name&&ne.name.length||(ne.name=[]),ne.name.push(v.google.protobuf.UninterpretedOption.NamePart.decode(k,k.uint32()));break;case 3:ne.identifierValue=k.string();break;case 4:ne.positiveIntValue=k.uint64();break;case 5:ne.negativeIntValue=k.int64();break;case 6:ne.doubleValue=k.double();break;case 7:ne.stringValue=k.bytes();break;case 8:ne.aggregateValue=k.string();break;default:k.skipType(7&ue)}}return ne},Ne.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Ne.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.name!=null&&k.hasOwnProperty("name")){if(!Array.isArray(k.name))return"name: array expected";for(var F=0;F<k.name.length;++F){var V=v.google.protobuf.UninterpretedOption.NamePart.verify(k.name[F]);if(V)return"name."+V}}return k.identifierValue!=null&&k.hasOwnProperty("identifierValue")&&!S.isString(k.identifierValue)?"identifierValue: string expected":k.positiveIntValue!=null&&k.hasOwnProperty("positiveIntValue")&&!(S.isInteger(k.positiveIntValue)||k.positiveIntValue&&S.isInteger(k.positiveIntValue.low)&&S.isInteger(k.positiveIntValue.high))?"positiveIntValue: integer|Long expected":k.negativeIntValue!=null&&k.hasOwnProperty("negativeIntValue")&&!(S.isInteger(k.negativeIntValue)||k.negativeIntValue&&S.isInteger(k.negativeIntValue.low)&&S.isInteger(k.negativeIntValue.high))?"negativeIntValue: integer|Long expected":k.doubleValue!=null&&k.hasOwnProperty("doubleValue")&&typeof k.doubleValue!="number"?"doubleValue: number expected":k.stringValue!=null&&k.hasOwnProperty("stringValue")&&!(k.stringValue&&typeof k.stringValue.length=="number"||S.isString(k.stringValue))?"stringValue: buffer expected":k.aggregateValue!=null&&k.hasOwnProperty("aggregateValue")&&!S.isString(k.aggregateValue)?"aggregateValue: string expected":null},Ne.fromObject=function(k){if(k instanceof v.google.protobuf.UninterpretedOption)return k;var F=new v.google.protobuf.UninterpretedOption;if(k.name){if(!Array.isArray(k.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");F.name=[];for(var V=0;V<k.name.length;++V){if(typeof k.name[V]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");F.name[V]=v.google.protobuf.UninterpretedOption.NamePart.fromObject(k.name[V])}}return k.identifierValue!=null&&(F.identifierValue=String(k.identifierValue)),k.positiveIntValue!=null&&(S.Long?(F.positiveIntValue=S.Long.fromValue(k.positiveIntValue)).unsigned=!0:typeof k.positiveIntValue=="string"?F.positiveIntValue=parseInt(k.positiveIntValue,10):typeof k.positiveIntValue=="number"?F.positiveIntValue=k.positiveIntValue:typeof k.positiveIntValue=="object"&&(F.positiveIntValue=new S.LongBits(k.positiveIntValue.low>>>0,k.positiveIntValue.high>>>0).toNumber(!0))),k.negativeIntValue!=null&&(S.Long?(F.negativeIntValue=S.Long.fromValue(k.negativeIntValue)).unsigned=!1:typeof k.negativeIntValue=="string"?F.negativeIntValue=parseInt(k.negativeIntValue,10):typeof k.negativeIntValue=="number"?F.negativeIntValue=k.negativeIntValue:typeof k.negativeIntValue=="object"&&(F.negativeIntValue=new S.LongBits(k.negativeIntValue.low>>>0,k.negativeIntValue.high>>>0).toNumber())),k.doubleValue!=null&&(F.doubleValue=Number(k.doubleValue)),k.stringValue!=null&&(typeof k.stringValue=="string"?S.base64.decode(k.stringValue,F.stringValue=S.newBuffer(S.base64.length(k.stringValue)),0):k.stringValue.length&&(F.stringValue=k.stringValue)),k.aggregateValue!=null&&(F.aggregateValue=String(k.aggregateValue)),F},Ne.toObject=function(k,F){var V,ne={};if(((F=F||{}).arrays||F.defaults)&&(ne.name=[]),F.defaults&&(ne.identifierValue="",S.Long?(V=new S.Long(0,0,!0),ne.positiveIntValue=F.longs===String?V.toString():F.longs===Number?V.toNumber():V):ne.positiveIntValue=F.longs===String?"0":0,S.Long?(V=new S.Long(0,0,!1),ne.negativeIntValue=F.longs===String?V.toString():F.longs===Number?V.toNumber():V):ne.negativeIntValue=F.longs===String?"0":0,ne.doubleValue=0,F.bytes===String?ne.stringValue="":(ne.stringValue=[],F.bytes!==Array&&(ne.stringValue=S.newBuffer(ne.stringValue))),ne.aggregateValue=""),k.name&&k.name.length){ne.name=[];for(var ue=0;ue<k.name.length;++ue)ne.name[ue]=v.google.protobuf.UninterpretedOption.NamePart.toObject(k.name[ue],F)}return k.identifierValue!=null&&k.hasOwnProperty("identifierValue")&&(ne.identifierValue=k.identifierValue),k.positiveIntValue!=null&&k.hasOwnProperty("positiveIntValue")&&(typeof k.positiveIntValue=="number"?ne.positiveIntValue=F.longs===String?String(k.positiveIntValue):k.positiveIntValue:ne.positiveIntValue=F.longs===String?S.Long.prototype.toString.call(k.positiveIntValue):F.longs===Number?new S.LongBits(k.positiveIntValue.low>>>0,k.positiveIntValue.high>>>0).toNumber(!0):k.positiveIntValue),k.negativeIntValue!=null&&k.hasOwnProperty("negativeIntValue")&&(typeof k.negativeIntValue=="number"?ne.negativeIntValue=F.longs===String?String(k.negativeIntValue):k.negativeIntValue:ne.negativeIntValue=F.longs===String?S.Long.prototype.toString.call(k.negativeIntValue):F.longs===Number?new S.LongBits(k.negativeIntValue.low>>>0,k.negativeIntValue.high>>>0).toNumber():k.negativeIntValue),k.doubleValue!=null&&k.hasOwnProperty("doubleValue")&&(ne.doubleValue=F.json&&!isFinite(k.doubleValue)?String(k.doubleValue):k.doubleValue),k.stringValue!=null&&k.hasOwnProperty("stringValue")&&(ne.stringValue=F.bytes===String?S.base64.encode(k.stringValue,0,k.stringValue.length):F.bytes===Array?Array.prototype.slice.call(k.stringValue):k.stringValue),k.aggregateValue!=null&&k.hasOwnProperty("aggregateValue")&&(ne.aggregateValue=k.aggregateValue),ne},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ne.NamePart=(Ee.prototype.namePart="",Ee.prototype.isExtension=!1,Ee.create=function(k){return new Ee(k)},Ee.encode=function(k,F){return(F=F||_.create()).uint32(10).string(k.namePart),F.uint32(16).bool(k.isExtension),F},Ee.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Ee.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.UninterpretedOption.NamePart;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.namePart=k.string();break;case 2:ne.isExtension=k.bool();break;default:k.skipType(7&ue)}}if(!ne.hasOwnProperty("namePart"))throw S.ProtocolError("missing required 'namePart'",{instance:ne});if(ne.hasOwnProperty("isExtension"))return ne;throw S.ProtocolError("missing required 'isExtension'",{instance:ne})},Ee.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Ee.verify=function(k){return typeof k!="object"||k===null?"object expected":S.isString(k.namePart)?typeof k.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},Ee.fromObject=function(k){var F;return k instanceof v.google.protobuf.UninterpretedOption.NamePart?k:(F=new v.google.protobuf.UninterpretedOption.NamePart,k.namePart!=null&&(F.namePart=String(k.namePart)),k.isExtension!=null&&(F.isExtension=!!k.isExtension),F)},Ee.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.namePart="",V.isExtension=!1),k.namePart!=null&&k.hasOwnProperty("namePart")&&(V.namePart=k.namePart),k.isExtension!=null&&k.hasOwnProperty("isExtension")&&(V.isExtension=k.isExtension),V},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ee),Ne),p.SourceCodeInfo=(Ce.prototype.location=S.emptyArray,Ce.create=function(k){return new Ce(k)},Ce.encode=function(k,F){if(F=F||_.create(),k.location!=null&&k.location.length)for(var V=0;V<k.location.length;++V)v.google.protobuf.SourceCodeInfo.Location.encode(k.location[V],F.uint32(10).fork()).ldelim();return F},Ce.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Ce.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.SourceCodeInfo;k.pos<V;){var ue=k.uint32();ue>>>3==1?(ne.location&&ne.location.length||(ne.location=[]),ne.location.push(v.google.protobuf.SourceCodeInfo.Location.decode(k,k.uint32()))):k.skipType(7&ue)}return ne},Ce.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Ce.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.location!=null&&k.hasOwnProperty("location")){if(!Array.isArray(k.location))return"location: array expected";for(var F=0;F<k.location.length;++F){var V=v.google.protobuf.SourceCodeInfo.Location.verify(k.location[F]);if(V)return"location."+V}}return null},Ce.fromObject=function(k){if(k instanceof v.google.protobuf.SourceCodeInfo)return k;var F=new v.google.protobuf.SourceCodeInfo;if(k.location){if(!Array.isArray(k.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");F.location=[];for(var V=0;V<k.location.length;++V){if(typeof k.location[V]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");F.location[V]=v.google.protobuf.SourceCodeInfo.Location.fromObject(k.location[V])}}return F},Ce.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.location=[]),k.location&&k.location.length){V.location=[];for(var ne=0;ne<k.location.length;++ne)V.location[ne]=v.google.protobuf.SourceCodeInfo.Location.toObject(k.location[ne],F)}return V},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Ce.Location=(Se.prototype.path=S.emptyArray,Se.prototype.span=S.emptyArray,Se.prototype.leadingComments="",Se.prototype.trailingComments="",Se.prototype.leadingDetachedComments=S.emptyArray,Se.create=function(k){return new Se(k)},Se.encode=function(k,F){if(F=F||_.create(),k.path!=null&&k.path.length){F.uint32(10).fork();for(var V=0;V<k.path.length;++V)F.int32(k.path[V]);F.ldelim()}if(k.span!=null&&k.span.length){for(F.uint32(18).fork(),V=0;V<k.span.length;++V)F.int32(k.span[V]);F.ldelim()}if(k.leadingComments!=null&&Object.hasOwnProperty.call(k,"leadingComments")&&F.uint32(26).string(k.leadingComments),k.trailingComments!=null&&Object.hasOwnProperty.call(k,"trailingComments")&&F.uint32(34).string(k.trailingComments),k.leadingDetachedComments!=null&&k.leadingDetachedComments.length)for(V=0;V<k.leadingDetachedComments.length;++V)F.uint32(50).string(k.leadingDetachedComments[V]);return F},Se.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Se.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.SourceCodeInfo.Location;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:if(ne.path&&ne.path.length||(ne.path=[]),(7&ue)==2)for(var we=k.uint32()+k.pos;k.pos<we;)ne.path.push(k.int32());else ne.path.push(k.int32());break;case 2:if(ne.span&&ne.span.length||(ne.span=[]),(7&ue)==2)for(we=k.uint32()+k.pos;k.pos<we;)ne.span.push(k.int32());else ne.span.push(k.int32());break;case 3:ne.leadingComments=k.string();break;case 4:ne.trailingComments=k.string();break;case 6:ne.leadingDetachedComments&&ne.leadingDetachedComments.length||(ne.leadingDetachedComments=[]),ne.leadingDetachedComments.push(k.string());break;default:k.skipType(7&ue)}}return ne},Se.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Se.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.path!=null&&k.hasOwnProperty("path")){if(!Array.isArray(k.path))return"path: array expected";for(var F=0;F<k.path.length;++F)if(!S.isInteger(k.path[F]))return"path: integer[] expected"}if(k.span!=null&&k.hasOwnProperty("span")){if(!Array.isArray(k.span))return"span: array expected";for(F=0;F<k.span.length;++F)if(!S.isInteger(k.span[F]))return"span: integer[] expected"}if(k.leadingComments!=null&&k.hasOwnProperty("leadingComments")&&!S.isString(k.leadingComments))return"leadingComments: string expected";if(k.trailingComments!=null&&k.hasOwnProperty("trailingComments")&&!S.isString(k.trailingComments))return"trailingComments: string expected";if(k.leadingDetachedComments!=null&&k.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(k.leadingDetachedComments))return"leadingDetachedComments: array expected";for(F=0;F<k.leadingDetachedComments.length;++F)if(!S.isString(k.leadingDetachedComments[F]))return"leadingDetachedComments: string[] expected"}return null},Se.fromObject=function(k){if(k instanceof v.google.protobuf.SourceCodeInfo.Location)return k;var F=new v.google.protobuf.SourceCodeInfo.Location;if(k.path){if(!Array.isArray(k.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");F.path=[];for(var V=0;V<k.path.length;++V)F.path[V]=0|k.path[V]}if(k.span){if(!Array.isArray(k.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(F.span=[],V=0;V<k.span.length;++V)F.span[V]=0|k.span[V]}if(k.leadingComments!=null&&(F.leadingComments=String(k.leadingComments)),k.trailingComments!=null&&(F.trailingComments=String(k.trailingComments)),k.leadingDetachedComments){if(!Array.isArray(k.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(F.leadingDetachedComments=[],V=0;V<k.leadingDetachedComments.length;++V)F.leadingDetachedComments[V]=String(k.leadingDetachedComments[V])}return F},Se.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.path=[],V.span=[],V.leadingDetachedComments=[]),F.defaults&&(V.leadingComments="",V.trailingComments=""),k.path&&k.path.length){V.path=[];for(var ne=0;ne<k.path.length;++ne)V.path[ne]=k.path[ne]}if(k.span&&k.span.length)for(V.span=[],ne=0;ne<k.span.length;++ne)V.span[ne]=k.span[ne];if(k.leadingComments!=null&&k.hasOwnProperty("leadingComments")&&(V.leadingComments=k.leadingComments),k.trailingComments!=null&&k.hasOwnProperty("trailingComments")&&(V.trailingComments=k.trailingComments),k.leadingDetachedComments&&k.leadingDetachedComments.length)for(V.leadingDetachedComments=[],ne=0;ne<k.leadingDetachedComments.length;++ne)V.leadingDetachedComments[ne]=k.leadingDetachedComments[ne];return V},Se.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Se),Ce),p.GeneratedCodeInfo=(Te.prototype.annotation=S.emptyArray,Te.create=function(k){return new Te(k)},Te.encode=function(k,F){if(F=F||_.create(),k.annotation!=null&&k.annotation.length)for(var V=0;V<k.annotation.length;++V)v.google.protobuf.GeneratedCodeInfo.Annotation.encode(k.annotation[V],F.uint32(10).fork()).ldelim();return F},Te.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Te.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.GeneratedCodeInfo;k.pos<V;){var ue=k.uint32();ue>>>3==1?(ne.annotation&&ne.annotation.length||(ne.annotation=[]),ne.annotation.push(v.google.protobuf.GeneratedCodeInfo.Annotation.decode(k,k.uint32()))):k.skipType(7&ue)}return ne},Te.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Te.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.annotation!=null&&k.hasOwnProperty("annotation")){if(!Array.isArray(k.annotation))return"annotation: array expected";for(var F=0;F<k.annotation.length;++F){var V=v.google.protobuf.GeneratedCodeInfo.Annotation.verify(k.annotation[F]);if(V)return"annotation."+V}}return null},Te.fromObject=function(k){if(k instanceof v.google.protobuf.GeneratedCodeInfo)return k;var F=new v.google.protobuf.GeneratedCodeInfo;if(k.annotation){if(!Array.isArray(k.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");F.annotation=[];for(var V=0;V<k.annotation.length;++V){if(typeof k.annotation[V]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");F.annotation[V]=v.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(k.annotation[V])}}return F},Te.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.annotation=[]),k.annotation&&k.annotation.length){V.annotation=[];for(var ne=0;ne<k.annotation.length;++ne)V.annotation[ne]=v.google.protobuf.GeneratedCodeInfo.Annotation.toObject(k.annotation[ne],F)}return V},Te.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Te.Annotation=(Oe.prototype.path=S.emptyArray,Oe.prototype.sourceFile="",Oe.prototype.begin=0,Oe.prototype.end=0,Oe.create=function(k){return new Oe(k)},Oe.encode=function(k,F){if(F=F||_.create(),k.path!=null&&k.path.length){F.uint32(10).fork();for(var V=0;V<k.path.length;++V)F.int32(k.path[V]);F.ldelim()}return k.sourceFile!=null&&Object.hasOwnProperty.call(k,"sourceFile")&&F.uint32(18).string(k.sourceFile),k.begin!=null&&Object.hasOwnProperty.call(k,"begin")&&F.uint32(24).int32(k.begin),k.end!=null&&Object.hasOwnProperty.call(k,"end")&&F.uint32(32).int32(k.end),F},Oe.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},Oe.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.GeneratedCodeInfo.Annotation;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:if(ne.path&&ne.path.length||(ne.path=[]),(7&ue)==2)for(var we=k.uint32()+k.pos;k.pos<we;)ne.path.push(k.int32());else ne.path.push(k.int32());break;case 2:ne.sourceFile=k.string();break;case 3:ne.begin=k.int32();break;case 4:ne.end=k.int32();break;default:k.skipType(7&ue)}}return ne},Oe.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},Oe.verify=function(k){if(typeof k!="object"||k===null)return"object expected";if(k.path!=null&&k.hasOwnProperty("path")){if(!Array.isArray(k.path))return"path: array expected";for(var F=0;F<k.path.length;++F)if(!S.isInteger(k.path[F]))return"path: integer[] expected"}return k.sourceFile!=null&&k.hasOwnProperty("sourceFile")&&!S.isString(k.sourceFile)?"sourceFile: string expected":k.begin!=null&&k.hasOwnProperty("begin")&&!S.isInteger(k.begin)?"begin: integer expected":k.end!=null&&k.hasOwnProperty("end")&&!S.isInteger(k.end)?"end: integer expected":null},Oe.fromObject=function(k){if(k instanceof v.google.protobuf.GeneratedCodeInfo.Annotation)return k;var F=new v.google.protobuf.GeneratedCodeInfo.Annotation;if(k.path){if(!Array.isArray(k.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");F.path=[];for(var V=0;V<k.path.length;++V)F.path[V]=0|k.path[V]}return k.sourceFile!=null&&(F.sourceFile=String(k.sourceFile)),k.begin!=null&&(F.begin=0|k.begin),k.end!=null&&(F.end=0|k.end),F},Oe.toObject=function(k,F){var V={};if(((F=F||{}).arrays||F.defaults)&&(V.path=[]),F.defaults&&(V.sourceFile="",V.begin=0,V.end=0),k.path&&k.path.length){V.path=[];for(var ne=0;ne<k.path.length;++ne)V.path[ne]=k.path[ne]}return k.sourceFile!=null&&k.hasOwnProperty("sourceFile")&&(V.sourceFile=k.sourceFile),k.begin!=null&&k.hasOwnProperty("begin")&&(V.begin=k.begin),k.end!=null&&k.hasOwnProperty("end")&&(V.end=k.end),V},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},Oe),Te),p.Any=(ce.prototype.type_url="",ce.prototype.value=S.newBuffer([]),ce.create=function(k){return new ce(k)},ce.encode=function(k,F){return F=F||_.create(),k.type_url!=null&&Object.hasOwnProperty.call(k,"type_url")&&F.uint32(10).string(k.type_url),k.value!=null&&Object.hasOwnProperty.call(k,"value")&&F.uint32(18).bytes(k.value),F},ce.encodeDelimited=function(k,F){return this.encode(k,F).ldelim()},ce.decode=function(k,F){k instanceof O||(k=O.create(k));for(var V=F===void 0?k.len:k.pos+F,ne=new v.google.protobuf.Any;k.pos<V;){var ue=k.uint32();switch(ue>>>3){case 1:ne.type_url=k.string();break;case 2:ne.value=k.bytes();break;default:k.skipType(7&ue)}}return ne},ce.decodeDelimited=function(k){return k instanceof O||(k=new O(k)),this.decode(k,k.uint32())},ce.verify=function(k){return typeof k!="object"||k===null?"object expected":k.type_url!=null&&k.hasOwnProperty("type_url")&&!S.isString(k.type_url)?"type_url: string expected":k.value!=null&&k.hasOwnProperty("value")&&!(k.value&&typeof k.value.length=="number"||S.isString(k.value))?"value: buffer expected":null},ce.fromObject=function(k){var F;return k instanceof v.google.protobuf.Any?k:(F=new v.google.protobuf.Any,k.type_url!=null&&(F.type_url=String(k.type_url)),k.value!=null&&(typeof k.value=="string"?S.base64.decode(k.value,F.value=S.newBuffer(S.base64.length(k.value)),0):k.value.length&&(F.value=k.value)),F)},ce.toObject=function(k,F){var V={};return(F=F||{}).defaults&&(V.type_url="",F.bytes===String?V.value="":(V.value=[],F.bytes!==Array&&(V.value=S.newBuffer(V.value)))),k.type_url!=null&&k.hasOwnProperty("type_url")&&(V.type_url=k.type_url),k.value!=null&&k.hasOwnProperty("value")&&(V.value=F.bytes===String?S.base64.encode(k.value,0,k.value.length):F.bytes===Array?Array.prototype.slice.call(k.value):k.value),V},ce.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},ce),p),f),v})}(locations)),locations.exports}var pathTemplate={},hasRequiredPathTemplate;function requirePathTemplate(){if(hasRequiredPathTemplate)return pathTemplate;hasRequiredPathTemplate=1,Object.defineProperty(pathTemplate,"__esModule",{value:!0}),pathTemplate.PathTemplate=void 0;class e{constructor(l){this.bindings={},this.data=l,this.segments=this.parsePathTemplate(l),this.size=this.segments.length}match(l){let p=l.split("/");const f={};if(p.length!==this.segments.length)if(this.data.includes("**")){if(p.length!==this.segments.length+1)throw new TypeError(`This path ${l} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`)}else throw new TypeError(`This path ${l} does not match path template ${this.data}, the number of parameters is not same.`);for(let O=0;O<this.segments.length&&p.length>0;O++)if(this.segments[O]!==p[0])if(this.segments[O].includes("*")){let _=this.segments[O];const S=_.match(/\{[$0-9a-zA-Z_]+=.*?\}/g);if(!S)throw new Error(`Error processing path template segment ${_}`);const v=S.map(s=>s.replace(/^\{/,"").replace(/=.*/,""));if(_.includes("**"))f[v[0]]=p[0]+"/"+p[1],p=p.slice(2);else{if(v.length===1)f[v[0]]=p[0];else{const s=p[0].split(/[-_.~]/);if(s.length!==v.length)throw new Error(`segment ${_} does not match ${p[0]}`);for(const d of v)f[d]=s[0],_=_.replace(`{${d}=*}`,`${s[0]}`),s.shift();if(_!==p[0])throw new TypeError(`non slash resource pattern ${this.segments[O]} and ${p[0]} should have same separator`)}p.shift()}}else throw new TypeError(`segment does not match, ${this.segments[O]} and  ${p[O]}.`);else p.shift();return f}render(l){if(Object.keys(l).length!==Object.keys(this.bindings).length)throw new TypeError(`The number of variables ${Object.keys(l).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);let p=this.inspect();for(const f of Object.keys(l)){const O=l[f].toString();if(!this.bindings[f])throw new TypeError(`render fails for not matching ${l[f]}`);const _=this.bindings[f];if(_==="*"){if(!O.match(/[^/{}]+/))throw new TypeError(`render fails for not matching ${O}`);p=p.replace(`{${f}=*}`,`${O}`)}else if(_==="**"){if(!O.match(/[^{}]+/))throw new TypeError(`render fails for not matching ${O}`);p=p.replace(`{${f}=**}`,`${O}`)}}return p}inspect(){return this.segments.join("/")}parsePathTemplate(l){const p=r(l);let f=0,O=0;const _=[];let S;if(p.forEach(v=>{if(v==="*"||v==="**")this.bindings[`$${f}`]=v,_.push(`{$${f}=${v}}`),f=f+1,v==="**"&&++O;else if(S=v.match(/\{[0-9a-zA-Z-.~_]+(?:=.*?)?\}/g)){for(const s of S){const d=s.match(/^\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\}$/);if(!d)throw new Error(`Cannot process path template segment ${s}`);const g=d[1];let P=d[2];P?P==="*"?this.bindings[g]=P:P==="**"&&(++O,this.bindings[g]=P):(P="*",v=v.replace(g,g+"=*"),this.bindings[g]=P)}_.push(v)}else v.match(/[0-9a-zA-Z-.~_]+/)&&_.push(v)}),O>1)throw new TypeError("Can not have more than one wildcard.");return _}}pathTemplate.PathTemplate=e;function r(o){let l=0,p=0,f=0;const O=[];for(;p>=l&&p<o.length;){if(o.charAt(p)==="{")f=f+1;else if(o.charAt(p)==="}")f=f-1;else if(o.charAt(p)==="/"){if(p===o.length-1)throw new TypeError("Invalid path, it can not be ended by /");f===0&&(O.push(o.substring(l,p)),l=p+1)}if(p===o.length-1){if(f!==0)throw new TypeError("Brackets are invalid.");O.push(o.substring(l))}p=p+1}return O}return pathTemplate}var iamService={};const interfaces$4={"google.iam.v1.IAMPolicy":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5}},methods:{GetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},SetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},TestIamPermissions:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2={interfaces:interfaces$4},nested$1={google:{nested:{iam:{nested:{v1:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.Cloud.Iam.V1",go_package:"google.golang.org/genproto/googleapis/iam/v1;iam",java_multiple_files:!0,java_outer_classname:"PolicyProto",java_package:"com.google.iam.v1",php_namespace:"Google\\Cloud\\Iam\\V1"},nested:{IAMPolicy:{options:{"(google.api.default_host)":"iam-meta-api.googleapis.com"},methods:{SetIamPolicy:{requestType:"SetIamPolicyRequest",responseType:"Policy",options:{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{resource=**}:setIamPolicy",body:"*"}}]},GetIamPolicy:{requestType:"GetIamPolicyRequest",responseType:"Policy",options:{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{resource=**}:getIamPolicy",body:"*"}}]},TestIamPermissions:{requestType:"TestIamPermissionsRequest",responseType:"TestIamPermissionsResponse",options:{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{resource=**}:testIamPermissions",body:"*"}}]}}},SetIamPolicyRequest:{fields:{resource:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},policy:{type:"Policy",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},GetIamPolicyRequest:{fields:{resource:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},options:{type:"GetPolicyOptions",id:2}}},TestIamPermissionsRequest:{fields:{resource:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},permissions:{rule:"repeated",type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},TestIamPermissionsResponse:{fields:{permissions:{rule:"repeated",type:"string",id:1}}},GetPolicyOptions:{fields:{requestedPolicyVersion:{type:"int32",id:1}}},Policy:{fields:{version:{type:"int32",id:1},bindings:{rule:"repeated",type:"Binding",id:4},etag:{type:"bytes",id:3}}},Binding:{fields:{role:{type:"string",id:1},members:{rule:"repeated",type:"string",id:2},condition:{type:"google.type.Expr",id:3}}},PolicyDelta:{fields:{bindingDeltas:{rule:"repeated",type:"BindingDelta",id:1},auditConfigDeltas:{rule:"repeated",type:"AuditConfigDelta",id:2}}},BindingDelta:{fields:{action:{type:"Action",id:1},role:{type:"string",id:2},member:{type:"string",id:3},condition:{type:"google.type.Expr",id:4}},nested:{Action:{values:{ACTION_UNSPECIFIED:0,ADD:1,REMOVE:2}}}},AuditConfigDelta:{fields:{action:{type:"Action",id:1},service:{type:"string",id:2},exemptedMember:{type:"string",id:3},logType:{type:"string",id:4}},nested:{Action:{values:{ACTION_UNSPECIFIED:0,ADD:1,REMOVE:2}}}},logging:{options:{csharp_namespace:"Google.Cloud.Iam.V1.Logging",go_package:"google.golang.org/genproto/googleapis/iam/v1/logging;logging",java_multiple_files:!0,java_outer_classname:"AuditDataProto",java_package:"com.google.iam.v1.logging"},nested:{AuditData:{fields:{policyDelta:{type:"google.iam.v1.PolicyDelta",id:2}}}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ResourceProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5}},resourceReference:{type:"google.api.ResourceReference",id:1055,extend:"google.protobuf.FieldOptions"},resourceDefinition:{rule:"repeated",type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.FileOptions"},resource:{type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.MessageOptions"},ResourceDescriptor:{fields:{type:{type:"string",id:1},pattern:{rule:"repeated",type:"string",id:2},nameField:{type:"string",id:3},history:{type:"History",id:4},plural:{type:"string",id:5},singular:{type:"string",id:6}},nested:{History:{values:{HISTORY_UNSPECIFIED:0,ORIGINALLY_SINGLE_PATTERN:1,FUTURE_MULTI_PATTERN:2}}}},ResourceReference:{fields:{type:{type:"string",id:1},childType:{type:"string",id:2}}}}},protobuf:{options:{go_package:"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}},type:{options:{go_package:"google.golang.org/genproto/googleapis/type/expr;expr",java_multiple_files:!0,java_outer_classname:"ExprProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{Expr:{fields:{expression:{type:"string",id:1},title:{type:"string",id:2},description:{type:"string",id:3},location:{type:"string",id:4}}}}}}}},require$$5$1={nested:nested$1};var hasRequiredIamService;function requireIamService(){if(hasRequiredIamService)return iamService;hasRequiredIamService=1,Object.defineProperty(iamService,"__esModule",{value:!0}),iamService.IamClient=void 0;const e=requireCreateApiCall(),r=requireRoutingHeader(),o=require$$2,l=requireFallback();let p=require$$17.version;const f=require$$5$1;class O{constructor(S,v){this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{}},this.innerApiCalls={},this.gaxGrpc=S;const s=Object.assign({servicePath:v.servicePath,port:v.port,clientConfig:v.clientConfig,apiEndpoint:v.apiEndpoint,fallback:v.fallback},v);p=s.fallback?l.version:p,s.scopes=this.constructor.scopes,this._opts=s,this.auth=S.auth;const d=[`gax/${p}`,`gapic/${p}`];typeof process<"u"&&"versions"in process?d.push(`gl-node/${process.versions.node}`):d.push(`gl-web/${p}`),s.fallback||d.push(`grpc/${S.grpcVersion}`),s.libName&&s.libVersion&&d.push(`${s.libName}/${s.libVersion}`),this._protos=this.gaxGrpc.loadProtoJSON(f),this._defaults=S.constructSettings("google.iam.v1.IAMPolicy",o,s.clientConfig||{},{"x-goog-api-client":d.join(" ")}),this.innerApiCalls={}}initialize(){if(this.iamPolicyStub)return this.iamPolicyStub;this.iamPolicyStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.iam.v1.IAMPolicy"):this._protos.google.iam.v1.IAMPolicy,this._opts);const S=["getIamPolicy","setIamPolicy","testIamPermissions"];for(const v of S){const s=this.iamPolicyStub.then(d=>(...g)=>this._terminated?Promise.reject("The client has already been closed."):d[v].apply(d,g),d=>()=>{throw d});this.innerApiCalls[v]=(0,e.createApiCall)(s,this._defaults[v],this.descriptors.page[v])}return this.iamPolicyStub}static get servicePath(){return"cloudkms.googleapis.com"}static get apiEndpoint(){return"cloudkms.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudkms"]}getProjectId(S){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(S);if(S)S(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getIamPolicy(S,v,s){let d;return v instanceof Function&&s===void 0?(s=v,d={}):d=v,S=S||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=r.fromParams({resource:S.resource}),this.initialize(),this.innerApiCalls.getIamPolicy(S,d,s)}setIamPolicy(S,v,s){let d;return v instanceof Function&&s===void 0?(s=v,d={}):d=v,S=S||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=r.fromParams({resource:S.resource}),this.initialize(),this.innerApiCalls.setIamPolicy(S,d,s)}testIamPermissions(S,v,s){let d;return v instanceof Function&&s===void 0?(s=v,d={}):d=v,S=S||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=r.fromParams({resource:S.resource}),this.initialize(),this.innerApiCalls.testIamPermissions(S,d,s)}close(){return this.initialize(),this._terminated?Promise.resolve():this.iamPolicyStub.then(S=>{this._terminated=!0,S.close()})}}return iamService.IamClient=O,iamService}var locationService={};const nested={google:{nested:{cloud:{nested:{location:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/cloud/location;location",java_multiple_files:!0,java_outer_classname:"LocationsProto",java_package:"com.google.cloud.location"},nested:{Locations:{options:{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},methods:{ListLocations:{requestType:"ListLocationsRequest",responseType:"ListLocationsResponse",options:{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=locations}",additional_bindings:{get:"/v1/{name=projects/*}/locations"}}}]},GetLocation:{requestType:"GetLocationRequest",responseType:"Location",options:{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=locations/*}",additional_bindings:{get:"/v1/{name=projects/*/locations/*}"}}}]}}},ListLocationsRequest:{fields:{name:{type:"string",id:1},filter:{type:"string",id:2},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4}}},ListLocationsResponse:{fields:{locations:{rule:"repeated",type:"Location",id:1},nextPageToken:{type:"string",id:2}}},GetLocationRequest:{fields:{name:{type:"string",id:1}}},Location:{fields:{name:{type:"string",id:1},locationId:{type:"string",id:4},displayName:{type:"string",id:5},labels:{keyType:"string",type:"string",id:2},metadata:{type:"google.protobuf.Any",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ClientProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"}}},protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}}}}},require$$5={nested},interfaces$3={"google.cloud.location.Locations":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{ListLocations:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetLocation:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$6={interfaces:interfaces$3};var hasRequiredLocationService;function requireLocationService(){if(hasRequiredLocationService)return locationService;hasRequiredLocationService=1,Object.defineProperty(locationService,"__esModule",{value:!0}),locationService.LocationsClient=void 0;const e=requireGax(),r=requireWarnings(),o=requireCreateApiCall(),l=requireRoutingHeader(),p=requirePageDescriptor(),f=require$$5,O=require$$6,_=require$$17.version;class S{constructor(s,d){var g,P;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}},this.gaxGrpc=s;const R=this.constructor,I=(d==null?void 0:d.servicePath)||(d==null?void 0:d.apiEndpoint)||R.servicePath;this._providedCustomServicePath=!!(d!=null&&d.servicePath||d!=null&&d.apiEndpoint);const j=(d==null?void 0:d.port)||R.port,L=(g=d==null?void 0:d.clientConfig)!==null&&g!==void 0?g:{},G=(P=d==null?void 0:d.fallback)!==null&&P!==void 0?P:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";d=Object.assign({servicePath:I,port:j,clientConfig:L,fallback:G},d),I!==R.servicePath&&!("scopes"in d)&&(d.scopes=R.scopes),this._opts=d,this.auth=s.auth,I===R.servicePath&&(this.auth.defaultScopes=R.scopes);const J=[`gax/${_}`,`gapic/${_}`];typeof process<"u"&&"versions"in process?J.push(`gl-node/${process.versions.node}`):J.push(`gl-web/${_}`),d.fallback?d.fallback==="rest"&&J.push(`rest/${s.grpcVersion}`):J.push(`grpc/${s.grpcVersion}`),d.libName&&d.libVersion&&J.push(`${d.libName}/${d.libVersion}`),this._protos=s.loadProtoJSON(f),this.descriptors.page={listLocations:new p.PageDescriptor("pageToken","nextPageToken","locations")},this._defaults=s.constructSettings("google.cloud.location.Locations",O,d.clientConfig||{},{"x-goog-api-client":J.join(" ")}),this.innerApiCalls={},this.warn=r.warn}initialize(){if(this.locationsStub)return this.locationsStub;this.locationsStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.location.Locations"):this._protos.google.cloud.location.Locations,this._opts,this._providedCustomServicePath);const s=["listLocations","getLocation"];for(const d of s){const g=this.locationsStub.then(I=>(...j)=>this._terminated?Promise.reject("The client has already been closed."):I[d].apply(I,j),I=>()=>{throw I}),P=this.descriptors.page[d]||void 0,R=(0,o.createApiCall)(g,this._defaults[d],P);this.innerApiCalls[d]=R}return this.locationsStub}static get servicePath(){return"cloud.googleapis.com"}static get apiEndpoint(){return"cloud.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(s){if(s){this.auth.getProjectId(s);return}return this.auth.getProjectId()}getLocation(s,d,g){s=s||{};let P;return typeof d=="function"&&g===void 0?(g=d,P={}):P=d,P=P||{},P.otherArgs=P.otherArgs||{},P.otherArgs.headers=P.otherArgs.headers||{},P.otherArgs.headers["x-goog-request-params"]=l.fromParams({name:s.name||""}),this.initialize(),this.innerApiCalls.getLocation(s,P,g)}listLocations(s,d,g){s=s||{};let P;return typeof d=="function"&&g===void 0?(g=d,P={}):P=d,P=P||{},P.otherArgs=P.otherArgs||{},P.otherArgs.headers=P.otherArgs.headers||{},P.otherArgs.headers["x-goog-request-params"]=l.fromParams({name:s.name||""}),this.initialize(),this.innerApiCalls.listLocations(s,P,g)}listLocationsAsync(s,d){s=s||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=l.fromParams({name:s.name||""}),d=d||{};const g=new e.CallSettings(d);return this.initialize(),this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls.listLocations,s,g)}close(){return this.initialize(),this._terminated?Promise.resolve():this.locationsStub.then(s=>{this._terminated=!0,s.close()})}}return locationService.LocationsClient=S,locationService}var hasRequiredFallback;function requireFallback(){return hasRequiredFallback||(hasRequiredFallback=1,function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fallback=r.GoogleError=r.operation=r.Operation=r.warn=r.protobufMinimal=r.protobuf=r.LocationProtos=r.IamProtos=r.operationsProtos=r.GrpcClient=r.defaultToObjectOptions=r.makeUUID=r.LocationsClient=r.IamClient=r.OperationsClient=r.StreamType=r.StreamDescriptor=r.PageDescriptor=r.LongrunningDescriptor=r.BundleDescriptor=r.version=r.createDefaultBackoffSettings=r.RetryOptions=r.constructSettings=r.CallSettings=r.routingHeader=r.PathTemplate=void 0,r.lro=le,r.createApiCall=de;const o=requireObject_hash(),l=requireProtobufjs();r.protobuf=l;const p=requireGax(),f=requireRoutingHeader();r.routingHeader=f;const O=requireStatus(),_=requireSrc$1(),S=requireOperationsClient(),v=requireCreateApiCall(),s=requireFallbackRest(),d=requireFeatureDetection(),g=requireFallbackServiceStub(),P=requireStreaming(),R=requireUtil$3(),I=requireIam_service();r.IamProtos=I;const j=requireLocations();r.LocationProtos=j;const L=requireOperations();r.operationsProtos=L;var G=requirePathTemplate();Object.defineProperty(r,"PathTemplate",{enumerable:!0,get:function(){return G.PathTemplate}});var J=requireGax();Object.defineProperty(r,"CallSettings",{enumerable:!0,get:function(){return J.CallSettings}}),Object.defineProperty(r,"constructSettings",{enumerable:!0,get:function(){return J.constructSettings}}),Object.defineProperty(r,"RetryOptions",{enumerable:!0,get:function(){return J.RetryOptions}}),Object.defineProperty(r,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return J.createDefaultBackoffSettings}}),r.version=require$$17.version+"-fallback";var Q=requireDescriptor();Object.defineProperty(r,"BundleDescriptor",{enumerable:!0,get:function(){return Q.BundleDescriptor}}),Object.defineProperty(r,"LongrunningDescriptor",{enumerable:!0,get:function(){return Q.LongrunningDescriptor}}),Object.defineProperty(r,"PageDescriptor",{enumerable:!0,get:function(){return Q.PageDescriptor}}),Object.defineProperty(r,"StreamDescriptor",{enumerable:!0,get:function(){return Q.StreamDescriptor}});var W=requireStreaming();Object.defineProperty(r,"StreamType",{enumerable:!0,get:function(){return W.StreamType}});var Z=requireOperationsClient();Object.defineProperty(r,"OperationsClient",{enumerable:!0,get:function(){return Z.OperationsClient}});var te=requireIamService();Object.defineProperty(r,"IamClient",{enumerable:!0,get:function(){return te.IamClient}});var ee=requireLocationService();Object.defineProperty(r,"LocationsClient",{enumerable:!0,get:function(){return ee.LocationsClient}});var ie=requireUtil$3();Object.defineProperty(r,"makeUUID",{enumerable:!0,get:function(){return ie.makeUUID}}),r.defaultToObjectOptions={keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0};const oe="x-goog-api-client";class se{static clearProtoCache(){se.protoCache.clear()}constructor(ye={}){var ve;if((0,d.isNodeJS)())this.auth=ye.auth||new _.GoogleAuth(ye);else{if(!ye.auth)throw new Error(JSON.stringify(ye)+"You need to pass auth instance to use gRPC-fallback client in browser or other non-Node.js environments. Use OAuth2Client from google-auth-library.");this.auth=ye.auth}this.fallback=!!ye.fallback,this.grpcVersion=require$$17.version,this.httpRules=ye.httpRules,this.numericEnums=(ve=ye.numericEnums)!==null&&ve!==void 0?ve:!1}loadProto(ye){return l.Root.fromJSON(ye)}loadProtoJSON(ye,ve=!1){const Ae=o(JSON.stringify(ye)).toString(),Pe=se.protoCache.get(Ae);if(Pe&&!ve)return Pe;const Ne=l.Root.fromJSON(ye);return se.protoCache.set(Ae,Ne),Ne}static getServiceMethods(ye){const ve={};for(const[Ae,Pe]of Object.entries(ye.methods)){const Ne=(0,R.toLowerCamelCase)(Ae);ve[Ne]=Pe}return ve}constructSettings(ye,ve,Ae,Pe){function Ne(Ee,Ce){const Se={};Pe||(Pe={});for(const Oe in Pe)Se[Oe]=Array.isArray(Pe[Oe])?Pe[Oe]:[Pe[Oe]];const Te=[];if(Se[oe]&&Se[oe][0]&&Te.push(...Se[oe][0].split(" ")),Te.push(`grpc-web/${r.version}`),Se[oe]=[Te.join(" ")],!Ce)return Se;for(const Oe in Ce)if(Oe.toLowerCase()!==oe){const ce=Ce[Oe];if(Array.isArray(ce))if(Se[Oe]===void 0)Se[Oe]=ce;else if(Array.isArray(Se[Oe]))Se[Oe].push(...ce);else throw new Error(`Can not add value ${ce} to the call metadata.`);else Se[Oe]=[ce]}return Se}return p.constructSettings(ye,ve,Ae,O.Status,{metadataBuilder:Ne})}async createStub(ye,ve,Ae){if(this.authClient||(this.auth&&"getClient"in this.auth?this.authClient=await this.auth.getClient():this.auth&&"getRequestHeaders"in this.auth&&(this.authClient=this.auth)),!this.authClient)throw new Error("No authentication was provided");if(ve.universeDomain||(ve.universeDomain="googleapis.com"),ve.universeDomain){const k=this.authClient.universeDomain;if(k&&ve.universeDomain!==k)throw new Error(`The configured universe domain (${ve.universeDomain}) does not match the universe domain found in the credentials (${k}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}ye.resolveAll();const Pe=se.getServiceMethods(ye),Ne=ve.protocol||"https";let Ee=ve.servicePath;if(!Ee&&ye.options&&ye.options["(google.api.default_host)"]&&(Ee=ye.options["(google.api.default_host)"]),!Ee)throw new Error(`Cannot determine service API path for service ${ye.name}.`);let Ce;const Se=Ee.match(/^(.*):(\d+)$/);Se&&(Ee=Se[1],Ce=parseInt(Se[2])),ve.port?Ce=ve.port:Ce||(Ce=443);const Te=s.encodeRequest,Oe=s.decodeResponse;return(0,g.generateServiceStub)(Pe,Ne,Ee,Ce,this.authClient,Te,Oe,this.numericEnums)}static createByteLengthFunction(ye){return p.createByteLengthFunction(ye)}}r.GrpcClient=se,se.protoCache=new Map;function le(me){me=Object.assign({scopes:[]},me),me.protoJson&&(me=Object.assign(me,{fallback:!0}));const ye=new se(me);return new S.OperationsClientBuilder(ye,me.protoJson)}function de(me,ye,ve,Ae){return ve&&"streaming"in ve&&ve.type!==P.StreamType.SERVER_STREAMING?()=>{throw new Error("The REST transport currently does not support client-streaming or bidi-stream calls.")}:ve&&"streaming"in ve&&!(0,d.isNodeJS)()?()=>{throw new Error("Server streaming over the REST transport is only supported in Node.js.")}:(0,v.createApiCall)(me,ye,ve)}r.protobufMinimal=requireMinimal();var pe=requireWarnings();Object.defineProperty(r,"warn",{enumerable:!0,get:function(){return pe.warn}});var fe=requireLongrunning();Object.defineProperty(r,"Operation",{enumerable:!0,get:function(){return fe.Operation}}),Object.defineProperty(r,"operation",{enumerable:!0,get:function(){return fe.operation}});var he=requireGoogleError();Object.defineProperty(r,"GoogleError",{enumerable:!0,get:function(){return he.GoogleError}});const ge=e.exports;r.fallback=ge}(fallback,fallback.exports)),fallback.exports}Object.defineProperty(text_to_speech_client$1,"__esModule",{value:!0});text_to_speech_client$1.TextToSpeechClient=void 0;const jsonProtos$3=require$$0$1,gapicConfig$3=require$$1$3,version$4=require$$2$1.version;let TextToSpeechClient$2=class{constructor(r,o){var l,p,f,O,_;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const S=this.constructor;if(r!=null&&r.universe_domain&&(r!=null&&r.universeDomain)&&(r==null?void 0:r.universe_domain)!==(r==null?void 0:r.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const v=typeof process=="object"&&typeof process.env=="object"?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(f=(p=(l=r==null?void 0:r.universeDomain)!==null&&l!==void 0?l:r==null?void 0:r.universe_domain)!==null&&p!==void 0?p:v)!==null&&f!==void 0?f:"googleapis.com",this._servicePath="texttospeech."+this._universeDomain;const s=(r==null?void 0:r.servicePath)||(r==null?void 0:r.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(r!=null&&r.servicePath||r!=null&&r.apiEndpoint);const d=(r==null?void 0:r.port)||S.port,g=(O=r==null?void 0:r.clientConfig)!==null&&O!==void 0?O:{},P=(_=r==null?void 0:r.fallback)!==null&&_!==void 0?_:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";r=Object.assign({servicePath:s,port:d,clientConfig:g,fallback:P},r),r.numericEnums=!0,s!==this._servicePath&&!("scopes"in r)&&(r.scopes=S.scopes),o||(o=requireFallback()),this._gaxModule=r.fallback?o.fallback:o,this._gaxGrpc=new this._gaxModule.GrpcClient(r),this._opts=r,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,s===this._servicePath&&(this.auth.defaultScopes=S.scopes);const R=[`gax/${this._gaxModule.version}`,`gapic/${version$4}`];typeof process=="object"&&"versions"in process?R.push(`gl-node/${process.versions.node}`):R.push(`gl-web/${this._gaxModule.version}`),r.fallback?R.push(`rest/${this._gaxGrpc.grpcVersion}`):R.push(`grpc/${this._gaxGrpc.grpcVersion}`),r.libName&&r.libVersion&&R.push(`${r.libName}/${r.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(jsonProtos$3),this.pathTemplates={modelPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}/models/{model}")},this._defaults=this._gaxGrpc.constructSettings("google.cloud.texttospeech.v1.TextToSpeech",gapicConfig$3,r.clientConfig||{},{"x-goog-api-client":R.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.textToSpeechStub)return this.textToSpeechStub;this.textToSpeechStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.texttospeech.v1.TextToSpeech"):this._protos.google.cloud.texttospeech.v1.TextToSpeech,this._opts,this._providedCustomServicePath);const r=["listVoices","synthesizeSpeech"];for(const o of r){const l=this.textToSpeechStub.then(O=>(..._)=>this._terminated?Promise.reject("The client has already been closed."):O[o].apply(O,_),O=>()=>{throw O}),p=void 0,f=this._gaxModule.createApiCall(l,this._defaults[o],p,this._opts.fallback);this.innerApiCalls[o]=f}return this.textToSpeechStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(r){if(r){this.auth.getProjectId(r);return}return this.auth.getProjectId()}listVoices(r,o,l){r=r||{};let p;return typeof o=="function"&&l===void 0?(l=o,p={}):p=o,p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},this.initialize(),this.innerApiCalls.listVoices(r,p,l)}synthesizeSpeech(r,o,l){r=r||{};let p;return typeof o=="function"&&l===void 0?(l=o,p={}):p=o,p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},this.initialize(),this.innerApiCalls.synthesizeSpeech(r,p,l)}modelPath(r,o,l){return this.pathTemplates.modelPathTemplate.render({project:r,location:o,model:l})}matchProjectFromModelName(r){return this.pathTemplates.modelPathTemplate.match(r).project}matchLocationFromModelName(r){return this.pathTemplates.modelPathTemplate.match(r).location}matchModelFromModelName(r){return this.pathTemplates.modelPathTemplate.match(r).model}close(){return this.textToSpeechStub&&!this._terminated?this.textToSpeechStub.then(r=>{this._terminated=!0,r.close()}):Promise.resolve()}};text_to_speech_client$1.TextToSpeechClient=TextToSpeechClient$2;var text_to_speech_long_audio_synthesize_client$1={};const interfaces$2={"google.cloud.texttospeech.v1.TextToSpeechLongAudioSynthesize":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{SynthesizeLongAudio:{timeout_millis:5e6,retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$1$2={interfaces:interfaces$2};Object.defineProperty(text_to_speech_long_audio_synthesize_client$1,"__esModule",{value:!0});text_to_speech_long_audio_synthesize_client$1.TextToSpeechLongAudioSynthesizeClient=void 0;const jsonProtos$2=require$$0$1,gapicConfig$2=require$$1$2,version$3=require$$2$1.version;let TextToSpeechLongAudioSynthesizeClient$2=class{constructor(r,o){var l,p,f,O,_;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const S=this.constructor;if(r!=null&&r.universe_domain&&(r!=null&&r.universeDomain)&&(r==null?void 0:r.universe_domain)!==(r==null?void 0:r.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const v=typeof process=="object"&&typeof process.env=="object"?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(f=(p=(l=r==null?void 0:r.universeDomain)!==null&&l!==void 0?l:r==null?void 0:r.universe_domain)!==null&&p!==void 0?p:v)!==null&&f!==void 0?f:"googleapis.com",this._servicePath="texttospeech."+this._universeDomain;const s=(r==null?void 0:r.servicePath)||(r==null?void 0:r.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(r!=null&&r.servicePath||r!=null&&r.apiEndpoint);const d=(r==null?void 0:r.port)||S.port,g=(O=r==null?void 0:r.clientConfig)!==null&&O!==void 0?O:{},P=(_=r==null?void 0:r.fallback)!==null&&_!==void 0?_:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";r=Object.assign({servicePath:s,port:d,clientConfig:g,fallback:P},r),r.numericEnums=!0,s!==this._servicePath&&!("scopes"in r)&&(r.scopes=S.scopes),o||(o=requireFallback()),this._gaxModule=r.fallback?o.fallback:o,this._gaxGrpc=new this._gaxModule.GrpcClient(r),this._opts=r,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,s===this._servicePath&&(this.auth.defaultScopes=S.scopes);const R=[`gax/${this._gaxModule.version}`,`gapic/${version$3}`];typeof process=="object"&&"versions"in process?R.push(`gl-node/${process.versions.node}`):R.push(`gl-web/${this._gaxModule.version}`),r.fallback?R.push(`rest/${this._gaxGrpc.grpcVersion}`):R.push(`grpc/${this._gaxGrpc.grpcVersion}`),r.libName&&r.libVersion&&R.push(`${r.libName}/${r.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(jsonProtos$2);const I=this._gaxModule.protobuf.Root.fromJSON(jsonProtos$2),j={auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0};r.fallback&&(j.protoJson=I,j.httpRules=[{selector:"google.longrunning.Operations.GetOperation",get:"/v1/{name=projects/*/locations/*/operations/*}"},{selector:"google.longrunning.Operations.ListOperations",get:"/v1/{name=projects/*/locations/*}/operations"}]),this.operationsClient=this._gaxModule.lro(j).operationsClient(r);const L=I.lookup(".google.cloud.texttospeech.v1.SynthesizeLongAudioResponse"),G=I.lookup(".google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata");this.descriptors.longrunning={synthesizeLongAudio:new this._gaxModule.LongrunningDescriptor(this.operationsClient,L.decode.bind(L),G.decode.bind(G))},this._defaults=this._gaxGrpc.constructSettings("google.cloud.texttospeech.v1.TextToSpeechLongAudioSynthesize",gapicConfig$2,r.clientConfig||{},{"x-goog-api-client":R.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.textToSpeechLongAudioSynthesizeStub)return this.textToSpeechLongAudioSynthesizeStub;this.textToSpeechLongAudioSynthesizeStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.texttospeech.v1.TextToSpeechLongAudioSynthesize"):this._protos.google.cloud.texttospeech.v1.TextToSpeechLongAudioSynthesize,this._opts,this._providedCustomServicePath);const r=["synthesizeLongAudio"];for(const o of r){const l=this.textToSpeechLongAudioSynthesizeStub.then(O=>(..._)=>this._terminated?Promise.reject("The client has already been closed."):O[o].apply(O,_),O=>()=>{throw O}),p=this.descriptors.longrunning[o]||void 0,f=this._gaxModule.createApiCall(l,this._defaults[o],p,this._opts.fallback);this.innerApiCalls[o]=f}return this.textToSpeechLongAudioSynthesizeStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(r){if(r){this.auth.getProjectId(r);return}return this.auth.getProjectId()}synthesizeLongAudio(r,o,l){var p;r=r||{};let f;return typeof o=="function"&&l===void 0?(l=o,f={}):f=o,f=f||{},f.otherArgs=f.otherArgs||{},f.otherArgs.headers=f.otherArgs.headers||{},f.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=r.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.synthesizeLongAudio(r,f,l)}async checkSynthesizeLongAudioProgress(r){const o=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:r}),[l]=await this.operationsClient.getOperation(o);return new this._gaxModule.Operation(l,this.descriptors.longrunning.synthesizeLongAudio,this._gaxModule.createDefaultBackoffSettings())}getOperation(r,o,l){return this.operationsClient.getOperation(r,o,l)}listOperationsAsync(r,o){return this.operationsClient.listOperationsAsync(r,o)}cancelOperation(r,o,l){return this.operationsClient.cancelOperation(r,o,l)}deleteOperation(r,o,l){return this.operationsClient.deleteOperation(r,o,l)}close(){return this.textToSpeechLongAudioSynthesizeStub&&!this._terminated?this.textToSpeechLongAudioSynthesizeStub.then(r=>{this._terminated=!0,r.close(),this.operationsClient.close()}):Promise.resolve()}};text_to_speech_long_audio_synthesize_client$1.TextToSpeechLongAudioSynthesizeClient=TextToSpeechLongAudioSynthesizeClient$2;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TextToSpeechLongAudioSynthesizeClient=e.TextToSpeechClient=void 0;var r=text_to_speech_client$1;Object.defineProperty(e,"TextToSpeechClient",{enumerable:!0,get:function(){return r.TextToSpeechClient}});var o=text_to_speech_long_audio_synthesize_client$1;Object.defineProperty(e,"TextToSpeechLongAudioSynthesizeClient",{enumerable:!0,get:function(){return o.TextToSpeechLongAudioSynthesizeClient}})})(v1$3);var v1beta1$1={},text_to_speech_client={};const interfaces$1={"google.cloud.texttospeech.v1beta1.TextToSpeech":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{ListVoices:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},SynthesizeSpeech:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"}}}},require$$1$1={interfaces:interfaces$1};Object.defineProperty(text_to_speech_client,"__esModule",{value:!0});text_to_speech_client.TextToSpeechClient=void 0;const jsonProtos$1=require$$0$1,gapicConfig$1=require$$1$1,version$2=require$$2$1.version;let TextToSpeechClient$1=class{constructor(r,o){var l,p,f,O,_;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const S=this.constructor;if(r!=null&&r.universe_domain&&(r!=null&&r.universeDomain)&&(r==null?void 0:r.universe_domain)!==(r==null?void 0:r.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const v=typeof process=="object"&&typeof process.env=="object"?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(f=(p=(l=r==null?void 0:r.universeDomain)!==null&&l!==void 0?l:r==null?void 0:r.universe_domain)!==null&&p!==void 0?p:v)!==null&&f!==void 0?f:"googleapis.com",this._servicePath="texttospeech."+this._universeDomain;const s=(r==null?void 0:r.servicePath)||(r==null?void 0:r.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(r!=null&&r.servicePath||r!=null&&r.apiEndpoint);const d=(r==null?void 0:r.port)||S.port,g=(O=r==null?void 0:r.clientConfig)!==null&&O!==void 0?O:{},P=(_=r==null?void 0:r.fallback)!==null&&_!==void 0?_:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";r=Object.assign({servicePath:s,port:d,clientConfig:g,fallback:P},r),r.numericEnums=!0,s!==this._servicePath&&!("scopes"in r)&&(r.scopes=S.scopes),o||(o=requireFallback()),this._gaxModule=r.fallback?o.fallback:o,this._gaxGrpc=new this._gaxModule.GrpcClient(r),this._opts=r,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,s===this._servicePath&&(this.auth.defaultScopes=S.scopes);const R=[`gax/${this._gaxModule.version}`,`gapic/${version$2}`];typeof process=="object"&&"versions"in process?R.push(`gl-node/${process.versions.node}`):R.push(`gl-web/${this._gaxModule.version}`),r.fallback?R.push(`rest/${this._gaxGrpc.grpcVersion}`):R.push(`grpc/${this._gaxGrpc.grpcVersion}`),r.libName&&r.libVersion&&R.push(`${r.libName}/${r.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(jsonProtos$1),this.pathTemplates={modelPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}/models/{model}")},this._defaults=this._gaxGrpc.constructSettings("google.cloud.texttospeech.v1beta1.TextToSpeech",gapicConfig$1,r.clientConfig||{},{"x-goog-api-client":R.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.textToSpeechStub)return this.textToSpeechStub;this.textToSpeechStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.texttospeech.v1beta1.TextToSpeech"):this._protos.google.cloud.texttospeech.v1beta1.TextToSpeech,this._opts,this._providedCustomServicePath);const r=["listVoices","synthesizeSpeech"];for(const o of r){const l=this.textToSpeechStub.then(O=>(..._)=>this._terminated?Promise.reject("The client has already been closed."):O[o].apply(O,_),O=>()=>{throw O}),p=void 0,f=this._gaxModule.createApiCall(l,this._defaults[o],p,this._opts.fallback);this.innerApiCalls[o]=f}return this.textToSpeechStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(r){if(r){this.auth.getProjectId(r);return}return this.auth.getProjectId()}listVoices(r,o,l){r=r||{};let p;return typeof o=="function"&&l===void 0?(l=o,p={}):p=o,p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},this.initialize(),this.innerApiCalls.listVoices(r,p,l)}synthesizeSpeech(r,o,l){r=r||{};let p;return typeof o=="function"&&l===void 0?(l=o,p={}):p=o,p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},this.initialize(),this.innerApiCalls.synthesizeSpeech(r,p,l)}modelPath(r,o,l){return this.pathTemplates.modelPathTemplate.render({project:r,location:o,model:l})}matchProjectFromModelName(r){return this.pathTemplates.modelPathTemplate.match(r).project}matchLocationFromModelName(r){return this.pathTemplates.modelPathTemplate.match(r).location}matchModelFromModelName(r){return this.pathTemplates.modelPathTemplate.match(r).model}close(){return this.textToSpeechStub&&!this._terminated?this.textToSpeechStub.then(r=>{this._terminated=!0,r.close()}):Promise.resolve()}};text_to_speech_client.TextToSpeechClient=TextToSpeechClient$1;var text_to_speech_long_audio_synthesize_client={};const interfaces={"google.cloud.texttospeech.v1beta1.TextToSpeechLongAudioSynthesize":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{SynthesizeLongAudio:{timeout_millis:5e6,retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$1={interfaces};Object.defineProperty(text_to_speech_long_audio_synthesize_client,"__esModule",{value:!0});text_to_speech_long_audio_synthesize_client.TextToSpeechLongAudioSynthesizeClient=void 0;const jsonProtos=require$$0$1,gapicConfig=require$$1,version$1=require$$2$1.version;let TextToSpeechLongAudioSynthesizeClient$1=class{constructor(r,o){var l,p,f,O,_;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const S=this.constructor;if(r!=null&&r.universe_domain&&(r!=null&&r.universeDomain)&&(r==null?void 0:r.universe_domain)!==(r==null?void 0:r.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const v=typeof process=="object"&&typeof process.env=="object"?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(f=(p=(l=r==null?void 0:r.universeDomain)!==null&&l!==void 0?l:r==null?void 0:r.universe_domain)!==null&&p!==void 0?p:v)!==null&&f!==void 0?f:"googleapis.com",this._servicePath="texttospeech."+this._universeDomain;const s=(r==null?void 0:r.servicePath)||(r==null?void 0:r.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(r!=null&&r.servicePath||r!=null&&r.apiEndpoint);const d=(r==null?void 0:r.port)||S.port,g=(O=r==null?void 0:r.clientConfig)!==null&&O!==void 0?O:{},P=(_=r==null?void 0:r.fallback)!==null&&_!==void 0?_:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";r=Object.assign({servicePath:s,port:d,clientConfig:g,fallback:P},r),r.numericEnums=!0,s!==this._servicePath&&!("scopes"in r)&&(r.scopes=S.scopes),o||(o=requireFallback()),this._gaxModule=r.fallback?o.fallback:o,this._gaxGrpc=new this._gaxModule.GrpcClient(r),this._opts=r,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,s===this._servicePath&&(this.auth.defaultScopes=S.scopes);const R=[`gax/${this._gaxModule.version}`,`gapic/${version$1}`];typeof process=="object"&&"versions"in process?R.push(`gl-node/${process.versions.node}`):R.push(`gl-web/${this._gaxModule.version}`),r.fallback?R.push(`rest/${this._gaxGrpc.grpcVersion}`):R.push(`grpc/${this._gaxGrpc.grpcVersion}`),r.libName&&r.libVersion&&R.push(`${r.libName}/${r.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(jsonProtos);const I=this._gaxModule.protobuf.Root.fromJSON(jsonProtos),j={auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0};r.fallback&&(j.protoJson=I,j.httpRules=[{selector:"google.longrunning.Operations.GetOperation",get:"/v1beta1/{name=projects/*/locations/*/operations/*}"},{selector:"google.longrunning.Operations.ListOperations",get:"/v1beta1/{name=projects/*/locations/*}/operations"}]),this.operationsClient=this._gaxModule.lro(j).operationsClient(r);const L=I.lookup(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse"),G=I.lookup(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata");this.descriptors.longrunning={synthesizeLongAudio:new this._gaxModule.LongrunningDescriptor(this.operationsClient,L.decode.bind(L),G.decode.bind(G))},this._defaults=this._gaxGrpc.constructSettings("google.cloud.texttospeech.v1beta1.TextToSpeechLongAudioSynthesize",gapicConfig,r.clientConfig||{},{"x-goog-api-client":R.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.textToSpeechLongAudioSynthesizeStub)return this.textToSpeechLongAudioSynthesizeStub;this.textToSpeechLongAudioSynthesizeStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.texttospeech.v1beta1.TextToSpeechLongAudioSynthesize"):this._protos.google.cloud.texttospeech.v1beta1.TextToSpeechLongAudioSynthesize,this._opts,this._providedCustomServicePath);const r=["synthesizeLongAudio"];for(const o of r){const l=this.textToSpeechLongAudioSynthesizeStub.then(O=>(..._)=>this._terminated?Promise.reject("The client has already been closed."):O[o].apply(O,_),O=>()=>{throw O}),p=this.descriptors.longrunning[o]||void 0,f=this._gaxModule.createApiCall(l,this._defaults[o],p,this._opts.fallback);this.innerApiCalls[o]=f}return this.textToSpeechLongAudioSynthesizeStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"texttospeech.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(r){if(r){this.auth.getProjectId(r);return}return this.auth.getProjectId()}synthesizeLongAudio(r,o,l){var p;r=r||{};let f;return typeof o=="function"&&l===void 0?(l=o,f={}):f=o,f=f||{},f.otherArgs=f.otherArgs||{},f.otherArgs.headers=f.otherArgs.headers||{},f.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=r.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.synthesizeLongAudio(r,f,l)}async checkSynthesizeLongAudioProgress(r){const o=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:r}),[l]=await this.operationsClient.getOperation(o);return new this._gaxModule.Operation(l,this.descriptors.longrunning.synthesizeLongAudio,this._gaxModule.createDefaultBackoffSettings())}getOperation(r,o,l){return this.operationsClient.getOperation(r,o,l)}listOperationsAsync(r,o){return this.operationsClient.listOperationsAsync(r,o)}cancelOperation(r,o,l){return this.operationsClient.cancelOperation(r,o,l)}deleteOperation(r,o,l){return this.operationsClient.deleteOperation(r,o,l)}close(){return this.textToSpeechLongAudioSynthesizeStub&&!this._terminated?this.textToSpeechLongAudioSynthesizeStub.then(r=>{this._terminated=!0,r.close(),this.operationsClient.close()}):Promise.resolve()}};text_to_speech_long_audio_synthesize_client.TextToSpeechLongAudioSynthesizeClient=TextToSpeechLongAudioSynthesizeClient$1;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TextToSpeechLongAudioSynthesizeClient=e.TextToSpeechClient=void 0;var r=text_to_speech_client;Object.defineProperty(e,"TextToSpeechClient",{enumerable:!0,get:function(){return r.TextToSpeechClient}});var o=text_to_speech_long_audio_synthesize_client;Object.defineProperty(e,"TextToSpeechLongAudioSynthesizeClient",{enumerable:!0,get:function(){return o.TextToSpeechLongAudioSynthesizeClient}})})(v1beta1$1);var protos$1={exports:{}},protobuf={},hasRequiredProtobuf;function requireProtobuf(){return hasRequiredProtobuf||(hasRequiredProtobuf=1,Object.defineProperty(protobuf,"__esModule",{value:!0}),protobuf.protobufMinimal=void 0,protobuf.protobufMinimal=requireMinimal()),protobuf}(function(e){(function(r,o){typeof commonjsRequire=="function"&&e&&e.exports&&(e.exports=o(requireProtobuf().protobufMinimal))})(commonjsGlobal,function(r){var o=r.Reader,l=r.Writer,p=r.util,f=r.roots._google_cloud_text_to_speech_protos||(r.roots._google_cloud_text_to_speech_protos={});return f.google=function(){var O={};return O.cloud=function(){var _={};return _.texttospeech=function(){var S={};return S.v1=function(){var v={};return v.TextToSpeech=function(){function s(d,g,P){r.rpc.Service.call(this,d,g,P)}return(s.prototype=Object.create(r.rpc.Service.prototype)).constructor=s,s.create=function(g,P,R){return new this(g,P,R)},Object.defineProperty(s.prototype.listVoices=function d(g,P){return this.rpcCall(d,f.google.cloud.texttospeech.v1.ListVoicesRequest,f.google.cloud.texttospeech.v1.ListVoicesResponse,g,P)},"name",{value:"ListVoices"}),Object.defineProperty(s.prototype.synthesizeSpeech=function d(g,P){return this.rpcCall(d,f.google.cloud.texttospeech.v1.SynthesizeSpeechRequest,f.google.cloud.texttospeech.v1.SynthesizeSpeechResponse,g,P)},"name",{value:"SynthesizeSpeech"}),s}(),v.SsmlVoiceGender=function(){var s={},d=Object.create(s);return d[s[0]="SSML_VOICE_GENDER_UNSPECIFIED"]=0,d[s[1]="MALE"]=1,d[s[2]="FEMALE"]=2,d[s[3]="NEUTRAL"]=3,d}(),v.AudioEncoding=function(){var s={},d=Object.create(s);return d[s[0]="AUDIO_ENCODING_UNSPECIFIED"]=0,d[s[1]="LINEAR16"]=1,d[s[2]="MP3"]=2,d[s[3]="OGG_OPUS"]=3,d[s[5]="MULAW"]=5,d[s[6]="ALAW"]=6,d}(),v.ListVoicesRequest=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.languageCode="",s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.languageCode!=null&&Object.hasOwnProperty.call(g,"languageCode")&&P.uint32(10).string(g.languageCode),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.ListVoicesRequest;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.languageCode=g.string();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){return typeof g!="object"||g===null?"object expected":g.languageCode!=null&&g.hasOwnProperty("languageCode")&&!p.isString(g.languageCode)?"languageCode: string expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.ListVoicesRequest)return g;var P=new f.google.cloud.texttospeech.v1.ListVoicesRequest;return g.languageCode!=null&&(P.languageCode=String(g.languageCode)),P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.languageCode=""),g.languageCode!=null&&g.hasOwnProperty("languageCode")&&(R.languageCode=g.languageCode),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.ListVoicesRequest"},s}(),v.ListVoicesResponse=function(){function s(d){if(this.voices=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.voices=p.emptyArray,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.voices!=null&&g.voices.length)for(var R=0;R<g.voices.length;++R)f.google.cloud.texttospeech.v1.Voice.encode(g.voices[R],P.uint32(10).fork()).ldelim();return P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.ListVoicesResponse;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.voices&&I.voices.length||(I.voices=[]),I.voices.push(f.google.cloud.texttospeech.v1.Voice.decode(g,g.uint32()));break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.voices!=null&&g.hasOwnProperty("voices")){if(!Array.isArray(g.voices))return"voices: array expected";for(var P=0;P<g.voices.length;++P){var R=f.google.cloud.texttospeech.v1.Voice.verify(g.voices[P]);if(R)return"voices."+R}}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.ListVoicesResponse)return g;var P=new f.google.cloud.texttospeech.v1.ListVoicesResponse;if(g.voices){if(!Array.isArray(g.voices))throw TypeError(".google.cloud.texttospeech.v1.ListVoicesResponse.voices: array expected");P.voices=[];for(var R=0;R<g.voices.length;++R){if(typeof g.voices[R]!="object")throw TypeError(".google.cloud.texttospeech.v1.ListVoicesResponse.voices: object expected");P.voices[R]=f.google.cloud.texttospeech.v1.Voice.fromObject(g.voices[R])}}return P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.voices=[]),g.voices&&g.voices.length){R.voices=[];for(var I=0;I<g.voices.length;++I)R.voices[I]=f.google.cloud.texttospeech.v1.Voice.toObject(g.voices[I],P)}return R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.ListVoicesResponse"},s}(),v.Voice=function(){function s(d){if(this.languageCodes=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.languageCodes=p.emptyArray,s.prototype.name="",s.prototype.ssmlGender=0,s.prototype.naturalSampleRateHertz=0,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.languageCodes!=null&&g.languageCodes.length)for(var R=0;R<g.languageCodes.length;++R)P.uint32(10).string(g.languageCodes[R]);return g.name!=null&&Object.hasOwnProperty.call(g,"name")&&P.uint32(18).string(g.name),g.ssmlGender!=null&&Object.hasOwnProperty.call(g,"ssmlGender")&&P.uint32(24).int32(g.ssmlGender),g.naturalSampleRateHertz!=null&&Object.hasOwnProperty.call(g,"naturalSampleRateHertz")&&P.uint32(32).int32(g.naturalSampleRateHertz),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.Voice;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.languageCodes&&I.languageCodes.length||(I.languageCodes=[]),I.languageCodes.push(g.string());break}case 2:{I.name=g.string();break}case 3:{I.ssmlGender=g.int32();break}case 4:{I.naturalSampleRateHertz=g.int32();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.languageCodes!=null&&g.hasOwnProperty("languageCodes")){if(!Array.isArray(g.languageCodes))return"languageCodes: array expected";for(var P=0;P<g.languageCodes.length;++P)if(!p.isString(g.languageCodes[P]))return"languageCodes: string[] expected"}if(g.name!=null&&g.hasOwnProperty("name")&&!p.isString(g.name))return"name: string expected";if(g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender"))switch(g.ssmlGender){default:return"ssmlGender: enum value expected";case 0:case 1:case 2:case 3:break}return g.naturalSampleRateHertz!=null&&g.hasOwnProperty("naturalSampleRateHertz")&&!p.isInteger(g.naturalSampleRateHertz)?"naturalSampleRateHertz: integer expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.Voice)return g;var P=new f.google.cloud.texttospeech.v1.Voice;if(g.languageCodes){if(!Array.isArray(g.languageCodes))throw TypeError(".google.cloud.texttospeech.v1.Voice.languageCodes: array expected");P.languageCodes=[];for(var R=0;R<g.languageCodes.length;++R)P.languageCodes[R]=String(g.languageCodes[R])}switch(g.name!=null&&(P.name=String(g.name)),g.ssmlGender){default:if(typeof g.ssmlGender=="number"){P.ssmlGender=g.ssmlGender;break}break;case"SSML_VOICE_GENDER_UNSPECIFIED":case 0:P.ssmlGender=0;break;case"MALE":case 1:P.ssmlGender=1;break;case"FEMALE":case 2:P.ssmlGender=2;break;case"NEUTRAL":case 3:P.ssmlGender=3;break}return g.naturalSampleRateHertz!=null&&(P.naturalSampleRateHertz=g.naturalSampleRateHertz|0),P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.languageCodes=[]),P.defaults&&(R.name="",R.ssmlGender=P.enums===String?"SSML_VOICE_GENDER_UNSPECIFIED":0,R.naturalSampleRateHertz=0),g.languageCodes&&g.languageCodes.length){R.languageCodes=[];for(var I=0;I<g.languageCodes.length;++I)R.languageCodes[I]=g.languageCodes[I]}return g.name!=null&&g.hasOwnProperty("name")&&(R.name=g.name),g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender")&&(R.ssmlGender=P.enums===String?f.google.cloud.texttospeech.v1.SsmlVoiceGender[g.ssmlGender]===void 0?g.ssmlGender:f.google.cloud.texttospeech.v1.SsmlVoiceGender[g.ssmlGender]:g.ssmlGender),g.naturalSampleRateHertz!=null&&g.hasOwnProperty("naturalSampleRateHertz")&&(R.naturalSampleRateHertz=g.naturalSampleRateHertz),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.Voice"},s}(),v.SynthesizeSpeechRequest=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.input=null,s.prototype.voice=null,s.prototype.audioConfig=null,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.input!=null&&Object.hasOwnProperty.call(g,"input")&&f.google.cloud.texttospeech.v1.SynthesisInput.encode(g.input,P.uint32(10).fork()).ldelim(),g.voice!=null&&Object.hasOwnProperty.call(g,"voice")&&f.google.cloud.texttospeech.v1.VoiceSelectionParams.encode(g.voice,P.uint32(18).fork()).ldelim(),g.audioConfig!=null&&Object.hasOwnProperty.call(g,"audioConfig")&&f.google.cloud.texttospeech.v1.AudioConfig.encode(g.audioConfig,P.uint32(26).fork()).ldelim(),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.SynthesizeSpeechRequest;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.input=f.google.cloud.texttospeech.v1.SynthesisInput.decode(g,g.uint32());break}case 2:{I.voice=f.google.cloud.texttospeech.v1.VoiceSelectionParams.decode(g,g.uint32());break}case 3:{I.audioConfig=f.google.cloud.texttospeech.v1.AudioConfig.decode(g,g.uint32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.input!=null&&g.hasOwnProperty("input")){var P=f.google.cloud.texttospeech.v1.SynthesisInput.verify(g.input);if(P)return"input."+P}if(g.voice!=null&&g.hasOwnProperty("voice")){var P=f.google.cloud.texttospeech.v1.VoiceSelectionParams.verify(g.voice);if(P)return"voice."+P}if(g.audioConfig!=null&&g.hasOwnProperty("audioConfig")){var P=f.google.cloud.texttospeech.v1.AudioConfig.verify(g.audioConfig);if(P)return"audioConfig."+P}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.SynthesizeSpeechRequest)return g;var P=new f.google.cloud.texttospeech.v1.SynthesizeSpeechRequest;if(g.input!=null){if(typeof g.input!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeSpeechRequest.input: object expected");P.input=f.google.cloud.texttospeech.v1.SynthesisInput.fromObject(g.input)}if(g.voice!=null){if(typeof g.voice!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeSpeechRequest.voice: object expected");P.voice=f.google.cloud.texttospeech.v1.VoiceSelectionParams.fromObject(g.voice)}if(g.audioConfig!=null){if(typeof g.audioConfig!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeSpeechRequest.audioConfig: object expected");P.audioConfig=f.google.cloud.texttospeech.v1.AudioConfig.fromObject(g.audioConfig)}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.input=null,R.voice=null,R.audioConfig=null),g.input!=null&&g.hasOwnProperty("input")&&(R.input=f.google.cloud.texttospeech.v1.SynthesisInput.toObject(g.input,P)),g.voice!=null&&g.hasOwnProperty("voice")&&(R.voice=f.google.cloud.texttospeech.v1.VoiceSelectionParams.toObject(g.voice,P)),g.audioConfig!=null&&g.hasOwnProperty("audioConfig")&&(R.audioConfig=f.google.cloud.texttospeech.v1.AudioConfig.toObject(g.audioConfig,P)),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.SynthesizeSpeechRequest"},s}(),v.SynthesisInput=function(){function s(g){if(g)for(var P=Object.keys(g),R=0;R<P.length;++R)g[P[R]]!=null&&(this[P[R]]=g[P[R]])}s.prototype.text=null,s.prototype.ssml=null;var d;return Object.defineProperty(s.prototype,"inputSource",{get:p.oneOfGetter(d=["text","ssml"]),set:p.oneOfSetter(d)}),s.create=function(P){return new s(P)},s.encode=function(P,R){return R||(R=l.create()),P.text!=null&&Object.hasOwnProperty.call(P,"text")&&R.uint32(10).string(P.text),P.ssml!=null&&Object.hasOwnProperty.call(P,"ssml")&&R.uint32(18).string(P.ssml),R},s.encodeDelimited=function(P,R){return this.encode(P,R).ldelim()},s.decode=function(P,R){P instanceof o||(P=o.create(P));for(var I=R===void 0?P.len:P.pos+R,j=new f.google.cloud.texttospeech.v1.SynthesisInput;P.pos<I;){var L=P.uint32();switch(L>>>3){case 1:{j.text=P.string();break}case 2:{j.ssml=P.string();break}default:P.skipType(L&7);break}}return j},s.decodeDelimited=function(P){return P instanceof o||(P=new o(P)),this.decode(P,P.uint32())},s.verify=function(P){if(typeof P!="object"||P===null)return"object expected";var R={};if(P.text!=null&&P.hasOwnProperty("text")&&(R.inputSource=1,!p.isString(P.text)))return"text: string expected";if(P.ssml!=null&&P.hasOwnProperty("ssml")){if(R.inputSource===1)return"inputSource: multiple values";if(R.inputSource=1,!p.isString(P.ssml))return"ssml: string expected"}return null},s.fromObject=function(P){if(P instanceof f.google.cloud.texttospeech.v1.SynthesisInput)return P;var R=new f.google.cloud.texttospeech.v1.SynthesisInput;return P.text!=null&&(R.text=String(P.text)),P.ssml!=null&&(R.ssml=String(P.ssml)),R},s.toObject=function(P,R){R||(R={});var I={};return P.text!=null&&P.hasOwnProperty("text")&&(I.text=P.text,R.oneofs&&(I.inputSource="text")),P.ssml!=null&&P.hasOwnProperty("ssml")&&(I.ssml=P.ssml,R.oneofs&&(I.inputSource="ssml")),I},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(P){return P===void 0&&(P="type.googleapis.com"),P+"/google.cloud.texttospeech.v1.SynthesisInput"},s}(),v.VoiceSelectionParams=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.languageCode="",s.prototype.name="",s.prototype.ssmlGender=0,s.prototype.customVoice=null,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.languageCode!=null&&Object.hasOwnProperty.call(g,"languageCode")&&P.uint32(10).string(g.languageCode),g.name!=null&&Object.hasOwnProperty.call(g,"name")&&P.uint32(18).string(g.name),g.ssmlGender!=null&&Object.hasOwnProperty.call(g,"ssmlGender")&&P.uint32(24).int32(g.ssmlGender),g.customVoice!=null&&Object.hasOwnProperty.call(g,"customVoice")&&f.google.cloud.texttospeech.v1.CustomVoiceParams.encode(g.customVoice,P.uint32(34).fork()).ldelim(),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.VoiceSelectionParams;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.languageCode=g.string();break}case 2:{I.name=g.string();break}case 3:{I.ssmlGender=g.int32();break}case 4:{I.customVoice=f.google.cloud.texttospeech.v1.CustomVoiceParams.decode(g,g.uint32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.languageCode!=null&&g.hasOwnProperty("languageCode")&&!p.isString(g.languageCode))return"languageCode: string expected";if(g.name!=null&&g.hasOwnProperty("name")&&!p.isString(g.name))return"name: string expected";if(g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender"))switch(g.ssmlGender){default:return"ssmlGender: enum value expected";case 0:case 1:case 2:case 3:break}if(g.customVoice!=null&&g.hasOwnProperty("customVoice")){var P=f.google.cloud.texttospeech.v1.CustomVoiceParams.verify(g.customVoice);if(P)return"customVoice."+P}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.VoiceSelectionParams)return g;var P=new f.google.cloud.texttospeech.v1.VoiceSelectionParams;switch(g.languageCode!=null&&(P.languageCode=String(g.languageCode)),g.name!=null&&(P.name=String(g.name)),g.ssmlGender){default:if(typeof g.ssmlGender=="number"){P.ssmlGender=g.ssmlGender;break}break;case"SSML_VOICE_GENDER_UNSPECIFIED":case 0:P.ssmlGender=0;break;case"MALE":case 1:P.ssmlGender=1;break;case"FEMALE":case 2:P.ssmlGender=2;break;case"NEUTRAL":case 3:P.ssmlGender=3;break}if(g.customVoice!=null){if(typeof g.customVoice!="object")throw TypeError(".google.cloud.texttospeech.v1.VoiceSelectionParams.customVoice: object expected");P.customVoice=f.google.cloud.texttospeech.v1.CustomVoiceParams.fromObject(g.customVoice)}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.languageCode="",R.name="",R.ssmlGender=P.enums===String?"SSML_VOICE_GENDER_UNSPECIFIED":0,R.customVoice=null),g.languageCode!=null&&g.hasOwnProperty("languageCode")&&(R.languageCode=g.languageCode),g.name!=null&&g.hasOwnProperty("name")&&(R.name=g.name),g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender")&&(R.ssmlGender=P.enums===String?f.google.cloud.texttospeech.v1.SsmlVoiceGender[g.ssmlGender]===void 0?g.ssmlGender:f.google.cloud.texttospeech.v1.SsmlVoiceGender[g.ssmlGender]:g.ssmlGender),g.customVoice!=null&&g.hasOwnProperty("customVoice")&&(R.customVoice=f.google.cloud.texttospeech.v1.CustomVoiceParams.toObject(g.customVoice,P)),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.VoiceSelectionParams"},s}(),v.AudioConfig=function(){function s(d){if(this.effectsProfileId=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.audioEncoding=0,s.prototype.speakingRate=0,s.prototype.pitch=0,s.prototype.volumeGainDb=0,s.prototype.sampleRateHertz=0,s.prototype.effectsProfileId=p.emptyArray,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.audioEncoding!=null&&Object.hasOwnProperty.call(g,"audioEncoding")&&P.uint32(8).int32(g.audioEncoding),g.speakingRate!=null&&Object.hasOwnProperty.call(g,"speakingRate")&&P.uint32(17).double(g.speakingRate),g.pitch!=null&&Object.hasOwnProperty.call(g,"pitch")&&P.uint32(25).double(g.pitch),g.volumeGainDb!=null&&Object.hasOwnProperty.call(g,"volumeGainDb")&&P.uint32(33).double(g.volumeGainDb),g.sampleRateHertz!=null&&Object.hasOwnProperty.call(g,"sampleRateHertz")&&P.uint32(40).int32(g.sampleRateHertz),g.effectsProfileId!=null&&g.effectsProfileId.length)for(var R=0;R<g.effectsProfileId.length;++R)P.uint32(50).string(g.effectsProfileId[R]);return P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.AudioConfig;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.audioEncoding=g.int32();break}case 2:{I.speakingRate=g.double();break}case 3:{I.pitch=g.double();break}case 4:{I.volumeGainDb=g.double();break}case 5:{I.sampleRateHertz=g.int32();break}case 6:{I.effectsProfileId&&I.effectsProfileId.length||(I.effectsProfileId=[]),I.effectsProfileId.push(g.string());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.audioEncoding!=null&&g.hasOwnProperty("audioEncoding"))switch(g.audioEncoding){default:return"audioEncoding: enum value expected";case 0:case 1:case 2:case 3:case 5:case 6:break}if(g.speakingRate!=null&&g.hasOwnProperty("speakingRate")&&typeof g.speakingRate!="number")return"speakingRate: number expected";if(g.pitch!=null&&g.hasOwnProperty("pitch")&&typeof g.pitch!="number")return"pitch: number expected";if(g.volumeGainDb!=null&&g.hasOwnProperty("volumeGainDb")&&typeof g.volumeGainDb!="number")return"volumeGainDb: number expected";if(g.sampleRateHertz!=null&&g.hasOwnProperty("sampleRateHertz")&&!p.isInteger(g.sampleRateHertz))return"sampleRateHertz: integer expected";if(g.effectsProfileId!=null&&g.hasOwnProperty("effectsProfileId")){if(!Array.isArray(g.effectsProfileId))return"effectsProfileId: array expected";for(var P=0;P<g.effectsProfileId.length;++P)if(!p.isString(g.effectsProfileId[P]))return"effectsProfileId: string[] expected"}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.AudioConfig)return g;var P=new f.google.cloud.texttospeech.v1.AudioConfig;switch(g.audioEncoding){default:if(typeof g.audioEncoding=="number"){P.audioEncoding=g.audioEncoding;break}break;case"AUDIO_ENCODING_UNSPECIFIED":case 0:P.audioEncoding=0;break;case"LINEAR16":case 1:P.audioEncoding=1;break;case"MP3":case 2:P.audioEncoding=2;break;case"OGG_OPUS":case 3:P.audioEncoding=3;break;case"MULAW":case 5:P.audioEncoding=5;break;case"ALAW":case 6:P.audioEncoding=6;break}if(g.speakingRate!=null&&(P.speakingRate=Number(g.speakingRate)),g.pitch!=null&&(P.pitch=Number(g.pitch)),g.volumeGainDb!=null&&(P.volumeGainDb=Number(g.volumeGainDb)),g.sampleRateHertz!=null&&(P.sampleRateHertz=g.sampleRateHertz|0),g.effectsProfileId){if(!Array.isArray(g.effectsProfileId))throw TypeError(".google.cloud.texttospeech.v1.AudioConfig.effectsProfileId: array expected");P.effectsProfileId=[];for(var R=0;R<g.effectsProfileId.length;++R)P.effectsProfileId[R]=String(g.effectsProfileId[R])}return P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.effectsProfileId=[]),P.defaults&&(R.audioEncoding=P.enums===String?"AUDIO_ENCODING_UNSPECIFIED":0,R.speakingRate=0,R.pitch=0,R.volumeGainDb=0,R.sampleRateHertz=0),g.audioEncoding!=null&&g.hasOwnProperty("audioEncoding")&&(R.audioEncoding=P.enums===String?f.google.cloud.texttospeech.v1.AudioEncoding[g.audioEncoding]===void 0?g.audioEncoding:f.google.cloud.texttospeech.v1.AudioEncoding[g.audioEncoding]:g.audioEncoding),g.speakingRate!=null&&g.hasOwnProperty("speakingRate")&&(R.speakingRate=P.json&&!isFinite(g.speakingRate)?String(g.speakingRate):g.speakingRate),g.pitch!=null&&g.hasOwnProperty("pitch")&&(R.pitch=P.json&&!isFinite(g.pitch)?String(g.pitch):g.pitch),g.volumeGainDb!=null&&g.hasOwnProperty("volumeGainDb")&&(R.volumeGainDb=P.json&&!isFinite(g.volumeGainDb)?String(g.volumeGainDb):g.volumeGainDb),g.sampleRateHertz!=null&&g.hasOwnProperty("sampleRateHertz")&&(R.sampleRateHertz=g.sampleRateHertz),g.effectsProfileId&&g.effectsProfileId.length){R.effectsProfileId=[];for(var I=0;I<g.effectsProfileId.length;++I)R.effectsProfileId[I]=g.effectsProfileId[I]}return R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.AudioConfig"},s}(),v.CustomVoiceParams=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.model="",s.prototype.reportedUsage=0,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.model!=null&&Object.hasOwnProperty.call(g,"model")&&P.uint32(10).string(g.model),g.reportedUsage!=null&&Object.hasOwnProperty.call(g,"reportedUsage")&&P.uint32(24).int32(g.reportedUsage),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.CustomVoiceParams;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.model=g.string();break}case 3:{I.reportedUsage=g.int32();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.model!=null&&g.hasOwnProperty("model")&&!p.isString(g.model))return"model: string expected";if(g.reportedUsage!=null&&g.hasOwnProperty("reportedUsage"))switch(g.reportedUsage){default:return"reportedUsage: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.CustomVoiceParams)return g;var P=new f.google.cloud.texttospeech.v1.CustomVoiceParams;switch(g.model!=null&&(P.model=String(g.model)),g.reportedUsage){default:if(typeof g.reportedUsage=="number"){P.reportedUsage=g.reportedUsage;break}break;case"REPORTED_USAGE_UNSPECIFIED":case 0:P.reportedUsage=0;break;case"REALTIME":case 1:P.reportedUsage=1;break;case"OFFLINE":case 2:P.reportedUsage=2;break}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.model="",R.reportedUsage=P.enums===String?"REPORTED_USAGE_UNSPECIFIED":0),g.model!=null&&g.hasOwnProperty("model")&&(R.model=g.model),g.reportedUsage!=null&&g.hasOwnProperty("reportedUsage")&&(R.reportedUsage=P.enums===String?f.google.cloud.texttospeech.v1.CustomVoiceParams.ReportedUsage[g.reportedUsage]===void 0?g.reportedUsage:f.google.cloud.texttospeech.v1.CustomVoiceParams.ReportedUsage[g.reportedUsage]:g.reportedUsage),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.CustomVoiceParams"},s.ReportedUsage=function(){var d={},g=Object.create(d);return g[d[0]="REPORTED_USAGE_UNSPECIFIED"]=0,g[d[1]="REALTIME"]=1,g[d[2]="OFFLINE"]=2,g}(),s}(),v.SynthesizeSpeechResponse=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.audioContent=p.newBuffer([]),s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.audioContent!=null&&Object.hasOwnProperty.call(g,"audioContent")&&P.uint32(10).bytes(g.audioContent),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.SynthesizeSpeechResponse;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.audioContent=g.bytes();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){return typeof g!="object"||g===null?"object expected":g.audioContent!=null&&g.hasOwnProperty("audioContent")&&!(g.audioContent&&typeof g.audioContent.length=="number"||p.isString(g.audioContent))?"audioContent: buffer expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.SynthesizeSpeechResponse)return g;var P=new f.google.cloud.texttospeech.v1.SynthesizeSpeechResponse;return g.audioContent!=null&&(typeof g.audioContent=="string"?p.base64.decode(g.audioContent,P.audioContent=p.newBuffer(p.base64.length(g.audioContent)),0):g.audioContent.length>=0&&(P.audioContent=g.audioContent)),P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(P.bytes===String?R.audioContent="":(R.audioContent=[],P.bytes!==Array&&(R.audioContent=p.newBuffer(R.audioContent)))),g.audioContent!=null&&g.hasOwnProperty("audioContent")&&(R.audioContent=P.bytes===String?p.base64.encode(g.audioContent,0,g.audioContent.length):P.bytes===Array?Array.prototype.slice.call(g.audioContent):g.audioContent),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.SynthesizeSpeechResponse"},s}(),v.TextToSpeechLongAudioSynthesize=function(){function s(d,g,P){r.rpc.Service.call(this,d,g,P)}return(s.prototype=Object.create(r.rpc.Service.prototype)).constructor=s,s.create=function(g,P,R){return new this(g,P,R)},Object.defineProperty(s.prototype.synthesizeLongAudio=function d(g,P){return this.rpcCall(d,f.google.cloud.texttospeech.v1.SynthesizeLongAudioRequest,f.google.longrunning.Operation,g,P)},"name",{value:"SynthesizeLongAudio"}),s}(),v.SynthesizeLongAudioRequest=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.parent="",s.prototype.input=null,s.prototype.audioConfig=null,s.prototype.outputGcsUri="",s.prototype.voice=null,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.parent!=null&&Object.hasOwnProperty.call(g,"parent")&&P.uint32(10).string(g.parent),g.input!=null&&Object.hasOwnProperty.call(g,"input")&&f.google.cloud.texttospeech.v1.SynthesisInput.encode(g.input,P.uint32(18).fork()).ldelim(),g.audioConfig!=null&&Object.hasOwnProperty.call(g,"audioConfig")&&f.google.cloud.texttospeech.v1.AudioConfig.encode(g.audioConfig,P.uint32(26).fork()).ldelim(),g.outputGcsUri!=null&&Object.hasOwnProperty.call(g,"outputGcsUri")&&P.uint32(34).string(g.outputGcsUri),g.voice!=null&&Object.hasOwnProperty.call(g,"voice")&&f.google.cloud.texttospeech.v1.VoiceSelectionParams.encode(g.voice,P.uint32(42).fork()).ldelim(),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.SynthesizeLongAudioRequest;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.parent=g.string();break}case 2:{I.input=f.google.cloud.texttospeech.v1.SynthesisInput.decode(g,g.uint32());break}case 3:{I.audioConfig=f.google.cloud.texttospeech.v1.AudioConfig.decode(g,g.uint32());break}case 4:{I.outputGcsUri=g.string();break}case 5:{I.voice=f.google.cloud.texttospeech.v1.VoiceSelectionParams.decode(g,g.uint32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.parent!=null&&g.hasOwnProperty("parent")&&!p.isString(g.parent))return"parent: string expected";if(g.input!=null&&g.hasOwnProperty("input")){var P=f.google.cloud.texttospeech.v1.SynthesisInput.verify(g.input);if(P)return"input."+P}if(g.audioConfig!=null&&g.hasOwnProperty("audioConfig")){var P=f.google.cloud.texttospeech.v1.AudioConfig.verify(g.audioConfig);if(P)return"audioConfig."+P}if(g.outputGcsUri!=null&&g.hasOwnProperty("outputGcsUri")&&!p.isString(g.outputGcsUri))return"outputGcsUri: string expected";if(g.voice!=null&&g.hasOwnProperty("voice")){var P=f.google.cloud.texttospeech.v1.VoiceSelectionParams.verify(g.voice);if(P)return"voice."+P}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.SynthesizeLongAudioRequest)return g;var P=new f.google.cloud.texttospeech.v1.SynthesizeLongAudioRequest;if(g.parent!=null&&(P.parent=String(g.parent)),g.input!=null){if(typeof g.input!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeLongAudioRequest.input: object expected");P.input=f.google.cloud.texttospeech.v1.SynthesisInput.fromObject(g.input)}if(g.audioConfig!=null){if(typeof g.audioConfig!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeLongAudioRequest.audioConfig: object expected");P.audioConfig=f.google.cloud.texttospeech.v1.AudioConfig.fromObject(g.audioConfig)}if(g.outputGcsUri!=null&&(P.outputGcsUri=String(g.outputGcsUri)),g.voice!=null){if(typeof g.voice!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeLongAudioRequest.voice: object expected");P.voice=f.google.cloud.texttospeech.v1.VoiceSelectionParams.fromObject(g.voice)}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.parent="",R.input=null,R.audioConfig=null,R.outputGcsUri="",R.voice=null),g.parent!=null&&g.hasOwnProperty("parent")&&(R.parent=g.parent),g.input!=null&&g.hasOwnProperty("input")&&(R.input=f.google.cloud.texttospeech.v1.SynthesisInput.toObject(g.input,P)),g.audioConfig!=null&&g.hasOwnProperty("audioConfig")&&(R.audioConfig=f.google.cloud.texttospeech.v1.AudioConfig.toObject(g.audioConfig,P)),g.outputGcsUri!=null&&g.hasOwnProperty("outputGcsUri")&&(R.outputGcsUri=g.outputGcsUri),g.voice!=null&&g.hasOwnProperty("voice")&&(R.voice=f.google.cloud.texttospeech.v1.VoiceSelectionParams.toObject(g.voice,P)),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.SynthesizeLongAudioRequest"},s}(),v.SynthesizeLongAudioResponse=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.SynthesizeLongAudioResponse;g.pos<R;){var j=g.uint32();switch(j>>>3){default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){return typeof g!="object"||g===null?"object expected":null},s.fromObject=function(g){return g instanceof f.google.cloud.texttospeech.v1.SynthesizeLongAudioResponse?g:new f.google.cloud.texttospeech.v1.SynthesizeLongAudioResponse},s.toObject=function(){return{}},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.SynthesizeLongAudioResponse"},s}(),v.SynthesizeLongAudioMetadata=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.startTime=null,s.prototype.lastUpdateTime=null,s.prototype.progressPercentage=0,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.startTime!=null&&Object.hasOwnProperty.call(g,"startTime")&&f.google.protobuf.Timestamp.encode(g.startTime,P.uint32(10).fork()).ldelim(),g.lastUpdateTime!=null&&Object.hasOwnProperty.call(g,"lastUpdateTime")&&f.google.protobuf.Timestamp.encode(g.lastUpdateTime,P.uint32(18).fork()).ldelim(),g.progressPercentage!=null&&Object.hasOwnProperty.call(g,"progressPercentage")&&P.uint32(25).double(g.progressPercentage),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.startTime=f.google.protobuf.Timestamp.decode(g,g.uint32());break}case 2:{I.lastUpdateTime=f.google.protobuf.Timestamp.decode(g,g.uint32());break}case 3:{I.progressPercentage=g.double();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.startTime!=null&&g.hasOwnProperty("startTime")){var P=f.google.protobuf.Timestamp.verify(g.startTime);if(P)return"startTime."+P}if(g.lastUpdateTime!=null&&g.hasOwnProperty("lastUpdateTime")){var P=f.google.protobuf.Timestamp.verify(g.lastUpdateTime);if(P)return"lastUpdateTime."+P}return g.progressPercentage!=null&&g.hasOwnProperty("progressPercentage")&&typeof g.progressPercentage!="number"?"progressPercentage: number expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata)return g;var P=new f.google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata;if(g.startTime!=null){if(typeof g.startTime!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata.startTime: object expected");P.startTime=f.google.protobuf.Timestamp.fromObject(g.startTime)}if(g.lastUpdateTime!=null){if(typeof g.lastUpdateTime!="object")throw TypeError(".google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata.lastUpdateTime: object expected");P.lastUpdateTime=f.google.protobuf.Timestamp.fromObject(g.lastUpdateTime)}return g.progressPercentage!=null&&(P.progressPercentage=Number(g.progressPercentage)),P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.startTime=null,R.lastUpdateTime=null,R.progressPercentage=0),g.startTime!=null&&g.hasOwnProperty("startTime")&&(R.startTime=f.google.protobuf.Timestamp.toObject(g.startTime,P)),g.lastUpdateTime!=null&&g.hasOwnProperty("lastUpdateTime")&&(R.lastUpdateTime=f.google.protobuf.Timestamp.toObject(g.lastUpdateTime,P)),g.progressPercentage!=null&&g.hasOwnProperty("progressPercentage")&&(R.progressPercentage=P.json&&!isFinite(g.progressPercentage)?String(g.progressPercentage):g.progressPercentage),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1.SynthesizeLongAudioMetadata"},s}(),v}(),S.v1beta1=function(){var v={};return v.TextToSpeech=function(){function s(d,g,P){r.rpc.Service.call(this,d,g,P)}return(s.prototype=Object.create(r.rpc.Service.prototype)).constructor=s,s.create=function(g,P,R){return new this(g,P,R)},Object.defineProperty(s.prototype.listVoices=function d(g,P){return this.rpcCall(d,f.google.cloud.texttospeech.v1beta1.ListVoicesRequest,f.google.cloud.texttospeech.v1beta1.ListVoicesResponse,g,P)},"name",{value:"ListVoices"}),Object.defineProperty(s.prototype.synthesizeSpeech=function d(g,P){return this.rpcCall(d,f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest,f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse,g,P)},"name",{value:"SynthesizeSpeech"}),s}(),v.SsmlVoiceGender=function(){var s={},d=Object.create(s);return d[s[0]="SSML_VOICE_GENDER_UNSPECIFIED"]=0,d[s[1]="MALE"]=1,d[s[2]="FEMALE"]=2,d[s[3]="NEUTRAL"]=3,d}(),v.AudioEncoding=function(){var s={},d=Object.create(s);return d[s[0]="AUDIO_ENCODING_UNSPECIFIED"]=0,d[s[1]="LINEAR16"]=1,d[s[2]="MP3"]=2,d[s[4]="MP3_64_KBPS"]=4,d[s[3]="OGG_OPUS"]=3,d[s[5]="MULAW"]=5,d[s[6]="ALAW"]=6,d}(),v.ListVoicesRequest=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.languageCode="",s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.languageCode!=null&&Object.hasOwnProperty.call(g,"languageCode")&&P.uint32(10).string(g.languageCode),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.ListVoicesRequest;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.languageCode=g.string();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){return typeof g!="object"||g===null?"object expected":g.languageCode!=null&&g.hasOwnProperty("languageCode")&&!p.isString(g.languageCode)?"languageCode: string expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.ListVoicesRequest)return g;var P=new f.google.cloud.texttospeech.v1beta1.ListVoicesRequest;return g.languageCode!=null&&(P.languageCode=String(g.languageCode)),P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.languageCode=""),g.languageCode!=null&&g.hasOwnProperty("languageCode")&&(R.languageCode=g.languageCode),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.ListVoicesRequest"},s}(),v.ListVoicesResponse=function(){function s(d){if(this.voices=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.voices=p.emptyArray,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.voices!=null&&g.voices.length)for(var R=0;R<g.voices.length;++R)f.google.cloud.texttospeech.v1beta1.Voice.encode(g.voices[R],P.uint32(10).fork()).ldelim();return P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.ListVoicesResponse;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.voices&&I.voices.length||(I.voices=[]),I.voices.push(f.google.cloud.texttospeech.v1beta1.Voice.decode(g,g.uint32()));break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.voices!=null&&g.hasOwnProperty("voices")){if(!Array.isArray(g.voices))return"voices: array expected";for(var P=0;P<g.voices.length;++P){var R=f.google.cloud.texttospeech.v1beta1.Voice.verify(g.voices[P]);if(R)return"voices."+R}}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.ListVoicesResponse)return g;var P=new f.google.cloud.texttospeech.v1beta1.ListVoicesResponse;if(g.voices){if(!Array.isArray(g.voices))throw TypeError(".google.cloud.texttospeech.v1beta1.ListVoicesResponse.voices: array expected");P.voices=[];for(var R=0;R<g.voices.length;++R){if(typeof g.voices[R]!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.ListVoicesResponse.voices: object expected");P.voices[R]=f.google.cloud.texttospeech.v1beta1.Voice.fromObject(g.voices[R])}}return P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.voices=[]),g.voices&&g.voices.length){R.voices=[];for(var I=0;I<g.voices.length;++I)R.voices[I]=f.google.cloud.texttospeech.v1beta1.Voice.toObject(g.voices[I],P)}return R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.ListVoicesResponse"},s}(),v.Voice=function(){function s(d){if(this.languageCodes=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.languageCodes=p.emptyArray,s.prototype.name="",s.prototype.ssmlGender=0,s.prototype.naturalSampleRateHertz=0,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.languageCodes!=null&&g.languageCodes.length)for(var R=0;R<g.languageCodes.length;++R)P.uint32(10).string(g.languageCodes[R]);return g.name!=null&&Object.hasOwnProperty.call(g,"name")&&P.uint32(18).string(g.name),g.ssmlGender!=null&&Object.hasOwnProperty.call(g,"ssmlGender")&&P.uint32(24).int32(g.ssmlGender),g.naturalSampleRateHertz!=null&&Object.hasOwnProperty.call(g,"naturalSampleRateHertz")&&P.uint32(32).int32(g.naturalSampleRateHertz),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.Voice;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.languageCodes&&I.languageCodes.length||(I.languageCodes=[]),I.languageCodes.push(g.string());break}case 2:{I.name=g.string();break}case 3:{I.ssmlGender=g.int32();break}case 4:{I.naturalSampleRateHertz=g.int32();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.languageCodes!=null&&g.hasOwnProperty("languageCodes")){if(!Array.isArray(g.languageCodes))return"languageCodes: array expected";for(var P=0;P<g.languageCodes.length;++P)if(!p.isString(g.languageCodes[P]))return"languageCodes: string[] expected"}if(g.name!=null&&g.hasOwnProperty("name")&&!p.isString(g.name))return"name: string expected";if(g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender"))switch(g.ssmlGender){default:return"ssmlGender: enum value expected";case 0:case 1:case 2:case 3:break}return g.naturalSampleRateHertz!=null&&g.hasOwnProperty("naturalSampleRateHertz")&&!p.isInteger(g.naturalSampleRateHertz)?"naturalSampleRateHertz: integer expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.Voice)return g;var P=new f.google.cloud.texttospeech.v1beta1.Voice;if(g.languageCodes){if(!Array.isArray(g.languageCodes))throw TypeError(".google.cloud.texttospeech.v1beta1.Voice.languageCodes: array expected");P.languageCodes=[];for(var R=0;R<g.languageCodes.length;++R)P.languageCodes[R]=String(g.languageCodes[R])}switch(g.name!=null&&(P.name=String(g.name)),g.ssmlGender){default:if(typeof g.ssmlGender=="number"){P.ssmlGender=g.ssmlGender;break}break;case"SSML_VOICE_GENDER_UNSPECIFIED":case 0:P.ssmlGender=0;break;case"MALE":case 1:P.ssmlGender=1;break;case"FEMALE":case 2:P.ssmlGender=2;break;case"NEUTRAL":case 3:P.ssmlGender=3;break}return g.naturalSampleRateHertz!=null&&(P.naturalSampleRateHertz=g.naturalSampleRateHertz|0),P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.languageCodes=[]),P.defaults&&(R.name="",R.ssmlGender=P.enums===String?"SSML_VOICE_GENDER_UNSPECIFIED":0,R.naturalSampleRateHertz=0),g.languageCodes&&g.languageCodes.length){R.languageCodes=[];for(var I=0;I<g.languageCodes.length;++I)R.languageCodes[I]=g.languageCodes[I]}return g.name!=null&&g.hasOwnProperty("name")&&(R.name=g.name),g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender")&&(R.ssmlGender=P.enums===String?f.google.cloud.texttospeech.v1beta1.SsmlVoiceGender[g.ssmlGender]===void 0?g.ssmlGender:f.google.cloud.texttospeech.v1beta1.SsmlVoiceGender[g.ssmlGender]:g.ssmlGender),g.naturalSampleRateHertz!=null&&g.hasOwnProperty("naturalSampleRateHertz")&&(R.naturalSampleRateHertz=g.naturalSampleRateHertz),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.Voice"},s}(),v.SynthesizeSpeechRequest=function(){function s(d){if(this.enableTimePointing=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.input=null,s.prototype.voice=null,s.prototype.audioConfig=null,s.prototype.enableTimePointing=p.emptyArray,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.input!=null&&Object.hasOwnProperty.call(g,"input")&&f.google.cloud.texttospeech.v1beta1.SynthesisInput.encode(g.input,P.uint32(10).fork()).ldelim(),g.voice!=null&&Object.hasOwnProperty.call(g,"voice")&&f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.encode(g.voice,P.uint32(18).fork()).ldelim(),g.audioConfig!=null&&Object.hasOwnProperty.call(g,"audioConfig")&&f.google.cloud.texttospeech.v1beta1.AudioConfig.encode(g.audioConfig,P.uint32(26).fork()).ldelim(),g.enableTimePointing!=null&&g.enableTimePointing.length){P.uint32(34).fork();for(var R=0;R<g.enableTimePointing.length;++R)P.int32(g.enableTimePointing[R]);P.ldelim()}return P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.input=f.google.cloud.texttospeech.v1beta1.SynthesisInput.decode(g,g.uint32());break}case 2:{I.voice=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.decode(g,g.uint32());break}case 3:{I.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.decode(g,g.uint32());break}case 4:{if(I.enableTimePointing&&I.enableTimePointing.length||(I.enableTimePointing=[]),(j&7)===2)for(var L=g.uint32()+g.pos;g.pos<L;)I.enableTimePointing.push(g.int32());else I.enableTimePointing.push(g.int32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.input!=null&&g.hasOwnProperty("input")){var P=f.google.cloud.texttospeech.v1beta1.SynthesisInput.verify(g.input);if(P)return"input."+P}if(g.voice!=null&&g.hasOwnProperty("voice")){var P=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.verify(g.voice);if(P)return"voice."+P}if(g.audioConfig!=null&&g.hasOwnProperty("audioConfig")){var P=f.google.cloud.texttospeech.v1beta1.AudioConfig.verify(g.audioConfig);if(P)return"audioConfig."+P}if(g.enableTimePointing!=null&&g.hasOwnProperty("enableTimePointing")){if(!Array.isArray(g.enableTimePointing))return"enableTimePointing: array expected";for(var R=0;R<g.enableTimePointing.length;++R)switch(g.enableTimePointing[R]){default:return"enableTimePointing: enum value[] expected";case 0:case 1:break}}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest)return g;var P=new f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest;if(g.input!=null){if(typeof g.input!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest.input: object expected");P.input=f.google.cloud.texttospeech.v1beta1.SynthesisInput.fromObject(g.input)}if(g.voice!=null){if(typeof g.voice!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest.voice: object expected");P.voice=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.fromObject(g.voice)}if(g.audioConfig!=null){if(typeof g.audioConfig!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest.audioConfig: object expected");P.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.fromObject(g.audioConfig)}if(g.enableTimePointing){if(!Array.isArray(g.enableTimePointing))throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest.enableTimePointing: array expected");P.enableTimePointing=[];for(var R=0;R<g.enableTimePointing.length;++R)switch(g.enableTimePointing[R]){default:if(typeof g.enableTimePointing[R]=="number"){P.enableTimePointing[R]=g.enableTimePointing[R];break}case"TIMEPOINT_TYPE_UNSPECIFIED":case 0:P.enableTimePointing[R]=0;break;case"SSML_MARK":case 1:P.enableTimePointing[R]=1;break}}return P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.enableTimePointing=[]),P.defaults&&(R.input=null,R.voice=null,R.audioConfig=null),g.input!=null&&g.hasOwnProperty("input")&&(R.input=f.google.cloud.texttospeech.v1beta1.SynthesisInput.toObject(g.input,P)),g.voice!=null&&g.hasOwnProperty("voice")&&(R.voice=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.toObject(g.voice,P)),g.audioConfig!=null&&g.hasOwnProperty("audioConfig")&&(R.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.toObject(g.audioConfig,P)),g.enableTimePointing&&g.enableTimePointing.length){R.enableTimePointing=[];for(var I=0;I<g.enableTimePointing.length;++I)R.enableTimePointing[I]=P.enums===String?f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest.TimepointType[g.enableTimePointing[I]]===void 0?g.enableTimePointing[I]:f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest.TimepointType[g.enableTimePointing[I]]:g.enableTimePointing[I]}return R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.SynthesizeSpeechRequest"},s.TimepointType=function(){var d={},g=Object.create(d);return g[d[0]="TIMEPOINT_TYPE_UNSPECIFIED"]=0,g[d[1]="SSML_MARK"]=1,g}(),s}(),v.SynthesisInput=function(){function s(g){if(g)for(var P=Object.keys(g),R=0;R<P.length;++R)g[P[R]]!=null&&(this[P[R]]=g[P[R]])}s.prototype.text=null,s.prototype.ssml=null;var d;return Object.defineProperty(s.prototype,"inputSource",{get:p.oneOfGetter(d=["text","ssml"]),set:p.oneOfSetter(d)}),s.create=function(P){return new s(P)},s.encode=function(P,R){return R||(R=l.create()),P.text!=null&&Object.hasOwnProperty.call(P,"text")&&R.uint32(10).string(P.text),P.ssml!=null&&Object.hasOwnProperty.call(P,"ssml")&&R.uint32(18).string(P.ssml),R},s.encodeDelimited=function(P,R){return this.encode(P,R).ldelim()},s.decode=function(P,R){P instanceof o||(P=o.create(P));for(var I=R===void 0?P.len:P.pos+R,j=new f.google.cloud.texttospeech.v1beta1.SynthesisInput;P.pos<I;){var L=P.uint32();switch(L>>>3){case 1:{j.text=P.string();break}case 2:{j.ssml=P.string();break}default:P.skipType(L&7);break}}return j},s.decodeDelimited=function(P){return P instanceof o||(P=new o(P)),this.decode(P,P.uint32())},s.verify=function(P){if(typeof P!="object"||P===null)return"object expected";var R={};if(P.text!=null&&P.hasOwnProperty("text")&&(R.inputSource=1,!p.isString(P.text)))return"text: string expected";if(P.ssml!=null&&P.hasOwnProperty("ssml")){if(R.inputSource===1)return"inputSource: multiple values";if(R.inputSource=1,!p.isString(P.ssml))return"ssml: string expected"}return null},s.fromObject=function(P){if(P instanceof f.google.cloud.texttospeech.v1beta1.SynthesisInput)return P;var R=new f.google.cloud.texttospeech.v1beta1.SynthesisInput;return P.text!=null&&(R.text=String(P.text)),P.ssml!=null&&(R.ssml=String(P.ssml)),R},s.toObject=function(P,R){R||(R={});var I={};return P.text!=null&&P.hasOwnProperty("text")&&(I.text=P.text,R.oneofs&&(I.inputSource="text")),P.ssml!=null&&P.hasOwnProperty("ssml")&&(I.ssml=P.ssml,R.oneofs&&(I.inputSource="ssml")),I},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(P){return P===void 0&&(P="type.googleapis.com"),P+"/google.cloud.texttospeech.v1beta1.SynthesisInput"},s}(),v.VoiceSelectionParams=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.languageCode="",s.prototype.name="",s.prototype.ssmlGender=0,s.prototype.customVoice=null,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.languageCode!=null&&Object.hasOwnProperty.call(g,"languageCode")&&P.uint32(10).string(g.languageCode),g.name!=null&&Object.hasOwnProperty.call(g,"name")&&P.uint32(18).string(g.name),g.ssmlGender!=null&&Object.hasOwnProperty.call(g,"ssmlGender")&&P.uint32(24).int32(g.ssmlGender),g.customVoice!=null&&Object.hasOwnProperty.call(g,"customVoice")&&f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.encode(g.customVoice,P.uint32(34).fork()).ldelim(),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.languageCode=g.string();break}case 2:{I.name=g.string();break}case 3:{I.ssmlGender=g.int32();break}case 4:{I.customVoice=f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.decode(g,g.uint32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.languageCode!=null&&g.hasOwnProperty("languageCode")&&!p.isString(g.languageCode))return"languageCode: string expected";if(g.name!=null&&g.hasOwnProperty("name")&&!p.isString(g.name))return"name: string expected";if(g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender"))switch(g.ssmlGender){default:return"ssmlGender: enum value expected";case 0:case 1:case 2:case 3:break}if(g.customVoice!=null&&g.hasOwnProperty("customVoice")){var P=f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.verify(g.customVoice);if(P)return"customVoice."+P}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams)return g;var P=new f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams;switch(g.languageCode!=null&&(P.languageCode=String(g.languageCode)),g.name!=null&&(P.name=String(g.name)),g.ssmlGender){default:if(typeof g.ssmlGender=="number"){P.ssmlGender=g.ssmlGender;break}break;case"SSML_VOICE_GENDER_UNSPECIFIED":case 0:P.ssmlGender=0;break;case"MALE":case 1:P.ssmlGender=1;break;case"FEMALE":case 2:P.ssmlGender=2;break;case"NEUTRAL":case 3:P.ssmlGender=3;break}if(g.customVoice!=null){if(typeof g.customVoice!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.VoiceSelectionParams.customVoice: object expected");P.customVoice=f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.fromObject(g.customVoice)}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.languageCode="",R.name="",R.ssmlGender=P.enums===String?"SSML_VOICE_GENDER_UNSPECIFIED":0,R.customVoice=null),g.languageCode!=null&&g.hasOwnProperty("languageCode")&&(R.languageCode=g.languageCode),g.name!=null&&g.hasOwnProperty("name")&&(R.name=g.name),g.ssmlGender!=null&&g.hasOwnProperty("ssmlGender")&&(R.ssmlGender=P.enums===String?f.google.cloud.texttospeech.v1beta1.SsmlVoiceGender[g.ssmlGender]===void 0?g.ssmlGender:f.google.cloud.texttospeech.v1beta1.SsmlVoiceGender[g.ssmlGender]:g.ssmlGender),g.customVoice!=null&&g.hasOwnProperty("customVoice")&&(R.customVoice=f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.toObject(g.customVoice,P)),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.VoiceSelectionParams"},s}(),v.AudioConfig=function(){function s(d){if(this.effectsProfileId=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.audioEncoding=0,s.prototype.speakingRate=0,s.prototype.pitch=0,s.prototype.volumeGainDb=0,s.prototype.sampleRateHertz=0,s.prototype.effectsProfileId=p.emptyArray,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.audioEncoding!=null&&Object.hasOwnProperty.call(g,"audioEncoding")&&P.uint32(8).int32(g.audioEncoding),g.speakingRate!=null&&Object.hasOwnProperty.call(g,"speakingRate")&&P.uint32(17).double(g.speakingRate),g.pitch!=null&&Object.hasOwnProperty.call(g,"pitch")&&P.uint32(25).double(g.pitch),g.volumeGainDb!=null&&Object.hasOwnProperty.call(g,"volumeGainDb")&&P.uint32(33).double(g.volumeGainDb),g.sampleRateHertz!=null&&Object.hasOwnProperty.call(g,"sampleRateHertz")&&P.uint32(40).int32(g.sampleRateHertz),g.effectsProfileId!=null&&g.effectsProfileId.length)for(var R=0;R<g.effectsProfileId.length;++R)P.uint32(50).string(g.effectsProfileId[R]);return P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.AudioConfig;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.audioEncoding=g.int32();break}case 2:{I.speakingRate=g.double();break}case 3:{I.pitch=g.double();break}case 4:{I.volumeGainDb=g.double();break}case 5:{I.sampleRateHertz=g.int32();break}case 6:{I.effectsProfileId&&I.effectsProfileId.length||(I.effectsProfileId=[]),I.effectsProfileId.push(g.string());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.audioEncoding!=null&&g.hasOwnProperty("audioEncoding"))switch(g.audioEncoding){default:return"audioEncoding: enum value expected";case 0:case 1:case 2:case 4:case 3:case 5:case 6:break}if(g.speakingRate!=null&&g.hasOwnProperty("speakingRate")&&typeof g.speakingRate!="number")return"speakingRate: number expected";if(g.pitch!=null&&g.hasOwnProperty("pitch")&&typeof g.pitch!="number")return"pitch: number expected";if(g.volumeGainDb!=null&&g.hasOwnProperty("volumeGainDb")&&typeof g.volumeGainDb!="number")return"volumeGainDb: number expected";if(g.sampleRateHertz!=null&&g.hasOwnProperty("sampleRateHertz")&&!p.isInteger(g.sampleRateHertz))return"sampleRateHertz: integer expected";if(g.effectsProfileId!=null&&g.hasOwnProperty("effectsProfileId")){if(!Array.isArray(g.effectsProfileId))return"effectsProfileId: array expected";for(var P=0;P<g.effectsProfileId.length;++P)if(!p.isString(g.effectsProfileId[P]))return"effectsProfileId: string[] expected"}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.AudioConfig)return g;var P=new f.google.cloud.texttospeech.v1beta1.AudioConfig;switch(g.audioEncoding){default:if(typeof g.audioEncoding=="number"){P.audioEncoding=g.audioEncoding;break}break;case"AUDIO_ENCODING_UNSPECIFIED":case 0:P.audioEncoding=0;break;case"LINEAR16":case 1:P.audioEncoding=1;break;case"MP3":case 2:P.audioEncoding=2;break;case"MP3_64_KBPS":case 4:P.audioEncoding=4;break;case"OGG_OPUS":case 3:P.audioEncoding=3;break;case"MULAW":case 5:P.audioEncoding=5;break;case"ALAW":case 6:P.audioEncoding=6;break}if(g.speakingRate!=null&&(P.speakingRate=Number(g.speakingRate)),g.pitch!=null&&(P.pitch=Number(g.pitch)),g.volumeGainDb!=null&&(P.volumeGainDb=Number(g.volumeGainDb)),g.sampleRateHertz!=null&&(P.sampleRateHertz=g.sampleRateHertz|0),g.effectsProfileId){if(!Array.isArray(g.effectsProfileId))throw TypeError(".google.cloud.texttospeech.v1beta1.AudioConfig.effectsProfileId: array expected");P.effectsProfileId=[];for(var R=0;R<g.effectsProfileId.length;++R)P.effectsProfileId[R]=String(g.effectsProfileId[R])}return P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.effectsProfileId=[]),P.defaults&&(R.audioEncoding=P.enums===String?"AUDIO_ENCODING_UNSPECIFIED":0,R.speakingRate=0,R.pitch=0,R.volumeGainDb=0,R.sampleRateHertz=0),g.audioEncoding!=null&&g.hasOwnProperty("audioEncoding")&&(R.audioEncoding=P.enums===String?f.google.cloud.texttospeech.v1beta1.AudioEncoding[g.audioEncoding]===void 0?g.audioEncoding:f.google.cloud.texttospeech.v1beta1.AudioEncoding[g.audioEncoding]:g.audioEncoding),g.speakingRate!=null&&g.hasOwnProperty("speakingRate")&&(R.speakingRate=P.json&&!isFinite(g.speakingRate)?String(g.speakingRate):g.speakingRate),g.pitch!=null&&g.hasOwnProperty("pitch")&&(R.pitch=P.json&&!isFinite(g.pitch)?String(g.pitch):g.pitch),g.volumeGainDb!=null&&g.hasOwnProperty("volumeGainDb")&&(R.volumeGainDb=P.json&&!isFinite(g.volumeGainDb)?String(g.volumeGainDb):g.volumeGainDb),g.sampleRateHertz!=null&&g.hasOwnProperty("sampleRateHertz")&&(R.sampleRateHertz=g.sampleRateHertz),g.effectsProfileId&&g.effectsProfileId.length){R.effectsProfileId=[];for(var I=0;I<g.effectsProfileId.length;++I)R.effectsProfileId[I]=g.effectsProfileId[I]}return R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.AudioConfig"},s}(),v.CustomVoiceParams=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.model="",s.prototype.reportedUsage=0,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.model!=null&&Object.hasOwnProperty.call(g,"model")&&P.uint32(10).string(g.model),g.reportedUsage!=null&&Object.hasOwnProperty.call(g,"reportedUsage")&&P.uint32(24).int32(g.reportedUsage),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.CustomVoiceParams;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.model=g.string();break}case 3:{I.reportedUsage=g.int32();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.model!=null&&g.hasOwnProperty("model")&&!p.isString(g.model))return"model: string expected";if(g.reportedUsage!=null&&g.hasOwnProperty("reportedUsage"))switch(g.reportedUsage){default:return"reportedUsage: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.CustomVoiceParams)return g;var P=new f.google.cloud.texttospeech.v1beta1.CustomVoiceParams;switch(g.model!=null&&(P.model=String(g.model)),g.reportedUsage){default:if(typeof g.reportedUsage=="number"){P.reportedUsage=g.reportedUsage;break}break;case"REPORTED_USAGE_UNSPECIFIED":case 0:P.reportedUsage=0;break;case"REALTIME":case 1:P.reportedUsage=1;break;case"OFFLINE":case 2:P.reportedUsage=2;break}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.model="",R.reportedUsage=P.enums===String?"REPORTED_USAGE_UNSPECIFIED":0),g.model!=null&&g.hasOwnProperty("model")&&(R.model=g.model),g.reportedUsage!=null&&g.hasOwnProperty("reportedUsage")&&(R.reportedUsage=P.enums===String?f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.ReportedUsage[g.reportedUsage]===void 0?g.reportedUsage:f.google.cloud.texttospeech.v1beta1.CustomVoiceParams.ReportedUsage[g.reportedUsage]:g.reportedUsage),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.CustomVoiceParams"},s.ReportedUsage=function(){var d={},g=Object.create(d);return g[d[0]="REPORTED_USAGE_UNSPECIFIED"]=0,g[d[1]="REALTIME"]=1,g[d[2]="OFFLINE"]=2,g}(),s}(),v.SynthesizeSpeechResponse=function(){function s(d){if(this.timepoints=[],d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.audioContent=p.newBuffer([]),s.prototype.timepoints=p.emptyArray,s.prototype.audioConfig=null,s.create=function(g){return new s(g)},s.encode=function(g,P){if(P||(P=l.create()),g.audioContent!=null&&Object.hasOwnProperty.call(g,"audioContent")&&P.uint32(10).bytes(g.audioContent),g.timepoints!=null&&g.timepoints.length)for(var R=0;R<g.timepoints.length;++R)f.google.cloud.texttospeech.v1beta1.Timepoint.encode(g.timepoints[R],P.uint32(18).fork()).ldelim();return g.audioConfig!=null&&Object.hasOwnProperty.call(g,"audioConfig")&&f.google.cloud.texttospeech.v1beta1.AudioConfig.encode(g.audioConfig,P.uint32(34).fork()).ldelim(),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.audioContent=g.bytes();break}case 2:{I.timepoints&&I.timepoints.length||(I.timepoints=[]),I.timepoints.push(f.google.cloud.texttospeech.v1beta1.Timepoint.decode(g,g.uint32()));break}case 4:{I.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.decode(g,g.uint32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.audioContent!=null&&g.hasOwnProperty("audioContent")&&!(g.audioContent&&typeof g.audioContent.length=="number"||p.isString(g.audioContent)))return"audioContent: buffer expected";if(g.timepoints!=null&&g.hasOwnProperty("timepoints")){if(!Array.isArray(g.timepoints))return"timepoints: array expected";for(var P=0;P<g.timepoints.length;++P){var R=f.google.cloud.texttospeech.v1beta1.Timepoint.verify(g.timepoints[P]);if(R)return"timepoints."+R}}if(g.audioConfig!=null&&g.hasOwnProperty("audioConfig")){var R=f.google.cloud.texttospeech.v1beta1.AudioConfig.verify(g.audioConfig);if(R)return"audioConfig."+R}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse)return g;var P=new f.google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse;if(g.audioContent!=null&&(typeof g.audioContent=="string"?p.base64.decode(g.audioContent,P.audioContent=p.newBuffer(p.base64.length(g.audioContent)),0):g.audioContent.length>=0&&(P.audioContent=g.audioContent)),g.timepoints){if(!Array.isArray(g.timepoints))throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse.timepoints: array expected");P.timepoints=[];for(var R=0;R<g.timepoints.length;++R){if(typeof g.timepoints[R]!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse.timepoints: object expected");P.timepoints[R]=f.google.cloud.texttospeech.v1beta1.Timepoint.fromObject(g.timepoints[R])}}if(g.audioConfig!=null){if(typeof g.audioConfig!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse.audioConfig: object expected");P.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.fromObject(g.audioConfig)}return P},s.toObject=function(g,P){P||(P={});var R={};if((P.arrays||P.defaults)&&(R.timepoints=[]),P.defaults&&(P.bytes===String?R.audioContent="":(R.audioContent=[],P.bytes!==Array&&(R.audioContent=p.newBuffer(R.audioContent))),R.audioConfig=null),g.audioContent!=null&&g.hasOwnProperty("audioContent")&&(R.audioContent=P.bytes===String?p.base64.encode(g.audioContent,0,g.audioContent.length):P.bytes===Array?Array.prototype.slice.call(g.audioContent):g.audioContent),g.timepoints&&g.timepoints.length){R.timepoints=[];for(var I=0;I<g.timepoints.length;++I)R.timepoints[I]=f.google.cloud.texttospeech.v1beta1.Timepoint.toObject(g.timepoints[I],P)}return g.audioConfig!=null&&g.hasOwnProperty("audioConfig")&&(R.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.toObject(g.audioConfig,P)),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.SynthesizeSpeechResponse"},s}(),v.Timepoint=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.markName="",s.prototype.timeSeconds=0,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.timeSeconds!=null&&Object.hasOwnProperty.call(g,"timeSeconds")&&P.uint32(25).double(g.timeSeconds),g.markName!=null&&Object.hasOwnProperty.call(g,"markName")&&P.uint32(34).string(g.markName),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.Timepoint;g.pos<R;){var j=g.uint32();switch(j>>>3){case 4:{I.markName=g.string();break}case 3:{I.timeSeconds=g.double();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){return typeof g!="object"||g===null?"object expected":g.markName!=null&&g.hasOwnProperty("markName")&&!p.isString(g.markName)?"markName: string expected":g.timeSeconds!=null&&g.hasOwnProperty("timeSeconds")&&typeof g.timeSeconds!="number"?"timeSeconds: number expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.Timepoint)return g;var P=new f.google.cloud.texttospeech.v1beta1.Timepoint;return g.markName!=null&&(P.markName=String(g.markName)),g.timeSeconds!=null&&(P.timeSeconds=Number(g.timeSeconds)),P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.timeSeconds=0,R.markName=""),g.timeSeconds!=null&&g.hasOwnProperty("timeSeconds")&&(R.timeSeconds=P.json&&!isFinite(g.timeSeconds)?String(g.timeSeconds):g.timeSeconds),g.markName!=null&&g.hasOwnProperty("markName")&&(R.markName=g.markName),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.Timepoint"},s}(),v.TextToSpeechLongAudioSynthesize=function(){function s(d,g,P){r.rpc.Service.call(this,d,g,P)}return(s.prototype=Object.create(r.rpc.Service.prototype)).constructor=s,s.create=function(g,P,R){return new this(g,P,R)},Object.defineProperty(s.prototype.synthesizeLongAudio=function d(g,P){return this.rpcCall(d,f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest,f.google.longrunning.Operation,g,P)},"name",{value:"SynthesizeLongAudio"}),s}(),v.SynthesizeLongAudioRequest=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.parent="",s.prototype.input=null,s.prototype.audioConfig=null,s.prototype.outputGcsUri="",s.prototype.voice=null,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.parent!=null&&Object.hasOwnProperty.call(g,"parent")&&P.uint32(10).string(g.parent),g.input!=null&&Object.hasOwnProperty.call(g,"input")&&f.google.cloud.texttospeech.v1beta1.SynthesisInput.encode(g.input,P.uint32(18).fork()).ldelim(),g.audioConfig!=null&&Object.hasOwnProperty.call(g,"audioConfig")&&f.google.cloud.texttospeech.v1beta1.AudioConfig.encode(g.audioConfig,P.uint32(26).fork()).ldelim(),g.outputGcsUri!=null&&Object.hasOwnProperty.call(g,"outputGcsUri")&&P.uint32(34).string(g.outputGcsUri),g.voice!=null&&Object.hasOwnProperty.call(g,"voice")&&f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.encode(g.voice,P.uint32(42).fork()).ldelim(),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.parent=g.string();break}case 2:{I.input=f.google.cloud.texttospeech.v1beta1.SynthesisInput.decode(g,g.uint32());break}case 3:{I.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.decode(g,g.uint32());break}case 4:{I.outputGcsUri=g.string();break}case 5:{I.voice=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.decode(g,g.uint32());break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.parent!=null&&g.hasOwnProperty("parent")&&!p.isString(g.parent))return"parent: string expected";if(g.input!=null&&g.hasOwnProperty("input")){var P=f.google.cloud.texttospeech.v1beta1.SynthesisInput.verify(g.input);if(P)return"input."+P}if(g.audioConfig!=null&&g.hasOwnProperty("audioConfig")){var P=f.google.cloud.texttospeech.v1beta1.AudioConfig.verify(g.audioConfig);if(P)return"audioConfig."+P}if(g.outputGcsUri!=null&&g.hasOwnProperty("outputGcsUri")&&!p.isString(g.outputGcsUri))return"outputGcsUri: string expected";if(g.voice!=null&&g.hasOwnProperty("voice")){var P=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.verify(g.voice);if(P)return"voice."+P}return null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest)return g;var P=new f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest;if(g.parent!=null&&(P.parent=String(g.parent)),g.input!=null){if(typeof g.input!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest.input: object expected");P.input=f.google.cloud.texttospeech.v1beta1.SynthesisInput.fromObject(g.input)}if(g.audioConfig!=null){if(typeof g.audioConfig!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest.audioConfig: object expected");P.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.fromObject(g.audioConfig)}if(g.outputGcsUri!=null&&(P.outputGcsUri=String(g.outputGcsUri)),g.voice!=null){if(typeof g.voice!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest.voice: object expected");P.voice=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.fromObject(g.voice)}return P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.parent="",R.input=null,R.audioConfig=null,R.outputGcsUri="",R.voice=null),g.parent!=null&&g.hasOwnProperty("parent")&&(R.parent=g.parent),g.input!=null&&g.hasOwnProperty("input")&&(R.input=f.google.cloud.texttospeech.v1beta1.SynthesisInput.toObject(g.input,P)),g.audioConfig!=null&&g.hasOwnProperty("audioConfig")&&(R.audioConfig=f.google.cloud.texttospeech.v1beta1.AudioConfig.toObject(g.audioConfig,P)),g.outputGcsUri!=null&&g.hasOwnProperty("outputGcsUri")&&(R.outputGcsUri=g.outputGcsUri),g.voice!=null&&g.hasOwnProperty("voice")&&(R.voice=f.google.cloud.texttospeech.v1beta1.VoiceSelectionParams.toObject(g.voice,P)),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.SynthesizeLongAudioRequest"},s}(),v.SynthesizeLongAudioResponse=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse;g.pos<R;){var j=g.uint32();switch(j>>>3){default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){return typeof g!="object"||g===null?"object expected":null},s.fromObject=function(g){return g instanceof f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse?g:new f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse},s.toObject=function(){return{}},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.SynthesizeLongAudioResponse"},s}(),v.SynthesizeLongAudioMetadata=function(){function s(d){if(d)for(var g=Object.keys(d),P=0;P<g.length;++P)d[g[P]]!=null&&(this[g[P]]=d[g[P]])}return s.prototype.startTime=null,s.prototype.lastUpdateTime=null,s.prototype.progressPercentage=0,s.create=function(g){return new s(g)},s.encode=function(g,P){return P||(P=l.create()),g.startTime!=null&&Object.hasOwnProperty.call(g,"startTime")&&f.google.protobuf.Timestamp.encode(g.startTime,P.uint32(10).fork()).ldelim(),g.lastUpdateTime!=null&&Object.hasOwnProperty.call(g,"lastUpdateTime")&&f.google.protobuf.Timestamp.encode(g.lastUpdateTime,P.uint32(18).fork()).ldelim(),g.progressPercentage!=null&&Object.hasOwnProperty.call(g,"progressPercentage")&&P.uint32(25).double(g.progressPercentage),P},s.encodeDelimited=function(g,P){return this.encode(g,P).ldelim()},s.decode=function(g,P){g instanceof o||(g=o.create(g));for(var R=P===void 0?g.len:g.pos+P,I=new f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata;g.pos<R;){var j=g.uint32();switch(j>>>3){case 1:{I.startTime=f.google.protobuf.Timestamp.decode(g,g.uint32());break}case 2:{I.lastUpdateTime=f.google.protobuf.Timestamp.decode(g,g.uint32());break}case 3:{I.progressPercentage=g.double();break}default:g.skipType(j&7);break}}return I},s.decodeDelimited=function(g){return g instanceof o||(g=new o(g)),this.decode(g,g.uint32())},s.verify=function(g){if(typeof g!="object"||g===null)return"object expected";if(g.startTime!=null&&g.hasOwnProperty("startTime")){var P=f.google.protobuf.Timestamp.verify(g.startTime);if(P)return"startTime."+P}if(g.lastUpdateTime!=null&&g.hasOwnProperty("lastUpdateTime")){var P=f.google.protobuf.Timestamp.verify(g.lastUpdateTime);if(P)return"lastUpdateTime."+P}return g.progressPercentage!=null&&g.hasOwnProperty("progressPercentage")&&typeof g.progressPercentage!="number"?"progressPercentage: number expected":null},s.fromObject=function(g){if(g instanceof f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata)return g;var P=new f.google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata;if(g.startTime!=null){if(typeof g.startTime!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata.startTime: object expected");P.startTime=f.google.protobuf.Timestamp.fromObject(g.startTime)}if(g.lastUpdateTime!=null){if(typeof g.lastUpdateTime!="object")throw TypeError(".google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata.lastUpdateTime: object expected");P.lastUpdateTime=f.google.protobuf.Timestamp.fromObject(g.lastUpdateTime)}return g.progressPercentage!=null&&(P.progressPercentage=Number(g.progressPercentage)),P},s.toObject=function(g,P){P||(P={});var R={};return P.defaults&&(R.startTime=null,R.lastUpdateTime=null,R.progressPercentage=0),g.startTime!=null&&g.hasOwnProperty("startTime")&&(R.startTime=f.google.protobuf.Timestamp.toObject(g.startTime,P)),g.lastUpdateTime!=null&&g.hasOwnProperty("lastUpdateTime")&&(R.lastUpdateTime=f.google.protobuf.Timestamp.toObject(g.lastUpdateTime,P)),g.progressPercentage!=null&&g.hasOwnProperty("progressPercentage")&&(R.progressPercentage=P.json&&!isFinite(g.progressPercentage)?String(g.progressPercentage):g.progressPercentage),R},s.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},s.getTypeUrl=function(g){return g===void 0&&(g="type.googleapis.com"),g+"/google.cloud.texttospeech.v1beta1.SynthesizeLongAudioMetadata"},s}(),v}(),S}(),_}(),O.api=function(){var _={};return _.Http=function(){function S(v){if(this.rules=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.rules=p.emptyArray,S.prototype.fullyDecodeReservedExpansion=!1,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.rules!=null&&s.rules.length)for(var g=0;g<s.rules.length;++g)f.google.api.HttpRule.encode(s.rules[g],d.uint32(10).fork()).ldelim();return s.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(s,"fullyDecodeReservedExpansion")&&d.uint32(16).bool(s.fullyDecodeReservedExpansion),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.Http;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.rules&&P.rules.length||(P.rules=[]),P.rules.push(f.google.api.HttpRule.decode(s,s.uint32()));break}case 2:{P.fullyDecodeReservedExpansion=s.bool();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.rules!=null&&s.hasOwnProperty("rules")){if(!Array.isArray(s.rules))return"rules: array expected";for(var d=0;d<s.rules.length;++d){var g=f.google.api.HttpRule.verify(s.rules[d]);if(g)return"rules."+g}}return s.fullyDecodeReservedExpansion!=null&&s.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof s.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},S.fromObject=function(s){if(s instanceof f.google.api.Http)return s;var d=new f.google.api.Http;if(s.rules){if(!Array.isArray(s.rules))throw TypeError(".google.api.Http.rules: array expected");d.rules=[];for(var g=0;g<s.rules.length;++g){if(typeof s.rules[g]!="object")throw TypeError(".google.api.Http.rules: object expected");d.rules[g]=f.google.api.HttpRule.fromObject(s.rules[g])}}return s.fullyDecodeReservedExpansion!=null&&(d.fullyDecodeReservedExpansion=!!s.fullyDecodeReservedExpansion),d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.rules=[]),d.defaults&&(g.fullyDecodeReservedExpansion=!1),s.rules&&s.rules.length){g.rules=[];for(var P=0;P<s.rules.length;++P)g.rules[P]=f.google.api.HttpRule.toObject(s.rules[P],d)}return s.fullyDecodeReservedExpansion!=null&&s.hasOwnProperty("fullyDecodeReservedExpansion")&&(g.fullyDecodeReservedExpansion=s.fullyDecodeReservedExpansion),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.Http"},S}(),_.HttpRule=function(){function S(s){if(this.additionalBindings=[],s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}S.prototype.selector="",S.prototype.get=null,S.prototype.put=null,S.prototype.post=null,S.prototype.delete=null,S.prototype.patch=null,S.prototype.custom=null,S.prototype.body="",S.prototype.responseBody="",S.prototype.additionalBindings=p.emptyArray;var v;return Object.defineProperty(S.prototype,"pattern",{get:p.oneOfGetter(v=["get","put","post","delete","patch","custom"]),set:p.oneOfSetter(v)}),S.create=function(d){return new S(d)},S.encode=function(d,g){if(g||(g=l.create()),d.selector!=null&&Object.hasOwnProperty.call(d,"selector")&&g.uint32(10).string(d.selector),d.get!=null&&Object.hasOwnProperty.call(d,"get")&&g.uint32(18).string(d.get),d.put!=null&&Object.hasOwnProperty.call(d,"put")&&g.uint32(26).string(d.put),d.post!=null&&Object.hasOwnProperty.call(d,"post")&&g.uint32(34).string(d.post),d.delete!=null&&Object.hasOwnProperty.call(d,"delete")&&g.uint32(42).string(d.delete),d.patch!=null&&Object.hasOwnProperty.call(d,"patch")&&g.uint32(50).string(d.patch),d.body!=null&&Object.hasOwnProperty.call(d,"body")&&g.uint32(58).string(d.body),d.custom!=null&&Object.hasOwnProperty.call(d,"custom")&&f.google.api.CustomHttpPattern.encode(d.custom,g.uint32(66).fork()).ldelim(),d.additionalBindings!=null&&d.additionalBindings.length)for(var P=0;P<d.additionalBindings.length;++P)f.google.api.HttpRule.encode(d.additionalBindings[P],g.uint32(90).fork()).ldelim();return d.responseBody!=null&&Object.hasOwnProperty.call(d,"responseBody")&&g.uint32(98).string(d.responseBody),g},S.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},S.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.api.HttpRule;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.selector=d.string();break}case 2:{R.get=d.string();break}case 3:{R.put=d.string();break}case 4:{R.post=d.string();break}case 5:{R.delete=d.string();break}case 6:{R.patch=d.string();break}case 8:{R.custom=f.google.api.CustomHttpPattern.decode(d,d.uint32());break}case 7:{R.body=d.string();break}case 12:{R.responseBody=d.string();break}case 11:{R.additionalBindings&&R.additionalBindings.length||(R.additionalBindings=[]),R.additionalBindings.push(f.google.api.HttpRule.decode(d,d.uint32()));break}default:d.skipType(I&7);break}}return R},S.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},S.verify=function(d){if(typeof d!="object"||d===null)return"object expected";var g={};if(d.selector!=null&&d.hasOwnProperty("selector")&&!p.isString(d.selector))return"selector: string expected";if(d.get!=null&&d.hasOwnProperty("get")&&(g.pattern=1,!p.isString(d.get)))return"get: string expected";if(d.put!=null&&d.hasOwnProperty("put")){if(g.pattern===1)return"pattern: multiple values";if(g.pattern=1,!p.isString(d.put))return"put: string expected"}if(d.post!=null&&d.hasOwnProperty("post")){if(g.pattern===1)return"pattern: multiple values";if(g.pattern=1,!p.isString(d.post))return"post: string expected"}if(d.delete!=null&&d.hasOwnProperty("delete")){if(g.pattern===1)return"pattern: multiple values";if(g.pattern=1,!p.isString(d.delete))return"delete: string expected"}if(d.patch!=null&&d.hasOwnProperty("patch")){if(g.pattern===1)return"pattern: multiple values";if(g.pattern=1,!p.isString(d.patch))return"patch: string expected"}if(d.custom!=null&&d.hasOwnProperty("custom")){if(g.pattern===1)return"pattern: multiple values";g.pattern=1;{var P=f.google.api.CustomHttpPattern.verify(d.custom);if(P)return"custom."+P}}if(d.body!=null&&d.hasOwnProperty("body")&&!p.isString(d.body))return"body: string expected";if(d.responseBody!=null&&d.hasOwnProperty("responseBody")&&!p.isString(d.responseBody))return"responseBody: string expected";if(d.additionalBindings!=null&&d.hasOwnProperty("additionalBindings")){if(!Array.isArray(d.additionalBindings))return"additionalBindings: array expected";for(var R=0;R<d.additionalBindings.length;++R){var P=f.google.api.HttpRule.verify(d.additionalBindings[R]);if(P)return"additionalBindings."+P}}return null},S.fromObject=function(d){if(d instanceof f.google.api.HttpRule)return d;var g=new f.google.api.HttpRule;if(d.selector!=null&&(g.selector=String(d.selector)),d.get!=null&&(g.get=String(d.get)),d.put!=null&&(g.put=String(d.put)),d.post!=null&&(g.post=String(d.post)),d.delete!=null&&(g.delete=String(d.delete)),d.patch!=null&&(g.patch=String(d.patch)),d.custom!=null){if(typeof d.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");g.custom=f.google.api.CustomHttpPattern.fromObject(d.custom)}if(d.body!=null&&(g.body=String(d.body)),d.responseBody!=null&&(g.responseBody=String(d.responseBody)),d.additionalBindings){if(!Array.isArray(d.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");g.additionalBindings=[];for(var P=0;P<d.additionalBindings.length;++P){if(typeof d.additionalBindings[P]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");g.additionalBindings[P]=f.google.api.HttpRule.fromObject(d.additionalBindings[P])}}return g},S.toObject=function(d,g){g||(g={});var P={};if((g.arrays||g.defaults)&&(P.additionalBindings=[]),g.defaults&&(P.selector="",P.body="",P.responseBody=""),d.selector!=null&&d.hasOwnProperty("selector")&&(P.selector=d.selector),d.get!=null&&d.hasOwnProperty("get")&&(P.get=d.get,g.oneofs&&(P.pattern="get")),d.put!=null&&d.hasOwnProperty("put")&&(P.put=d.put,g.oneofs&&(P.pattern="put")),d.post!=null&&d.hasOwnProperty("post")&&(P.post=d.post,g.oneofs&&(P.pattern="post")),d.delete!=null&&d.hasOwnProperty("delete")&&(P.delete=d.delete,g.oneofs&&(P.pattern="delete")),d.patch!=null&&d.hasOwnProperty("patch")&&(P.patch=d.patch,g.oneofs&&(P.pattern="patch")),d.body!=null&&d.hasOwnProperty("body")&&(P.body=d.body),d.custom!=null&&d.hasOwnProperty("custom")&&(P.custom=f.google.api.CustomHttpPattern.toObject(d.custom,g),g.oneofs&&(P.pattern="custom")),d.additionalBindings&&d.additionalBindings.length){P.additionalBindings=[];for(var R=0;R<d.additionalBindings.length;++R)P.additionalBindings[R]=f.google.api.HttpRule.toObject(d.additionalBindings[R],g)}return d.responseBody!=null&&d.hasOwnProperty("responseBody")&&(P.responseBody=d.responseBody),P},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.api.HttpRule"},S}(),_.CustomHttpPattern=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.kind="",S.prototype.path="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.kind!=null&&Object.hasOwnProperty.call(s,"kind")&&d.uint32(10).string(s.kind),s.path!=null&&Object.hasOwnProperty.call(s,"path")&&d.uint32(18).string(s.path),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.CustomHttpPattern;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.kind=s.string();break}case 2:{P.path=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.kind!=null&&s.hasOwnProperty("kind")&&!p.isString(s.kind)?"kind: string expected":s.path!=null&&s.hasOwnProperty("path")&&!p.isString(s.path)?"path: string expected":null},S.fromObject=function(s){if(s instanceof f.google.api.CustomHttpPattern)return s;var d=new f.google.api.CustomHttpPattern;return s.kind!=null&&(d.kind=String(s.kind)),s.path!=null&&(d.path=String(s.path)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.kind="",g.path=""),s.kind!=null&&s.hasOwnProperty("kind")&&(g.kind=s.kind),s.path!=null&&s.hasOwnProperty("path")&&(g.path=s.path),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.CustomHttpPattern"},S}(),_.CommonLanguageSettings=function(){function S(v){if(this.destinations=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.referenceDocsUri="",S.prototype.destinations=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.referenceDocsUri!=null&&Object.hasOwnProperty.call(s,"referenceDocsUri")&&d.uint32(10).string(s.referenceDocsUri),s.destinations!=null&&s.destinations.length){d.uint32(18).fork();for(var g=0;g<s.destinations.length;++g)d.int32(s.destinations[g]);d.ldelim()}return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.CommonLanguageSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.referenceDocsUri=s.string();break}case 2:{if(P.destinations&&P.destinations.length||(P.destinations=[]),(R&7)===2)for(var I=s.uint32()+s.pos;s.pos<I;)P.destinations.push(s.int32());else P.destinations.push(s.int32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.referenceDocsUri!=null&&s.hasOwnProperty("referenceDocsUri")&&!p.isString(s.referenceDocsUri))return"referenceDocsUri: string expected";if(s.destinations!=null&&s.hasOwnProperty("destinations")){if(!Array.isArray(s.destinations))return"destinations: array expected";for(var d=0;d<s.destinations.length;++d)switch(s.destinations[d]){default:return"destinations: enum value[] expected";case 0:case 10:case 20:break}}return null},S.fromObject=function(s){if(s instanceof f.google.api.CommonLanguageSettings)return s;var d=new f.google.api.CommonLanguageSettings;if(s.referenceDocsUri!=null&&(d.referenceDocsUri=String(s.referenceDocsUri)),s.destinations){if(!Array.isArray(s.destinations))throw TypeError(".google.api.CommonLanguageSettings.destinations: array expected");d.destinations=[];for(var g=0;g<s.destinations.length;++g)switch(s.destinations[g]){default:if(typeof s.destinations[g]=="number"){d.destinations[g]=s.destinations[g];break}case"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":case 0:d.destinations[g]=0;break;case"GITHUB":case 10:d.destinations[g]=10;break;case"PACKAGE_MANAGER":case 20:d.destinations[g]=20;break}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.destinations=[]),d.defaults&&(g.referenceDocsUri=""),s.referenceDocsUri!=null&&s.hasOwnProperty("referenceDocsUri")&&(g.referenceDocsUri=s.referenceDocsUri),s.destinations&&s.destinations.length){g.destinations=[];for(var P=0;P<s.destinations.length;++P)g.destinations[P]=d.enums===String?f.google.api.ClientLibraryDestination[s.destinations[P]]===void 0?s.destinations[P]:f.google.api.ClientLibraryDestination[s.destinations[P]]:s.destinations[P]}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.CommonLanguageSettings"},S}(),_.ClientLibrarySettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.version="",S.prototype.launchStage=0,S.prototype.restNumericEnums=!1,S.prototype.javaSettings=null,S.prototype.cppSettings=null,S.prototype.phpSettings=null,S.prototype.pythonSettings=null,S.prototype.nodeSettings=null,S.prototype.dotnetSettings=null,S.prototype.rubySettings=null,S.prototype.goSettings=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.version!=null&&Object.hasOwnProperty.call(s,"version")&&d.uint32(10).string(s.version),s.launchStage!=null&&Object.hasOwnProperty.call(s,"launchStage")&&d.uint32(16).int32(s.launchStage),s.restNumericEnums!=null&&Object.hasOwnProperty.call(s,"restNumericEnums")&&d.uint32(24).bool(s.restNumericEnums),s.javaSettings!=null&&Object.hasOwnProperty.call(s,"javaSettings")&&f.google.api.JavaSettings.encode(s.javaSettings,d.uint32(170).fork()).ldelim(),s.cppSettings!=null&&Object.hasOwnProperty.call(s,"cppSettings")&&f.google.api.CppSettings.encode(s.cppSettings,d.uint32(178).fork()).ldelim(),s.phpSettings!=null&&Object.hasOwnProperty.call(s,"phpSettings")&&f.google.api.PhpSettings.encode(s.phpSettings,d.uint32(186).fork()).ldelim(),s.pythonSettings!=null&&Object.hasOwnProperty.call(s,"pythonSettings")&&f.google.api.PythonSettings.encode(s.pythonSettings,d.uint32(194).fork()).ldelim(),s.nodeSettings!=null&&Object.hasOwnProperty.call(s,"nodeSettings")&&f.google.api.NodeSettings.encode(s.nodeSettings,d.uint32(202).fork()).ldelim(),s.dotnetSettings!=null&&Object.hasOwnProperty.call(s,"dotnetSettings")&&f.google.api.DotnetSettings.encode(s.dotnetSettings,d.uint32(210).fork()).ldelim(),s.rubySettings!=null&&Object.hasOwnProperty.call(s,"rubySettings")&&f.google.api.RubySettings.encode(s.rubySettings,d.uint32(218).fork()).ldelim(),s.goSettings!=null&&Object.hasOwnProperty.call(s,"goSettings")&&f.google.api.GoSettings.encode(s.goSettings,d.uint32(226).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.ClientLibrarySettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.version=s.string();break}case 2:{P.launchStage=s.int32();break}case 3:{P.restNumericEnums=s.bool();break}case 21:{P.javaSettings=f.google.api.JavaSettings.decode(s,s.uint32());break}case 22:{P.cppSettings=f.google.api.CppSettings.decode(s,s.uint32());break}case 23:{P.phpSettings=f.google.api.PhpSettings.decode(s,s.uint32());break}case 24:{P.pythonSettings=f.google.api.PythonSettings.decode(s,s.uint32());break}case 25:{P.nodeSettings=f.google.api.NodeSettings.decode(s,s.uint32());break}case 26:{P.dotnetSettings=f.google.api.DotnetSettings.decode(s,s.uint32());break}case 27:{P.rubySettings=f.google.api.RubySettings.decode(s,s.uint32());break}case 28:{P.goSettings=f.google.api.GoSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.version!=null&&s.hasOwnProperty("version")&&!p.isString(s.version))return"version: string expected";if(s.launchStage!=null&&s.hasOwnProperty("launchStage"))switch(s.launchStage){default:return"launchStage: enum value expected";case 0:case 6:case 7:case 1:case 2:case 3:case 4:case 5:break}if(s.restNumericEnums!=null&&s.hasOwnProperty("restNumericEnums")&&typeof s.restNumericEnums!="boolean")return"restNumericEnums: boolean expected";if(s.javaSettings!=null&&s.hasOwnProperty("javaSettings")){var d=f.google.api.JavaSettings.verify(s.javaSettings);if(d)return"javaSettings."+d}if(s.cppSettings!=null&&s.hasOwnProperty("cppSettings")){var d=f.google.api.CppSettings.verify(s.cppSettings);if(d)return"cppSettings."+d}if(s.phpSettings!=null&&s.hasOwnProperty("phpSettings")){var d=f.google.api.PhpSettings.verify(s.phpSettings);if(d)return"phpSettings."+d}if(s.pythonSettings!=null&&s.hasOwnProperty("pythonSettings")){var d=f.google.api.PythonSettings.verify(s.pythonSettings);if(d)return"pythonSettings."+d}if(s.nodeSettings!=null&&s.hasOwnProperty("nodeSettings")){var d=f.google.api.NodeSettings.verify(s.nodeSettings);if(d)return"nodeSettings."+d}if(s.dotnetSettings!=null&&s.hasOwnProperty("dotnetSettings")){var d=f.google.api.DotnetSettings.verify(s.dotnetSettings);if(d)return"dotnetSettings."+d}if(s.rubySettings!=null&&s.hasOwnProperty("rubySettings")){var d=f.google.api.RubySettings.verify(s.rubySettings);if(d)return"rubySettings."+d}if(s.goSettings!=null&&s.hasOwnProperty("goSettings")){var d=f.google.api.GoSettings.verify(s.goSettings);if(d)return"goSettings."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.ClientLibrarySettings)return s;var d=new f.google.api.ClientLibrarySettings;switch(s.version!=null&&(d.version=String(s.version)),s.launchStage){default:if(typeof s.launchStage=="number"){d.launchStage=s.launchStage;break}break;case"LAUNCH_STAGE_UNSPECIFIED":case 0:d.launchStage=0;break;case"UNIMPLEMENTED":case 6:d.launchStage=6;break;case"PRELAUNCH":case 7:d.launchStage=7;break;case"EARLY_ACCESS":case 1:d.launchStage=1;break;case"ALPHA":case 2:d.launchStage=2;break;case"BETA":case 3:d.launchStage=3;break;case"GA":case 4:d.launchStage=4;break;case"DEPRECATED":case 5:d.launchStage=5;break}if(s.restNumericEnums!=null&&(d.restNumericEnums=!!s.restNumericEnums),s.javaSettings!=null){if(typeof s.javaSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.javaSettings: object expected");d.javaSettings=f.google.api.JavaSettings.fromObject(s.javaSettings)}if(s.cppSettings!=null){if(typeof s.cppSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.cppSettings: object expected");d.cppSettings=f.google.api.CppSettings.fromObject(s.cppSettings)}if(s.phpSettings!=null){if(typeof s.phpSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.phpSettings: object expected");d.phpSettings=f.google.api.PhpSettings.fromObject(s.phpSettings)}if(s.pythonSettings!=null){if(typeof s.pythonSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.pythonSettings: object expected");d.pythonSettings=f.google.api.PythonSettings.fromObject(s.pythonSettings)}if(s.nodeSettings!=null){if(typeof s.nodeSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.nodeSettings: object expected");d.nodeSettings=f.google.api.NodeSettings.fromObject(s.nodeSettings)}if(s.dotnetSettings!=null){if(typeof s.dotnetSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.dotnetSettings: object expected");d.dotnetSettings=f.google.api.DotnetSettings.fromObject(s.dotnetSettings)}if(s.rubySettings!=null){if(typeof s.rubySettings!="object")throw TypeError(".google.api.ClientLibrarySettings.rubySettings: object expected");d.rubySettings=f.google.api.RubySettings.fromObject(s.rubySettings)}if(s.goSettings!=null){if(typeof s.goSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.goSettings: object expected");d.goSettings=f.google.api.GoSettings.fromObject(s.goSettings)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.version="",g.launchStage=d.enums===String?"LAUNCH_STAGE_UNSPECIFIED":0,g.restNumericEnums=!1,g.javaSettings=null,g.cppSettings=null,g.phpSettings=null,g.pythonSettings=null,g.nodeSettings=null,g.dotnetSettings=null,g.rubySettings=null,g.goSettings=null),s.version!=null&&s.hasOwnProperty("version")&&(g.version=s.version),s.launchStage!=null&&s.hasOwnProperty("launchStage")&&(g.launchStage=d.enums===String?f.google.api.LaunchStage[s.launchStage]===void 0?s.launchStage:f.google.api.LaunchStage[s.launchStage]:s.launchStage),s.restNumericEnums!=null&&s.hasOwnProperty("restNumericEnums")&&(g.restNumericEnums=s.restNumericEnums),s.javaSettings!=null&&s.hasOwnProperty("javaSettings")&&(g.javaSettings=f.google.api.JavaSettings.toObject(s.javaSettings,d)),s.cppSettings!=null&&s.hasOwnProperty("cppSettings")&&(g.cppSettings=f.google.api.CppSettings.toObject(s.cppSettings,d)),s.phpSettings!=null&&s.hasOwnProperty("phpSettings")&&(g.phpSettings=f.google.api.PhpSettings.toObject(s.phpSettings,d)),s.pythonSettings!=null&&s.hasOwnProperty("pythonSettings")&&(g.pythonSettings=f.google.api.PythonSettings.toObject(s.pythonSettings,d)),s.nodeSettings!=null&&s.hasOwnProperty("nodeSettings")&&(g.nodeSettings=f.google.api.NodeSettings.toObject(s.nodeSettings,d)),s.dotnetSettings!=null&&s.hasOwnProperty("dotnetSettings")&&(g.dotnetSettings=f.google.api.DotnetSettings.toObject(s.dotnetSettings,d)),s.rubySettings!=null&&s.hasOwnProperty("rubySettings")&&(g.rubySettings=f.google.api.RubySettings.toObject(s.rubySettings,d)),s.goSettings!=null&&s.hasOwnProperty("goSettings")&&(g.goSettings=f.google.api.GoSettings.toObject(s.goSettings,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.ClientLibrarySettings"},S}(),_.Publishing=function(){function S(v){if(this.methodSettings=[],this.codeownerGithubTeams=[],this.librarySettings=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.methodSettings=p.emptyArray,S.prototype.newIssueUri="",S.prototype.documentationUri="",S.prototype.apiShortName="",S.prototype.githubLabel="",S.prototype.codeownerGithubTeams=p.emptyArray,S.prototype.docTagPrefix="",S.prototype.organization=0,S.prototype.librarySettings=p.emptyArray,S.prototype.protoReferenceDocumentationUri="",S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.methodSettings!=null&&s.methodSettings.length)for(var g=0;g<s.methodSettings.length;++g)f.google.api.MethodSettings.encode(s.methodSettings[g],d.uint32(18).fork()).ldelim();if(s.newIssueUri!=null&&Object.hasOwnProperty.call(s,"newIssueUri")&&d.uint32(810).string(s.newIssueUri),s.documentationUri!=null&&Object.hasOwnProperty.call(s,"documentationUri")&&d.uint32(818).string(s.documentationUri),s.apiShortName!=null&&Object.hasOwnProperty.call(s,"apiShortName")&&d.uint32(826).string(s.apiShortName),s.githubLabel!=null&&Object.hasOwnProperty.call(s,"githubLabel")&&d.uint32(834).string(s.githubLabel),s.codeownerGithubTeams!=null&&s.codeownerGithubTeams.length)for(var g=0;g<s.codeownerGithubTeams.length;++g)d.uint32(842).string(s.codeownerGithubTeams[g]);if(s.docTagPrefix!=null&&Object.hasOwnProperty.call(s,"docTagPrefix")&&d.uint32(850).string(s.docTagPrefix),s.organization!=null&&Object.hasOwnProperty.call(s,"organization")&&d.uint32(856).int32(s.organization),s.librarySettings!=null&&s.librarySettings.length)for(var g=0;g<s.librarySettings.length;++g)f.google.api.ClientLibrarySettings.encode(s.librarySettings[g],d.uint32(874).fork()).ldelim();return s.protoReferenceDocumentationUri!=null&&Object.hasOwnProperty.call(s,"protoReferenceDocumentationUri")&&d.uint32(882).string(s.protoReferenceDocumentationUri),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.Publishing;s.pos<g;){var R=s.uint32();switch(R>>>3){case 2:{P.methodSettings&&P.methodSettings.length||(P.methodSettings=[]),P.methodSettings.push(f.google.api.MethodSettings.decode(s,s.uint32()));break}case 101:{P.newIssueUri=s.string();break}case 102:{P.documentationUri=s.string();break}case 103:{P.apiShortName=s.string();break}case 104:{P.githubLabel=s.string();break}case 105:{P.codeownerGithubTeams&&P.codeownerGithubTeams.length||(P.codeownerGithubTeams=[]),P.codeownerGithubTeams.push(s.string());break}case 106:{P.docTagPrefix=s.string();break}case 107:{P.organization=s.int32();break}case 109:{P.librarySettings&&P.librarySettings.length||(P.librarySettings=[]),P.librarySettings.push(f.google.api.ClientLibrarySettings.decode(s,s.uint32()));break}case 110:{P.protoReferenceDocumentationUri=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.methodSettings!=null&&s.hasOwnProperty("methodSettings")){if(!Array.isArray(s.methodSettings))return"methodSettings: array expected";for(var d=0;d<s.methodSettings.length;++d){var g=f.google.api.MethodSettings.verify(s.methodSettings[d]);if(g)return"methodSettings."+g}}if(s.newIssueUri!=null&&s.hasOwnProperty("newIssueUri")&&!p.isString(s.newIssueUri))return"newIssueUri: string expected";if(s.documentationUri!=null&&s.hasOwnProperty("documentationUri")&&!p.isString(s.documentationUri))return"documentationUri: string expected";if(s.apiShortName!=null&&s.hasOwnProperty("apiShortName")&&!p.isString(s.apiShortName))return"apiShortName: string expected";if(s.githubLabel!=null&&s.hasOwnProperty("githubLabel")&&!p.isString(s.githubLabel))return"githubLabel: string expected";if(s.codeownerGithubTeams!=null&&s.hasOwnProperty("codeownerGithubTeams")){if(!Array.isArray(s.codeownerGithubTeams))return"codeownerGithubTeams: array expected";for(var d=0;d<s.codeownerGithubTeams.length;++d)if(!p.isString(s.codeownerGithubTeams[d]))return"codeownerGithubTeams: string[] expected"}if(s.docTagPrefix!=null&&s.hasOwnProperty("docTagPrefix")&&!p.isString(s.docTagPrefix))return"docTagPrefix: string expected";if(s.organization!=null&&s.hasOwnProperty("organization"))switch(s.organization){default:return"organization: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:break}if(s.librarySettings!=null&&s.hasOwnProperty("librarySettings")){if(!Array.isArray(s.librarySettings))return"librarySettings: array expected";for(var d=0;d<s.librarySettings.length;++d){var g=f.google.api.ClientLibrarySettings.verify(s.librarySettings[d]);if(g)return"librarySettings."+g}}return s.protoReferenceDocumentationUri!=null&&s.hasOwnProperty("protoReferenceDocumentationUri")&&!p.isString(s.protoReferenceDocumentationUri)?"protoReferenceDocumentationUri: string expected":null},S.fromObject=function(s){if(s instanceof f.google.api.Publishing)return s;var d=new f.google.api.Publishing;if(s.methodSettings){if(!Array.isArray(s.methodSettings))throw TypeError(".google.api.Publishing.methodSettings: array expected");d.methodSettings=[];for(var g=0;g<s.methodSettings.length;++g){if(typeof s.methodSettings[g]!="object")throw TypeError(".google.api.Publishing.methodSettings: object expected");d.methodSettings[g]=f.google.api.MethodSettings.fromObject(s.methodSettings[g])}}if(s.newIssueUri!=null&&(d.newIssueUri=String(s.newIssueUri)),s.documentationUri!=null&&(d.documentationUri=String(s.documentationUri)),s.apiShortName!=null&&(d.apiShortName=String(s.apiShortName)),s.githubLabel!=null&&(d.githubLabel=String(s.githubLabel)),s.codeownerGithubTeams){if(!Array.isArray(s.codeownerGithubTeams))throw TypeError(".google.api.Publishing.codeownerGithubTeams: array expected");d.codeownerGithubTeams=[];for(var g=0;g<s.codeownerGithubTeams.length;++g)d.codeownerGithubTeams[g]=String(s.codeownerGithubTeams[g])}switch(s.docTagPrefix!=null&&(d.docTagPrefix=String(s.docTagPrefix)),s.organization){default:if(typeof s.organization=="number"){d.organization=s.organization;break}break;case"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":case 0:d.organization=0;break;case"CLOUD":case 1:d.organization=1;break;case"ADS":case 2:d.organization=2;break;case"PHOTOS":case 3:d.organization=3;break;case"STREET_VIEW":case 4:d.organization=4;break;case"SHOPPING":case 5:d.organization=5;break;case"GEO":case 6:d.organization=6;break;case"GENERATIVE_AI":case 7:d.organization=7;break}if(s.librarySettings){if(!Array.isArray(s.librarySettings))throw TypeError(".google.api.Publishing.librarySettings: array expected");d.librarySettings=[];for(var g=0;g<s.librarySettings.length;++g){if(typeof s.librarySettings[g]!="object")throw TypeError(".google.api.Publishing.librarySettings: object expected");d.librarySettings[g]=f.google.api.ClientLibrarySettings.fromObject(s.librarySettings[g])}}return s.protoReferenceDocumentationUri!=null&&(d.protoReferenceDocumentationUri=String(s.protoReferenceDocumentationUri)),d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.methodSettings=[],g.codeownerGithubTeams=[],g.librarySettings=[]),d.defaults&&(g.newIssueUri="",g.documentationUri="",g.apiShortName="",g.githubLabel="",g.docTagPrefix="",g.organization=d.enums===String?"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,g.protoReferenceDocumentationUri=""),s.methodSettings&&s.methodSettings.length){g.methodSettings=[];for(var P=0;P<s.methodSettings.length;++P)g.methodSettings[P]=f.google.api.MethodSettings.toObject(s.methodSettings[P],d)}if(s.newIssueUri!=null&&s.hasOwnProperty("newIssueUri")&&(g.newIssueUri=s.newIssueUri),s.documentationUri!=null&&s.hasOwnProperty("documentationUri")&&(g.documentationUri=s.documentationUri),s.apiShortName!=null&&s.hasOwnProperty("apiShortName")&&(g.apiShortName=s.apiShortName),s.githubLabel!=null&&s.hasOwnProperty("githubLabel")&&(g.githubLabel=s.githubLabel),s.codeownerGithubTeams&&s.codeownerGithubTeams.length){g.codeownerGithubTeams=[];for(var P=0;P<s.codeownerGithubTeams.length;++P)g.codeownerGithubTeams[P]=s.codeownerGithubTeams[P]}if(s.docTagPrefix!=null&&s.hasOwnProperty("docTagPrefix")&&(g.docTagPrefix=s.docTagPrefix),s.organization!=null&&s.hasOwnProperty("organization")&&(g.organization=d.enums===String?f.google.api.ClientLibraryOrganization[s.organization]===void 0?s.organization:f.google.api.ClientLibraryOrganization[s.organization]:s.organization),s.librarySettings&&s.librarySettings.length){g.librarySettings=[];for(var P=0;P<s.librarySettings.length;++P)g.librarySettings[P]=f.google.api.ClientLibrarySettings.toObject(s.librarySettings[P],d)}return s.protoReferenceDocumentationUri!=null&&s.hasOwnProperty("protoReferenceDocumentationUri")&&(g.protoReferenceDocumentationUri=s.protoReferenceDocumentationUri),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.Publishing"},S}(),_.JavaSettings=function(){function S(v){if(this.serviceClassNames={},v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.libraryPackage="",S.prototype.serviceClassNames=p.emptyObject,S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.libraryPackage!=null&&Object.hasOwnProperty.call(s,"libraryPackage")&&d.uint32(10).string(s.libraryPackage),s.serviceClassNames!=null&&Object.hasOwnProperty.call(s,"serviceClassNames"))for(var g=Object.keys(s.serviceClassNames),P=0;P<g.length;++P)d.uint32(18).fork().uint32(10).string(g[P]).uint32(18).string(s.serviceClassNames[g[P]]).ldelim();return s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(26).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.JavaSettings,R,I;s.pos<g;){var j=s.uint32();switch(j>>>3){case 1:{P.libraryPackage=s.string();break}case 2:{P.serviceClassNames===p.emptyObject&&(P.serviceClassNames={});var L=s.uint32()+s.pos;for(R="",I="";s.pos<L;){var G=s.uint32();switch(G>>>3){case 1:R=s.string();break;case 2:I=s.string();break;default:s.skipType(G&7);break}}P.serviceClassNames[R]=I;break}case 3:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(j&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.libraryPackage!=null&&s.hasOwnProperty("libraryPackage")&&!p.isString(s.libraryPackage))return"libraryPackage: string expected";if(s.serviceClassNames!=null&&s.hasOwnProperty("serviceClassNames")){if(!p.isObject(s.serviceClassNames))return"serviceClassNames: object expected";for(var d=Object.keys(s.serviceClassNames),g=0;g<d.length;++g)if(!p.isString(s.serviceClassNames[d[g]]))return"serviceClassNames: string{k:string} expected"}if(s.common!=null&&s.hasOwnProperty("common")){var P=f.google.api.CommonLanguageSettings.verify(s.common);if(P)return"common."+P}return null},S.fromObject=function(s){if(s instanceof f.google.api.JavaSettings)return s;var d=new f.google.api.JavaSettings;if(s.libraryPackage!=null&&(d.libraryPackage=String(s.libraryPackage)),s.serviceClassNames){if(typeof s.serviceClassNames!="object")throw TypeError(".google.api.JavaSettings.serviceClassNames: object expected");d.serviceClassNames={};for(var g=Object.keys(s.serviceClassNames),P=0;P<g.length;++P)d.serviceClassNames[g[P]]=String(s.serviceClassNames[g[P]])}if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.JavaSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};(d.objects||d.defaults)&&(g.serviceClassNames={}),d.defaults&&(g.libraryPackage="",g.common=null),s.libraryPackage!=null&&s.hasOwnProperty("libraryPackage")&&(g.libraryPackage=s.libraryPackage);var P;if(s.serviceClassNames&&(P=Object.keys(s.serviceClassNames)).length){g.serviceClassNames={};for(var R=0;R<P.length;++R)g.serviceClassNames[P[R]]=s.serviceClassNames[P[R]]}return s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.JavaSettings"},S}(),_.CppSettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.CppSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.CppSettings)return s;var d=new f.google.api.CppSettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.CppSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.CppSettings"},S}(),_.PhpSettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.PhpSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.PhpSettings)return s;var d=new f.google.api.PhpSettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.PhpSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.PhpSettings"},S}(),_.PythonSettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.PythonSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.PythonSettings)return s;var d=new f.google.api.PythonSettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.PythonSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.PythonSettings"},S}(),_.NodeSettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.NodeSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.NodeSettings)return s;var d=new f.google.api.NodeSettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.NodeSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.NodeSettings"},S}(),_.DotnetSettings=function(){function S(v){if(this.renamedServices={},this.renamedResources={},this.ignoredResources=[],this.forcedNamespaceAliases=[],this.handwrittenSignatures=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.prototype.renamedServices=p.emptyObject,S.prototype.renamedResources=p.emptyObject,S.prototype.ignoredResources=p.emptyArray,S.prototype.forcedNamespaceAliases=p.emptyArray,S.prototype.handwrittenSignatures=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),s.renamedServices!=null&&Object.hasOwnProperty.call(s,"renamedServices"))for(var g=Object.keys(s.renamedServices),P=0;P<g.length;++P)d.uint32(18).fork().uint32(10).string(g[P]).uint32(18).string(s.renamedServices[g[P]]).ldelim();if(s.renamedResources!=null&&Object.hasOwnProperty.call(s,"renamedResources"))for(var g=Object.keys(s.renamedResources),P=0;P<g.length;++P)d.uint32(26).fork().uint32(10).string(g[P]).uint32(18).string(s.renamedResources[g[P]]).ldelim();if(s.ignoredResources!=null&&s.ignoredResources.length)for(var P=0;P<s.ignoredResources.length;++P)d.uint32(34).string(s.ignoredResources[P]);if(s.forcedNamespaceAliases!=null&&s.forcedNamespaceAliases.length)for(var P=0;P<s.forcedNamespaceAliases.length;++P)d.uint32(42).string(s.forcedNamespaceAliases[P]);if(s.handwrittenSignatures!=null&&s.handwrittenSignatures.length)for(var P=0;P<s.handwrittenSignatures.length;++P)d.uint32(50).string(s.handwrittenSignatures[P]);return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.DotnetSettings,R,I;s.pos<g;){var j=s.uint32();switch(j>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}case 2:{P.renamedServices===p.emptyObject&&(P.renamedServices={});var L=s.uint32()+s.pos;for(R="",I="";s.pos<L;){var G=s.uint32();switch(G>>>3){case 1:R=s.string();break;case 2:I=s.string();break;default:s.skipType(G&7);break}}P.renamedServices[R]=I;break}case 3:{P.renamedResources===p.emptyObject&&(P.renamedResources={});var L=s.uint32()+s.pos;for(R="",I="";s.pos<L;){var G=s.uint32();switch(G>>>3){case 1:R=s.string();break;case 2:I=s.string();break;default:s.skipType(G&7);break}}P.renamedResources[R]=I;break}case 4:{P.ignoredResources&&P.ignoredResources.length||(P.ignoredResources=[]),P.ignoredResources.push(s.string());break}case 5:{P.forcedNamespaceAliases&&P.forcedNamespaceAliases.length||(P.forcedNamespaceAliases=[]),P.forcedNamespaceAliases.push(s.string());break}case 6:{P.handwrittenSignatures&&P.handwrittenSignatures.length||(P.handwrittenSignatures=[]),P.handwrittenSignatures.push(s.string());break}default:s.skipType(j&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}if(s.renamedServices!=null&&s.hasOwnProperty("renamedServices")){if(!p.isObject(s.renamedServices))return"renamedServices: object expected";for(var g=Object.keys(s.renamedServices),P=0;P<g.length;++P)if(!p.isString(s.renamedServices[g[P]]))return"renamedServices: string{k:string} expected"}if(s.renamedResources!=null&&s.hasOwnProperty("renamedResources")){if(!p.isObject(s.renamedResources))return"renamedResources: object expected";for(var g=Object.keys(s.renamedResources),P=0;P<g.length;++P)if(!p.isString(s.renamedResources[g[P]]))return"renamedResources: string{k:string} expected"}if(s.ignoredResources!=null&&s.hasOwnProperty("ignoredResources")){if(!Array.isArray(s.ignoredResources))return"ignoredResources: array expected";for(var P=0;P<s.ignoredResources.length;++P)if(!p.isString(s.ignoredResources[P]))return"ignoredResources: string[] expected"}if(s.forcedNamespaceAliases!=null&&s.hasOwnProperty("forcedNamespaceAliases")){if(!Array.isArray(s.forcedNamespaceAliases))return"forcedNamespaceAliases: array expected";for(var P=0;P<s.forcedNamespaceAliases.length;++P)if(!p.isString(s.forcedNamespaceAliases[P]))return"forcedNamespaceAliases: string[] expected"}if(s.handwrittenSignatures!=null&&s.hasOwnProperty("handwrittenSignatures")){if(!Array.isArray(s.handwrittenSignatures))return"handwrittenSignatures: array expected";for(var P=0;P<s.handwrittenSignatures.length;++P)if(!p.isString(s.handwrittenSignatures[P]))return"handwrittenSignatures: string[] expected"}return null},S.fromObject=function(s){if(s instanceof f.google.api.DotnetSettings)return s;var d=new f.google.api.DotnetSettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.DotnetSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}if(s.renamedServices){if(typeof s.renamedServices!="object")throw TypeError(".google.api.DotnetSettings.renamedServices: object expected");d.renamedServices={};for(var g=Object.keys(s.renamedServices),P=0;P<g.length;++P)d.renamedServices[g[P]]=String(s.renamedServices[g[P]])}if(s.renamedResources){if(typeof s.renamedResources!="object")throw TypeError(".google.api.DotnetSettings.renamedResources: object expected");d.renamedResources={};for(var g=Object.keys(s.renamedResources),P=0;P<g.length;++P)d.renamedResources[g[P]]=String(s.renamedResources[g[P]])}if(s.ignoredResources){if(!Array.isArray(s.ignoredResources))throw TypeError(".google.api.DotnetSettings.ignoredResources: array expected");d.ignoredResources=[];for(var P=0;P<s.ignoredResources.length;++P)d.ignoredResources[P]=String(s.ignoredResources[P])}if(s.forcedNamespaceAliases){if(!Array.isArray(s.forcedNamespaceAliases))throw TypeError(".google.api.DotnetSettings.forcedNamespaceAliases: array expected");d.forcedNamespaceAliases=[];for(var P=0;P<s.forcedNamespaceAliases.length;++P)d.forcedNamespaceAliases[P]=String(s.forcedNamespaceAliases[P])}if(s.handwrittenSignatures){if(!Array.isArray(s.handwrittenSignatures))throw TypeError(".google.api.DotnetSettings.handwrittenSignatures: array expected");d.handwrittenSignatures=[];for(var P=0;P<s.handwrittenSignatures.length;++P)d.handwrittenSignatures[P]=String(s.handwrittenSignatures[P])}return d},S.toObject=function(s,d){d||(d={});var g={};(d.arrays||d.defaults)&&(g.ignoredResources=[],g.forcedNamespaceAliases=[],g.handwrittenSignatures=[]),(d.objects||d.defaults)&&(g.renamedServices={},g.renamedResources={}),d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d));var P;if(s.renamedServices&&(P=Object.keys(s.renamedServices)).length){g.renamedServices={};for(var R=0;R<P.length;++R)g.renamedServices[P[R]]=s.renamedServices[P[R]]}if(s.renamedResources&&(P=Object.keys(s.renamedResources)).length){g.renamedResources={};for(var R=0;R<P.length;++R)g.renamedResources[P[R]]=s.renamedResources[P[R]]}if(s.ignoredResources&&s.ignoredResources.length){g.ignoredResources=[];for(var R=0;R<s.ignoredResources.length;++R)g.ignoredResources[R]=s.ignoredResources[R]}if(s.forcedNamespaceAliases&&s.forcedNamespaceAliases.length){g.forcedNamespaceAliases=[];for(var R=0;R<s.forcedNamespaceAliases.length;++R)g.forcedNamespaceAliases[R]=s.forcedNamespaceAliases[R]}if(s.handwrittenSignatures&&s.handwrittenSignatures.length){g.handwrittenSignatures=[];for(var R=0;R<s.handwrittenSignatures.length;++R)g.handwrittenSignatures[R]=s.handwrittenSignatures[R]}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.DotnetSettings"},S}(),_.RubySettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.RubySettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.RubySettings)return s;var d=new f.google.api.RubySettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.RubySettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.RubySettings"},S}(),_.GoSettings=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.common=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.common!=null&&Object.hasOwnProperty.call(s,"common")&&f.google.api.CommonLanguageSettings.encode(s.common,d.uint32(10).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.GoSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.common=f.google.api.CommonLanguageSettings.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.common!=null&&s.hasOwnProperty("common")){var d=f.google.api.CommonLanguageSettings.verify(s.common);if(d)return"common."+d}return null},S.fromObject=function(s){if(s instanceof f.google.api.GoSettings)return s;var d=new f.google.api.GoSettings;if(s.common!=null){if(typeof s.common!="object")throw TypeError(".google.api.GoSettings.common: object expected");d.common=f.google.api.CommonLanguageSettings.fromObject(s.common)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.common=null),s.common!=null&&s.hasOwnProperty("common")&&(g.common=f.google.api.CommonLanguageSettings.toObject(s.common,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.GoSettings"},S}(),_.MethodSettings=function(){function S(v){if(this.autoPopulatedFields=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.selector="",S.prototype.longRunning=null,S.prototype.autoPopulatedFields=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.selector!=null&&Object.hasOwnProperty.call(s,"selector")&&d.uint32(10).string(s.selector),s.longRunning!=null&&Object.hasOwnProperty.call(s,"longRunning")&&f.google.api.MethodSettings.LongRunning.encode(s.longRunning,d.uint32(18).fork()).ldelim(),s.autoPopulatedFields!=null&&s.autoPopulatedFields.length)for(var g=0;g<s.autoPopulatedFields.length;++g)d.uint32(26).string(s.autoPopulatedFields[g]);return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.MethodSettings;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.selector=s.string();break}case 2:{P.longRunning=f.google.api.MethodSettings.LongRunning.decode(s,s.uint32());break}case 3:{P.autoPopulatedFields&&P.autoPopulatedFields.length||(P.autoPopulatedFields=[]),P.autoPopulatedFields.push(s.string());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.selector!=null&&s.hasOwnProperty("selector")&&!p.isString(s.selector))return"selector: string expected";if(s.longRunning!=null&&s.hasOwnProperty("longRunning")){var d=f.google.api.MethodSettings.LongRunning.verify(s.longRunning);if(d)return"longRunning."+d}if(s.autoPopulatedFields!=null&&s.hasOwnProperty("autoPopulatedFields")){if(!Array.isArray(s.autoPopulatedFields))return"autoPopulatedFields: array expected";for(var g=0;g<s.autoPopulatedFields.length;++g)if(!p.isString(s.autoPopulatedFields[g]))return"autoPopulatedFields: string[] expected"}return null},S.fromObject=function(s){if(s instanceof f.google.api.MethodSettings)return s;var d=new f.google.api.MethodSettings;if(s.selector!=null&&(d.selector=String(s.selector)),s.longRunning!=null){if(typeof s.longRunning!="object")throw TypeError(".google.api.MethodSettings.longRunning: object expected");d.longRunning=f.google.api.MethodSettings.LongRunning.fromObject(s.longRunning)}if(s.autoPopulatedFields){if(!Array.isArray(s.autoPopulatedFields))throw TypeError(".google.api.MethodSettings.autoPopulatedFields: array expected");d.autoPopulatedFields=[];for(var g=0;g<s.autoPopulatedFields.length;++g)d.autoPopulatedFields[g]=String(s.autoPopulatedFields[g])}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.autoPopulatedFields=[]),d.defaults&&(g.selector="",g.longRunning=null),s.selector!=null&&s.hasOwnProperty("selector")&&(g.selector=s.selector),s.longRunning!=null&&s.hasOwnProperty("longRunning")&&(g.longRunning=f.google.api.MethodSettings.LongRunning.toObject(s.longRunning,d)),s.autoPopulatedFields&&s.autoPopulatedFields.length){g.autoPopulatedFields=[];for(var P=0;P<s.autoPopulatedFields.length;++P)g.autoPopulatedFields[P]=s.autoPopulatedFields[P]}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.MethodSettings"},S.LongRunning=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.initialPollDelay=null,v.prototype.pollDelayMultiplier=0,v.prototype.maxPollDelay=null,v.prototype.totalPollTimeout=null,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.initialPollDelay!=null&&Object.hasOwnProperty.call(d,"initialPollDelay")&&f.google.protobuf.Duration.encode(d.initialPollDelay,g.uint32(10).fork()).ldelim(),d.pollDelayMultiplier!=null&&Object.hasOwnProperty.call(d,"pollDelayMultiplier")&&g.uint32(21).float(d.pollDelayMultiplier),d.maxPollDelay!=null&&Object.hasOwnProperty.call(d,"maxPollDelay")&&f.google.protobuf.Duration.encode(d.maxPollDelay,g.uint32(26).fork()).ldelim(),d.totalPollTimeout!=null&&Object.hasOwnProperty.call(d,"totalPollTimeout")&&f.google.protobuf.Duration.encode(d.totalPollTimeout,g.uint32(34).fork()).ldelim(),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.api.MethodSettings.LongRunning;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.initialPollDelay=f.google.protobuf.Duration.decode(d,d.uint32());break}case 2:{R.pollDelayMultiplier=d.float();break}case 3:{R.maxPollDelay=f.google.protobuf.Duration.decode(d,d.uint32());break}case 4:{R.totalPollTimeout=f.google.protobuf.Duration.decode(d,d.uint32());break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.initialPollDelay!=null&&d.hasOwnProperty("initialPollDelay")){var g=f.google.protobuf.Duration.verify(d.initialPollDelay);if(g)return"initialPollDelay."+g}if(d.pollDelayMultiplier!=null&&d.hasOwnProperty("pollDelayMultiplier")&&typeof d.pollDelayMultiplier!="number")return"pollDelayMultiplier: number expected";if(d.maxPollDelay!=null&&d.hasOwnProperty("maxPollDelay")){var g=f.google.protobuf.Duration.verify(d.maxPollDelay);if(g)return"maxPollDelay."+g}if(d.totalPollTimeout!=null&&d.hasOwnProperty("totalPollTimeout")){var g=f.google.protobuf.Duration.verify(d.totalPollTimeout);if(g)return"totalPollTimeout."+g}return null},v.fromObject=function(d){if(d instanceof f.google.api.MethodSettings.LongRunning)return d;var g=new f.google.api.MethodSettings.LongRunning;if(d.initialPollDelay!=null){if(typeof d.initialPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.initialPollDelay: object expected");g.initialPollDelay=f.google.protobuf.Duration.fromObject(d.initialPollDelay)}if(d.pollDelayMultiplier!=null&&(g.pollDelayMultiplier=Number(d.pollDelayMultiplier)),d.maxPollDelay!=null){if(typeof d.maxPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.maxPollDelay: object expected");g.maxPollDelay=f.google.protobuf.Duration.fromObject(d.maxPollDelay)}if(d.totalPollTimeout!=null){if(typeof d.totalPollTimeout!="object")throw TypeError(".google.api.MethodSettings.LongRunning.totalPollTimeout: object expected");g.totalPollTimeout=f.google.protobuf.Duration.fromObject(d.totalPollTimeout)}return g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.initialPollDelay=null,P.pollDelayMultiplier=0,P.maxPollDelay=null,P.totalPollTimeout=null),d.initialPollDelay!=null&&d.hasOwnProperty("initialPollDelay")&&(P.initialPollDelay=f.google.protobuf.Duration.toObject(d.initialPollDelay,g)),d.pollDelayMultiplier!=null&&d.hasOwnProperty("pollDelayMultiplier")&&(P.pollDelayMultiplier=g.json&&!isFinite(d.pollDelayMultiplier)?String(d.pollDelayMultiplier):d.pollDelayMultiplier),d.maxPollDelay!=null&&d.hasOwnProperty("maxPollDelay")&&(P.maxPollDelay=f.google.protobuf.Duration.toObject(d.maxPollDelay,g)),d.totalPollTimeout!=null&&d.hasOwnProperty("totalPollTimeout")&&(P.totalPollTimeout=f.google.protobuf.Duration.toObject(d.totalPollTimeout,g)),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.api.MethodSettings.LongRunning"},v}(),S}(),_.ClientLibraryOrganization=function(){var S={},v=Object.create(S);return v[S[0]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED"]=0,v[S[1]="CLOUD"]=1,v[S[2]="ADS"]=2,v[S[3]="PHOTOS"]=3,v[S[4]="STREET_VIEW"]=4,v[S[5]="SHOPPING"]=5,v[S[6]="GEO"]=6,v[S[7]="GENERATIVE_AI"]=7,v}(),_.ClientLibraryDestination=function(){var S={},v=Object.create(S);return v[S[0]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED"]=0,v[S[10]="GITHUB"]=10,v[S[20]="PACKAGE_MANAGER"]=20,v}(),_.LaunchStage=function(){var S={},v=Object.create(S);return v[S[0]="LAUNCH_STAGE_UNSPECIFIED"]=0,v[S[6]="UNIMPLEMENTED"]=6,v[S[7]="PRELAUNCH"]=7,v[S[1]="EARLY_ACCESS"]=1,v[S[2]="ALPHA"]=2,v[S[3]="BETA"]=3,v[S[4]="GA"]=4,v[S[5]="DEPRECATED"]=5,v}(),_.FieldBehavior=function(){var S={},v=Object.create(S);return v[S[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,v[S[1]="OPTIONAL"]=1,v[S[2]="REQUIRED"]=2,v[S[3]="OUTPUT_ONLY"]=3,v[S[4]="INPUT_ONLY"]=4,v[S[5]="IMMUTABLE"]=5,v[S[6]="UNORDERED_LIST"]=6,v[S[7]="NON_EMPTY_DEFAULT"]=7,v[S[8]="IDENTIFIER"]=8,v}(),_.ResourceDescriptor=function(){function S(v){if(this.pattern=[],this.style=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.type="",S.prototype.pattern=p.emptyArray,S.prototype.nameField="",S.prototype.history=0,S.prototype.plural="",S.prototype.singular="",S.prototype.style=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&d.uint32(10).string(s.type),s.pattern!=null&&s.pattern.length)for(var g=0;g<s.pattern.length;++g)d.uint32(18).string(s.pattern[g]);if(s.nameField!=null&&Object.hasOwnProperty.call(s,"nameField")&&d.uint32(26).string(s.nameField),s.history!=null&&Object.hasOwnProperty.call(s,"history")&&d.uint32(32).int32(s.history),s.plural!=null&&Object.hasOwnProperty.call(s,"plural")&&d.uint32(42).string(s.plural),s.singular!=null&&Object.hasOwnProperty.call(s,"singular")&&d.uint32(50).string(s.singular),s.style!=null&&s.style.length){d.uint32(82).fork();for(var g=0;g<s.style.length;++g)d.int32(s.style[g]);d.ldelim()}return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.ResourceDescriptor;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.type=s.string();break}case 2:{P.pattern&&P.pattern.length||(P.pattern=[]),P.pattern.push(s.string());break}case 3:{P.nameField=s.string();break}case 4:{P.history=s.int32();break}case 5:{P.plural=s.string();break}case 6:{P.singular=s.string();break}case 10:{if(P.style&&P.style.length||(P.style=[]),(R&7)===2)for(var I=s.uint32()+s.pos;s.pos<I;)P.style.push(s.int32());else P.style.push(s.int32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.type!=null&&s.hasOwnProperty("type")&&!p.isString(s.type))return"type: string expected";if(s.pattern!=null&&s.hasOwnProperty("pattern")){if(!Array.isArray(s.pattern))return"pattern: array expected";for(var d=0;d<s.pattern.length;++d)if(!p.isString(s.pattern[d]))return"pattern: string[] expected"}if(s.nameField!=null&&s.hasOwnProperty("nameField")&&!p.isString(s.nameField))return"nameField: string expected";if(s.history!=null&&s.hasOwnProperty("history"))switch(s.history){default:return"history: enum value expected";case 0:case 1:case 2:break}if(s.plural!=null&&s.hasOwnProperty("plural")&&!p.isString(s.plural))return"plural: string expected";if(s.singular!=null&&s.hasOwnProperty("singular")&&!p.isString(s.singular))return"singular: string expected";if(s.style!=null&&s.hasOwnProperty("style")){if(!Array.isArray(s.style))return"style: array expected";for(var d=0;d<s.style.length;++d)switch(s.style[d]){default:return"style: enum value[] expected";case 0:case 1:break}}return null},S.fromObject=function(s){if(s instanceof f.google.api.ResourceDescriptor)return s;var d=new f.google.api.ResourceDescriptor;if(s.type!=null&&(d.type=String(s.type)),s.pattern){if(!Array.isArray(s.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");d.pattern=[];for(var g=0;g<s.pattern.length;++g)d.pattern[g]=String(s.pattern[g])}switch(s.nameField!=null&&(d.nameField=String(s.nameField)),s.history){default:if(typeof s.history=="number"){d.history=s.history;break}break;case"HISTORY_UNSPECIFIED":case 0:d.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:d.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:d.history=2;break}if(s.plural!=null&&(d.plural=String(s.plural)),s.singular!=null&&(d.singular=String(s.singular)),s.style){if(!Array.isArray(s.style))throw TypeError(".google.api.ResourceDescriptor.style: array expected");d.style=[];for(var g=0;g<s.style.length;++g)switch(s.style[g]){default:if(typeof s.style[g]=="number"){d.style[g]=s.style[g];break}case"STYLE_UNSPECIFIED":case 0:d.style[g]=0;break;case"DECLARATIVE_FRIENDLY":case 1:d.style[g]=1;break}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.pattern=[],g.style=[]),d.defaults&&(g.type="",g.nameField="",g.history=d.enums===String?"HISTORY_UNSPECIFIED":0,g.plural="",g.singular=""),s.type!=null&&s.hasOwnProperty("type")&&(g.type=s.type),s.pattern&&s.pattern.length){g.pattern=[];for(var P=0;P<s.pattern.length;++P)g.pattern[P]=s.pattern[P]}if(s.nameField!=null&&s.hasOwnProperty("nameField")&&(g.nameField=s.nameField),s.history!=null&&s.hasOwnProperty("history")&&(g.history=d.enums===String?f.google.api.ResourceDescriptor.History[s.history]===void 0?s.history:f.google.api.ResourceDescriptor.History[s.history]:s.history),s.plural!=null&&s.hasOwnProperty("plural")&&(g.plural=s.plural),s.singular!=null&&s.hasOwnProperty("singular")&&(g.singular=s.singular),s.style&&s.style.length){g.style=[];for(var P=0;P<s.style.length;++P)g.style[P]=d.enums===String?f.google.api.ResourceDescriptor.Style[s.style[P]]===void 0?s.style[P]:f.google.api.ResourceDescriptor.Style[s.style[P]]:s.style[P]}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.ResourceDescriptor"},S.History=function(){var v={},s=Object.create(v);return s[v[0]="HISTORY_UNSPECIFIED"]=0,s[v[1]="ORIGINALLY_SINGLE_PATTERN"]=1,s[v[2]="FUTURE_MULTI_PATTERN"]=2,s}(),S.Style=function(){var v={},s=Object.create(v);return s[v[0]="STYLE_UNSPECIFIED"]=0,s[v[1]="DECLARATIVE_FRIENDLY"]=1,s}(),S}(),_.ResourceReference=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.type="",S.prototype.childType="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&d.uint32(10).string(s.type),s.childType!=null&&Object.hasOwnProperty.call(s,"childType")&&d.uint32(18).string(s.childType),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.api.ResourceReference;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.type=s.string();break}case 2:{P.childType=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.type!=null&&s.hasOwnProperty("type")&&!p.isString(s.type)?"type: string expected":s.childType!=null&&s.hasOwnProperty("childType")&&!p.isString(s.childType)?"childType: string expected":null},S.fromObject=function(s){if(s instanceof f.google.api.ResourceReference)return s;var d=new f.google.api.ResourceReference;return s.type!=null&&(d.type=String(s.type)),s.childType!=null&&(d.childType=String(s.childType)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.type="",g.childType=""),s.type!=null&&s.hasOwnProperty("type")&&(g.type=s.type),s.childType!=null&&s.hasOwnProperty("childType")&&(g.childType=s.childType),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.api.ResourceReference"},S}(),_}(),O.protobuf=function(){var _={};return _.FileDescriptorSet=function(){function S(v){if(this.file=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.file=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.file!=null&&s.file.length)for(var g=0;g<s.file.length;++g)f.google.protobuf.FileDescriptorProto.encode(s.file[g],d.uint32(10).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FileDescriptorSet;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.file&&P.file.length||(P.file=[]),P.file.push(f.google.protobuf.FileDescriptorProto.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.file!=null&&s.hasOwnProperty("file")){if(!Array.isArray(s.file))return"file: array expected";for(var d=0;d<s.file.length;++d){var g=f.google.protobuf.FileDescriptorProto.verify(s.file[d]);if(g)return"file."+g}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FileDescriptorSet)return s;var d=new f.google.protobuf.FileDescriptorSet;if(s.file){if(!Array.isArray(s.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");d.file=[];for(var g=0;g<s.file.length;++g){if(typeof s.file[g]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");d.file[g]=f.google.protobuf.FileDescriptorProto.fromObject(s.file[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.file=[]),s.file&&s.file.length){g.file=[];for(var P=0;P<s.file.length;++P)g.file[P]=f.google.protobuf.FileDescriptorProto.toObject(s.file[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FileDescriptorSet"},S}(),_.Edition=function(){var S={},v=Object.create(S);return v[S[0]="EDITION_UNKNOWN"]=0,v[S[998]="EDITION_PROTO2"]=998,v[S[999]="EDITION_PROTO3"]=999,v[S[1e3]="EDITION_2023"]=1e3,v[S[1001]="EDITION_2024"]=1001,v[S[1]="EDITION_1_TEST_ONLY"]=1,v[S[2]="EDITION_2_TEST_ONLY"]=2,v[S[99997]="EDITION_99997_TEST_ONLY"]=99997,v[S[99998]="EDITION_99998_TEST_ONLY"]=99998,v[S[99999]="EDITION_99999_TEST_ONLY"]=99999,v[S[2147483647]="EDITION_MAX"]=2147483647,v}(),_.FileDescriptorProto=function(){function S(v){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.package="",S.prototype.dependency=p.emptyArray,S.prototype.publicDependency=p.emptyArray,S.prototype.weakDependency=p.emptyArray,S.prototype.messageType=p.emptyArray,S.prototype.enumType=p.emptyArray,S.prototype.service=p.emptyArray,S.prototype.extension=p.emptyArray,S.prototype.options=null,S.prototype.sourceCodeInfo=null,S.prototype.syntax="",S.prototype.edition=0,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.package!=null&&Object.hasOwnProperty.call(s,"package")&&d.uint32(18).string(s.package),s.dependency!=null&&s.dependency.length)for(var g=0;g<s.dependency.length;++g)d.uint32(26).string(s.dependency[g]);if(s.messageType!=null&&s.messageType.length)for(var g=0;g<s.messageType.length;++g)f.google.protobuf.DescriptorProto.encode(s.messageType[g],d.uint32(34).fork()).ldelim();if(s.enumType!=null&&s.enumType.length)for(var g=0;g<s.enumType.length;++g)f.google.protobuf.EnumDescriptorProto.encode(s.enumType[g],d.uint32(42).fork()).ldelim();if(s.service!=null&&s.service.length)for(var g=0;g<s.service.length;++g)f.google.protobuf.ServiceDescriptorProto.encode(s.service[g],d.uint32(50).fork()).ldelim();if(s.extension!=null&&s.extension.length)for(var g=0;g<s.extension.length;++g)f.google.protobuf.FieldDescriptorProto.encode(s.extension[g],d.uint32(58).fork()).ldelim();if(s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.FileOptions.encode(s.options,d.uint32(66).fork()).ldelim(),s.sourceCodeInfo!=null&&Object.hasOwnProperty.call(s,"sourceCodeInfo")&&f.google.protobuf.SourceCodeInfo.encode(s.sourceCodeInfo,d.uint32(74).fork()).ldelim(),s.publicDependency!=null&&s.publicDependency.length)for(var g=0;g<s.publicDependency.length;++g)d.uint32(80).int32(s.publicDependency[g]);if(s.weakDependency!=null&&s.weakDependency.length)for(var g=0;g<s.weakDependency.length;++g)d.uint32(88).int32(s.weakDependency[g]);return s.syntax!=null&&Object.hasOwnProperty.call(s,"syntax")&&d.uint32(98).string(s.syntax),s.edition!=null&&Object.hasOwnProperty.call(s,"edition")&&d.uint32(112).int32(s.edition),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FileDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.package=s.string();break}case 3:{P.dependency&&P.dependency.length||(P.dependency=[]),P.dependency.push(s.string());break}case 10:{if(P.publicDependency&&P.publicDependency.length||(P.publicDependency=[]),(R&7)===2)for(var I=s.uint32()+s.pos;s.pos<I;)P.publicDependency.push(s.int32());else P.publicDependency.push(s.int32());break}case 11:{if(P.weakDependency&&P.weakDependency.length||(P.weakDependency=[]),(R&7)===2)for(var I=s.uint32()+s.pos;s.pos<I;)P.weakDependency.push(s.int32());else P.weakDependency.push(s.int32());break}case 4:{P.messageType&&P.messageType.length||(P.messageType=[]),P.messageType.push(f.google.protobuf.DescriptorProto.decode(s,s.uint32()));break}case 5:{P.enumType&&P.enumType.length||(P.enumType=[]),P.enumType.push(f.google.protobuf.EnumDescriptorProto.decode(s,s.uint32()));break}case 6:{P.service&&P.service.length||(P.service=[]),P.service.push(f.google.protobuf.ServiceDescriptorProto.decode(s,s.uint32()));break}case 7:{P.extension&&P.extension.length||(P.extension=[]),P.extension.push(f.google.protobuf.FieldDescriptorProto.decode(s,s.uint32()));break}case 8:{P.options=f.google.protobuf.FileOptions.decode(s,s.uint32());break}case 9:{P.sourceCodeInfo=f.google.protobuf.SourceCodeInfo.decode(s,s.uint32());break}case 12:{P.syntax=s.string();break}case 14:{P.edition=s.int32();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.package!=null&&s.hasOwnProperty("package")&&!p.isString(s.package))return"package: string expected";if(s.dependency!=null&&s.hasOwnProperty("dependency")){if(!Array.isArray(s.dependency))return"dependency: array expected";for(var d=0;d<s.dependency.length;++d)if(!p.isString(s.dependency[d]))return"dependency: string[] expected"}if(s.publicDependency!=null&&s.hasOwnProperty("publicDependency")){if(!Array.isArray(s.publicDependency))return"publicDependency: array expected";for(var d=0;d<s.publicDependency.length;++d)if(!p.isInteger(s.publicDependency[d]))return"publicDependency: integer[] expected"}if(s.weakDependency!=null&&s.hasOwnProperty("weakDependency")){if(!Array.isArray(s.weakDependency))return"weakDependency: array expected";for(var d=0;d<s.weakDependency.length;++d)if(!p.isInteger(s.weakDependency[d]))return"weakDependency: integer[] expected"}if(s.messageType!=null&&s.hasOwnProperty("messageType")){if(!Array.isArray(s.messageType))return"messageType: array expected";for(var d=0;d<s.messageType.length;++d){var g=f.google.protobuf.DescriptorProto.verify(s.messageType[d]);if(g)return"messageType."+g}}if(s.enumType!=null&&s.hasOwnProperty("enumType")){if(!Array.isArray(s.enumType))return"enumType: array expected";for(var d=0;d<s.enumType.length;++d){var g=f.google.protobuf.EnumDescriptorProto.verify(s.enumType[d]);if(g)return"enumType."+g}}if(s.service!=null&&s.hasOwnProperty("service")){if(!Array.isArray(s.service))return"service: array expected";for(var d=0;d<s.service.length;++d){var g=f.google.protobuf.ServiceDescriptorProto.verify(s.service[d]);if(g)return"service."+g}}if(s.extension!=null&&s.hasOwnProperty("extension")){if(!Array.isArray(s.extension))return"extension: array expected";for(var d=0;d<s.extension.length;++d){var g=f.google.protobuf.FieldDescriptorProto.verify(s.extension[d]);if(g)return"extension."+g}}if(s.options!=null&&s.hasOwnProperty("options")){var g=f.google.protobuf.FileOptions.verify(s.options);if(g)return"options."+g}if(s.sourceCodeInfo!=null&&s.hasOwnProperty("sourceCodeInfo")){var g=f.google.protobuf.SourceCodeInfo.verify(s.sourceCodeInfo);if(g)return"sourceCodeInfo."+g}if(s.syntax!=null&&s.hasOwnProperty("syntax")&&!p.isString(s.syntax))return"syntax: string expected";if(s.edition!=null&&s.hasOwnProperty("edition"))switch(s.edition){default:return"edition: enum value expected";case 0:case 998:case 999:case 1e3:case 1001:case 1:case 2:case 99997:case 99998:case 99999:case 2147483647:break}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FileDescriptorProto)return s;var d=new f.google.protobuf.FileDescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.package!=null&&(d.package=String(s.package)),s.dependency){if(!Array.isArray(s.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");d.dependency=[];for(var g=0;g<s.dependency.length;++g)d.dependency[g]=String(s.dependency[g])}if(s.publicDependency){if(!Array.isArray(s.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");d.publicDependency=[];for(var g=0;g<s.publicDependency.length;++g)d.publicDependency[g]=s.publicDependency[g]|0}if(s.weakDependency){if(!Array.isArray(s.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");d.weakDependency=[];for(var g=0;g<s.weakDependency.length;++g)d.weakDependency[g]=s.weakDependency[g]|0}if(s.messageType){if(!Array.isArray(s.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");d.messageType=[];for(var g=0;g<s.messageType.length;++g){if(typeof s.messageType[g]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");d.messageType[g]=f.google.protobuf.DescriptorProto.fromObject(s.messageType[g])}}if(s.enumType){if(!Array.isArray(s.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");d.enumType=[];for(var g=0;g<s.enumType.length;++g){if(typeof s.enumType[g]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");d.enumType[g]=f.google.protobuf.EnumDescriptorProto.fromObject(s.enumType[g])}}if(s.service){if(!Array.isArray(s.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");d.service=[];for(var g=0;g<s.service.length;++g){if(typeof s.service[g]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");d.service[g]=f.google.protobuf.ServiceDescriptorProto.fromObject(s.service[g])}}if(s.extension){if(!Array.isArray(s.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");d.extension=[];for(var g=0;g<s.extension.length;++g){if(typeof s.extension[g]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");d.extension[g]=f.google.protobuf.FieldDescriptorProto.fromObject(s.extension[g])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");d.options=f.google.protobuf.FileOptions.fromObject(s.options)}if(s.sourceCodeInfo!=null){if(typeof s.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");d.sourceCodeInfo=f.google.protobuf.SourceCodeInfo.fromObject(s.sourceCodeInfo)}switch(s.syntax!=null&&(d.syntax=String(s.syntax)),s.edition){default:if(typeof s.edition=="number"){d.edition=s.edition;break}break;case"EDITION_UNKNOWN":case 0:d.edition=0;break;case"EDITION_PROTO2":case 998:d.edition=998;break;case"EDITION_PROTO3":case 999:d.edition=999;break;case"EDITION_2023":case 1e3:d.edition=1e3;break;case"EDITION_2024":case 1001:d.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:d.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:d.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:d.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:d.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:d.edition=99999;break;case"EDITION_MAX":case 2147483647:d.edition=2147483647;break}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.dependency=[],g.messageType=[],g.enumType=[],g.service=[],g.extension=[],g.publicDependency=[],g.weakDependency=[]),d.defaults&&(g.name="",g.package="",g.options=null,g.sourceCodeInfo=null,g.syntax="",g.edition=d.enums===String?"EDITION_UNKNOWN":0),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.package!=null&&s.hasOwnProperty("package")&&(g.package=s.package),s.dependency&&s.dependency.length){g.dependency=[];for(var P=0;P<s.dependency.length;++P)g.dependency[P]=s.dependency[P]}if(s.messageType&&s.messageType.length){g.messageType=[];for(var P=0;P<s.messageType.length;++P)g.messageType[P]=f.google.protobuf.DescriptorProto.toObject(s.messageType[P],d)}if(s.enumType&&s.enumType.length){g.enumType=[];for(var P=0;P<s.enumType.length;++P)g.enumType[P]=f.google.protobuf.EnumDescriptorProto.toObject(s.enumType[P],d)}if(s.service&&s.service.length){g.service=[];for(var P=0;P<s.service.length;++P)g.service[P]=f.google.protobuf.ServiceDescriptorProto.toObject(s.service[P],d)}if(s.extension&&s.extension.length){g.extension=[];for(var P=0;P<s.extension.length;++P)g.extension[P]=f.google.protobuf.FieldDescriptorProto.toObject(s.extension[P],d)}if(s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.FileOptions.toObject(s.options,d)),s.sourceCodeInfo!=null&&s.hasOwnProperty("sourceCodeInfo")&&(g.sourceCodeInfo=f.google.protobuf.SourceCodeInfo.toObject(s.sourceCodeInfo,d)),s.publicDependency&&s.publicDependency.length){g.publicDependency=[];for(var P=0;P<s.publicDependency.length;++P)g.publicDependency[P]=s.publicDependency[P]}if(s.weakDependency&&s.weakDependency.length){g.weakDependency=[];for(var P=0;P<s.weakDependency.length;++P)g.weakDependency[P]=s.weakDependency[P]}return s.syntax!=null&&s.hasOwnProperty("syntax")&&(g.syntax=s.syntax),s.edition!=null&&s.hasOwnProperty("edition")&&(g.edition=d.enums===String?f.google.protobuf.Edition[s.edition]===void 0?s.edition:f.google.protobuf.Edition[s.edition]:s.edition),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FileDescriptorProto"},S}(),_.DescriptorProto=function(){function S(v){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.field=p.emptyArray,S.prototype.extension=p.emptyArray,S.prototype.nestedType=p.emptyArray,S.prototype.enumType=p.emptyArray,S.prototype.extensionRange=p.emptyArray,S.prototype.oneofDecl=p.emptyArray,S.prototype.options=null,S.prototype.reservedRange=p.emptyArray,S.prototype.reservedName=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.field!=null&&s.field.length)for(var g=0;g<s.field.length;++g)f.google.protobuf.FieldDescriptorProto.encode(s.field[g],d.uint32(18).fork()).ldelim();if(s.nestedType!=null&&s.nestedType.length)for(var g=0;g<s.nestedType.length;++g)f.google.protobuf.DescriptorProto.encode(s.nestedType[g],d.uint32(26).fork()).ldelim();if(s.enumType!=null&&s.enumType.length)for(var g=0;g<s.enumType.length;++g)f.google.protobuf.EnumDescriptorProto.encode(s.enumType[g],d.uint32(34).fork()).ldelim();if(s.extensionRange!=null&&s.extensionRange.length)for(var g=0;g<s.extensionRange.length;++g)f.google.protobuf.DescriptorProto.ExtensionRange.encode(s.extensionRange[g],d.uint32(42).fork()).ldelim();if(s.extension!=null&&s.extension.length)for(var g=0;g<s.extension.length;++g)f.google.protobuf.FieldDescriptorProto.encode(s.extension[g],d.uint32(50).fork()).ldelim();if(s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.MessageOptions.encode(s.options,d.uint32(58).fork()).ldelim(),s.oneofDecl!=null&&s.oneofDecl.length)for(var g=0;g<s.oneofDecl.length;++g)f.google.protobuf.OneofDescriptorProto.encode(s.oneofDecl[g],d.uint32(66).fork()).ldelim();if(s.reservedRange!=null&&s.reservedRange.length)for(var g=0;g<s.reservedRange.length;++g)f.google.protobuf.DescriptorProto.ReservedRange.encode(s.reservedRange[g],d.uint32(74).fork()).ldelim();if(s.reservedName!=null&&s.reservedName.length)for(var g=0;g<s.reservedName.length;++g)d.uint32(82).string(s.reservedName[g]);return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.DescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.field&&P.field.length||(P.field=[]),P.field.push(f.google.protobuf.FieldDescriptorProto.decode(s,s.uint32()));break}case 6:{P.extension&&P.extension.length||(P.extension=[]),P.extension.push(f.google.protobuf.FieldDescriptorProto.decode(s,s.uint32()));break}case 3:{P.nestedType&&P.nestedType.length||(P.nestedType=[]),P.nestedType.push(f.google.protobuf.DescriptorProto.decode(s,s.uint32()));break}case 4:{P.enumType&&P.enumType.length||(P.enumType=[]),P.enumType.push(f.google.protobuf.EnumDescriptorProto.decode(s,s.uint32()));break}case 5:{P.extensionRange&&P.extensionRange.length||(P.extensionRange=[]),P.extensionRange.push(f.google.protobuf.DescriptorProto.ExtensionRange.decode(s,s.uint32()));break}case 8:{P.oneofDecl&&P.oneofDecl.length||(P.oneofDecl=[]),P.oneofDecl.push(f.google.protobuf.OneofDescriptorProto.decode(s,s.uint32()));break}case 7:{P.options=f.google.protobuf.MessageOptions.decode(s,s.uint32());break}case 9:{P.reservedRange&&P.reservedRange.length||(P.reservedRange=[]),P.reservedRange.push(f.google.protobuf.DescriptorProto.ReservedRange.decode(s,s.uint32()));break}case 10:{P.reservedName&&P.reservedName.length||(P.reservedName=[]),P.reservedName.push(s.string());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.field!=null&&s.hasOwnProperty("field")){if(!Array.isArray(s.field))return"field: array expected";for(var d=0;d<s.field.length;++d){var g=f.google.protobuf.FieldDescriptorProto.verify(s.field[d]);if(g)return"field."+g}}if(s.extension!=null&&s.hasOwnProperty("extension")){if(!Array.isArray(s.extension))return"extension: array expected";for(var d=0;d<s.extension.length;++d){var g=f.google.protobuf.FieldDescriptorProto.verify(s.extension[d]);if(g)return"extension."+g}}if(s.nestedType!=null&&s.hasOwnProperty("nestedType")){if(!Array.isArray(s.nestedType))return"nestedType: array expected";for(var d=0;d<s.nestedType.length;++d){var g=f.google.protobuf.DescriptorProto.verify(s.nestedType[d]);if(g)return"nestedType."+g}}if(s.enumType!=null&&s.hasOwnProperty("enumType")){if(!Array.isArray(s.enumType))return"enumType: array expected";for(var d=0;d<s.enumType.length;++d){var g=f.google.protobuf.EnumDescriptorProto.verify(s.enumType[d]);if(g)return"enumType."+g}}if(s.extensionRange!=null&&s.hasOwnProperty("extensionRange")){if(!Array.isArray(s.extensionRange))return"extensionRange: array expected";for(var d=0;d<s.extensionRange.length;++d){var g=f.google.protobuf.DescriptorProto.ExtensionRange.verify(s.extensionRange[d]);if(g)return"extensionRange."+g}}if(s.oneofDecl!=null&&s.hasOwnProperty("oneofDecl")){if(!Array.isArray(s.oneofDecl))return"oneofDecl: array expected";for(var d=0;d<s.oneofDecl.length;++d){var g=f.google.protobuf.OneofDescriptorProto.verify(s.oneofDecl[d]);if(g)return"oneofDecl."+g}}if(s.options!=null&&s.hasOwnProperty("options")){var g=f.google.protobuf.MessageOptions.verify(s.options);if(g)return"options."+g}if(s.reservedRange!=null&&s.hasOwnProperty("reservedRange")){if(!Array.isArray(s.reservedRange))return"reservedRange: array expected";for(var d=0;d<s.reservedRange.length;++d){var g=f.google.protobuf.DescriptorProto.ReservedRange.verify(s.reservedRange[d]);if(g)return"reservedRange."+g}}if(s.reservedName!=null&&s.hasOwnProperty("reservedName")){if(!Array.isArray(s.reservedName))return"reservedName: array expected";for(var d=0;d<s.reservedName.length;++d)if(!p.isString(s.reservedName[d]))return"reservedName: string[] expected"}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.DescriptorProto)return s;var d=new f.google.protobuf.DescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.field){if(!Array.isArray(s.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");d.field=[];for(var g=0;g<s.field.length;++g){if(typeof s.field[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");d.field[g]=f.google.protobuf.FieldDescriptorProto.fromObject(s.field[g])}}if(s.extension){if(!Array.isArray(s.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");d.extension=[];for(var g=0;g<s.extension.length;++g){if(typeof s.extension[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");d.extension[g]=f.google.protobuf.FieldDescriptorProto.fromObject(s.extension[g])}}if(s.nestedType){if(!Array.isArray(s.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");d.nestedType=[];for(var g=0;g<s.nestedType.length;++g){if(typeof s.nestedType[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");d.nestedType[g]=f.google.protobuf.DescriptorProto.fromObject(s.nestedType[g])}}if(s.enumType){if(!Array.isArray(s.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");d.enumType=[];for(var g=0;g<s.enumType.length;++g){if(typeof s.enumType[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");d.enumType[g]=f.google.protobuf.EnumDescriptorProto.fromObject(s.enumType[g])}}if(s.extensionRange){if(!Array.isArray(s.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");d.extensionRange=[];for(var g=0;g<s.extensionRange.length;++g){if(typeof s.extensionRange[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");d.extensionRange[g]=f.google.protobuf.DescriptorProto.ExtensionRange.fromObject(s.extensionRange[g])}}if(s.oneofDecl){if(!Array.isArray(s.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");d.oneofDecl=[];for(var g=0;g<s.oneofDecl.length;++g){if(typeof s.oneofDecl[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");d.oneofDecl[g]=f.google.protobuf.OneofDescriptorProto.fromObject(s.oneofDecl[g])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");d.options=f.google.protobuf.MessageOptions.fromObject(s.options)}if(s.reservedRange){if(!Array.isArray(s.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");d.reservedRange=[];for(var g=0;g<s.reservedRange.length;++g){if(typeof s.reservedRange[g]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");d.reservedRange[g]=f.google.protobuf.DescriptorProto.ReservedRange.fromObject(s.reservedRange[g])}}if(s.reservedName){if(!Array.isArray(s.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");d.reservedName=[];for(var g=0;g<s.reservedName.length;++g)d.reservedName[g]=String(s.reservedName[g])}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.field=[],g.nestedType=[],g.enumType=[],g.extensionRange=[],g.extension=[],g.oneofDecl=[],g.reservedRange=[],g.reservedName=[]),d.defaults&&(g.name="",g.options=null),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.field&&s.field.length){g.field=[];for(var P=0;P<s.field.length;++P)g.field[P]=f.google.protobuf.FieldDescriptorProto.toObject(s.field[P],d)}if(s.nestedType&&s.nestedType.length){g.nestedType=[];for(var P=0;P<s.nestedType.length;++P)g.nestedType[P]=f.google.protobuf.DescriptorProto.toObject(s.nestedType[P],d)}if(s.enumType&&s.enumType.length){g.enumType=[];for(var P=0;P<s.enumType.length;++P)g.enumType[P]=f.google.protobuf.EnumDescriptorProto.toObject(s.enumType[P],d)}if(s.extensionRange&&s.extensionRange.length){g.extensionRange=[];for(var P=0;P<s.extensionRange.length;++P)g.extensionRange[P]=f.google.protobuf.DescriptorProto.ExtensionRange.toObject(s.extensionRange[P],d)}if(s.extension&&s.extension.length){g.extension=[];for(var P=0;P<s.extension.length;++P)g.extension[P]=f.google.protobuf.FieldDescriptorProto.toObject(s.extension[P],d)}if(s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.MessageOptions.toObject(s.options,d)),s.oneofDecl&&s.oneofDecl.length){g.oneofDecl=[];for(var P=0;P<s.oneofDecl.length;++P)g.oneofDecl[P]=f.google.protobuf.OneofDescriptorProto.toObject(s.oneofDecl[P],d)}if(s.reservedRange&&s.reservedRange.length){g.reservedRange=[];for(var P=0;P<s.reservedRange.length;++P)g.reservedRange[P]=f.google.protobuf.DescriptorProto.ReservedRange.toObject(s.reservedRange[P],d)}if(s.reservedName&&s.reservedName.length){g.reservedName=[];for(var P=0;P<s.reservedName.length;++P)g.reservedName[P]=s.reservedName[P]}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.DescriptorProto"},S.ExtensionRange=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.start=0,v.prototype.end=0,v.prototype.options=null,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.start!=null&&Object.hasOwnProperty.call(d,"start")&&g.uint32(8).int32(d.start),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&g.uint32(16).int32(d.end),d.options!=null&&Object.hasOwnProperty.call(d,"options")&&f.google.protobuf.ExtensionRangeOptions.encode(d.options,g.uint32(26).fork()).ldelim(),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.DescriptorProto.ExtensionRange;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.start=d.int32();break}case 2:{R.end=d.int32();break}case 3:{R.options=f.google.protobuf.ExtensionRangeOptions.decode(d,d.uint32());break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.start!=null&&d.hasOwnProperty("start")&&!p.isInteger(d.start))return"start: integer expected";if(d.end!=null&&d.hasOwnProperty("end")&&!p.isInteger(d.end))return"end: integer expected";if(d.options!=null&&d.hasOwnProperty("options")){var g=f.google.protobuf.ExtensionRangeOptions.verify(d.options);if(g)return"options."+g}return null},v.fromObject=function(d){if(d instanceof f.google.protobuf.DescriptorProto.ExtensionRange)return d;var g=new f.google.protobuf.DescriptorProto.ExtensionRange;if(d.start!=null&&(g.start=d.start|0),d.end!=null&&(g.end=d.end|0),d.options!=null){if(typeof d.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");g.options=f.google.protobuf.ExtensionRangeOptions.fromObject(d.options)}return g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.start=0,P.end=0,P.options=null),d.start!=null&&d.hasOwnProperty("start")&&(P.start=d.start),d.end!=null&&d.hasOwnProperty("end")&&(P.end=d.end),d.options!=null&&d.hasOwnProperty("options")&&(P.options=f.google.protobuf.ExtensionRangeOptions.toObject(d.options,g)),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.DescriptorProto.ExtensionRange"},v}(),S.ReservedRange=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.start=0,v.prototype.end=0,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.start!=null&&Object.hasOwnProperty.call(d,"start")&&g.uint32(8).int32(d.start),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&g.uint32(16).int32(d.end),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.DescriptorProto.ReservedRange;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.start=d.int32();break}case 2:{R.end=d.int32();break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){return typeof d!="object"||d===null?"object expected":d.start!=null&&d.hasOwnProperty("start")&&!p.isInteger(d.start)?"start: integer expected":d.end!=null&&d.hasOwnProperty("end")&&!p.isInteger(d.end)?"end: integer expected":null},v.fromObject=function(d){if(d instanceof f.google.protobuf.DescriptorProto.ReservedRange)return d;var g=new f.google.protobuf.DescriptorProto.ReservedRange;return d.start!=null&&(g.start=d.start|0),d.end!=null&&(g.end=d.end|0),g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.start=0,P.end=0),d.start!=null&&d.hasOwnProperty("start")&&(P.start=d.start),d.end!=null&&d.hasOwnProperty("end")&&(P.end=d.end),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.DescriptorProto.ReservedRange"},v}(),S}(),_.ExtensionRangeOptions=function(){function S(v){if(this.uninterpretedOption=[],this.declaration=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.uninterpretedOption=p.emptyArray,S.prototype.declaration=p.emptyArray,S.prototype.features=null,S.prototype.verification=1,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.declaration!=null&&s.declaration.length)for(var g=0;g<s.declaration.length;++g)f.google.protobuf.ExtensionRangeOptions.Declaration.encode(s.declaration[g],d.uint32(18).fork()).ldelim();if(s.verification!=null&&Object.hasOwnProperty.call(s,"verification")&&d.uint32(24).int32(s.verification),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(402).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.ExtensionRangeOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}case 2:{P.declaration&&P.declaration.length||(P.declaration=[]),P.declaration.push(f.google.protobuf.ExtensionRangeOptions.Declaration.decode(s,s.uint32()));break}case 50:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 3:{P.verification=s.int32();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var d=0;d<s.uninterpretedOption.length;++d){var g=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[d]);if(g)return"uninterpretedOption."+g}}if(s.declaration!=null&&s.hasOwnProperty("declaration")){if(!Array.isArray(s.declaration))return"declaration: array expected";for(var d=0;d<s.declaration.length;++d){var g=f.google.protobuf.ExtensionRangeOptions.Declaration.verify(s.declaration[d]);if(g)return"declaration."+g}}if(s.features!=null&&s.hasOwnProperty("features")){var g=f.google.protobuf.FeatureSet.verify(s.features);if(g)return"features."+g}if(s.verification!=null&&s.hasOwnProperty("verification"))switch(s.verification){default:return"verification: enum value expected";case 0:case 1:break}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.ExtensionRangeOptions)return s;var d=new f.google.protobuf.ExtensionRangeOptions;if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}if(s.declaration){if(!Array.isArray(s.declaration))throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: array expected");d.declaration=[];for(var g=0;g<s.declaration.length;++g){if(typeof s.declaration[g]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: object expected");d.declaration[g]=f.google.protobuf.ExtensionRangeOptions.Declaration.fromObject(s.declaration[g])}}if(s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}switch(s.verification){case"DECLARATION":case 0:d.verification=0;break;default:if(typeof s.verification=="number"){d.verification=s.verification;break}break;case"UNVERIFIED":case 1:d.verification=1;break}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.declaration=[],g.uninterpretedOption=[]),d.defaults&&(g.verification=d.enums===String?"UNVERIFIED":1,g.features=null),s.declaration&&s.declaration.length){g.declaration=[];for(var P=0;P<s.declaration.length;++P)g.declaration[P]=f.google.protobuf.ExtensionRangeOptions.Declaration.toObject(s.declaration[P],d)}if(s.verification!=null&&s.hasOwnProperty("verification")&&(g.verification=d.enums===String?f.google.protobuf.ExtensionRangeOptions.VerificationState[s.verification]===void 0?s.verification:f.google.protobuf.ExtensionRangeOptions.VerificationState[s.verification]:s.verification),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.ExtensionRangeOptions"},S.Declaration=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.number=0,v.prototype.fullName="",v.prototype.type="",v.prototype.reserved=!1,v.prototype.repeated=!1,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.number!=null&&Object.hasOwnProperty.call(d,"number")&&g.uint32(8).int32(d.number),d.fullName!=null&&Object.hasOwnProperty.call(d,"fullName")&&g.uint32(18).string(d.fullName),d.type!=null&&Object.hasOwnProperty.call(d,"type")&&g.uint32(26).string(d.type),d.reserved!=null&&Object.hasOwnProperty.call(d,"reserved")&&g.uint32(40).bool(d.reserved),d.repeated!=null&&Object.hasOwnProperty.call(d,"repeated")&&g.uint32(48).bool(d.repeated),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.ExtensionRangeOptions.Declaration;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.number=d.int32();break}case 2:{R.fullName=d.string();break}case 3:{R.type=d.string();break}case 5:{R.reserved=d.bool();break}case 6:{R.repeated=d.bool();break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){return typeof d!="object"||d===null?"object expected":d.number!=null&&d.hasOwnProperty("number")&&!p.isInteger(d.number)?"number: integer expected":d.fullName!=null&&d.hasOwnProperty("fullName")&&!p.isString(d.fullName)?"fullName: string expected":d.type!=null&&d.hasOwnProperty("type")&&!p.isString(d.type)?"type: string expected":d.reserved!=null&&d.hasOwnProperty("reserved")&&typeof d.reserved!="boolean"?"reserved: boolean expected":d.repeated!=null&&d.hasOwnProperty("repeated")&&typeof d.repeated!="boolean"?"repeated: boolean expected":null},v.fromObject=function(d){if(d instanceof f.google.protobuf.ExtensionRangeOptions.Declaration)return d;var g=new f.google.protobuf.ExtensionRangeOptions.Declaration;return d.number!=null&&(g.number=d.number|0),d.fullName!=null&&(g.fullName=String(d.fullName)),d.type!=null&&(g.type=String(d.type)),d.reserved!=null&&(g.reserved=!!d.reserved),d.repeated!=null&&(g.repeated=!!d.repeated),g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.number=0,P.fullName="",P.type="",P.reserved=!1,P.repeated=!1),d.number!=null&&d.hasOwnProperty("number")&&(P.number=d.number),d.fullName!=null&&d.hasOwnProperty("fullName")&&(P.fullName=d.fullName),d.type!=null&&d.hasOwnProperty("type")&&(P.type=d.type),d.reserved!=null&&d.hasOwnProperty("reserved")&&(P.reserved=d.reserved),d.repeated!=null&&d.hasOwnProperty("repeated")&&(P.repeated=d.repeated),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.ExtensionRangeOptions.Declaration"},v}(),S.VerificationState=function(){var v={},s=Object.create(v);return s[v[0]="DECLARATION"]=0,s[v[1]="UNVERIFIED"]=1,s}(),S}(),_.FieldDescriptorProto=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.number=0,S.prototype.label=1,S.prototype.type=1,S.prototype.typeName="",S.prototype.extendee="",S.prototype.defaultValue="",S.prototype.oneofIndex=0,S.prototype.jsonName="",S.prototype.options=null,S.prototype.proto3Optional=!1,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.extendee!=null&&Object.hasOwnProperty.call(s,"extendee")&&d.uint32(18).string(s.extendee),s.number!=null&&Object.hasOwnProperty.call(s,"number")&&d.uint32(24).int32(s.number),s.label!=null&&Object.hasOwnProperty.call(s,"label")&&d.uint32(32).int32(s.label),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&d.uint32(40).int32(s.type),s.typeName!=null&&Object.hasOwnProperty.call(s,"typeName")&&d.uint32(50).string(s.typeName),s.defaultValue!=null&&Object.hasOwnProperty.call(s,"defaultValue")&&d.uint32(58).string(s.defaultValue),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.FieldOptions.encode(s.options,d.uint32(66).fork()).ldelim(),s.oneofIndex!=null&&Object.hasOwnProperty.call(s,"oneofIndex")&&d.uint32(72).int32(s.oneofIndex),s.jsonName!=null&&Object.hasOwnProperty.call(s,"jsonName")&&d.uint32(82).string(s.jsonName),s.proto3Optional!=null&&Object.hasOwnProperty.call(s,"proto3Optional")&&d.uint32(136).bool(s.proto3Optional),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FieldDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 3:{P.number=s.int32();break}case 4:{P.label=s.int32();break}case 5:{P.type=s.int32();break}case 6:{P.typeName=s.string();break}case 2:{P.extendee=s.string();break}case 7:{P.defaultValue=s.string();break}case 9:{P.oneofIndex=s.int32();break}case 10:{P.jsonName=s.string();break}case 8:{P.options=f.google.protobuf.FieldOptions.decode(s,s.uint32());break}case 17:{P.proto3Optional=s.bool();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.number!=null&&s.hasOwnProperty("number")&&!p.isInteger(s.number))return"number: integer expected";if(s.label!=null&&s.hasOwnProperty("label"))switch(s.label){default:return"label: enum value expected";case 1:case 3:case 2:break}if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:break}if(s.typeName!=null&&s.hasOwnProperty("typeName")&&!p.isString(s.typeName))return"typeName: string expected";if(s.extendee!=null&&s.hasOwnProperty("extendee")&&!p.isString(s.extendee))return"extendee: string expected";if(s.defaultValue!=null&&s.hasOwnProperty("defaultValue")&&!p.isString(s.defaultValue))return"defaultValue: string expected";if(s.oneofIndex!=null&&s.hasOwnProperty("oneofIndex")&&!p.isInteger(s.oneofIndex))return"oneofIndex: integer expected";if(s.jsonName!=null&&s.hasOwnProperty("jsonName")&&!p.isString(s.jsonName))return"jsonName: string expected";if(s.options!=null&&s.hasOwnProperty("options")){var d=f.google.protobuf.FieldOptions.verify(s.options);if(d)return"options."+d}return s.proto3Optional!=null&&s.hasOwnProperty("proto3Optional")&&typeof s.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FieldDescriptorProto)return s;var d=new f.google.protobuf.FieldDescriptorProto;switch(s.name!=null&&(d.name=String(s.name)),s.number!=null&&(d.number=s.number|0),s.label){default:if(typeof s.label=="number"){d.label=s.label;break}break;case"LABEL_OPTIONAL":case 1:d.label=1;break;case"LABEL_REPEATED":case 3:d.label=3;break;case"LABEL_REQUIRED":case 2:d.label=2;break}switch(s.type){default:if(typeof s.type=="number"){d.type=s.type;break}break;case"TYPE_DOUBLE":case 1:d.type=1;break;case"TYPE_FLOAT":case 2:d.type=2;break;case"TYPE_INT64":case 3:d.type=3;break;case"TYPE_UINT64":case 4:d.type=4;break;case"TYPE_INT32":case 5:d.type=5;break;case"TYPE_FIXED64":case 6:d.type=6;break;case"TYPE_FIXED32":case 7:d.type=7;break;case"TYPE_BOOL":case 8:d.type=8;break;case"TYPE_STRING":case 9:d.type=9;break;case"TYPE_GROUP":case 10:d.type=10;break;case"TYPE_MESSAGE":case 11:d.type=11;break;case"TYPE_BYTES":case 12:d.type=12;break;case"TYPE_UINT32":case 13:d.type=13;break;case"TYPE_ENUM":case 14:d.type=14;break;case"TYPE_SFIXED32":case 15:d.type=15;break;case"TYPE_SFIXED64":case 16:d.type=16;break;case"TYPE_SINT32":case 17:d.type=17;break;case"TYPE_SINT64":case 18:d.type=18;break}if(s.typeName!=null&&(d.typeName=String(s.typeName)),s.extendee!=null&&(d.extendee=String(s.extendee)),s.defaultValue!=null&&(d.defaultValue=String(s.defaultValue)),s.oneofIndex!=null&&(d.oneofIndex=s.oneofIndex|0),s.jsonName!=null&&(d.jsonName=String(s.jsonName)),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");d.options=f.google.protobuf.FieldOptions.fromObject(s.options)}return s.proto3Optional!=null&&(d.proto3Optional=!!s.proto3Optional),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name="",g.extendee="",g.number=0,g.label=d.enums===String?"LABEL_OPTIONAL":1,g.type=d.enums===String?"TYPE_DOUBLE":1,g.typeName="",g.defaultValue="",g.options=null,g.oneofIndex=0,g.jsonName="",g.proto3Optional=!1),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.extendee!=null&&s.hasOwnProperty("extendee")&&(g.extendee=s.extendee),s.number!=null&&s.hasOwnProperty("number")&&(g.number=s.number),s.label!=null&&s.hasOwnProperty("label")&&(g.label=d.enums===String?f.google.protobuf.FieldDescriptorProto.Label[s.label]===void 0?s.label:f.google.protobuf.FieldDescriptorProto.Label[s.label]:s.label),s.type!=null&&s.hasOwnProperty("type")&&(g.type=d.enums===String?f.google.protobuf.FieldDescriptorProto.Type[s.type]===void 0?s.type:f.google.protobuf.FieldDescriptorProto.Type[s.type]:s.type),s.typeName!=null&&s.hasOwnProperty("typeName")&&(g.typeName=s.typeName),s.defaultValue!=null&&s.hasOwnProperty("defaultValue")&&(g.defaultValue=s.defaultValue),s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.FieldOptions.toObject(s.options,d)),s.oneofIndex!=null&&s.hasOwnProperty("oneofIndex")&&(g.oneofIndex=s.oneofIndex),s.jsonName!=null&&s.hasOwnProperty("jsonName")&&(g.jsonName=s.jsonName),s.proto3Optional!=null&&s.hasOwnProperty("proto3Optional")&&(g.proto3Optional=s.proto3Optional),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FieldDescriptorProto"},S.Type=function(){var v={},s=Object.create(v);return s[v[1]="TYPE_DOUBLE"]=1,s[v[2]="TYPE_FLOAT"]=2,s[v[3]="TYPE_INT64"]=3,s[v[4]="TYPE_UINT64"]=4,s[v[5]="TYPE_INT32"]=5,s[v[6]="TYPE_FIXED64"]=6,s[v[7]="TYPE_FIXED32"]=7,s[v[8]="TYPE_BOOL"]=8,s[v[9]="TYPE_STRING"]=9,s[v[10]="TYPE_GROUP"]=10,s[v[11]="TYPE_MESSAGE"]=11,s[v[12]="TYPE_BYTES"]=12,s[v[13]="TYPE_UINT32"]=13,s[v[14]="TYPE_ENUM"]=14,s[v[15]="TYPE_SFIXED32"]=15,s[v[16]="TYPE_SFIXED64"]=16,s[v[17]="TYPE_SINT32"]=17,s[v[18]="TYPE_SINT64"]=18,s}(),S.Label=function(){var v={},s=Object.create(v);return s[v[1]="LABEL_OPTIONAL"]=1,s[v[3]="LABEL_REPEATED"]=3,s[v[2]="LABEL_REQUIRED"]=2,s}(),S}(),_.OneofDescriptorProto=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.options=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.OneofOptions.encode(s.options,d.uint32(18).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.OneofDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.options=f.google.protobuf.OneofOptions.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.options!=null&&s.hasOwnProperty("options")){var d=f.google.protobuf.OneofOptions.verify(s.options);if(d)return"options."+d}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.OneofDescriptorProto)return s;var d=new f.google.protobuf.OneofDescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");d.options=f.google.protobuf.OneofOptions.fromObject(s.options)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name="",g.options=null),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.OneofOptions.toObject(s.options,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.OneofDescriptorProto"},S}(),_.EnumDescriptorProto=function(){function S(v){if(this.value=[],this.reservedRange=[],this.reservedName=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.value=p.emptyArray,S.prototype.options=null,S.prototype.reservedRange=p.emptyArray,S.prototype.reservedName=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.value!=null&&s.value.length)for(var g=0;g<s.value.length;++g)f.google.protobuf.EnumValueDescriptorProto.encode(s.value[g],d.uint32(18).fork()).ldelim();if(s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.EnumOptions.encode(s.options,d.uint32(26).fork()).ldelim(),s.reservedRange!=null&&s.reservedRange.length)for(var g=0;g<s.reservedRange.length;++g)f.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(s.reservedRange[g],d.uint32(34).fork()).ldelim();if(s.reservedName!=null&&s.reservedName.length)for(var g=0;g<s.reservedName.length;++g)d.uint32(42).string(s.reservedName[g]);return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.EnumDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.value&&P.value.length||(P.value=[]),P.value.push(f.google.protobuf.EnumValueDescriptorProto.decode(s,s.uint32()));break}case 3:{P.options=f.google.protobuf.EnumOptions.decode(s,s.uint32());break}case 4:{P.reservedRange&&P.reservedRange.length||(P.reservedRange=[]),P.reservedRange.push(f.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(s,s.uint32()));break}case 5:{P.reservedName&&P.reservedName.length||(P.reservedName=[]),P.reservedName.push(s.string());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.value!=null&&s.hasOwnProperty("value")){if(!Array.isArray(s.value))return"value: array expected";for(var d=0;d<s.value.length;++d){var g=f.google.protobuf.EnumValueDescriptorProto.verify(s.value[d]);if(g)return"value."+g}}if(s.options!=null&&s.hasOwnProperty("options")){var g=f.google.protobuf.EnumOptions.verify(s.options);if(g)return"options."+g}if(s.reservedRange!=null&&s.hasOwnProperty("reservedRange")){if(!Array.isArray(s.reservedRange))return"reservedRange: array expected";for(var d=0;d<s.reservedRange.length;++d){var g=f.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(s.reservedRange[d]);if(g)return"reservedRange."+g}}if(s.reservedName!=null&&s.hasOwnProperty("reservedName")){if(!Array.isArray(s.reservedName))return"reservedName: array expected";for(var d=0;d<s.reservedName.length;++d)if(!p.isString(s.reservedName[d]))return"reservedName: string[] expected"}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.EnumDescriptorProto)return s;var d=new f.google.protobuf.EnumDescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.value){if(!Array.isArray(s.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");d.value=[];for(var g=0;g<s.value.length;++g){if(typeof s.value[g]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");d.value[g]=f.google.protobuf.EnumValueDescriptorProto.fromObject(s.value[g])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");d.options=f.google.protobuf.EnumOptions.fromObject(s.options)}if(s.reservedRange){if(!Array.isArray(s.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");d.reservedRange=[];for(var g=0;g<s.reservedRange.length;++g){if(typeof s.reservedRange[g]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");d.reservedRange[g]=f.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(s.reservedRange[g])}}if(s.reservedName){if(!Array.isArray(s.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");d.reservedName=[];for(var g=0;g<s.reservedName.length;++g)d.reservedName[g]=String(s.reservedName[g])}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.value=[],g.reservedRange=[],g.reservedName=[]),d.defaults&&(g.name="",g.options=null),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.value&&s.value.length){g.value=[];for(var P=0;P<s.value.length;++P)g.value[P]=f.google.protobuf.EnumValueDescriptorProto.toObject(s.value[P],d)}if(s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.EnumOptions.toObject(s.options,d)),s.reservedRange&&s.reservedRange.length){g.reservedRange=[];for(var P=0;P<s.reservedRange.length;++P)g.reservedRange[P]=f.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(s.reservedRange[P],d)}if(s.reservedName&&s.reservedName.length){g.reservedName=[];for(var P=0;P<s.reservedName.length;++P)g.reservedName[P]=s.reservedName[P]}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.EnumDescriptorProto"},S.EnumReservedRange=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.start=0,v.prototype.end=0,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.start!=null&&Object.hasOwnProperty.call(d,"start")&&g.uint32(8).int32(d.start),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&g.uint32(16).int32(d.end),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.EnumDescriptorProto.EnumReservedRange;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.start=d.int32();break}case 2:{R.end=d.int32();break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){return typeof d!="object"||d===null?"object expected":d.start!=null&&d.hasOwnProperty("start")&&!p.isInteger(d.start)?"start: integer expected":d.end!=null&&d.hasOwnProperty("end")&&!p.isInteger(d.end)?"end: integer expected":null},v.fromObject=function(d){if(d instanceof f.google.protobuf.EnumDescriptorProto.EnumReservedRange)return d;var g=new f.google.protobuf.EnumDescriptorProto.EnumReservedRange;return d.start!=null&&(g.start=d.start|0),d.end!=null&&(g.end=d.end|0),g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.start=0,P.end=0),d.start!=null&&d.hasOwnProperty("start")&&(P.start=d.start),d.end!=null&&d.hasOwnProperty("end")&&(P.end=d.end),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.EnumDescriptorProto.EnumReservedRange"},v}(),S}(),_.EnumValueDescriptorProto=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.number=0,S.prototype.options=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.number!=null&&Object.hasOwnProperty.call(s,"number")&&d.uint32(16).int32(s.number),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.EnumValueOptions.encode(s.options,d.uint32(26).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.EnumValueDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.number=s.int32();break}case 3:{P.options=f.google.protobuf.EnumValueOptions.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.number!=null&&s.hasOwnProperty("number")&&!p.isInteger(s.number))return"number: integer expected";if(s.options!=null&&s.hasOwnProperty("options")){var d=f.google.protobuf.EnumValueOptions.verify(s.options);if(d)return"options."+d}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.EnumValueDescriptorProto)return s;var d=new f.google.protobuf.EnumValueDescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.number!=null&&(d.number=s.number|0),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");d.options=f.google.protobuf.EnumValueOptions.fromObject(s.options)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name="",g.number=0,g.options=null),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.number!=null&&s.hasOwnProperty("number")&&(g.number=s.number),s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.EnumValueOptions.toObject(s.options,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.EnumValueDescriptorProto"},S}(),_.ServiceDescriptorProto=function(){function S(v){if(this.method=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.method=p.emptyArray,S.prototype.options=null,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.method!=null&&s.method.length)for(var g=0;g<s.method.length;++g)f.google.protobuf.MethodDescriptorProto.encode(s.method[g],d.uint32(18).fork()).ldelim();return s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.ServiceOptions.encode(s.options,d.uint32(26).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.ServiceDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.method&&P.method.length||(P.method=[]),P.method.push(f.google.protobuf.MethodDescriptorProto.decode(s,s.uint32()));break}case 3:{P.options=f.google.protobuf.ServiceOptions.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.method!=null&&s.hasOwnProperty("method")){if(!Array.isArray(s.method))return"method: array expected";for(var d=0;d<s.method.length;++d){var g=f.google.protobuf.MethodDescriptorProto.verify(s.method[d]);if(g)return"method."+g}}if(s.options!=null&&s.hasOwnProperty("options")){var g=f.google.protobuf.ServiceOptions.verify(s.options);if(g)return"options."+g}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.ServiceDescriptorProto)return s;var d=new f.google.protobuf.ServiceDescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.method){if(!Array.isArray(s.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");d.method=[];for(var g=0;g<s.method.length;++g){if(typeof s.method[g]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");d.method[g]=f.google.protobuf.MethodDescriptorProto.fromObject(s.method[g])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");d.options=f.google.protobuf.ServiceOptions.fromObject(s.options)}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.method=[]),d.defaults&&(g.name="",g.options=null),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.method&&s.method.length){g.method=[];for(var P=0;P<s.method.length;++P)g.method[P]=f.google.protobuf.MethodDescriptorProto.toObject(s.method[P],d)}return s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.ServiceOptions.toObject(s.options,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.ServiceDescriptorProto"},S}(),_.MethodDescriptorProto=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.inputType="",S.prototype.outputType="",S.prototype.options=null,S.prototype.clientStreaming=!1,S.prototype.serverStreaming=!1,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.inputType!=null&&Object.hasOwnProperty.call(s,"inputType")&&d.uint32(18).string(s.inputType),s.outputType!=null&&Object.hasOwnProperty.call(s,"outputType")&&d.uint32(26).string(s.outputType),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&f.google.protobuf.MethodOptions.encode(s.options,d.uint32(34).fork()).ldelim(),s.clientStreaming!=null&&Object.hasOwnProperty.call(s,"clientStreaming")&&d.uint32(40).bool(s.clientStreaming),s.serverStreaming!=null&&Object.hasOwnProperty.call(s,"serverStreaming")&&d.uint32(48).bool(s.serverStreaming),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.MethodDescriptorProto;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.inputType=s.string();break}case 3:{P.outputType=s.string();break}case 4:{P.options=f.google.protobuf.MethodOptions.decode(s,s.uint32());break}case 5:{P.clientStreaming=s.bool();break}case 6:{P.serverStreaming=s.bool();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.inputType!=null&&s.hasOwnProperty("inputType")&&!p.isString(s.inputType))return"inputType: string expected";if(s.outputType!=null&&s.hasOwnProperty("outputType")&&!p.isString(s.outputType))return"outputType: string expected";if(s.options!=null&&s.hasOwnProperty("options")){var d=f.google.protobuf.MethodOptions.verify(s.options);if(d)return"options."+d}return s.clientStreaming!=null&&s.hasOwnProperty("clientStreaming")&&typeof s.clientStreaming!="boolean"?"clientStreaming: boolean expected":s.serverStreaming!=null&&s.hasOwnProperty("serverStreaming")&&typeof s.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.MethodDescriptorProto)return s;var d=new f.google.protobuf.MethodDescriptorProto;if(s.name!=null&&(d.name=String(s.name)),s.inputType!=null&&(d.inputType=String(s.inputType)),s.outputType!=null&&(d.outputType=String(s.outputType)),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");d.options=f.google.protobuf.MethodOptions.fromObject(s.options)}return s.clientStreaming!=null&&(d.clientStreaming=!!s.clientStreaming),s.serverStreaming!=null&&(d.serverStreaming=!!s.serverStreaming),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name="",g.inputType="",g.outputType="",g.options=null,g.clientStreaming=!1,g.serverStreaming=!1),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.inputType!=null&&s.hasOwnProperty("inputType")&&(g.inputType=s.inputType),s.outputType!=null&&s.hasOwnProperty("outputType")&&(g.outputType=s.outputType),s.options!=null&&s.hasOwnProperty("options")&&(g.options=f.google.protobuf.MethodOptions.toObject(s.options,d)),s.clientStreaming!=null&&s.hasOwnProperty("clientStreaming")&&(g.clientStreaming=s.clientStreaming),s.serverStreaming!=null&&s.hasOwnProperty("serverStreaming")&&(g.serverStreaming=s.serverStreaming),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.MethodDescriptorProto"},S}(),_.FileOptions=function(){function S(v){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.javaPackage="",S.prototype.javaOuterClassname="",S.prototype.javaMultipleFiles=!1,S.prototype.javaGenerateEqualsAndHash=!1,S.prototype.javaStringCheckUtf8=!1,S.prototype.optimizeFor=1,S.prototype.goPackage="",S.prototype.ccGenericServices=!1,S.prototype.javaGenericServices=!1,S.prototype.pyGenericServices=!1,S.prototype.deprecated=!1,S.prototype.ccEnableArenas=!0,S.prototype.objcClassPrefix="",S.prototype.csharpNamespace="",S.prototype.swiftPrefix="",S.prototype.phpClassPrefix="",S.prototype.phpNamespace="",S.prototype.phpMetadataNamespace="",S.prototype.rubyPackage="",S.prototype.features=null,S.prototype.uninterpretedOption=p.emptyArray,S.prototype[".google.api.resourceDefinition"]=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.javaPackage!=null&&Object.hasOwnProperty.call(s,"javaPackage")&&d.uint32(10).string(s.javaPackage),s.javaOuterClassname!=null&&Object.hasOwnProperty.call(s,"javaOuterClassname")&&d.uint32(66).string(s.javaOuterClassname),s.optimizeFor!=null&&Object.hasOwnProperty.call(s,"optimizeFor")&&d.uint32(72).int32(s.optimizeFor),s.javaMultipleFiles!=null&&Object.hasOwnProperty.call(s,"javaMultipleFiles")&&d.uint32(80).bool(s.javaMultipleFiles),s.goPackage!=null&&Object.hasOwnProperty.call(s,"goPackage")&&d.uint32(90).string(s.goPackage),s.ccGenericServices!=null&&Object.hasOwnProperty.call(s,"ccGenericServices")&&d.uint32(128).bool(s.ccGenericServices),s.javaGenericServices!=null&&Object.hasOwnProperty.call(s,"javaGenericServices")&&d.uint32(136).bool(s.javaGenericServices),s.pyGenericServices!=null&&Object.hasOwnProperty.call(s,"pyGenericServices")&&d.uint32(144).bool(s.pyGenericServices),s.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(s,"javaGenerateEqualsAndHash")&&d.uint32(160).bool(s.javaGenerateEqualsAndHash),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(184).bool(s.deprecated),s.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(s,"javaStringCheckUtf8")&&d.uint32(216).bool(s.javaStringCheckUtf8),s.ccEnableArenas!=null&&Object.hasOwnProperty.call(s,"ccEnableArenas")&&d.uint32(248).bool(s.ccEnableArenas),s.objcClassPrefix!=null&&Object.hasOwnProperty.call(s,"objcClassPrefix")&&d.uint32(290).string(s.objcClassPrefix),s.csharpNamespace!=null&&Object.hasOwnProperty.call(s,"csharpNamespace")&&d.uint32(298).string(s.csharpNamespace),s.swiftPrefix!=null&&Object.hasOwnProperty.call(s,"swiftPrefix")&&d.uint32(314).string(s.swiftPrefix),s.phpClassPrefix!=null&&Object.hasOwnProperty.call(s,"phpClassPrefix")&&d.uint32(322).string(s.phpClassPrefix),s.phpNamespace!=null&&Object.hasOwnProperty.call(s,"phpNamespace")&&d.uint32(330).string(s.phpNamespace),s.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(s,"phpMetadataNamespace")&&d.uint32(354).string(s.phpMetadataNamespace),s.rubyPackage!=null&&Object.hasOwnProperty.call(s,"rubyPackage")&&d.uint32(362).string(s.rubyPackage),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(402).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();if(s[".google.api.resourceDefinition"]!=null&&s[".google.api.resourceDefinition"].length)for(var g=0;g<s[".google.api.resourceDefinition"].length;++g)f.google.api.ResourceDescriptor.encode(s[".google.api.resourceDefinition"][g],d.uint32(8426).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FileOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.javaPackage=s.string();break}case 8:{P.javaOuterClassname=s.string();break}case 10:{P.javaMultipleFiles=s.bool();break}case 20:{P.javaGenerateEqualsAndHash=s.bool();break}case 27:{P.javaStringCheckUtf8=s.bool();break}case 9:{P.optimizeFor=s.int32();break}case 11:{P.goPackage=s.string();break}case 16:{P.ccGenericServices=s.bool();break}case 17:{P.javaGenericServices=s.bool();break}case 18:{P.pyGenericServices=s.bool();break}case 23:{P.deprecated=s.bool();break}case 31:{P.ccEnableArenas=s.bool();break}case 36:{P.objcClassPrefix=s.string();break}case 37:{P.csharpNamespace=s.string();break}case 39:{P.swiftPrefix=s.string();break}case 40:{P.phpClassPrefix=s.string();break}case 41:{P.phpNamespace=s.string();break}case 44:{P.phpMetadataNamespace=s.string();break}case 45:{P.rubyPackage=s.string();break}case 50:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}case 1053:{P[".google.api.resourceDefinition"]&&P[".google.api.resourceDefinition"].length||(P[".google.api.resourceDefinition"]=[]),P[".google.api.resourceDefinition"].push(f.google.api.ResourceDescriptor.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.javaPackage!=null&&s.hasOwnProperty("javaPackage")&&!p.isString(s.javaPackage))return"javaPackage: string expected";if(s.javaOuterClassname!=null&&s.hasOwnProperty("javaOuterClassname")&&!p.isString(s.javaOuterClassname))return"javaOuterClassname: string expected";if(s.javaMultipleFiles!=null&&s.hasOwnProperty("javaMultipleFiles")&&typeof s.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(s.javaGenerateEqualsAndHash!=null&&s.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof s.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(s.javaStringCheckUtf8!=null&&s.hasOwnProperty("javaStringCheckUtf8")&&typeof s.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(s.optimizeFor!=null&&s.hasOwnProperty("optimizeFor"))switch(s.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:break}if(s.goPackage!=null&&s.hasOwnProperty("goPackage")&&!p.isString(s.goPackage))return"goPackage: string expected";if(s.ccGenericServices!=null&&s.hasOwnProperty("ccGenericServices")&&typeof s.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(s.javaGenericServices!=null&&s.hasOwnProperty("javaGenericServices")&&typeof s.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(s.pyGenericServices!=null&&s.hasOwnProperty("pyGenericServices")&&typeof s.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.ccEnableArenas!=null&&s.hasOwnProperty("ccEnableArenas")&&typeof s.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(s.objcClassPrefix!=null&&s.hasOwnProperty("objcClassPrefix")&&!p.isString(s.objcClassPrefix))return"objcClassPrefix: string expected";if(s.csharpNamespace!=null&&s.hasOwnProperty("csharpNamespace")&&!p.isString(s.csharpNamespace))return"csharpNamespace: string expected";if(s.swiftPrefix!=null&&s.hasOwnProperty("swiftPrefix")&&!p.isString(s.swiftPrefix))return"swiftPrefix: string expected";if(s.phpClassPrefix!=null&&s.hasOwnProperty("phpClassPrefix")&&!p.isString(s.phpClassPrefix))return"phpClassPrefix: string expected";if(s.phpNamespace!=null&&s.hasOwnProperty("phpNamespace")&&!p.isString(s.phpNamespace))return"phpNamespace: string expected";if(s.phpMetadataNamespace!=null&&s.hasOwnProperty("phpMetadataNamespace")&&!p.isString(s.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(s.rubyPackage!=null&&s.hasOwnProperty("rubyPackage")&&!p.isString(s.rubyPackage))return"rubyPackage: string expected";if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}if(s[".google.api.resourceDefinition"]!=null&&s.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(s[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(var g=0;g<s[".google.api.resourceDefinition"].length;++g){var d=f.google.api.ResourceDescriptor.verify(s[".google.api.resourceDefinition"][g]);if(d)return".google.api.resourceDefinition."+d}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FileOptions)return s;var d=new f.google.protobuf.FileOptions;switch(s.javaPackage!=null&&(d.javaPackage=String(s.javaPackage)),s.javaOuterClassname!=null&&(d.javaOuterClassname=String(s.javaOuterClassname)),s.javaMultipleFiles!=null&&(d.javaMultipleFiles=!!s.javaMultipleFiles),s.javaGenerateEqualsAndHash!=null&&(d.javaGenerateEqualsAndHash=!!s.javaGenerateEqualsAndHash),s.javaStringCheckUtf8!=null&&(d.javaStringCheckUtf8=!!s.javaStringCheckUtf8),s.optimizeFor){default:if(typeof s.optimizeFor=="number"){d.optimizeFor=s.optimizeFor;break}break;case"SPEED":case 1:d.optimizeFor=1;break;case"CODE_SIZE":case 2:d.optimizeFor=2;break;case"LITE_RUNTIME":case 3:d.optimizeFor=3;break}if(s.goPackage!=null&&(d.goPackage=String(s.goPackage)),s.ccGenericServices!=null&&(d.ccGenericServices=!!s.ccGenericServices),s.javaGenericServices!=null&&(d.javaGenericServices=!!s.javaGenericServices),s.pyGenericServices!=null&&(d.pyGenericServices=!!s.pyGenericServices),s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.ccEnableArenas!=null&&(d.ccEnableArenas=!!s.ccEnableArenas),s.objcClassPrefix!=null&&(d.objcClassPrefix=String(s.objcClassPrefix)),s.csharpNamespace!=null&&(d.csharpNamespace=String(s.csharpNamespace)),s.swiftPrefix!=null&&(d.swiftPrefix=String(s.swiftPrefix)),s.phpClassPrefix!=null&&(d.phpClassPrefix=String(s.phpClassPrefix)),s.phpNamespace!=null&&(d.phpNamespace=String(s.phpNamespace)),s.phpMetadataNamespace!=null&&(d.phpMetadataNamespace=String(s.phpMetadataNamespace)),s.rubyPackage!=null&&(d.rubyPackage=String(s.rubyPackage)),s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.FileOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}if(s[".google.api.resourceDefinition"]){if(!Array.isArray(s[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");d[".google.api.resourceDefinition"]=[];for(var g=0;g<s[".google.api.resourceDefinition"].length;++g){if(typeof s[".google.api.resourceDefinition"][g]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");d[".google.api.resourceDefinition"][g]=f.google.api.ResourceDescriptor.fromObject(s[".google.api.resourceDefinition"][g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[],g[".google.api.resourceDefinition"]=[]),d.defaults&&(g.javaPackage="",g.javaOuterClassname="",g.optimizeFor=d.enums===String?"SPEED":1,g.javaMultipleFiles=!1,g.goPackage="",g.ccGenericServices=!1,g.javaGenericServices=!1,g.pyGenericServices=!1,g.javaGenerateEqualsAndHash=!1,g.deprecated=!1,g.javaStringCheckUtf8=!1,g.ccEnableArenas=!0,g.objcClassPrefix="",g.csharpNamespace="",g.swiftPrefix="",g.phpClassPrefix="",g.phpNamespace="",g.phpMetadataNamespace="",g.rubyPackage="",g.features=null),s.javaPackage!=null&&s.hasOwnProperty("javaPackage")&&(g.javaPackage=s.javaPackage),s.javaOuterClassname!=null&&s.hasOwnProperty("javaOuterClassname")&&(g.javaOuterClassname=s.javaOuterClassname),s.optimizeFor!=null&&s.hasOwnProperty("optimizeFor")&&(g.optimizeFor=d.enums===String?f.google.protobuf.FileOptions.OptimizeMode[s.optimizeFor]===void 0?s.optimizeFor:f.google.protobuf.FileOptions.OptimizeMode[s.optimizeFor]:s.optimizeFor),s.javaMultipleFiles!=null&&s.hasOwnProperty("javaMultipleFiles")&&(g.javaMultipleFiles=s.javaMultipleFiles),s.goPackage!=null&&s.hasOwnProperty("goPackage")&&(g.goPackage=s.goPackage),s.ccGenericServices!=null&&s.hasOwnProperty("ccGenericServices")&&(g.ccGenericServices=s.ccGenericServices),s.javaGenericServices!=null&&s.hasOwnProperty("javaGenericServices")&&(g.javaGenericServices=s.javaGenericServices),s.pyGenericServices!=null&&s.hasOwnProperty("pyGenericServices")&&(g.pyGenericServices=s.pyGenericServices),s.javaGenerateEqualsAndHash!=null&&s.hasOwnProperty("javaGenerateEqualsAndHash")&&(g.javaGenerateEqualsAndHash=s.javaGenerateEqualsAndHash),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.javaStringCheckUtf8!=null&&s.hasOwnProperty("javaStringCheckUtf8")&&(g.javaStringCheckUtf8=s.javaStringCheckUtf8),s.ccEnableArenas!=null&&s.hasOwnProperty("ccEnableArenas")&&(g.ccEnableArenas=s.ccEnableArenas),s.objcClassPrefix!=null&&s.hasOwnProperty("objcClassPrefix")&&(g.objcClassPrefix=s.objcClassPrefix),s.csharpNamespace!=null&&s.hasOwnProperty("csharpNamespace")&&(g.csharpNamespace=s.csharpNamespace),s.swiftPrefix!=null&&s.hasOwnProperty("swiftPrefix")&&(g.swiftPrefix=s.swiftPrefix),s.phpClassPrefix!=null&&s.hasOwnProperty("phpClassPrefix")&&(g.phpClassPrefix=s.phpClassPrefix),s.phpNamespace!=null&&s.hasOwnProperty("phpNamespace")&&(g.phpNamespace=s.phpNamespace),s.phpMetadataNamespace!=null&&s.hasOwnProperty("phpMetadataNamespace")&&(g.phpMetadataNamespace=s.phpMetadataNamespace),s.rubyPackage!=null&&s.hasOwnProperty("rubyPackage")&&(g.rubyPackage=s.rubyPackage),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}if(s[".google.api.resourceDefinition"]&&s[".google.api.resourceDefinition"].length){g[".google.api.resourceDefinition"]=[];for(var P=0;P<s[".google.api.resourceDefinition"].length;++P)g[".google.api.resourceDefinition"][P]=f.google.api.ResourceDescriptor.toObject(s[".google.api.resourceDefinition"][P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FileOptions"},S.OptimizeMode=function(){var v={},s=Object.create(v);return s[v[1]="SPEED"]=1,s[v[2]="CODE_SIZE"]=2,s[v[3]="LITE_RUNTIME"]=3,s}(),S}(),_.MessageOptions=function(){function S(v){if(this.uninterpretedOption=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.messageSetWireFormat=!1,S.prototype.noStandardDescriptorAccessor=!1,S.prototype.deprecated=!1,S.prototype.mapEntry=!1,S.prototype.deprecatedLegacyJsonFieldConflicts=!1,S.prototype.features=null,S.prototype.uninterpretedOption=p.emptyArray,S.prototype[".google.api.resource"]=null,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.messageSetWireFormat!=null&&Object.hasOwnProperty.call(s,"messageSetWireFormat")&&d.uint32(8).bool(s.messageSetWireFormat),s.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(s,"noStandardDescriptorAccessor")&&d.uint32(16).bool(s.noStandardDescriptorAccessor),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(24).bool(s.deprecated),s.mapEntry!=null&&Object.hasOwnProperty.call(s,"mapEntry")&&d.uint32(56).bool(s.mapEntry),s.deprecatedLegacyJsonFieldConflicts!=null&&Object.hasOwnProperty.call(s,"deprecatedLegacyJsonFieldConflicts")&&d.uint32(88).bool(s.deprecatedLegacyJsonFieldConflicts),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(98).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();return s[".google.api.resource"]!=null&&Object.hasOwnProperty.call(s,".google.api.resource")&&f.google.api.ResourceDescriptor.encode(s[".google.api.resource"],d.uint32(8426).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.MessageOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.messageSetWireFormat=s.bool();break}case 2:{P.noStandardDescriptorAccessor=s.bool();break}case 3:{P.deprecated=s.bool();break}case 7:{P.mapEntry=s.bool();break}case 11:{P.deprecatedLegacyJsonFieldConflicts=s.bool();break}case 12:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}case 1053:{P[".google.api.resource"]=f.google.api.ResourceDescriptor.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.messageSetWireFormat!=null&&s.hasOwnProperty("messageSetWireFormat")&&typeof s.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(s.noStandardDescriptorAccessor!=null&&s.hasOwnProperty("noStandardDescriptorAccessor")&&typeof s.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.mapEntry!=null&&s.hasOwnProperty("mapEntry")&&typeof s.mapEntry!="boolean")return"mapEntry: boolean expected";if(s.deprecatedLegacyJsonFieldConflicts!=null&&s.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&typeof s.deprecatedLegacyJsonFieldConflicts!="boolean")return"deprecatedLegacyJsonFieldConflicts: boolean expected";if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}if(s[".google.api.resource"]!=null&&s.hasOwnProperty(".google.api.resource")){var d=f.google.api.ResourceDescriptor.verify(s[".google.api.resource"]);if(d)return".google.api.resource."+d}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.MessageOptions)return s;var d=new f.google.protobuf.MessageOptions;if(s.messageSetWireFormat!=null&&(d.messageSetWireFormat=!!s.messageSetWireFormat),s.noStandardDescriptorAccessor!=null&&(d.noStandardDescriptorAccessor=!!s.noStandardDescriptorAccessor),s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.mapEntry!=null&&(d.mapEntry=!!s.mapEntry),s.deprecatedLegacyJsonFieldConflicts!=null&&(d.deprecatedLegacyJsonFieldConflicts=!!s.deprecatedLegacyJsonFieldConflicts),s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.MessageOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}if(s[".google.api.resource"]!=null){if(typeof s[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");d[".google.api.resource"]=f.google.api.ResourceDescriptor.fromObject(s[".google.api.resource"])}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[]),d.defaults&&(g.messageSetWireFormat=!1,g.noStandardDescriptorAccessor=!1,g.deprecated=!1,g.mapEntry=!1,g.deprecatedLegacyJsonFieldConflicts=!1,g.features=null,g[".google.api.resource"]=null),s.messageSetWireFormat!=null&&s.hasOwnProperty("messageSetWireFormat")&&(g.messageSetWireFormat=s.messageSetWireFormat),s.noStandardDescriptorAccessor!=null&&s.hasOwnProperty("noStandardDescriptorAccessor")&&(g.noStandardDescriptorAccessor=s.noStandardDescriptorAccessor),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.mapEntry!=null&&s.hasOwnProperty("mapEntry")&&(g.mapEntry=s.mapEntry),s.deprecatedLegacyJsonFieldConflicts!=null&&s.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(g.deprecatedLegacyJsonFieldConflicts=s.deprecatedLegacyJsonFieldConflicts),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}return s[".google.api.resource"]!=null&&s.hasOwnProperty(".google.api.resource")&&(g[".google.api.resource"]=f.google.api.ResourceDescriptor.toObject(s[".google.api.resource"],d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.MessageOptions"},S}(),_.FieldOptions=function(){function S(v){if(this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.ctype=0,S.prototype.packed=!1,S.prototype.jstype=0,S.prototype.lazy=!1,S.prototype.unverifiedLazy=!1,S.prototype.deprecated=!1,S.prototype.weak=!1,S.prototype.debugRedact=!1,S.prototype.retention=0,S.prototype.targets=p.emptyArray,S.prototype.editionDefaults=p.emptyArray,S.prototype.features=null,S.prototype.uninterpretedOption=p.emptyArray,S.prototype[".google.api.fieldBehavior"]=p.emptyArray,S.prototype[".google.api.resourceReference"]=null,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.ctype!=null&&Object.hasOwnProperty.call(s,"ctype")&&d.uint32(8).int32(s.ctype),s.packed!=null&&Object.hasOwnProperty.call(s,"packed")&&d.uint32(16).bool(s.packed),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(24).bool(s.deprecated),s.lazy!=null&&Object.hasOwnProperty.call(s,"lazy")&&d.uint32(40).bool(s.lazy),s.jstype!=null&&Object.hasOwnProperty.call(s,"jstype")&&d.uint32(48).int32(s.jstype),s.weak!=null&&Object.hasOwnProperty.call(s,"weak")&&d.uint32(80).bool(s.weak),s.unverifiedLazy!=null&&Object.hasOwnProperty.call(s,"unverifiedLazy")&&d.uint32(120).bool(s.unverifiedLazy),s.debugRedact!=null&&Object.hasOwnProperty.call(s,"debugRedact")&&d.uint32(128).bool(s.debugRedact),s.retention!=null&&Object.hasOwnProperty.call(s,"retention")&&d.uint32(136).int32(s.retention),s.targets!=null&&s.targets.length)for(var g=0;g<s.targets.length;++g)d.uint32(152).int32(s.targets[g]);if(s.editionDefaults!=null&&s.editionDefaults.length)for(var g=0;g<s.editionDefaults.length;++g)f.google.protobuf.FieldOptions.EditionDefault.encode(s.editionDefaults[g],d.uint32(162).fork()).ldelim();if(s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(170).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();if(s[".google.api.fieldBehavior"]!=null&&s[".google.api.fieldBehavior"].length){d.uint32(8418).fork();for(var g=0;g<s[".google.api.fieldBehavior"].length;++g)d.int32(s[".google.api.fieldBehavior"][g]);d.ldelim()}return s[".google.api.resourceReference"]!=null&&Object.hasOwnProperty.call(s,".google.api.resourceReference")&&f.google.api.ResourceReference.encode(s[".google.api.resourceReference"],d.uint32(8442).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FieldOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.ctype=s.int32();break}case 2:{P.packed=s.bool();break}case 6:{P.jstype=s.int32();break}case 5:{P.lazy=s.bool();break}case 15:{P.unverifiedLazy=s.bool();break}case 3:{P.deprecated=s.bool();break}case 10:{P.weak=s.bool();break}case 16:{P.debugRedact=s.bool();break}case 17:{P.retention=s.int32();break}case 19:{if(P.targets&&P.targets.length||(P.targets=[]),(R&7)===2)for(var I=s.uint32()+s.pos;s.pos<I;)P.targets.push(s.int32());else P.targets.push(s.int32());break}case 20:{P.editionDefaults&&P.editionDefaults.length||(P.editionDefaults=[]),P.editionDefaults.push(f.google.protobuf.FieldOptions.EditionDefault.decode(s,s.uint32()));break}case 21:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}case 1052:{if(P[".google.api.fieldBehavior"]&&P[".google.api.fieldBehavior"].length||(P[".google.api.fieldBehavior"]=[]),(R&7)===2)for(var I=s.uint32()+s.pos;s.pos<I;)P[".google.api.fieldBehavior"].push(s.int32());else P[".google.api.fieldBehavior"].push(s.int32());break}case 1055:{P[".google.api.resourceReference"]=f.google.api.ResourceReference.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.ctype!=null&&s.hasOwnProperty("ctype"))switch(s.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:break}if(s.packed!=null&&s.hasOwnProperty("packed")&&typeof s.packed!="boolean")return"packed: boolean expected";if(s.jstype!=null&&s.hasOwnProperty("jstype"))switch(s.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:break}if(s.lazy!=null&&s.hasOwnProperty("lazy")&&typeof s.lazy!="boolean")return"lazy: boolean expected";if(s.unverifiedLazy!=null&&s.hasOwnProperty("unverifiedLazy")&&typeof s.unverifiedLazy!="boolean")return"unverifiedLazy: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.weak!=null&&s.hasOwnProperty("weak")&&typeof s.weak!="boolean")return"weak: boolean expected";if(s.debugRedact!=null&&s.hasOwnProperty("debugRedact")&&typeof s.debugRedact!="boolean")return"debugRedact: boolean expected";if(s.retention!=null&&s.hasOwnProperty("retention"))switch(s.retention){default:return"retention: enum value expected";case 0:case 1:case 2:break}if(s.targets!=null&&s.hasOwnProperty("targets")){if(!Array.isArray(s.targets))return"targets: array expected";for(var d=0;d<s.targets.length;++d)switch(s.targets[d]){default:return"targets: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:break}}if(s.editionDefaults!=null&&s.hasOwnProperty("editionDefaults")){if(!Array.isArray(s.editionDefaults))return"editionDefaults: array expected";for(var d=0;d<s.editionDefaults.length;++d){var g=f.google.protobuf.FieldOptions.EditionDefault.verify(s.editionDefaults[d]);if(g)return"editionDefaults."+g}}if(s.features!=null&&s.hasOwnProperty("features")){var g=f.google.protobuf.FeatureSet.verify(s.features);if(g)return"features."+g}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var d=0;d<s.uninterpretedOption.length;++d){var g=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[d]);if(g)return"uninterpretedOption."+g}}if(s[".google.api.fieldBehavior"]!=null&&s.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(s[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(var d=0;d<s[".google.api.fieldBehavior"].length;++d)switch(s[".google.api.fieldBehavior"][d]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:break}}if(s[".google.api.resourceReference"]!=null&&s.hasOwnProperty(".google.api.resourceReference")){var g=f.google.api.ResourceReference.verify(s[".google.api.resourceReference"]);if(g)return".google.api.resourceReference."+g}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FieldOptions)return s;var d=new f.google.protobuf.FieldOptions;switch(s.ctype){default:if(typeof s.ctype=="number"){d.ctype=s.ctype;break}break;case"STRING":case 0:d.ctype=0;break;case"CORD":case 1:d.ctype=1;break;case"STRING_PIECE":case 2:d.ctype=2;break}switch(s.packed!=null&&(d.packed=!!s.packed),s.jstype){default:if(typeof s.jstype=="number"){d.jstype=s.jstype;break}break;case"JS_NORMAL":case 0:d.jstype=0;break;case"JS_STRING":case 1:d.jstype=1;break;case"JS_NUMBER":case 2:d.jstype=2;break}switch(s.lazy!=null&&(d.lazy=!!s.lazy),s.unverifiedLazy!=null&&(d.unverifiedLazy=!!s.unverifiedLazy),s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.weak!=null&&(d.weak=!!s.weak),s.debugRedact!=null&&(d.debugRedact=!!s.debugRedact),s.retention){default:if(typeof s.retention=="number"){d.retention=s.retention;break}break;case"RETENTION_UNKNOWN":case 0:d.retention=0;break;case"RETENTION_RUNTIME":case 1:d.retention=1;break;case"RETENTION_SOURCE":case 2:d.retention=2;break}if(s.targets){if(!Array.isArray(s.targets))throw TypeError(".google.protobuf.FieldOptions.targets: array expected");d.targets=[];for(var g=0;g<s.targets.length;++g)switch(s.targets[g]){default:if(typeof s.targets[g]=="number"){d.targets[g]=s.targets[g];break}case"TARGET_TYPE_UNKNOWN":case 0:d.targets[g]=0;break;case"TARGET_TYPE_FILE":case 1:d.targets[g]=1;break;case"TARGET_TYPE_EXTENSION_RANGE":case 2:d.targets[g]=2;break;case"TARGET_TYPE_MESSAGE":case 3:d.targets[g]=3;break;case"TARGET_TYPE_FIELD":case 4:d.targets[g]=4;break;case"TARGET_TYPE_ONEOF":case 5:d.targets[g]=5;break;case"TARGET_TYPE_ENUM":case 6:d.targets[g]=6;break;case"TARGET_TYPE_ENUM_ENTRY":case 7:d.targets[g]=7;break;case"TARGET_TYPE_SERVICE":case 8:d.targets[g]=8;break;case"TARGET_TYPE_METHOD":case 9:d.targets[g]=9;break}}if(s.editionDefaults){if(!Array.isArray(s.editionDefaults))throw TypeError(".google.protobuf.FieldOptions.editionDefaults: array expected");d.editionDefaults=[];for(var g=0;g<s.editionDefaults.length;++g){if(typeof s.editionDefaults[g]!="object")throw TypeError(".google.protobuf.FieldOptions.editionDefaults: object expected");d.editionDefaults[g]=f.google.protobuf.FieldOptions.EditionDefault.fromObject(s.editionDefaults[g])}}if(s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.FieldOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}if(s[".google.api.fieldBehavior"]){if(!Array.isArray(s[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");d[".google.api.fieldBehavior"]=[];for(var g=0;g<s[".google.api.fieldBehavior"].length;++g)switch(s[".google.api.fieldBehavior"][g]){default:if(typeof s[".google.api.fieldBehavior"][g]=="number"){d[".google.api.fieldBehavior"][g]=s[".google.api.fieldBehavior"][g];break}case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:d[".google.api.fieldBehavior"][g]=0;break;case"OPTIONAL":case 1:d[".google.api.fieldBehavior"][g]=1;break;case"REQUIRED":case 2:d[".google.api.fieldBehavior"][g]=2;break;case"OUTPUT_ONLY":case 3:d[".google.api.fieldBehavior"][g]=3;break;case"INPUT_ONLY":case 4:d[".google.api.fieldBehavior"][g]=4;break;case"IMMUTABLE":case 5:d[".google.api.fieldBehavior"][g]=5;break;case"UNORDERED_LIST":case 6:d[".google.api.fieldBehavior"][g]=6;break;case"NON_EMPTY_DEFAULT":case 7:d[".google.api.fieldBehavior"][g]=7;break;case"IDENTIFIER":case 8:d[".google.api.fieldBehavior"][g]=8;break}}if(s[".google.api.resourceReference"]!=null){if(typeof s[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");d[".google.api.resourceReference"]=f.google.api.ResourceReference.fromObject(s[".google.api.resourceReference"])}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.targets=[],g.editionDefaults=[],g.uninterpretedOption=[],g[".google.api.fieldBehavior"]=[]),d.defaults&&(g.ctype=d.enums===String?"STRING":0,g.packed=!1,g.deprecated=!1,g.lazy=!1,g.jstype=d.enums===String?"JS_NORMAL":0,g.weak=!1,g.unverifiedLazy=!1,g.debugRedact=!1,g.retention=d.enums===String?"RETENTION_UNKNOWN":0,g.features=null,g[".google.api.resourceReference"]=null),s.ctype!=null&&s.hasOwnProperty("ctype")&&(g.ctype=d.enums===String?f.google.protobuf.FieldOptions.CType[s.ctype]===void 0?s.ctype:f.google.protobuf.FieldOptions.CType[s.ctype]:s.ctype),s.packed!=null&&s.hasOwnProperty("packed")&&(g.packed=s.packed),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.lazy!=null&&s.hasOwnProperty("lazy")&&(g.lazy=s.lazy),s.jstype!=null&&s.hasOwnProperty("jstype")&&(g.jstype=d.enums===String?f.google.protobuf.FieldOptions.JSType[s.jstype]===void 0?s.jstype:f.google.protobuf.FieldOptions.JSType[s.jstype]:s.jstype),s.weak!=null&&s.hasOwnProperty("weak")&&(g.weak=s.weak),s.unverifiedLazy!=null&&s.hasOwnProperty("unverifiedLazy")&&(g.unverifiedLazy=s.unverifiedLazy),s.debugRedact!=null&&s.hasOwnProperty("debugRedact")&&(g.debugRedact=s.debugRedact),s.retention!=null&&s.hasOwnProperty("retention")&&(g.retention=d.enums===String?f.google.protobuf.FieldOptions.OptionRetention[s.retention]===void 0?s.retention:f.google.protobuf.FieldOptions.OptionRetention[s.retention]:s.retention),s.targets&&s.targets.length){g.targets=[];for(var P=0;P<s.targets.length;++P)g.targets[P]=d.enums===String?f.google.protobuf.FieldOptions.OptionTargetType[s.targets[P]]===void 0?s.targets[P]:f.google.protobuf.FieldOptions.OptionTargetType[s.targets[P]]:s.targets[P]}if(s.editionDefaults&&s.editionDefaults.length){g.editionDefaults=[];for(var P=0;P<s.editionDefaults.length;++P)g.editionDefaults[P]=f.google.protobuf.FieldOptions.EditionDefault.toObject(s.editionDefaults[P],d)}if(s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}if(s[".google.api.fieldBehavior"]&&s[".google.api.fieldBehavior"].length){g[".google.api.fieldBehavior"]=[];for(var P=0;P<s[".google.api.fieldBehavior"].length;++P)g[".google.api.fieldBehavior"][P]=d.enums===String?f.google.api.FieldBehavior[s[".google.api.fieldBehavior"][P]]===void 0?s[".google.api.fieldBehavior"][P]:f.google.api.FieldBehavior[s[".google.api.fieldBehavior"][P]]:s[".google.api.fieldBehavior"][P]}return s[".google.api.resourceReference"]!=null&&s.hasOwnProperty(".google.api.resourceReference")&&(g[".google.api.resourceReference"]=f.google.api.ResourceReference.toObject(s[".google.api.resourceReference"],d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FieldOptions"},S.CType=function(){var v={},s=Object.create(v);return s[v[0]="STRING"]=0,s[v[1]="CORD"]=1,s[v[2]="STRING_PIECE"]=2,s}(),S.JSType=function(){var v={},s=Object.create(v);return s[v[0]="JS_NORMAL"]=0,s[v[1]="JS_STRING"]=1,s[v[2]="JS_NUMBER"]=2,s}(),S.OptionRetention=function(){var v={},s=Object.create(v);return s[v[0]="RETENTION_UNKNOWN"]=0,s[v[1]="RETENTION_RUNTIME"]=1,s[v[2]="RETENTION_SOURCE"]=2,s}(),S.OptionTargetType=function(){var v={},s=Object.create(v);return s[v[0]="TARGET_TYPE_UNKNOWN"]=0,s[v[1]="TARGET_TYPE_FILE"]=1,s[v[2]="TARGET_TYPE_EXTENSION_RANGE"]=2,s[v[3]="TARGET_TYPE_MESSAGE"]=3,s[v[4]="TARGET_TYPE_FIELD"]=4,s[v[5]="TARGET_TYPE_ONEOF"]=5,s[v[6]="TARGET_TYPE_ENUM"]=6,s[v[7]="TARGET_TYPE_ENUM_ENTRY"]=7,s[v[8]="TARGET_TYPE_SERVICE"]=8,s[v[9]="TARGET_TYPE_METHOD"]=9,s}(),S.EditionDefault=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.edition=0,v.prototype.value="",v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.value!=null&&Object.hasOwnProperty.call(d,"value")&&g.uint32(18).string(d.value),d.edition!=null&&Object.hasOwnProperty.call(d,"edition")&&g.uint32(24).int32(d.edition),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.FieldOptions.EditionDefault;d.pos<P;){var I=d.uint32();switch(I>>>3){case 3:{R.edition=d.int32();break}case 2:{R.value=d.string();break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.edition!=null&&d.hasOwnProperty("edition"))switch(d.edition){default:return"edition: enum value expected";case 0:case 998:case 999:case 1e3:case 1001:case 1:case 2:case 99997:case 99998:case 99999:case 2147483647:break}return d.value!=null&&d.hasOwnProperty("value")&&!p.isString(d.value)?"value: string expected":null},v.fromObject=function(d){if(d instanceof f.google.protobuf.FieldOptions.EditionDefault)return d;var g=new f.google.protobuf.FieldOptions.EditionDefault;switch(d.edition){default:if(typeof d.edition=="number"){g.edition=d.edition;break}break;case"EDITION_UNKNOWN":case 0:g.edition=0;break;case"EDITION_PROTO2":case 998:g.edition=998;break;case"EDITION_PROTO3":case 999:g.edition=999;break;case"EDITION_2023":case 1e3:g.edition=1e3;break;case"EDITION_2024":case 1001:g.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:g.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:g.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:g.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:g.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:g.edition=99999;break;case"EDITION_MAX":case 2147483647:g.edition=2147483647;break}return d.value!=null&&(g.value=String(d.value)),g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.value="",P.edition=g.enums===String?"EDITION_UNKNOWN":0),d.value!=null&&d.hasOwnProperty("value")&&(P.value=d.value),d.edition!=null&&d.hasOwnProperty("edition")&&(P.edition=g.enums===String?f.google.protobuf.Edition[d.edition]===void 0?d.edition:f.google.protobuf.Edition[d.edition]:d.edition),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.FieldOptions.EditionDefault"},v}(),S}(),_.OneofOptions=function(){function S(v){if(this.uninterpretedOption=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.features=null,S.prototype.uninterpretedOption=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(10).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.OneofOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.OneofOptions)return s;var d=new f.google.protobuf.OneofOptions;if(s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.OneofOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[]),d.defaults&&(g.features=null),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.OneofOptions"},S}(),_.EnumOptions=function(){function S(v){if(this.uninterpretedOption=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.allowAlias=!1,S.prototype.deprecated=!1,S.prototype.deprecatedLegacyJsonFieldConflicts=!1,S.prototype.features=null,S.prototype.uninterpretedOption=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.allowAlias!=null&&Object.hasOwnProperty.call(s,"allowAlias")&&d.uint32(16).bool(s.allowAlias),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(24).bool(s.deprecated),s.deprecatedLegacyJsonFieldConflicts!=null&&Object.hasOwnProperty.call(s,"deprecatedLegacyJsonFieldConflicts")&&d.uint32(48).bool(s.deprecatedLegacyJsonFieldConflicts),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(58).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.EnumOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 2:{P.allowAlias=s.bool();break}case 3:{P.deprecated=s.bool();break}case 6:{P.deprecatedLegacyJsonFieldConflicts=s.bool();break}case 7:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.allowAlias!=null&&s.hasOwnProperty("allowAlias")&&typeof s.allowAlias!="boolean")return"allowAlias: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.deprecatedLegacyJsonFieldConflicts!=null&&s.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&typeof s.deprecatedLegacyJsonFieldConflicts!="boolean")return"deprecatedLegacyJsonFieldConflicts: boolean expected";if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.EnumOptions)return s;var d=new f.google.protobuf.EnumOptions;if(s.allowAlias!=null&&(d.allowAlias=!!s.allowAlias),s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.deprecatedLegacyJsonFieldConflicts!=null&&(d.deprecatedLegacyJsonFieldConflicts=!!s.deprecatedLegacyJsonFieldConflicts),s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.EnumOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[]),d.defaults&&(g.allowAlias=!1,g.deprecated=!1,g.deprecatedLegacyJsonFieldConflicts=!1,g.features=null),s.allowAlias!=null&&s.hasOwnProperty("allowAlias")&&(g.allowAlias=s.allowAlias),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.deprecatedLegacyJsonFieldConflicts!=null&&s.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(g.deprecatedLegacyJsonFieldConflicts=s.deprecatedLegacyJsonFieldConflicts),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.EnumOptions"},S}(),_.EnumValueOptions=function(){function S(v){if(this.uninterpretedOption=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.deprecated=!1,S.prototype.features=null,S.prototype.debugRedact=!1,S.prototype.uninterpretedOption=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(8).bool(s.deprecated),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(18).fork()).ldelim(),s.debugRedact!=null&&Object.hasOwnProperty.call(s,"debugRedact")&&d.uint32(24).bool(s.debugRedact),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.EnumValueOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.deprecated=s.bool();break}case 2:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 3:{P.debugRedact=s.bool();break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.debugRedact!=null&&s.hasOwnProperty("debugRedact")&&typeof s.debugRedact!="boolean")return"debugRedact: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.EnumValueOptions)return s;var d=new f.google.protobuf.EnumValueOptions;if(s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.EnumValueOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.debugRedact!=null&&(d.debugRedact=!!s.debugRedact),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[]),d.defaults&&(g.deprecated=!1,g.features=null,g.debugRedact=!1),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.debugRedact!=null&&s.hasOwnProperty("debugRedact")&&(g.debugRedact=s.debugRedact),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.EnumValueOptions"},S}(),_.ServiceOptions=function(){function S(v){if(this.uninterpretedOption=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.features=null,S.prototype.deprecated=!1,S.prototype.uninterpretedOption=p.emptyArray,S.prototype[".google.api.defaultHost"]="",S.prototype[".google.api.oauthScopes"]="",S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(264).bool(s.deprecated),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(274).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();return s[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(s,".google.api.defaultHost")&&d.uint32(8394).string(s[".google.api.defaultHost"]),s[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(s,".google.api.oauthScopes")&&d.uint32(8402).string(s[".google.api.oauthScopes"]),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.ServiceOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 34:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 33:{P.deprecated=s.bool();break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}case 1049:{P[".google.api.defaultHost"]=s.string();break}case 1050:{P[".google.api.oauthScopes"]=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}return s[".google.api.defaultHost"]!=null&&s.hasOwnProperty(".google.api.defaultHost")&&!p.isString(s[".google.api.defaultHost"])?".google.api.defaultHost: string expected":s[".google.api.oauthScopes"]!=null&&s.hasOwnProperty(".google.api.oauthScopes")&&!p.isString(s[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.ServiceOptions)return s;var d=new f.google.protobuf.ServiceOptions;if(s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.ServiceOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}return s[".google.api.defaultHost"]!=null&&(d[".google.api.defaultHost"]=String(s[".google.api.defaultHost"])),s[".google.api.oauthScopes"]!=null&&(d[".google.api.oauthScopes"]=String(s[".google.api.oauthScopes"])),d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[]),d.defaults&&(g.deprecated=!1,g.features=null,g[".google.api.defaultHost"]="",g[".google.api.oauthScopes"]=""),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}return s[".google.api.defaultHost"]!=null&&s.hasOwnProperty(".google.api.defaultHost")&&(g[".google.api.defaultHost"]=s[".google.api.defaultHost"]),s[".google.api.oauthScopes"]!=null&&s.hasOwnProperty(".google.api.oauthScopes")&&(g[".google.api.oauthScopes"]=s[".google.api.oauthScopes"]),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.ServiceOptions"},S}(),_.MethodOptions=function(){function S(v){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.deprecated=!1,S.prototype.idempotencyLevel=0,S.prototype.features=null,S.prototype.uninterpretedOption=p.emptyArray,S.prototype[".google.api.http"]=null,S.prototype[".google.api.methodSignature"]=p.emptyArray,S.prototype[".google.longrunning.operationInfo"]=null,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&d.uint32(264).bool(s.deprecated),s.idempotencyLevel!=null&&Object.hasOwnProperty.call(s,"idempotencyLevel")&&d.uint32(272).int32(s.idempotencyLevel),s.features!=null&&Object.hasOwnProperty.call(s,"features")&&f.google.protobuf.FeatureSet.encode(s.features,d.uint32(282).fork()).ldelim(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var g=0;g<s.uninterpretedOption.length;++g)f.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[g],d.uint32(7994).fork()).ldelim();if(s[".google.longrunning.operationInfo"]!=null&&Object.hasOwnProperty.call(s,".google.longrunning.operationInfo")&&f.google.longrunning.OperationInfo.encode(s[".google.longrunning.operationInfo"],d.uint32(8394).fork()).ldelim(),s[".google.api.methodSignature"]!=null&&s[".google.api.methodSignature"].length)for(var g=0;g<s[".google.api.methodSignature"].length;++g)d.uint32(8410).string(s[".google.api.methodSignature"][g]);return s[".google.api.http"]!=null&&Object.hasOwnProperty.call(s,".google.api.http")&&f.google.api.HttpRule.encode(s[".google.api.http"],d.uint32(578365826).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.MethodOptions;s.pos<g;){var R=s.uint32();switch(R>>>3){case 33:{P.deprecated=s.bool();break}case 34:{P.idempotencyLevel=s.int32();break}case 35:{P.features=f.google.protobuf.FeatureSet.decode(s,s.uint32());break}case 999:{P.uninterpretedOption&&P.uninterpretedOption.length||(P.uninterpretedOption=[]),P.uninterpretedOption.push(f.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break}case 72295728:{P[".google.api.http"]=f.google.api.HttpRule.decode(s,s.uint32());break}case 1051:{P[".google.api.methodSignature"]&&P[".google.api.methodSignature"].length||(P[".google.api.methodSignature"]=[]),P[".google.api.methodSignature"].push(s.string());break}case 1049:{P[".google.longrunning.operationInfo"]=f.google.longrunning.OperationInfo.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.idempotencyLevel!=null&&s.hasOwnProperty("idempotencyLevel"))switch(s.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:break}if(s.features!=null&&s.hasOwnProperty("features")){var d=f.google.protobuf.FeatureSet.verify(s.features);if(d)return"features."+d}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var g=0;g<s.uninterpretedOption.length;++g){var d=f.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[g]);if(d)return"uninterpretedOption."+d}}if(s[".google.api.http"]!=null&&s.hasOwnProperty(".google.api.http")){var d=f.google.api.HttpRule.verify(s[".google.api.http"]);if(d)return".google.api.http."+d}if(s[".google.api.methodSignature"]!=null&&s.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(s[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(var g=0;g<s[".google.api.methodSignature"].length;++g)if(!p.isString(s[".google.api.methodSignature"][g]))return".google.api.methodSignature: string[] expected"}if(s[".google.longrunning.operationInfo"]!=null&&s.hasOwnProperty(".google.longrunning.operationInfo")){var d=f.google.longrunning.OperationInfo.verify(s[".google.longrunning.operationInfo"]);if(d)return".google.longrunning.operationInfo."+d}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.MethodOptions)return s;var d=new f.google.protobuf.MethodOptions;switch(s.deprecated!=null&&(d.deprecated=!!s.deprecated),s.idempotencyLevel){default:if(typeof s.idempotencyLevel=="number"){d.idempotencyLevel=s.idempotencyLevel;break}break;case"IDEMPOTENCY_UNKNOWN":case 0:d.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:d.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:d.idempotencyLevel=2;break}if(s.features!=null){if(typeof s.features!="object")throw TypeError(".google.protobuf.MethodOptions.features: object expected");d.features=f.google.protobuf.FeatureSet.fromObject(s.features)}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");d.uninterpretedOption=[];for(var g=0;g<s.uninterpretedOption.length;++g){if(typeof s.uninterpretedOption[g]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");d.uninterpretedOption[g]=f.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[g])}}if(s[".google.api.http"]!=null){if(typeof s[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");d[".google.api.http"]=f.google.api.HttpRule.fromObject(s[".google.api.http"])}if(s[".google.api.methodSignature"]){if(!Array.isArray(s[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");d[".google.api.methodSignature"]=[];for(var g=0;g<s[".google.api.methodSignature"].length;++g)d[".google.api.methodSignature"][g]=String(s[".google.api.methodSignature"][g])}if(s[".google.longrunning.operationInfo"]!=null){if(typeof s[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");d[".google.longrunning.operationInfo"]=f.google.longrunning.OperationInfo.fromObject(s[".google.longrunning.operationInfo"])}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.uninterpretedOption=[],g[".google.api.methodSignature"]=[]),d.defaults&&(g.deprecated=!1,g.idempotencyLevel=d.enums===String?"IDEMPOTENCY_UNKNOWN":0,g.features=null,g[".google.longrunning.operationInfo"]=null,g[".google.api.http"]=null),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(g.deprecated=s.deprecated),s.idempotencyLevel!=null&&s.hasOwnProperty("idempotencyLevel")&&(g.idempotencyLevel=d.enums===String?f.google.protobuf.MethodOptions.IdempotencyLevel[s.idempotencyLevel]===void 0?s.idempotencyLevel:f.google.protobuf.MethodOptions.IdempotencyLevel[s.idempotencyLevel]:s.idempotencyLevel),s.features!=null&&s.hasOwnProperty("features")&&(g.features=f.google.protobuf.FeatureSet.toObject(s.features,d)),s.uninterpretedOption&&s.uninterpretedOption.length){g.uninterpretedOption=[];for(var P=0;P<s.uninterpretedOption.length;++P)g.uninterpretedOption[P]=f.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[P],d)}if(s[".google.longrunning.operationInfo"]!=null&&s.hasOwnProperty(".google.longrunning.operationInfo")&&(g[".google.longrunning.operationInfo"]=f.google.longrunning.OperationInfo.toObject(s[".google.longrunning.operationInfo"],d)),s[".google.api.methodSignature"]&&s[".google.api.methodSignature"].length){g[".google.api.methodSignature"]=[];for(var P=0;P<s[".google.api.methodSignature"].length;++P)g[".google.api.methodSignature"][P]=s[".google.api.methodSignature"][P]}return s[".google.api.http"]!=null&&s.hasOwnProperty(".google.api.http")&&(g[".google.api.http"]=f.google.api.HttpRule.toObject(s[".google.api.http"],d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.MethodOptions"},S.IdempotencyLevel=function(){var v={},s=Object.create(v);return s[v[0]="IDEMPOTENCY_UNKNOWN"]=0,s[v[1]="NO_SIDE_EFFECTS"]=1,s[v[2]="IDEMPOTENT"]=2,s}(),S}(),_.UninterpretedOption=function(){function S(v){if(this.name=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name=p.emptyArray,S.prototype.identifierValue="",S.prototype.positiveIntValue=p.Long?p.Long.fromBits(0,0,!0):0,S.prototype.negativeIntValue=p.Long?p.Long.fromBits(0,0,!1):0,S.prototype.doubleValue=0,S.prototype.stringValue=p.newBuffer([]),S.prototype.aggregateValue="",S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.name!=null&&s.name.length)for(var g=0;g<s.name.length;++g)f.google.protobuf.UninterpretedOption.NamePart.encode(s.name[g],d.uint32(18).fork()).ldelim();return s.identifierValue!=null&&Object.hasOwnProperty.call(s,"identifierValue")&&d.uint32(26).string(s.identifierValue),s.positiveIntValue!=null&&Object.hasOwnProperty.call(s,"positiveIntValue")&&d.uint32(32).uint64(s.positiveIntValue),s.negativeIntValue!=null&&Object.hasOwnProperty.call(s,"negativeIntValue")&&d.uint32(40).int64(s.negativeIntValue),s.doubleValue!=null&&Object.hasOwnProperty.call(s,"doubleValue")&&d.uint32(49).double(s.doubleValue),s.stringValue!=null&&Object.hasOwnProperty.call(s,"stringValue")&&d.uint32(58).bytes(s.stringValue),s.aggregateValue!=null&&Object.hasOwnProperty.call(s,"aggregateValue")&&d.uint32(66).string(s.aggregateValue),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.UninterpretedOption;s.pos<g;){var R=s.uint32();switch(R>>>3){case 2:{P.name&&P.name.length||(P.name=[]),P.name.push(f.google.protobuf.UninterpretedOption.NamePart.decode(s,s.uint32()));break}case 3:{P.identifierValue=s.string();break}case 4:{P.positiveIntValue=s.uint64();break}case 5:{P.negativeIntValue=s.int64();break}case 6:{P.doubleValue=s.double();break}case 7:{P.stringValue=s.bytes();break}case 8:{P.aggregateValue=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")){if(!Array.isArray(s.name))return"name: array expected";for(var d=0;d<s.name.length;++d){var g=f.google.protobuf.UninterpretedOption.NamePart.verify(s.name[d]);if(g)return"name."+g}}return s.identifierValue!=null&&s.hasOwnProperty("identifierValue")&&!p.isString(s.identifierValue)?"identifierValue: string expected":s.positiveIntValue!=null&&s.hasOwnProperty("positiveIntValue")&&!p.isInteger(s.positiveIntValue)&&!(s.positiveIntValue&&p.isInteger(s.positiveIntValue.low)&&p.isInteger(s.positiveIntValue.high))?"positiveIntValue: integer|Long expected":s.negativeIntValue!=null&&s.hasOwnProperty("negativeIntValue")&&!p.isInteger(s.negativeIntValue)&&!(s.negativeIntValue&&p.isInteger(s.negativeIntValue.low)&&p.isInteger(s.negativeIntValue.high))?"negativeIntValue: integer|Long expected":s.doubleValue!=null&&s.hasOwnProperty("doubleValue")&&typeof s.doubleValue!="number"?"doubleValue: number expected":s.stringValue!=null&&s.hasOwnProperty("stringValue")&&!(s.stringValue&&typeof s.stringValue.length=="number"||p.isString(s.stringValue))?"stringValue: buffer expected":s.aggregateValue!=null&&s.hasOwnProperty("aggregateValue")&&!p.isString(s.aggregateValue)?"aggregateValue: string expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.UninterpretedOption)return s;var d=new f.google.protobuf.UninterpretedOption;if(s.name){if(!Array.isArray(s.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");d.name=[];for(var g=0;g<s.name.length;++g){if(typeof s.name[g]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");d.name[g]=f.google.protobuf.UninterpretedOption.NamePart.fromObject(s.name[g])}}return s.identifierValue!=null&&(d.identifierValue=String(s.identifierValue)),s.positiveIntValue!=null&&(p.Long?(d.positiveIntValue=p.Long.fromValue(s.positiveIntValue)).unsigned=!0:typeof s.positiveIntValue=="string"?d.positiveIntValue=parseInt(s.positiveIntValue,10):typeof s.positiveIntValue=="number"?d.positiveIntValue=s.positiveIntValue:typeof s.positiveIntValue=="object"&&(d.positiveIntValue=new p.LongBits(s.positiveIntValue.low>>>0,s.positiveIntValue.high>>>0).toNumber(!0))),s.negativeIntValue!=null&&(p.Long?(d.negativeIntValue=p.Long.fromValue(s.negativeIntValue)).unsigned=!1:typeof s.negativeIntValue=="string"?d.negativeIntValue=parseInt(s.negativeIntValue,10):typeof s.negativeIntValue=="number"?d.negativeIntValue=s.negativeIntValue:typeof s.negativeIntValue=="object"&&(d.negativeIntValue=new p.LongBits(s.negativeIntValue.low>>>0,s.negativeIntValue.high>>>0).toNumber())),s.doubleValue!=null&&(d.doubleValue=Number(s.doubleValue)),s.stringValue!=null&&(typeof s.stringValue=="string"?p.base64.decode(s.stringValue,d.stringValue=p.newBuffer(p.base64.length(s.stringValue)),0):s.stringValue.length>=0&&(d.stringValue=s.stringValue)),s.aggregateValue!=null&&(d.aggregateValue=String(s.aggregateValue)),d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.name=[]),d.defaults){if(g.identifierValue="",p.Long){var P=new p.Long(0,0,!0);g.positiveIntValue=d.longs===String?P.toString():d.longs===Number?P.toNumber():P}else g.positiveIntValue=d.longs===String?"0":0;if(p.Long){var P=new p.Long(0,0,!1);g.negativeIntValue=d.longs===String?P.toString():d.longs===Number?P.toNumber():P}else g.negativeIntValue=d.longs===String?"0":0;g.doubleValue=0,d.bytes===String?g.stringValue="":(g.stringValue=[],d.bytes!==Array&&(g.stringValue=p.newBuffer(g.stringValue))),g.aggregateValue=""}if(s.name&&s.name.length){g.name=[];for(var R=0;R<s.name.length;++R)g.name[R]=f.google.protobuf.UninterpretedOption.NamePart.toObject(s.name[R],d)}return s.identifierValue!=null&&s.hasOwnProperty("identifierValue")&&(g.identifierValue=s.identifierValue),s.positiveIntValue!=null&&s.hasOwnProperty("positiveIntValue")&&(typeof s.positiveIntValue=="number"?g.positiveIntValue=d.longs===String?String(s.positiveIntValue):s.positiveIntValue:g.positiveIntValue=d.longs===String?p.Long.prototype.toString.call(s.positiveIntValue):d.longs===Number?new p.LongBits(s.positiveIntValue.low>>>0,s.positiveIntValue.high>>>0).toNumber(!0):s.positiveIntValue),s.negativeIntValue!=null&&s.hasOwnProperty("negativeIntValue")&&(typeof s.negativeIntValue=="number"?g.negativeIntValue=d.longs===String?String(s.negativeIntValue):s.negativeIntValue:g.negativeIntValue=d.longs===String?p.Long.prototype.toString.call(s.negativeIntValue):d.longs===Number?new p.LongBits(s.negativeIntValue.low>>>0,s.negativeIntValue.high>>>0).toNumber():s.negativeIntValue),s.doubleValue!=null&&s.hasOwnProperty("doubleValue")&&(g.doubleValue=d.json&&!isFinite(s.doubleValue)?String(s.doubleValue):s.doubleValue),s.stringValue!=null&&s.hasOwnProperty("stringValue")&&(g.stringValue=d.bytes===String?p.base64.encode(s.stringValue,0,s.stringValue.length):d.bytes===Array?Array.prototype.slice.call(s.stringValue):s.stringValue),s.aggregateValue!=null&&s.hasOwnProperty("aggregateValue")&&(g.aggregateValue=s.aggregateValue),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.UninterpretedOption"},S.NamePart=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.namePart="",v.prototype.isExtension=!1,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),g.uint32(10).string(d.namePart),g.uint32(16).bool(d.isExtension),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.UninterpretedOption.NamePart;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.namePart=d.string();break}case 2:{R.isExtension=d.bool();break}default:d.skipType(I&7);break}}if(!R.hasOwnProperty("namePart"))throw p.ProtocolError("missing required 'namePart'",{instance:R});if(!R.hasOwnProperty("isExtension"))throw p.ProtocolError("missing required 'isExtension'",{instance:R});return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){return typeof d!="object"||d===null?"object expected":p.isString(d.namePart)?typeof d.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},v.fromObject=function(d){if(d instanceof f.google.protobuf.UninterpretedOption.NamePart)return d;var g=new f.google.protobuf.UninterpretedOption.NamePart;return d.namePart!=null&&(g.namePart=String(d.namePart)),d.isExtension!=null&&(g.isExtension=!!d.isExtension),g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.namePart="",P.isExtension=!1),d.namePart!=null&&d.hasOwnProperty("namePart")&&(P.namePart=d.namePart),d.isExtension!=null&&d.hasOwnProperty("isExtension")&&(P.isExtension=d.isExtension),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.UninterpretedOption.NamePart"},v}(),S}(),_.FeatureSet=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.fieldPresence=0,S.prototype.enumType=0,S.prototype.repeatedFieldEncoding=0,S.prototype.utf8Validation=0,S.prototype.messageEncoding=0,S.prototype.jsonFormat=0,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.fieldPresence!=null&&Object.hasOwnProperty.call(s,"fieldPresence")&&d.uint32(8).int32(s.fieldPresence),s.enumType!=null&&Object.hasOwnProperty.call(s,"enumType")&&d.uint32(16).int32(s.enumType),s.repeatedFieldEncoding!=null&&Object.hasOwnProperty.call(s,"repeatedFieldEncoding")&&d.uint32(24).int32(s.repeatedFieldEncoding),s.utf8Validation!=null&&Object.hasOwnProperty.call(s,"utf8Validation")&&d.uint32(32).int32(s.utf8Validation),s.messageEncoding!=null&&Object.hasOwnProperty.call(s,"messageEncoding")&&d.uint32(40).int32(s.messageEncoding),s.jsonFormat!=null&&Object.hasOwnProperty.call(s,"jsonFormat")&&d.uint32(48).int32(s.jsonFormat),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FeatureSet;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.fieldPresence=s.int32();break}case 2:{P.enumType=s.int32();break}case 3:{P.repeatedFieldEncoding=s.int32();break}case 4:{P.utf8Validation=s.int32();break}case 5:{P.messageEncoding=s.int32();break}case 6:{P.jsonFormat=s.int32();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.fieldPresence!=null&&s.hasOwnProperty("fieldPresence"))switch(s.fieldPresence){default:return"fieldPresence: enum value expected";case 0:case 1:case 2:case 3:break}if(s.enumType!=null&&s.hasOwnProperty("enumType"))switch(s.enumType){default:return"enumType: enum value expected";case 0:case 1:case 2:break}if(s.repeatedFieldEncoding!=null&&s.hasOwnProperty("repeatedFieldEncoding"))switch(s.repeatedFieldEncoding){default:return"repeatedFieldEncoding: enum value expected";case 0:case 1:case 2:break}if(s.utf8Validation!=null&&s.hasOwnProperty("utf8Validation"))switch(s.utf8Validation){default:return"utf8Validation: enum value expected";case 0:case 2:case 3:break}if(s.messageEncoding!=null&&s.hasOwnProperty("messageEncoding"))switch(s.messageEncoding){default:return"messageEncoding: enum value expected";case 0:case 1:case 2:break}if(s.jsonFormat!=null&&s.hasOwnProperty("jsonFormat"))switch(s.jsonFormat){default:return"jsonFormat: enum value expected";case 0:case 1:case 2:break}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FeatureSet)return s;var d=new f.google.protobuf.FeatureSet;switch(s.fieldPresence){default:if(typeof s.fieldPresence=="number"){d.fieldPresence=s.fieldPresence;break}break;case"FIELD_PRESENCE_UNKNOWN":case 0:d.fieldPresence=0;break;case"EXPLICIT":case 1:d.fieldPresence=1;break;case"IMPLICIT":case 2:d.fieldPresence=2;break;case"LEGACY_REQUIRED":case 3:d.fieldPresence=3;break}switch(s.enumType){default:if(typeof s.enumType=="number"){d.enumType=s.enumType;break}break;case"ENUM_TYPE_UNKNOWN":case 0:d.enumType=0;break;case"OPEN":case 1:d.enumType=1;break;case"CLOSED":case 2:d.enumType=2;break}switch(s.repeatedFieldEncoding){default:if(typeof s.repeatedFieldEncoding=="number"){d.repeatedFieldEncoding=s.repeatedFieldEncoding;break}break;case"REPEATED_FIELD_ENCODING_UNKNOWN":case 0:d.repeatedFieldEncoding=0;break;case"PACKED":case 1:d.repeatedFieldEncoding=1;break;case"EXPANDED":case 2:d.repeatedFieldEncoding=2;break}switch(s.utf8Validation){default:if(typeof s.utf8Validation=="number"){d.utf8Validation=s.utf8Validation;break}break;case"UTF8_VALIDATION_UNKNOWN":case 0:d.utf8Validation=0;break;case"VERIFY":case 2:d.utf8Validation=2;break;case"NONE":case 3:d.utf8Validation=3;break}switch(s.messageEncoding){default:if(typeof s.messageEncoding=="number"){d.messageEncoding=s.messageEncoding;break}break;case"MESSAGE_ENCODING_UNKNOWN":case 0:d.messageEncoding=0;break;case"LENGTH_PREFIXED":case 1:d.messageEncoding=1;break;case"DELIMITED":case 2:d.messageEncoding=2;break}switch(s.jsonFormat){default:if(typeof s.jsonFormat=="number"){d.jsonFormat=s.jsonFormat;break}break;case"JSON_FORMAT_UNKNOWN":case 0:d.jsonFormat=0;break;case"ALLOW":case 1:d.jsonFormat=1;break;case"LEGACY_BEST_EFFORT":case 2:d.jsonFormat=2;break}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.fieldPresence=d.enums===String?"FIELD_PRESENCE_UNKNOWN":0,g.enumType=d.enums===String?"ENUM_TYPE_UNKNOWN":0,g.repeatedFieldEncoding=d.enums===String?"REPEATED_FIELD_ENCODING_UNKNOWN":0,g.utf8Validation=d.enums===String?"UTF8_VALIDATION_UNKNOWN":0,g.messageEncoding=d.enums===String?"MESSAGE_ENCODING_UNKNOWN":0,g.jsonFormat=d.enums===String?"JSON_FORMAT_UNKNOWN":0),s.fieldPresence!=null&&s.hasOwnProperty("fieldPresence")&&(g.fieldPresence=d.enums===String?f.google.protobuf.FeatureSet.FieldPresence[s.fieldPresence]===void 0?s.fieldPresence:f.google.protobuf.FeatureSet.FieldPresence[s.fieldPresence]:s.fieldPresence),s.enumType!=null&&s.hasOwnProperty("enumType")&&(g.enumType=d.enums===String?f.google.protobuf.FeatureSet.EnumType[s.enumType]===void 0?s.enumType:f.google.protobuf.FeatureSet.EnumType[s.enumType]:s.enumType),s.repeatedFieldEncoding!=null&&s.hasOwnProperty("repeatedFieldEncoding")&&(g.repeatedFieldEncoding=d.enums===String?f.google.protobuf.FeatureSet.RepeatedFieldEncoding[s.repeatedFieldEncoding]===void 0?s.repeatedFieldEncoding:f.google.protobuf.FeatureSet.RepeatedFieldEncoding[s.repeatedFieldEncoding]:s.repeatedFieldEncoding),s.utf8Validation!=null&&s.hasOwnProperty("utf8Validation")&&(g.utf8Validation=d.enums===String?f.google.protobuf.FeatureSet.Utf8Validation[s.utf8Validation]===void 0?s.utf8Validation:f.google.protobuf.FeatureSet.Utf8Validation[s.utf8Validation]:s.utf8Validation),s.messageEncoding!=null&&s.hasOwnProperty("messageEncoding")&&(g.messageEncoding=d.enums===String?f.google.protobuf.FeatureSet.MessageEncoding[s.messageEncoding]===void 0?s.messageEncoding:f.google.protobuf.FeatureSet.MessageEncoding[s.messageEncoding]:s.messageEncoding),s.jsonFormat!=null&&s.hasOwnProperty("jsonFormat")&&(g.jsonFormat=d.enums===String?f.google.protobuf.FeatureSet.JsonFormat[s.jsonFormat]===void 0?s.jsonFormat:f.google.protobuf.FeatureSet.JsonFormat[s.jsonFormat]:s.jsonFormat),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FeatureSet"},S.FieldPresence=function(){var v={},s=Object.create(v);return s[v[0]="FIELD_PRESENCE_UNKNOWN"]=0,s[v[1]="EXPLICIT"]=1,s[v[2]="IMPLICIT"]=2,s[v[3]="LEGACY_REQUIRED"]=3,s}(),S.EnumType=function(){var v={},s=Object.create(v);return s[v[0]="ENUM_TYPE_UNKNOWN"]=0,s[v[1]="OPEN"]=1,s[v[2]="CLOSED"]=2,s}(),S.RepeatedFieldEncoding=function(){var v={},s=Object.create(v);return s[v[0]="REPEATED_FIELD_ENCODING_UNKNOWN"]=0,s[v[1]="PACKED"]=1,s[v[2]="EXPANDED"]=2,s}(),S.Utf8Validation=function(){var v={},s=Object.create(v);return s[v[0]="UTF8_VALIDATION_UNKNOWN"]=0,s[v[2]="VERIFY"]=2,s[v[3]="NONE"]=3,s}(),S.MessageEncoding=function(){var v={},s=Object.create(v);return s[v[0]="MESSAGE_ENCODING_UNKNOWN"]=0,s[v[1]="LENGTH_PREFIXED"]=1,s[v[2]="DELIMITED"]=2,s}(),S.JsonFormat=function(){var v={},s=Object.create(v);return s[v[0]="JSON_FORMAT_UNKNOWN"]=0,s[v[1]="ALLOW"]=1,s[v[2]="LEGACY_BEST_EFFORT"]=2,s}(),S}(),_.FeatureSetDefaults=function(){function S(v){if(this.defaults=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.defaults=p.emptyArray,S.prototype.minimumEdition=0,S.prototype.maximumEdition=0,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.defaults!=null&&s.defaults.length)for(var g=0;g<s.defaults.length;++g)f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.encode(s.defaults[g],d.uint32(10).fork()).ldelim();return s.minimumEdition!=null&&Object.hasOwnProperty.call(s,"minimumEdition")&&d.uint32(32).int32(s.minimumEdition),s.maximumEdition!=null&&Object.hasOwnProperty.call(s,"maximumEdition")&&d.uint32(40).int32(s.maximumEdition),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.FeatureSetDefaults;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.defaults&&P.defaults.length||(P.defaults=[]),P.defaults.push(f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.decode(s,s.uint32()));break}case 4:{P.minimumEdition=s.int32();break}case 5:{P.maximumEdition=s.int32();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.defaults!=null&&s.hasOwnProperty("defaults")){if(!Array.isArray(s.defaults))return"defaults: array expected";for(var d=0;d<s.defaults.length;++d){var g=f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.verify(s.defaults[d]);if(g)return"defaults."+g}}if(s.minimumEdition!=null&&s.hasOwnProperty("minimumEdition"))switch(s.minimumEdition){default:return"minimumEdition: enum value expected";case 0:case 998:case 999:case 1e3:case 1001:case 1:case 2:case 99997:case 99998:case 99999:case 2147483647:break}if(s.maximumEdition!=null&&s.hasOwnProperty("maximumEdition"))switch(s.maximumEdition){default:return"maximumEdition: enum value expected";case 0:case 998:case 999:case 1e3:case 1001:case 1:case 2:case 99997:case 99998:case 99999:case 2147483647:break}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.FeatureSetDefaults)return s;var d=new f.google.protobuf.FeatureSetDefaults;if(s.defaults){if(!Array.isArray(s.defaults))throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: array expected");d.defaults=[];for(var g=0;g<s.defaults.length;++g){if(typeof s.defaults[g]!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: object expected");d.defaults[g]=f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.fromObject(s.defaults[g])}}switch(s.minimumEdition){default:if(typeof s.minimumEdition=="number"){d.minimumEdition=s.minimumEdition;break}break;case"EDITION_UNKNOWN":case 0:d.minimumEdition=0;break;case"EDITION_PROTO2":case 998:d.minimumEdition=998;break;case"EDITION_PROTO3":case 999:d.minimumEdition=999;break;case"EDITION_2023":case 1e3:d.minimumEdition=1e3;break;case"EDITION_2024":case 1001:d.minimumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:d.minimumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:d.minimumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:d.minimumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:d.minimumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:d.minimumEdition=99999;break;case"EDITION_MAX":case 2147483647:d.minimumEdition=2147483647;break}switch(s.maximumEdition){default:if(typeof s.maximumEdition=="number"){d.maximumEdition=s.maximumEdition;break}break;case"EDITION_UNKNOWN":case 0:d.maximumEdition=0;break;case"EDITION_PROTO2":case 998:d.maximumEdition=998;break;case"EDITION_PROTO3":case 999:d.maximumEdition=999;break;case"EDITION_2023":case 1e3:d.maximumEdition=1e3;break;case"EDITION_2024":case 1001:d.maximumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:d.maximumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:d.maximumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:d.maximumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:d.maximumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:d.maximumEdition=99999;break;case"EDITION_MAX":case 2147483647:d.maximumEdition=2147483647;break}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.defaults=[]),d.defaults&&(g.minimumEdition=d.enums===String?"EDITION_UNKNOWN":0,g.maximumEdition=d.enums===String?"EDITION_UNKNOWN":0),s.defaults&&s.defaults.length){g.defaults=[];for(var P=0;P<s.defaults.length;++P)g.defaults[P]=f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.toObject(s.defaults[P],d)}return s.minimumEdition!=null&&s.hasOwnProperty("minimumEdition")&&(g.minimumEdition=d.enums===String?f.google.protobuf.Edition[s.minimumEdition]===void 0?s.minimumEdition:f.google.protobuf.Edition[s.minimumEdition]:s.minimumEdition),s.maximumEdition!=null&&s.hasOwnProperty("maximumEdition")&&(g.maximumEdition=d.enums===String?f.google.protobuf.Edition[s.maximumEdition]===void 0?s.maximumEdition:f.google.protobuf.Edition[s.maximumEdition]:s.maximumEdition),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.FeatureSetDefaults"},S.FeatureSetEditionDefault=function(){function v(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.edition=0,v.prototype.features=null,v.create=function(d){return new v(d)},v.encode=function(d,g){return g||(g=l.create()),d.features!=null&&Object.hasOwnProperty.call(d,"features")&&f.google.protobuf.FeatureSet.encode(d.features,g.uint32(18).fork()).ldelim(),d.edition!=null&&Object.hasOwnProperty.call(d,"edition")&&g.uint32(24).int32(d.edition),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault;d.pos<P;){var I=d.uint32();switch(I>>>3){case 3:{R.edition=d.int32();break}case 2:{R.features=f.google.protobuf.FeatureSet.decode(d,d.uint32());break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.edition!=null&&d.hasOwnProperty("edition"))switch(d.edition){default:return"edition: enum value expected";case 0:case 998:case 999:case 1e3:case 1001:case 1:case 2:case 99997:case 99998:case 99999:case 2147483647:break}if(d.features!=null&&d.hasOwnProperty("features")){var g=f.google.protobuf.FeatureSet.verify(d.features);if(g)return"features."+g}return null},v.fromObject=function(d){if(d instanceof f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault)return d;var g=new f.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault;switch(d.edition){default:if(typeof d.edition=="number"){g.edition=d.edition;break}break;case"EDITION_UNKNOWN":case 0:g.edition=0;break;case"EDITION_PROTO2":case 998:g.edition=998;break;case"EDITION_PROTO3":case 999:g.edition=999;break;case"EDITION_2023":case 1e3:g.edition=1e3;break;case"EDITION_2024":case 1001:g.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:g.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:g.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:g.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:g.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:g.edition=99999;break;case"EDITION_MAX":case 2147483647:g.edition=2147483647;break}if(d.features!=null){if(typeof d.features!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.features: object expected");g.features=f.google.protobuf.FeatureSet.fromObject(d.features)}return g},v.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.features=null,P.edition=g.enums===String?"EDITION_UNKNOWN":0),d.features!=null&&d.hasOwnProperty("features")&&(P.features=f.google.protobuf.FeatureSet.toObject(d.features,g)),d.edition!=null&&d.hasOwnProperty("edition")&&(P.edition=g.enums===String?f.google.protobuf.Edition[d.edition]===void 0?d.edition:f.google.protobuf.Edition[d.edition]:d.edition),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},v}(),S}(),_.SourceCodeInfo=function(){function S(v){if(this.location=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.location=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.location!=null&&s.location.length)for(var g=0;g<s.location.length;++g)f.google.protobuf.SourceCodeInfo.Location.encode(s.location[g],d.uint32(10).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.SourceCodeInfo;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.location&&P.location.length||(P.location=[]),P.location.push(f.google.protobuf.SourceCodeInfo.Location.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.location!=null&&s.hasOwnProperty("location")){if(!Array.isArray(s.location))return"location: array expected";for(var d=0;d<s.location.length;++d){var g=f.google.protobuf.SourceCodeInfo.Location.verify(s.location[d]);if(g)return"location."+g}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.SourceCodeInfo)return s;var d=new f.google.protobuf.SourceCodeInfo;if(s.location){if(!Array.isArray(s.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");d.location=[];for(var g=0;g<s.location.length;++g){if(typeof s.location[g]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");d.location[g]=f.google.protobuf.SourceCodeInfo.Location.fromObject(s.location[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.location=[]),s.location&&s.location.length){g.location=[];for(var P=0;P<s.location.length;++P)g.location[P]=f.google.protobuf.SourceCodeInfo.Location.toObject(s.location[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.SourceCodeInfo"},S.Location=function(){function v(s){if(this.path=[],this.span=[],this.leadingDetachedComments=[],s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.path=p.emptyArray,v.prototype.span=p.emptyArray,v.prototype.leadingComments="",v.prototype.trailingComments="",v.prototype.leadingDetachedComments=p.emptyArray,v.create=function(d){return new v(d)},v.encode=function(d,g){if(g||(g=l.create()),d.path!=null&&d.path.length){g.uint32(10).fork();for(var P=0;P<d.path.length;++P)g.int32(d.path[P]);g.ldelim()}if(d.span!=null&&d.span.length){g.uint32(18).fork();for(var P=0;P<d.span.length;++P)g.int32(d.span[P]);g.ldelim()}if(d.leadingComments!=null&&Object.hasOwnProperty.call(d,"leadingComments")&&g.uint32(26).string(d.leadingComments),d.trailingComments!=null&&Object.hasOwnProperty.call(d,"trailingComments")&&g.uint32(34).string(d.trailingComments),d.leadingDetachedComments!=null&&d.leadingDetachedComments.length)for(var P=0;P<d.leadingDetachedComments.length;++P)g.uint32(50).string(d.leadingDetachedComments[P]);return g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.SourceCodeInfo.Location;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{if(R.path&&R.path.length||(R.path=[]),(I&7)===2)for(var j=d.uint32()+d.pos;d.pos<j;)R.path.push(d.int32());else R.path.push(d.int32());break}case 2:{if(R.span&&R.span.length||(R.span=[]),(I&7)===2)for(var j=d.uint32()+d.pos;d.pos<j;)R.span.push(d.int32());else R.span.push(d.int32());break}case 3:{R.leadingComments=d.string();break}case 4:{R.trailingComments=d.string();break}case 6:{R.leadingDetachedComments&&R.leadingDetachedComments.length||(R.leadingDetachedComments=[]),R.leadingDetachedComments.push(d.string());break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.path!=null&&d.hasOwnProperty("path")){if(!Array.isArray(d.path))return"path: array expected";for(var g=0;g<d.path.length;++g)if(!p.isInteger(d.path[g]))return"path: integer[] expected"}if(d.span!=null&&d.hasOwnProperty("span")){if(!Array.isArray(d.span))return"span: array expected";for(var g=0;g<d.span.length;++g)if(!p.isInteger(d.span[g]))return"span: integer[] expected"}if(d.leadingComments!=null&&d.hasOwnProperty("leadingComments")&&!p.isString(d.leadingComments))return"leadingComments: string expected";if(d.trailingComments!=null&&d.hasOwnProperty("trailingComments")&&!p.isString(d.trailingComments))return"trailingComments: string expected";if(d.leadingDetachedComments!=null&&d.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(d.leadingDetachedComments))return"leadingDetachedComments: array expected";for(var g=0;g<d.leadingDetachedComments.length;++g)if(!p.isString(d.leadingDetachedComments[g]))return"leadingDetachedComments: string[] expected"}return null},v.fromObject=function(d){if(d instanceof f.google.protobuf.SourceCodeInfo.Location)return d;var g=new f.google.protobuf.SourceCodeInfo.Location;if(d.path){if(!Array.isArray(d.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");g.path=[];for(var P=0;P<d.path.length;++P)g.path[P]=d.path[P]|0}if(d.span){if(!Array.isArray(d.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");g.span=[];for(var P=0;P<d.span.length;++P)g.span[P]=d.span[P]|0}if(d.leadingComments!=null&&(g.leadingComments=String(d.leadingComments)),d.trailingComments!=null&&(g.trailingComments=String(d.trailingComments)),d.leadingDetachedComments){if(!Array.isArray(d.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");g.leadingDetachedComments=[];for(var P=0;P<d.leadingDetachedComments.length;++P)g.leadingDetachedComments[P]=String(d.leadingDetachedComments[P])}return g},v.toObject=function(d,g){g||(g={});var P={};if((g.arrays||g.defaults)&&(P.path=[],P.span=[],P.leadingDetachedComments=[]),g.defaults&&(P.leadingComments="",P.trailingComments=""),d.path&&d.path.length){P.path=[];for(var R=0;R<d.path.length;++R)P.path[R]=d.path[R]}if(d.span&&d.span.length){P.span=[];for(var R=0;R<d.span.length;++R)P.span[R]=d.span[R]}if(d.leadingComments!=null&&d.hasOwnProperty("leadingComments")&&(P.leadingComments=d.leadingComments),d.trailingComments!=null&&d.hasOwnProperty("trailingComments")&&(P.trailingComments=d.trailingComments),d.leadingDetachedComments&&d.leadingDetachedComments.length){P.leadingDetachedComments=[];for(var R=0;R<d.leadingDetachedComments.length;++R)P.leadingDetachedComments[R]=d.leadingDetachedComments[R]}return P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.SourceCodeInfo.Location"},v}(),S}(),_.GeneratedCodeInfo=function(){function S(v){if(this.annotation=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.annotation=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.annotation!=null&&s.annotation.length)for(var g=0;g<s.annotation.length;++g)f.google.protobuf.GeneratedCodeInfo.Annotation.encode(s.annotation[g],d.uint32(10).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.GeneratedCodeInfo;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.annotation&&P.annotation.length||(P.annotation=[]),P.annotation.push(f.google.protobuf.GeneratedCodeInfo.Annotation.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.annotation!=null&&s.hasOwnProperty("annotation")){if(!Array.isArray(s.annotation))return"annotation: array expected";for(var d=0;d<s.annotation.length;++d){var g=f.google.protobuf.GeneratedCodeInfo.Annotation.verify(s.annotation[d]);if(g)return"annotation."+g}}return null},S.fromObject=function(s){if(s instanceof f.google.protobuf.GeneratedCodeInfo)return s;var d=new f.google.protobuf.GeneratedCodeInfo;if(s.annotation){if(!Array.isArray(s.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");d.annotation=[];for(var g=0;g<s.annotation.length;++g){if(typeof s.annotation[g]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");d.annotation[g]=f.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(s.annotation[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.annotation=[]),s.annotation&&s.annotation.length){g.annotation=[];for(var P=0;P<s.annotation.length;++P)g.annotation[P]=f.google.protobuf.GeneratedCodeInfo.Annotation.toObject(s.annotation[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.GeneratedCodeInfo"},S.Annotation=function(){function v(s){if(this.path=[],s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}return v.prototype.path=p.emptyArray,v.prototype.sourceFile="",v.prototype.begin=0,v.prototype.end=0,v.prototype.semantic=0,v.create=function(d){return new v(d)},v.encode=function(d,g){if(g||(g=l.create()),d.path!=null&&d.path.length){g.uint32(10).fork();for(var P=0;P<d.path.length;++P)g.int32(d.path[P]);g.ldelim()}return d.sourceFile!=null&&Object.hasOwnProperty.call(d,"sourceFile")&&g.uint32(18).string(d.sourceFile),d.begin!=null&&Object.hasOwnProperty.call(d,"begin")&&g.uint32(24).int32(d.begin),d.end!=null&&Object.hasOwnProperty.call(d,"end")&&g.uint32(32).int32(d.end),d.semantic!=null&&Object.hasOwnProperty.call(d,"semantic")&&g.uint32(40).int32(d.semantic),g},v.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},v.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.protobuf.GeneratedCodeInfo.Annotation;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{if(R.path&&R.path.length||(R.path=[]),(I&7)===2)for(var j=d.uint32()+d.pos;d.pos<j;)R.path.push(d.int32());else R.path.push(d.int32());break}case 2:{R.sourceFile=d.string();break}case 3:{R.begin=d.int32();break}case 4:{R.end=d.int32();break}case 5:{R.semantic=d.int32();break}default:d.skipType(I&7);break}}return R},v.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},v.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.path!=null&&d.hasOwnProperty("path")){if(!Array.isArray(d.path))return"path: array expected";for(var g=0;g<d.path.length;++g)if(!p.isInteger(d.path[g]))return"path: integer[] expected"}if(d.sourceFile!=null&&d.hasOwnProperty("sourceFile")&&!p.isString(d.sourceFile))return"sourceFile: string expected";if(d.begin!=null&&d.hasOwnProperty("begin")&&!p.isInteger(d.begin))return"begin: integer expected";if(d.end!=null&&d.hasOwnProperty("end")&&!p.isInteger(d.end))return"end: integer expected";if(d.semantic!=null&&d.hasOwnProperty("semantic"))switch(d.semantic){default:return"semantic: enum value expected";case 0:case 1:case 2:break}return null},v.fromObject=function(d){if(d instanceof f.google.protobuf.GeneratedCodeInfo.Annotation)return d;var g=new f.google.protobuf.GeneratedCodeInfo.Annotation;if(d.path){if(!Array.isArray(d.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");g.path=[];for(var P=0;P<d.path.length;++P)g.path[P]=d.path[P]|0}switch(d.sourceFile!=null&&(g.sourceFile=String(d.sourceFile)),d.begin!=null&&(g.begin=d.begin|0),d.end!=null&&(g.end=d.end|0),d.semantic){default:if(typeof d.semantic=="number"){g.semantic=d.semantic;break}break;case"NONE":case 0:g.semantic=0;break;case"SET":case 1:g.semantic=1;break;case"ALIAS":case 2:g.semantic=2;break}return g},v.toObject=function(d,g){g||(g={});var P={};if((g.arrays||g.defaults)&&(P.path=[]),g.defaults&&(P.sourceFile="",P.begin=0,P.end=0,P.semantic=g.enums===String?"NONE":0),d.path&&d.path.length){P.path=[];for(var R=0;R<d.path.length;++R)P.path[R]=d.path[R]}return d.sourceFile!=null&&d.hasOwnProperty("sourceFile")&&(P.sourceFile=d.sourceFile),d.begin!=null&&d.hasOwnProperty("begin")&&(P.begin=d.begin),d.end!=null&&d.hasOwnProperty("end")&&(P.end=d.end),d.semantic!=null&&d.hasOwnProperty("semantic")&&(P.semantic=g.enums===String?f.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[d.semantic]===void 0?d.semantic:f.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[d.semantic]:d.semantic),P},v.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},v.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.protobuf.GeneratedCodeInfo.Annotation"},v.Semantic=function(){var s={},d=Object.create(s);return d[s[0]="NONE"]=0,d[s[1]="SET"]=1,d[s[2]="ALIAS"]=2,d}(),v}(),S}(),_.Duration=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.seconds=p.Long?p.Long.fromBits(0,0,!1):0,S.prototype.nanos=0,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.seconds!=null&&Object.hasOwnProperty.call(s,"seconds")&&d.uint32(8).int64(s.seconds),s.nanos!=null&&Object.hasOwnProperty.call(s,"nanos")&&d.uint32(16).int32(s.nanos),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.Duration;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.seconds=s.int64();break}case 2:{P.nanos=s.int32();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.seconds!=null&&s.hasOwnProperty("seconds")&&!p.isInteger(s.seconds)&&!(s.seconds&&p.isInteger(s.seconds.low)&&p.isInteger(s.seconds.high))?"seconds: integer|Long expected":s.nanos!=null&&s.hasOwnProperty("nanos")&&!p.isInteger(s.nanos)?"nanos: integer expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.Duration)return s;var d=new f.google.protobuf.Duration;return s.seconds!=null&&(p.Long?(d.seconds=p.Long.fromValue(s.seconds)).unsigned=!1:typeof s.seconds=="string"?d.seconds=parseInt(s.seconds,10):typeof s.seconds=="number"?d.seconds=s.seconds:typeof s.seconds=="object"&&(d.seconds=new p.LongBits(s.seconds.low>>>0,s.seconds.high>>>0).toNumber())),s.nanos!=null&&(d.nanos=s.nanos|0),d},S.toObject=function(s,d){d||(d={});var g={};if(d.defaults){if(p.Long){var P=new p.Long(0,0,!1);g.seconds=d.longs===String?P.toString():d.longs===Number?P.toNumber():P}else g.seconds=d.longs===String?"0":0;g.nanos=0}return s.seconds!=null&&s.hasOwnProperty("seconds")&&(typeof s.seconds=="number"?g.seconds=d.longs===String?String(s.seconds):s.seconds:g.seconds=d.longs===String?p.Long.prototype.toString.call(s.seconds):d.longs===Number?new p.LongBits(s.seconds.low>>>0,s.seconds.high>>>0).toNumber():s.seconds),s.nanos!=null&&s.hasOwnProperty("nanos")&&(g.nanos=s.nanos),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.Duration"},S}(),_.Any=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.type_url="",S.prototype.value=p.newBuffer([]),S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.type_url!=null&&Object.hasOwnProperty.call(s,"type_url")&&d.uint32(10).string(s.type_url),s.value!=null&&Object.hasOwnProperty.call(s,"value")&&d.uint32(18).bytes(s.value),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.Any;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.type_url=s.string();break}case 2:{P.value=s.bytes();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.type_url!=null&&s.hasOwnProperty("type_url")&&!p.isString(s.type_url)?"type_url: string expected":s.value!=null&&s.hasOwnProperty("value")&&!(s.value&&typeof s.value.length=="number"||p.isString(s.value))?"value: buffer expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.Any)return s;var d=new f.google.protobuf.Any;return s.type_url!=null&&(d.type_url=String(s.type_url)),s.value!=null&&(typeof s.value=="string"?p.base64.decode(s.value,d.value=p.newBuffer(p.base64.length(s.value)),0):s.value.length>=0&&(d.value=s.value)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.type_url="",d.bytes===String?g.value="":(g.value=[],d.bytes!==Array&&(g.value=p.newBuffer(g.value)))),s.type_url!=null&&s.hasOwnProperty("type_url")&&(g.type_url=s.type_url),s.value!=null&&s.hasOwnProperty("value")&&(g.value=d.bytes===String?p.base64.encode(s.value,0,s.value.length):d.bytes===Array?Array.prototype.slice.call(s.value):s.value),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.Any"},S}(),_.Empty=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.Empty;s.pos<g;){var R=s.uint32();switch(R>>>3){default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":null},S.fromObject=function(s){return s instanceof f.google.protobuf.Empty?s:new f.google.protobuf.Empty},S.toObject=function(){return{}},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.Empty"},S}(),_.Timestamp=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.seconds=p.Long?p.Long.fromBits(0,0,!1):0,S.prototype.nanos=0,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.seconds!=null&&Object.hasOwnProperty.call(s,"seconds")&&d.uint32(8).int64(s.seconds),s.nanos!=null&&Object.hasOwnProperty.call(s,"nanos")&&d.uint32(16).int32(s.nanos),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.protobuf.Timestamp;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.seconds=s.int64();break}case 2:{P.nanos=s.int32();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.seconds!=null&&s.hasOwnProperty("seconds")&&!p.isInteger(s.seconds)&&!(s.seconds&&p.isInteger(s.seconds.low)&&p.isInteger(s.seconds.high))?"seconds: integer|Long expected":s.nanos!=null&&s.hasOwnProperty("nanos")&&!p.isInteger(s.nanos)?"nanos: integer expected":null},S.fromObject=function(s){if(s instanceof f.google.protobuf.Timestamp)return s;var d=new f.google.protobuf.Timestamp;return s.seconds!=null&&(p.Long?(d.seconds=p.Long.fromValue(s.seconds)).unsigned=!1:typeof s.seconds=="string"?d.seconds=parseInt(s.seconds,10):typeof s.seconds=="number"?d.seconds=s.seconds:typeof s.seconds=="object"&&(d.seconds=new p.LongBits(s.seconds.low>>>0,s.seconds.high>>>0).toNumber())),s.nanos!=null&&(d.nanos=s.nanos|0),d},S.toObject=function(s,d){d||(d={});var g={};if(d.defaults){if(p.Long){var P=new p.Long(0,0,!1);g.seconds=d.longs===String?P.toString():d.longs===Number?P.toNumber():P}else g.seconds=d.longs===String?"0":0;g.nanos=0}return s.seconds!=null&&s.hasOwnProperty("seconds")&&(typeof s.seconds=="number"?g.seconds=d.longs===String?String(s.seconds):s.seconds:g.seconds=d.longs===String?p.Long.prototype.toString.call(s.seconds):d.longs===Number?new p.LongBits(s.seconds.low>>>0,s.seconds.high>>>0).toNumber():s.seconds),s.nanos!=null&&s.hasOwnProperty("nanos")&&(g.nanos=s.nanos),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.protobuf.Timestamp"},S}(),_}(),O.longrunning=function(){var _={};return _.Operations=function(){function S(v,s,d){r.rpc.Service.call(this,v,s,d)}return(S.prototype=Object.create(r.rpc.Service.prototype)).constructor=S,S.create=function(s,d,g){return new this(s,d,g)},Object.defineProperty(S.prototype.listOperations=function v(s,d){return this.rpcCall(v,f.google.longrunning.ListOperationsRequest,f.google.longrunning.ListOperationsResponse,s,d)},"name",{value:"ListOperations"}),Object.defineProperty(S.prototype.getOperation=function v(s,d){return this.rpcCall(v,f.google.longrunning.GetOperationRequest,f.google.longrunning.Operation,s,d)},"name",{value:"GetOperation"}),Object.defineProperty(S.prototype.deleteOperation=function v(s,d){return this.rpcCall(v,f.google.longrunning.DeleteOperationRequest,f.google.protobuf.Empty,s,d)},"name",{value:"DeleteOperation"}),Object.defineProperty(S.prototype.cancelOperation=function v(s,d){return this.rpcCall(v,f.google.longrunning.CancelOperationRequest,f.google.protobuf.Empty,s,d)},"name",{value:"CancelOperation"}),Object.defineProperty(S.prototype.waitOperation=function v(s,d){return this.rpcCall(v,f.google.longrunning.WaitOperationRequest,f.google.longrunning.Operation,s,d)},"name",{value:"WaitOperation"}),S}(),_.Operation=function(){function S(s){if(s)for(var d=Object.keys(s),g=0;g<d.length;++g)s[d[g]]!=null&&(this[d[g]]=s[d[g]])}S.prototype.name="",S.prototype.metadata=null,S.prototype.done=!1,S.prototype.error=null,S.prototype.response=null;var v;return Object.defineProperty(S.prototype,"result",{get:p.oneOfGetter(v=["error","response"]),set:p.oneOfSetter(v)}),S.create=function(d){return new S(d)},S.encode=function(d,g){return g||(g=l.create()),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&g.uint32(10).string(d.name),d.metadata!=null&&Object.hasOwnProperty.call(d,"metadata")&&f.google.protobuf.Any.encode(d.metadata,g.uint32(18).fork()).ldelim(),d.done!=null&&Object.hasOwnProperty.call(d,"done")&&g.uint32(24).bool(d.done),d.error!=null&&Object.hasOwnProperty.call(d,"error")&&f.google.rpc.Status.encode(d.error,g.uint32(34).fork()).ldelim(),d.response!=null&&Object.hasOwnProperty.call(d,"response")&&f.google.protobuf.Any.encode(d.response,g.uint32(42).fork()).ldelim(),g},S.encodeDelimited=function(d,g){return this.encode(d,g).ldelim()},S.decode=function(d,g){d instanceof o||(d=o.create(d));for(var P=g===void 0?d.len:d.pos+g,R=new f.google.longrunning.Operation;d.pos<P;){var I=d.uint32();switch(I>>>3){case 1:{R.name=d.string();break}case 2:{R.metadata=f.google.protobuf.Any.decode(d,d.uint32());break}case 3:{R.done=d.bool();break}case 4:{R.error=f.google.rpc.Status.decode(d,d.uint32());break}case 5:{R.response=f.google.protobuf.Any.decode(d,d.uint32());break}default:d.skipType(I&7);break}}return R},S.decodeDelimited=function(d){return d instanceof o||(d=new o(d)),this.decode(d,d.uint32())},S.verify=function(d){if(typeof d!="object"||d===null)return"object expected";var g={};if(d.name!=null&&d.hasOwnProperty("name")&&!p.isString(d.name))return"name: string expected";if(d.metadata!=null&&d.hasOwnProperty("metadata")){var P=f.google.protobuf.Any.verify(d.metadata);if(P)return"metadata."+P}if(d.done!=null&&d.hasOwnProperty("done")&&typeof d.done!="boolean")return"done: boolean expected";if(d.error!=null&&d.hasOwnProperty("error")){g.result=1;{var P=f.google.rpc.Status.verify(d.error);if(P)return"error."+P}}if(d.response!=null&&d.hasOwnProperty("response")){if(g.result===1)return"result: multiple values";g.result=1;{var P=f.google.protobuf.Any.verify(d.response);if(P)return"response."+P}}return null},S.fromObject=function(d){if(d instanceof f.google.longrunning.Operation)return d;var g=new f.google.longrunning.Operation;if(d.name!=null&&(g.name=String(d.name)),d.metadata!=null){if(typeof d.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");g.metadata=f.google.protobuf.Any.fromObject(d.metadata)}if(d.done!=null&&(g.done=!!d.done),d.error!=null){if(typeof d.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");g.error=f.google.rpc.Status.fromObject(d.error)}if(d.response!=null){if(typeof d.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");g.response=f.google.protobuf.Any.fromObject(d.response)}return g},S.toObject=function(d,g){g||(g={});var P={};return g.defaults&&(P.name="",P.metadata=null,P.done=!1),d.name!=null&&d.hasOwnProperty("name")&&(P.name=d.name),d.metadata!=null&&d.hasOwnProperty("metadata")&&(P.metadata=f.google.protobuf.Any.toObject(d.metadata,g)),d.done!=null&&d.hasOwnProperty("done")&&(P.done=d.done),d.error!=null&&d.hasOwnProperty("error")&&(P.error=f.google.rpc.Status.toObject(d.error,g),g.oneofs&&(P.result="error")),d.response!=null&&d.hasOwnProperty("response")&&(P.response=f.google.protobuf.Any.toObject(d.response,g),g.oneofs&&(P.result="response")),P},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/google.longrunning.Operation"},S}(),_.GetOperationRequest=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.GetOperationRequest;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name)?"name: string expected":null},S.fromObject=function(s){if(s instanceof f.google.longrunning.GetOperationRequest)return s;var d=new f.google.longrunning.GetOperationRequest;return s.name!=null&&(d.name=String(s.name)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name=""),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.GetOperationRequest"},S}(),_.ListOperationsRequest=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.filter="",S.prototype.pageSize=0,S.prototype.pageToken="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.filter!=null&&Object.hasOwnProperty.call(s,"filter")&&d.uint32(10).string(s.filter),s.pageSize!=null&&Object.hasOwnProperty.call(s,"pageSize")&&d.uint32(16).int32(s.pageSize),s.pageToken!=null&&Object.hasOwnProperty.call(s,"pageToken")&&d.uint32(26).string(s.pageToken),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(34).string(s.name),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.ListOperationsRequest;s.pos<g;){var R=s.uint32();switch(R>>>3){case 4:{P.name=s.string();break}case 1:{P.filter=s.string();break}case 2:{P.pageSize=s.int32();break}case 3:{P.pageToken=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name)?"name: string expected":s.filter!=null&&s.hasOwnProperty("filter")&&!p.isString(s.filter)?"filter: string expected":s.pageSize!=null&&s.hasOwnProperty("pageSize")&&!p.isInteger(s.pageSize)?"pageSize: integer expected":s.pageToken!=null&&s.hasOwnProperty("pageToken")&&!p.isString(s.pageToken)?"pageToken: string expected":null},S.fromObject=function(s){if(s instanceof f.google.longrunning.ListOperationsRequest)return s;var d=new f.google.longrunning.ListOperationsRequest;return s.name!=null&&(d.name=String(s.name)),s.filter!=null&&(d.filter=String(s.filter)),s.pageSize!=null&&(d.pageSize=s.pageSize|0),s.pageToken!=null&&(d.pageToken=String(s.pageToken)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.filter="",g.pageSize=0,g.pageToken="",g.name=""),s.filter!=null&&s.hasOwnProperty("filter")&&(g.filter=s.filter),s.pageSize!=null&&s.hasOwnProperty("pageSize")&&(g.pageSize=s.pageSize),s.pageToken!=null&&s.hasOwnProperty("pageToken")&&(g.pageToken=s.pageToken),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.ListOperationsRequest"},S}(),_.ListOperationsResponse=function(){function S(v){if(this.operations=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.operations=p.emptyArray,S.prototype.nextPageToken="",S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.operations!=null&&s.operations.length)for(var g=0;g<s.operations.length;++g)f.google.longrunning.Operation.encode(s.operations[g],d.uint32(10).fork()).ldelim();return s.nextPageToken!=null&&Object.hasOwnProperty.call(s,"nextPageToken")&&d.uint32(18).string(s.nextPageToken),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.ListOperationsResponse;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.operations&&P.operations.length||(P.operations=[]),P.operations.push(f.google.longrunning.Operation.decode(s,s.uint32()));break}case 2:{P.nextPageToken=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.operations!=null&&s.hasOwnProperty("operations")){if(!Array.isArray(s.operations))return"operations: array expected";for(var d=0;d<s.operations.length;++d){var g=f.google.longrunning.Operation.verify(s.operations[d]);if(g)return"operations."+g}}return s.nextPageToken!=null&&s.hasOwnProperty("nextPageToken")&&!p.isString(s.nextPageToken)?"nextPageToken: string expected":null},S.fromObject=function(s){if(s instanceof f.google.longrunning.ListOperationsResponse)return s;var d=new f.google.longrunning.ListOperationsResponse;if(s.operations){if(!Array.isArray(s.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");d.operations=[];for(var g=0;g<s.operations.length;++g){if(typeof s.operations[g]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");d.operations[g]=f.google.longrunning.Operation.fromObject(s.operations[g])}}return s.nextPageToken!=null&&(d.nextPageToken=String(s.nextPageToken)),d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.operations=[]),d.defaults&&(g.nextPageToken=""),s.operations&&s.operations.length){g.operations=[];for(var P=0;P<s.operations.length;++P)g.operations[P]=f.google.longrunning.Operation.toObject(s.operations[P],d)}return s.nextPageToken!=null&&s.hasOwnProperty("nextPageToken")&&(g.nextPageToken=s.nextPageToken),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.ListOperationsResponse"},S}(),_.CancelOperationRequest=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.CancelOperationRequest;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name)?"name: string expected":null},S.fromObject=function(s){if(s instanceof f.google.longrunning.CancelOperationRequest)return s;var d=new f.google.longrunning.CancelOperationRequest;return s.name!=null&&(d.name=String(s.name)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name=""),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.CancelOperationRequest"},S}(),_.DeleteOperationRequest=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.DeleteOperationRequest;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name)?"name: string expected":null},S.fromObject=function(s){if(s instanceof f.google.longrunning.DeleteOperationRequest)return s;var d=new f.google.longrunning.DeleteOperationRequest;return s.name!=null&&(d.name=String(s.name)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name=""),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.DeleteOperationRequest"},S}(),_.WaitOperationRequest=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.name="",S.prototype.timeout=null,S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&d.uint32(10).string(s.name),s.timeout!=null&&Object.hasOwnProperty.call(s,"timeout")&&f.google.protobuf.Duration.encode(s.timeout,d.uint32(18).fork()).ldelim(),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.WaitOperationRequest;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.name=s.string();break}case 2:{P.timeout=f.google.protobuf.Duration.decode(s,s.uint32());break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!p.isString(s.name))return"name: string expected";if(s.timeout!=null&&s.hasOwnProperty("timeout")){var d=f.google.protobuf.Duration.verify(s.timeout);if(d)return"timeout."+d}return null},S.fromObject=function(s){if(s instanceof f.google.longrunning.WaitOperationRequest)return s;var d=new f.google.longrunning.WaitOperationRequest;if(s.name!=null&&(d.name=String(s.name)),s.timeout!=null){if(typeof s.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");d.timeout=f.google.protobuf.Duration.fromObject(s.timeout)}return d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.name="",g.timeout=null),s.name!=null&&s.hasOwnProperty("name")&&(g.name=s.name),s.timeout!=null&&s.hasOwnProperty("timeout")&&(g.timeout=f.google.protobuf.Duration.toObject(s.timeout,d)),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.WaitOperationRequest"},S}(),_.OperationInfo=function(){function S(v){if(v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.responseType="",S.prototype.metadataType="",S.create=function(s){return new S(s)},S.encode=function(s,d){return d||(d=l.create()),s.responseType!=null&&Object.hasOwnProperty.call(s,"responseType")&&d.uint32(10).string(s.responseType),s.metadataType!=null&&Object.hasOwnProperty.call(s,"metadataType")&&d.uint32(18).string(s.metadataType),d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.longrunning.OperationInfo;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.responseType=s.string();break}case 2:{P.metadataType=s.string();break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){return typeof s!="object"||s===null?"object expected":s.responseType!=null&&s.hasOwnProperty("responseType")&&!p.isString(s.responseType)?"responseType: string expected":s.metadataType!=null&&s.hasOwnProperty("metadataType")&&!p.isString(s.metadataType)?"metadataType: string expected":null},S.fromObject=function(s){if(s instanceof f.google.longrunning.OperationInfo)return s;var d=new f.google.longrunning.OperationInfo;return s.responseType!=null&&(d.responseType=String(s.responseType)),s.metadataType!=null&&(d.metadataType=String(s.metadataType)),d},S.toObject=function(s,d){d||(d={});var g={};return d.defaults&&(g.responseType="",g.metadataType=""),s.responseType!=null&&s.hasOwnProperty("responseType")&&(g.responseType=s.responseType),s.metadataType!=null&&s.hasOwnProperty("metadataType")&&(g.metadataType=s.metadataType),g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.longrunning.OperationInfo"},S}(),_}(),O.rpc=function(){var _={};return _.Status=function(){function S(v){if(this.details=[],v)for(var s=Object.keys(v),d=0;d<s.length;++d)v[s[d]]!=null&&(this[s[d]]=v[s[d]])}return S.prototype.code=0,S.prototype.message="",S.prototype.details=p.emptyArray,S.create=function(s){return new S(s)},S.encode=function(s,d){if(d||(d=l.create()),s.code!=null&&Object.hasOwnProperty.call(s,"code")&&d.uint32(8).int32(s.code),s.message!=null&&Object.hasOwnProperty.call(s,"message")&&d.uint32(18).string(s.message),s.details!=null&&s.details.length)for(var g=0;g<s.details.length;++g)f.google.protobuf.Any.encode(s.details[g],d.uint32(26).fork()).ldelim();return d},S.encodeDelimited=function(s,d){return this.encode(s,d).ldelim()},S.decode=function(s,d){s instanceof o||(s=o.create(s));for(var g=d===void 0?s.len:s.pos+d,P=new f.google.rpc.Status;s.pos<g;){var R=s.uint32();switch(R>>>3){case 1:{P.code=s.int32();break}case 2:{P.message=s.string();break}case 3:{P.details&&P.details.length||(P.details=[]),P.details.push(f.google.protobuf.Any.decode(s,s.uint32()));break}default:s.skipType(R&7);break}}return P},S.decodeDelimited=function(s){return s instanceof o||(s=new o(s)),this.decode(s,s.uint32())},S.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.code!=null&&s.hasOwnProperty("code")&&!p.isInteger(s.code))return"code: integer expected";if(s.message!=null&&s.hasOwnProperty("message")&&!p.isString(s.message))return"message: string expected";if(s.details!=null&&s.hasOwnProperty("details")){if(!Array.isArray(s.details))return"details: array expected";for(var d=0;d<s.details.length;++d){var g=f.google.protobuf.Any.verify(s.details[d]);if(g)return"details."+g}}return null},S.fromObject=function(s){if(s instanceof f.google.rpc.Status)return s;var d=new f.google.rpc.Status;if(s.code!=null&&(d.code=s.code|0),s.message!=null&&(d.message=String(s.message)),s.details){if(!Array.isArray(s.details))throw TypeError(".google.rpc.Status.details: array expected");d.details=[];for(var g=0;g<s.details.length;++g){if(typeof s.details[g]!="object")throw TypeError(".google.rpc.Status.details: object expected");d.details[g]=f.google.protobuf.Any.fromObject(s.details[g])}}return d},S.toObject=function(s,d){d||(d={});var g={};if((d.arrays||d.defaults)&&(g.details=[]),d.defaults&&(g.code=0,g.message=""),s.code!=null&&s.hasOwnProperty("code")&&(g.code=s.code),s.message!=null&&s.hasOwnProperty("message")&&(g.message=s.message),s.details&&s.details.length){g.details=[];for(var P=0;P<s.details.length;++P)g.details[P]=f.google.protobuf.Any.toObject(s.details[P],d)}return g},S.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},S.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/google.rpc.Status"},S}(),_}(),O}(),f})})(protos$1);var protosExports=protos$1.exports;Object.defineProperty(src$6,"__esModule",{value:!0});src$6.protos=src$6.TextToSpeechLongAudioSynthesizeClient=TextToSpeechClient_1=src$6.TextToSpeechClient=src$6.v1beta1=src$6.v1=void 0;const v1=v1$3;src$6.v1=v1;const v1beta1=v1beta1$1;src$6.v1beta1=v1beta1;const TextToSpeechClient=v1.TextToSpeechClient;var TextToSpeechClient_1=src$6.TextToSpeechClient=TextToSpeechClient;const TextToSpeechLongAudioSynthesizeClient=v1.TextToSpeechLongAudioSynthesizeClient;src$6.TextToSpeechLongAudioSynthesizeClient=TextToSpeechLongAudioSynthesizeClient;src$6.default={v1,v1beta1,TextToSpeechClient,TextToSpeechLongAudioSynthesizeClient};const protos=protosExports;src$6.protos=protos;const SSMLGENDERS=["NEUTRAL","FEMALE","MALE"];async function GoogleCloudTTSGenerator(e,r){if(typeof window>"u"){let o=e.speech,l=e.language||r.language,p=bcp47language.includes(l)?l:"en-US",f=SSMLGENDERS.includes(r.ssmlGender)?r.ssmlGender:"NEUTRAL",O=e.pitch,_=e.speechRate||r.speechRate||1;const S={input:{text:o},voice:{languageCode:p,ssmlGender:f},audioConfig:{audioEncoding:(r==null?void 0:r.audioEncoding)||"MULAW",speakingRate:_,pitch:O}},v=new TextToSpeechClient_1,[s]=await v.synthesizeSpeech(S);return s.audioContent}else return console.warn("This function can only be run on node server environment"),null}const SampleRate$1=44100,BufferChannels$1=2;class AudioPrimitiveBuffer{constructor(r,o){this.length=r,this.sampleRate=o||SampleRate$1,this.compiled=!1,this.compiledBuffer,this.primitive=[]}add(r,o){this.primitive.push({at:r,data:o})}async compile(){let r=Math.max(...this.primitive.map(f=>f.data.numberOfChannels||BufferChannels$1))||BufferChannels$1;r<1?r=BufferChannels$1:r>32&&(r=32);let o=this.length?this.length*this.sampleRate:this.primitive.map(f=>f.data.length).reduce((f,O)=>f+O,0);o==0&&(o=this.sampleRate*.1);let l=new audioContextConstructor;this.compiledBuffer=l.createBuffer(r,o,this.sampleRate);let p;for(const f of this.primitive){let O=Math.round((f.at||0)*44100);f.at==="next"&&(O=p||0);for(let _=0;_<r;_++){let S=this.compiledBuffer.getChannelData(_);f.data.getChannelData(_%f.data.numberOfChannels).forEach((s,d)=>{S[O+d]+=s})}p=O+f.data.length}return this.compiled=!0,this.compiledBuffer}}function concatenateBuffers(e){let r=e.map(f=>(f==null?void 0:f.length)||0).reduce((f,O)=>f+O,0),o=new audioContextConstructor,l=o.createBuffer(2,r,o.sampleRate),p=0;for(const f of e){for(let O=0;O<2;O++){let _=l.getChannelData(O),S;f.numberOfChannels==1?S=f.getChannelData(0):f.numberOfChannels==2&&(S=f.getChannelData(1));for(let v=0;v<f.length;v++)_[p+v]=S[v]}p+=f.length}return l}function makeContext(){return new AudioContext}const SampleRate=44100,BufferChannels=2;function makeOfflineContext(e){return new OfflineAudioContext(BufferChannels,SampleRate*e,SampleRate)}function setCurrentTime(e){return e.currentTime}const OscTypes=["sine","sawtooth","square","triangle"];function makeInstrument(e,r,o,l,p,f,O){var _,S,v;if(!r||r==="default")return e.createOscillator();if(OscTypes.includes(r)){let s=e.createOscillator();return s.type=r,s}else if(NoiseTypes.includes(r)){let s=O||f.duration;return(f==null?void 0:f.detune)>0&&(s+=s*((f==null?void 0:f.detune)/600)),makeNoiseNode(e,r,s*1.1)}else if(MultiNoteInstruments.includes(r)){let s=determineNoteRange(f.pitch||DefaultFrequency,{}),d=o[r]["C"+s.octave],g=e.createBufferSource();return g.buffer=d,g.detune.value=s.detune,g}else if(SingleNoteInstruments.includes(r)){let s=o[r].mono,d=e.createBufferSource();return d.buffer=s,d}else if((_=Object.keys(p||{}))!=null&&_.includes(r)){let s=new Float32Array(p[r].real),d=new Float32Array(p[r].imag);const g=e.createPeriodicWave(s,d,{disableNormalization:p[r].disableNormalization||!1});let P=e.createOscillator();return P.setPeriodicWave(g),P}else if((S=Object.keys(o||{}))!=null&&S.includes(r)){let s;if(o[r].multiNote){let g=determineNoteRange(f.pitch,{});s=o[r]["C"+(g==null?void 0:g.octave)]}else s=o[r].mono;let d=e.createBufferSource();return d.buffer=s,o[r].multiNote&&(d.detune.value=note.detune),d}else if((v=Object.keys(l||{}))!=null&&v.includes(r))return makeSynth(e,l[r])}const DefaultFrequency=523.25,Stopped$1="stopped",Tone="tone",Speech="speech";let ErieGlobalControl,ErieGlobalState;function setErieGlobalControl(e){ErieGlobalControl=e}const RamperNames={abrupt:"setValueAtTime",linear:"linearRampToValueAtTime",linear:"exponentialRampToValueAtTime"};async function playAbsoluteDiscreteTonesAlt(e,r,o,l,p,f,O,_){ErieGlobalState=void 0,setErieGlobalControl({type:Tone,player:e});let S=r.sort((P,R)=>P.time+P.duration-(R.time+R.duration));S[0].isFirst=!0,S[S.length-1].isLast=!0,o.subpart=!0;let v=S[S.length-1].time+S[S.length-1].duration,s=genRid();sendToneStartEvent({sid:s});let d=new AudioContext;const g=d.createGain();return g.connect(d.destination),g.gain.value=0,new Promise(async(P,R)=>{let I=(o==null?void 0:o.context_time)!==void 0?o.context_time:setCurrentTime(e);for(let j of S){if(ErieGlobalState===Stopped$1)break;const L=makeInstrument(d);L.connect(g),L.start(I+j.time),L.stop(I+j.time+.01),L.onended=async()=>{var G;o!=null&&o.falseTiming&&(ErieGlobalControl==null?void 0:ErieGlobalControl.type)===Speech&&((G=ErieGlobalControl==null?void 0:ErieGlobalControl.player)==null||G.cancel()),await playSingleTone(e,j,o,l,p,f,O,_),j.isLast&&(sendToneFinishEvent({sid:s}),P())}}o.tick&&playTick(e,o.tick,v,I+.01,I+v+.01,_)})}async function playAbsoluteContinuousTones(e,r,o,l,p,f,O,_){var ee;ErieGlobalState=void 0;let S=r.sort((ie,oe)=>ie.time+ie.duration-(oe.time+oe.duration));S[0].isFirst=!0,S[S.length-1].isLast=!0;let v=S[S.length-1].time+S[S.length-1].duration,s=e,d=!1;((ee=_==null?void 0:_.constructor)==null?void 0:ee.name)===AudioPrimitiveBuffer.name&&(d=!0,s=makeOfflineContext(v),_.length=v),setErieGlobalControl({type:Tone,player:s});let g={};o.ramp&&Object.keys(o.ramp||{}).forEach(ie=>{let oe=RamperNames[o.ramp[ie]];ie===TAPCNT_chn||ie===TAPSPD_chn?g.tap=oe:g[ie]=oe});let P={},R={},I={};for(const ie of O)PresetFilters[ie]?(I[ie]=new PresetFilters[ie].filter(s),P[ie]=PresetFilters[ie].encoder,R[ie]=PresetFilters[ie].finisher):ErieFilters[ie]&&(I[ie]=new ErieFilters[ie].filter(s),P[ie]=ErieFilters[ie].encoder,R[ie]=ErieFilters[ie].finisher);let j=s.destination;for(const ie of O){let oe=I[ie];oe&&(oe.connect(j),oe.initialize(s.currentTime,v),j=oe.destination)}const L=s.createGain();L.connect(j);const G=s.createStereoPanner();G.connect(L);let J=genRid();sendToneStartEvent({sid:J});const Q=makeInstrument(s,o==null?void 0:o.instrument_type,l,p,f,S[0],v);Q.connect(G);let W,Z=(o==null?void 0:o.context_time)!==void 0?o.context_time:setCurrentTime(s);for(let ie of S){ie.isFirst?((Q==null?void 0:Q.constructor.name)===OscillatorNode.name?Q.frequency.setValueAtTime(ie.pitch||DefaultFrequency,Z+ie.time):(Q==null?void 0:Q.constructor.name)===ErieSynth.name&&(Q.frequency.setValueAtTime(ie.pitch||DefaultFrequency,Z+ie.time),Q.type===FM&&ie.modulation!==void 0&&ie.modulation>0?Q.modulator.frequency.setValueAtTime(Q.modulatorVolume/ie.modulation,Z+ie.time):Q.type===AM&&ie.modulation!==void 0&&Q.modulatorGain.gain.setValueAtTime((ie.loudness||1)*ie.modulation,Z+ie.time),ie.harmonicity!==void 0&&ie.harmonicity>0&&Q.modulator.frequency.setValueAtTime((ie.pitch||Q.carrierPitch||DefaultFrequency)*ie.harmonicity,Z+ie.time),Q.envelope.gain.cancelScheduledValues(Z+ie.time),Q.envelope.gain.setValueAtTime(0,Z+ie.time),Q.envelope.gain.linearRampToValueAtTime(1,Z+ie.time+(Q.attackTime||0)),Q.decayTime&&Q.envelope.gain.linearRampToValueAtTime(Q.sustain||1,Z+ie.time+(Q.attackTime||0)+(Q.decayTime||0))),ie.detune&&Q.detune&&Q.detune.setValueAtTime(ie.detune||0,Z+ie.time),ie.loudness!==void 0&&L.gain.setValueAtTime(ie.loudness,Z+ie.time),ie.pan!==void 0&&G.pan.setTargetAtTime(ie.pan,Z+ie.time,.35),W=Z+ie.time):((Q==null?void 0:Q.constructor.name)===OscillatorNode.name?g.pitch?Q.frequency[g.pitch](ie.pitch||DefaultFrequency,Z+ie.time):Q.frequency.linearRampToValueAtTime(ie.pitch||DefaultFrequency,Z+ie.time):(Q==null?void 0:Q.constructor.name)===ErieSynth.name&&(g.pitch?Q.frequency[g.pitch](ie.pitch||DefaultFrequency,Z+ie.time):Q.frequency.linearRampToValueAtTime(ie.pitch||DefaultFrequency,Z+ie.time),Q.type===FM&&ie.modulation!==void 0&&ie.modulation>0?g.modulation?Q.modulator.frequency[g.modulation](Q.modulatorVolume/ie.modulation,Z+ie.time):Q.modulator.frequency.linearRampToValueAtTime(Q.modulatorVolume/ie.modulation,Z+ie.time):Q.type===AM&&ie.modulation!==void 0&&(g.modulation?Q.modulatorGain.gain[g.modulation]((ie.loudness||1)*ie.modulation,Z+ie.time):Q.modulatorGain.gain.linearRampToValueAtTime((ie.loudness||1)*ie.modulation,Z+ie.time)),ie.harmonicity!==void 0&&ie.harmonicity>0&&(g.harmonicity?Q.modulator.frequency[g.harmonicity]((ie.pitch||Q.carrierPitch||DefaultFrequency)*ie.harmonicity,Z+ie.time):Q.modulator.frequency.linearRampToValueAtTime((ie.pitch||Q.carrierPitch||DefaultFrequency)*ie.harmonicity,Z+ie.time))),ie.loudness!==void 0&&(g.loudness?L.gain[g.loudness](ie.loudness<=0?1e-10:ie.loudness,Z+ie.time):L.gain.linearRampToValueAtTime(ie.loudness,Z+ie.time)),ie.pan!==void 0&&G.pan.linearRampToValueAtTime(ie.pan,Z+ie.time),ie.isLast&&(L.gain.linearRampToValueAtTime(ie.loudness!==void 0?ie.loudness:1,Z+ie.time+.05),L.gain.linearRampToValueAtTime(0,Z+ie.time+.15),(Q==null?void 0:Q.constructor.name)===ErieSynth.name&&(Q.envelope.gain.cancelScheduledValues(Z+ie.time),Q.envelope.gain.setValueAtTime(1,Z+ie.time+ie.duration),Q.envelope.gain.linearRampToValueAtTime(0,Z+ie.time+(ie.duration||0)+(Q.attackTime||0)+(Q.releaseTime||0)))),ie.detune&&Q.detune&&(g.detune?Q.detune[g.detune](ie.detune||0,Z+ie.time):Q.detune.linearRampToValueAtTime(ie.detune||0,Z+ie.time)));for(const oe of O){let se=P[oe],le=R[oe];se&&se(I[oe],ie,Z+ie.time,g),le&&le(I[oe],ie,Z+ie.time,ie.duration+ie.postReverb+(Q.attackTime||0)+(Q.releaseTime||0),g)}}const te=makeTick(s,o.tick,v);if(emitNotePlayEvent("tone",S[0]),d&&_){te&&(te.start(),te.stop(v)),Q.start(),Q.stop(v);let ie=await s.startRendering();_.add(0,ie),Q.onended=oe=>{setErieGlobalControl(void 0),ErieGlobalState=void 0,emitNoteStopEvent("tone",S[0]),sendToneFinishEvent({sid:J})}}else return new Promise((ie,oe)=>{te&&(te.start(W),te.stop(Z+v)),Q.start(W),Q.stop(Z+v),Q.onended=se=>{setErieGlobalControl(void 0),ErieGlobalState=void 0,emitNoteStopEvent("tone",S[0]),sendToneFinishEvent({sid:J}),ie()}})}async function playSingleTone(e,r,o,l,p,f,O,_){var v,s;if(o!=null&&o.subpart&&ErieGlobalState===Stopped$1)return;o!=null&&o.subpart||(ErieGlobalState=void 0),ErieGlobalState=void 0,setErieGlobalControl({type:Tone,player:e});let S;if(o.subpart||(S=genRid(),sendToneStartEvent({sid:S})),r.tap!==void 0&&((s=(v=r.tap)==null?void 0:v.pattern)==null?void 0:s.constructor.name)==="Array"){let d=(o==null?void 0:o.context_time)!==void 0?o.context_time:setCurrentTime(e),g=deepcopy(r),P=1,R=0,I=0;r.tap.pattern.length==0&&(await playPause((r.duration||.2)*1e3),sendToneFinishEvent({sid:S})),emitNotePlayEvent("tone",r);for(const j of r.tap.pattern)P===1?(g.duration=j,j>0&&await __playSingleTone(e,d+R,g,o,l,p,f,O,_),P=0):(await playPause(j*1e3),P=1),R+=j,I++,I==r.tap.pattern.length&&(o.subpart||sendToneFinishEvent({sid:S}));emitNoteStopEvent("tone",r);return}else{let d=(o==null?void 0:o.context_time)!==void 0?o.context_time:setCurrentTime(e);emitNotePlayEvent("tone",r),await __playSingleTone(e,d,r,o,l,p,f,O,_),emitNoteStopEvent("tone",r),o.subpart||sendToneFinishEvent({sid:S});return}}async function __playSingleTone(e,r,o,l,p,f,O,_,S){var J;let v=e,s=!1;((J=S==null?void 0:S.constructor)==null?void 0:J.name)===AudioPrimitiveBuffer.name&&(s=!0,v=makeOfflineContext(o.duration),r=0);let d={},g={},P={};for(const Q of _)PresetFilters[Q]?(P[Q]=new PresetFilters[Q].filter(v),d[Q]=PresetFilters[Q].encoder,g[Q]=PresetFilters[Q].finisher):ErieFilters[Q]&&(P[Q]=new ErieFilters[Q].filter(v),d[Q]=ErieFilters[Q].encoder,g[Q]=ErieFilters[Q].finisher);let R=v.destination;for(const Q of _){let W=P[Q];W&&(W.connect(R),W.initialize(r,o.duration),R=W.destination)}const I=v.createGain();I.connect(R);const j=v.createStereoPanner();j.connect(I);let L=o.timbre||(l==null?void 0:l.instrument_type);const G=makeInstrument(v,L,p,f,O,o);G.connect(j),(G==null?void 0:G.constructor.name)===OscillatorNode.name?G.frequency.setValueAtTime(o.pitch||G.carrierPitch||DefaultFrequency,r):(G==null?void 0:G.constructor.name)===ErieSynth.name&&(G.frequency.setValueAtTime(o.pitch||G.carrierPitch||DefaultFrequency,r),G.type===FM&&o.modulation!==void 0&&o.modulation>0?G.modulator.frequency.setValueAtTime(G.modulatorVolume/o.modulation,r):G.type===AM&&o.modulation!==void 0&&o.modulation>0&&G.modulatorGain.gain.setValueAtTime((o.loudness||1)*o.modulation,r),o.harmonicity!==void 0&&o.harmonicity>0?(G.modulator.frequency.cancelScheduledValues(r),G.modulator.frequency.setValueAtTime((o.pitch||G.carrierPitch||DefaultFrequency)*o.harmonicity,r)):o.harmonicity===void 0&&(G.modulator.frequency.cancelScheduledValues(r),G.modulator.frequency.setValueAtTime(o.pitch,r)),G.envelope.gain.cancelScheduledValues(r),G.envelope.gain.setValueAtTime(0,r),G.envelope.gain.linearRampToValueAtTime(1,r+(G.attackTime||0)),G.decayTime&&G.envelope.gain.linearRampToValueAtTime(G.sustain||1,r+o.time+(G.attackTime||0)+(G.decayTime||0)),G.envelope.gain.setValueAtTime(G.sustain||1,r+o.duration),G.envelope.gain.linearRampToValueAtTime(0,r+o.duration+(G.attackTime||0)+(G.releaseTime||0))),o.detune&&G.detune&&G.detune.setValueAtTime(o.detune||0,r),o.loudness!==void 0&&I.gain.setValueAtTime(o.loudness,r),o.postReverb?(I.gain.setTargetAtTime(0,r+o.duration*.95,.015),I.gain.setTargetAtTime(.45,r+o.duration,.015),I.gain.exponentialRampToValueAtTime(.02,r+(o.duration+o.postReverb)*.95)):o.postReverb=0;for(const Q of _){let W=d[Q],Z=g[Q];W&&W(P[Q],o,r),Z&&Z(P[Q],o,r+o.time,r+(o.duration+o.postReverb+(G.attackTime||0)+(G.releaseTime||0)))}if(I.gain.setTargetAtTime(0,r+(o.duration+o.postReverb+(G.attackTime||0)+(G.releaseTime||0))*.95,.015),o.pan!==void 0&&j.pan.setValueAtTime(o.pan,r),s&&S){G.start(),G.stop(o.duration+(o.postReverb||0));let Q=await v.startRendering();o.time!=="after_previous"?S.add(o.time,Q):S.add("next",Q)}else return new Promise((Q,W)=>{G.start(r),G.onended=Z=>{Q()},G.stop(r+o.duration+o.postReverb)})}async function playSingleSpeech(e,r,o,l){if(r!=null&&r.subpart&&ErieGlobalState===Stopped$1)return;r!=null&&r.subpart||(ErieGlobalState=void 0);let p=genRid();r.subpart||sendSpeechStartEvent({sound:e,sid:p});let f=()=>{emitNotePlayEvent("speech",e)},O=()=>{window.removeEventListener("keypress",stop),setErieGlobalControl(void 0),ErieGlobalState=void 0,emitNoteStopEvent("speech",e),r.subpart||sendSpeechFinishEvent({sid:p})};if(typeof window<"u"&&o&&typeof l=="function"){let _=await l({text:e,config:r}),S=new AudioContext;o.add("next",await S.decodeAudioData(_))}else if(typeof window>"u"&&r.speechGenerator==="GoogleCloudTTS")await GoogleCloudTTSGenerator(e,r);else return typeof window<"u"&&r.speechGenerator==="GoogleCloudTTS"&&console.warn("Google Cloud TTS API can only be used on Node.js Server environment."),new Promise((_,S)=>{WebSpeechGenerator(e,r,f,O,_)})}async function playRelativeDiscreteTonesAndSpeeches(e,r,o,l,p,f,O,_,S){ErieGlobalState=void 0;let v=deepcopy(o);v.subpart=!0;for(const s of r){if(ErieGlobalState===Stopped$1)break;let d=genRid();s.speech?(sendSpeechStartEvent({sound:s,sid:d}),await playSingleSpeech(s,v,_,S),sendSpeechFinishEvent({sid:d})):(sendToneStartEvent({sid:d}),await playSingleTone(e,s,v,l,p,f,O,_),sendToneFinishEvent({sid:d}))}ErieGlobalState=void 0}let ErieGlobalPlayerEvents=new Map;function setPlayerEvents(e,r){if(typeof window<"u"){let o=function(l){l.key=="x"&&(ErieGlobalState=Stopped$1,e.state=Stopped$1,(ErieGlobalControl==null?void 0:ErieGlobalControl.type)===Tone?ErieGlobalControl.player.close():(ErieGlobalControl==null?void 0:ErieGlobalControl.type)===Speech&&ErieGlobalControl.player.cancel(),notifyStop(r))};window.addEventListener("keypress",o),ErieGlobalPlayerEvents.set("stop-event",o)}}function clearPlayerEvents(){if(typeof window<"u"){let e=ErieGlobalPlayerEvents.get("stop-event");window.removeEventListener("keypress",e),ErieGlobalPlayerEvents.delete("stop-event")}}function playPause(e,r){return new Promise(o=>{setTimeout(o,e)})}const bcp47language=["ar-SA","bn-BD","bn-IN","cs-CZ","da-DK","de-AT","de-CH","de-DE","el-GR","en-AU","en-CA","en-GB","en-IE","en-IN","en-NZ","en-US","en-ZA","es-AR","es-CL","es-CO","es-ES","es-MX","es-US","fi-FI","fr-BE","fr-CA","fr-CH","fr-FR","he-IL","hi-IN","hu-HU","id-ID","it-CH","it-IT","ja-JP","ko-KR","nl-BE","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","ta-IN","ta-LK","th-TH","tr-TR","zh-CN","zh-HK","zh-TW"];function isJSON(e){try{return JSON.parse(e),!0}catch{return!1}}const TSV_format=/^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^\t'"\s\\]*(?:\s+[^\t'"\s\\]+)*)\s*(?:\t\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^\t\'"\s\\]*(?:\s+[^\t'"\s\\]+)*)\s*)*$/gi;function isTSV(e){return e.match(TSV_format)}const CSV_format=/^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/gi;function isCSV(e){return e.match(CSV_format)}function jType(e){return e==null?void 0:e.constructor.name}function detectType(e){return e.every(r=>(r==null?void 0:r.constructor.name)==="Number")?QUANT:ORD}function makeParamFilter(e){return jType(e)!=="String"?null:(e.includes("datum.")?"datum":"d")==="datum"?Function("datum","return ("+e+");"):Function("d","return ("+e+");")}const tapEndBumper=.1;function makeTapPattern(e,r,o,l,p,f,O){if(e!==void 0&&r===TAPCNT_chn){!o&&!O?o=DEF_TAPPING_DUR:!o&&O&&O.converter&&(o=DEF_TAPPING_DUR_BEAT);let _;o=round(o,-2),(l==null?void 0:l.length)!==void 0?_=l==null?void 0:l.length:(l==null?void 0:l.rate)!==void 0?_=o*(l==null?void 0:l.rate):_=o*DEF_TAP_PAUSE_RATE,_=round(_,-2);let S=[],v=0,s=`[${o}, ${_}] x ${e} `;for(let d=0;d<e;d++)S.push(o),v+=o,d<e-1?(v+=_,S.push(_)):(v+=tapEndBumper,S.push(tapEndBumper));return O!=null&&O.converter&&(S=S.map(O==null?void 0:O.converter)),{pattern:S,totalLength:v,patternString:s}}else if(e!==void 0&&r===TAPSPD_chn){!o&&!O?o=DEF_TAP_DUR:!o&&O&&O.converter&&(o=DEF_TAP_DUR_BEAT);let _=round(e*o,0),S=_*p,v,s=[],d=0;if(_==0)v=o,s=[0,v],d+=v;else if(_==1)!f||f===SINGLE_TAP_MIDDLE?(v=(o-p)/2,v=round(v,-2),s=[0,v,p,v],d+=v+p+v):(v=o-p,v=round(v,-2),f===SINGLE_TAP_START?(s=[p,v],d+=v+p):f===SINGLE_TAP_START&&(s=[0,v,p,tapEndBumper],d+=v+p+tapEndBumper));else{v=(o-S)/(_-1),v=round(v,-2);for(let P=0;P<_;P++)s.push(p),d+=p,P<_-1?(d+=v,s.push(v)):(d+=tapEndBumper,s.push(tapEndBumper))}let g=`[${p}, ${v}] x ${_}`;return O!=null&&O.converter&&(s=s.map(O==null?void 0:O.converter)),{pattern:s,totalLength:d,patternString:g}}else if(e!==void 0&&r==="both"){let _=round(e.count,0),S=e.speed;!o&&!O?o=DEF_TAPPING_DUR:!o&&O&&O.converter&&(o=DEF_TAPPING_DUR_BEAT);let v=round(1/S,-2);O||(v<.12&&(v=.12),o>v&&(o=round(v*.85,-2)));let s=round(v-o,-2),d=[],g=0,P=`[${o}, ${s}] x ${_} `;for(let R=0;R<_;R++)d.push(o),g+=o,R<_-1?(g+=s,d.push(s)):(g+=tapEndBumper,d.push(tapEndBumper));return O!=null&&O.converter&&(d=d.map(O==null?void 0:O.converter)),{pattern:d,totalLength:g,patternString:P}}else return{pattern:[],totalLength:0,patternString:"[0, 0] x 0"}}function mergeTapPattern(e,r){return e&&r?makeTapPattern({count:e==null?void 0:e.value,speed:r==null?void 0:r.value},"both",e.tapLength,void 0,r.tappingUnit,r.singleTappingPosition,e.beat):e?makeTapPattern(e==null?void 0:e.value,TAPCNT_chn,e.tapLength,e.pause,void 0,void 0,e.beat):r?makeTapPattern(r==null?void 0:r.value,TAPSPD_chn,r.tapDuration,void 0,r.tappingUnit,r.singleTappingPosition,r.beat):void 0}const noteScale=[{c:16.35,cs:17.32,d:18.35,ds:19.45,e:20.6,f:21.83,fs:23.12,g:24.5,gs:25.96,a:27.5,as:29.14,b:30.87},{c:32.7,cs:34.65,d:36.71,ds:38.89,e:41.2,f:43.65,fs:46.25,g:49,gs:51.91,a:55,as:58.27,b:61.74},{c:65.41,cs:69.3,d:73.42,ds:77.78,e:82.41,f:87.31,fs:92.5,g:98,gs:103.83,a:110,as:116.54,b:123.47},{c:130.81,cs:138.59,d:146.83,ds:155.56,e:164.81,f:174.61,fs:185,g:196,gs:207.65,a:220,as:233.08,b:246.94},{c:261.63,cs:277.18,d:293.66,ds:311.13,e:329.63,f:349.23,fs:369.99,g:392,gs:415.3,a:440,as:466.16,b:493.88},{c:523.25,cs:554.37,d:587.33,ds:622.25,e:659.25,f:698.46,fs:739.99,g:783.99,gs:830.61,a:880,as:932.33,b:987.77},{c:1046.5,cs:1108.73,d:1174.66,ds:1244.51,e:1318.51,f:1396.91,fs:1479.98,g:1567.98,gs:1661.22,a:1760,as:1864.66,b:1975.53},{c:2093,cs:2217.46,d:2349.32,ds:2489.02,e:2637.02,f:2793.83,fs:2959.96,g:3135.96,gs:3322.44,a:3520,as:3729.31,b:3951.07},{c:4186.01,cs:4434.92,d:4698.63,ds:4978.03,e:5274.04,f:5587.65,fs:5919.91,g:6271.93,gs:6644.88,a:7040,as:7458.62,b:7902.13}],sharpToFlat={bb:"as",ab:"gs",gb:"fs",fb:"e",eb:"ds",db:"cs",cb:"b"};function noteToFreq$1(e){var p,f;if(jType(e)==="Number")return e;if(jType(e)!=="String")return null;let r=(p=e[0])==null?void 0:p.toLowerCase(),o=e[1],l=(f=e[2])==null?void 0:f.toLowerCase();if(l==="#"?l="s":l==="♭"&&(l="b"),o>8)return null;if(l==="b"){let O=sharpToFlat[r+l];r=O[0],l=O[1],O=="b"&&(o=o-1)}return r+l==="bs"?(r="c",l=void 0):r+l==="es"&&(r="f",l=void 0),o<0?null:noteScale[o][r+(l||"")]}async function makeWaveFromBuffer(e,r){let o=e.numberOfChannels,l=e.length,p=e.sampleRate,f=l*o*2+44,O=new ArrayBuffer(f),_=new DataView(O),S=[],v=0,s=0;s=setUint32(_,1179011410,s),s=setUint32(_,f-8,s),s=setUint32(_,1163280727,s),s=setUint32(_,544501094,s),s=setUint32(_,16,s),s=setUint16(_,1,s),s=setUint16(_,o,s),s=setUint32(_,p,s),s=setUint32(_,p*2*o,s),s=setUint16(_,o*2,s),s=setUint16(_,16,s),s=setUint32(_,1635017060,s),s=setUint32(_,f-s-4,s);for(let g=0;g<o;g++)S.push(e.getChannelData(g));for(;s<f;){for(let g=0;g<o;g++){let P=Math.max(-1,Math.min(1,S[g][v]));P=(.5+P<0?P*32768:P*32767)|0,_.setInt16(s,P,!0),s+=2}v++}let d=new Blob([O],{type:"audio/wav"});return r==="$raw"?O:r?new Blob([d],{type:"audio/"+(r||"wav")}):d}function setUint16(e,r,o){return e.setUint16(o,r,!0),o+=2,o}function setUint32(e,r,o){return e.setUint32(o,r,!0),o+=4,o}const TextType="text",ToneType="tone",ToneSeries="tone-series",LegendType="legend",ToneSpeechSeries="tone-speech-series",Pause="pause",ToneOverlaySeries="tone-overlay-series",Stopped="stopped",Paused="paused",Playing="playing",Finished="finished",Types=[TextType,ToneType,ToneSeries,ToneOverlaySeries,Pause,ToneSpeechSeries,LegendType];class AudioGraphQueue{constructor(){this.queue=[],this.state=Finished,this.playAt,this.config={},this.stopEvents={},this.sampledInstruments=[],this.sampledInstrumentSources={},this.chunks,this.export=[],this.samplings={},this.synths={},this.waves={},this.playId,this.buffers=[]}setConfig(r,o){this.config[r]=o}setSampling(r){this.samplings=deepcopy(r)}setSynths(r){this.synths=deepcopy(r)}setWaves(r){this.waves=deepcopy(r)}isSupportedInst(r){return SupportedInstruments.includes(r)}isSampling(r){var o;return((o=this.samplings)==null?void 0:o[r])!==void 0}isSynth(r){var o;return((o=this.synths)==null?void 0:o[r])!==void 0}isWave(r){var o;return((o=this.waves)==null?void 0:o[r])!==void 0}add(r,o,l,p){var _,S,v,s,d,g,P,R,I,j,L,G,J,Q;let f=new Set,O=new Set;if(Types.includes(r)){let W={type:r,config:l,duration:o.duration};if(r===TextType)W.text=(o==null?void 0:o.text)||o||"",o!=null&&o.speechRate&&(W.speechRate=o==null?void 0:o.speechRate);else if(r===ToneType){W.instrument_type=o.instrument_type,this.isSupportedInst(W.instrument_type)?f.add(W.instrument_type):this.isSampling(W.instrument_type)&&O.add(W.instrument_type),W.time=((_=o.sound)==null?void 0:_.start)||o.start||0,W.end=((S=o.sound)==null?void 0:S.end)||W.time+(((v=W.sound)==null?void 0:v.duration)||.2),W.duration=((s=o.sound)==null?void 0:s.duration)||W.end-W.time||.2,W.pitch=((d=o.sound)==null?void 0:d.pitch)||o.pitch||DefaultFrequency,W.detune=((g=o.sound)==null?void 0:g.detune)||o.detune,W.loudness=getFirstDefined((P=o.sound)==null?void 0:P.loudness,o.loudness,1),W.pan=((R=o.sound)==null?void 0:R.pan)||o.pan,W.postReverb=((I=o.sound)==null?void 0:I.postReverb)||o.postReverb||0,W.timbre=((j=o.sound)==null?void 0:j.timbre)||o.timbre||o.instrument_type;let Z=((L=o.sound)==null?void 0:L.tapCount)||o.tapCount,te=((G=o.sound)==null?void 0:G.tapSpeed)||o.tapSpeed;(Z||te)&&(W.tap=mergeTapPattern(Z,te),W.duration=W.tap.totalLength),W.modulation=((J=o.sound)==null?void 0:J.modulation)||o.modulation||0,W.harmonicity=((Q=o.sound)==null?void 0:Q.harmonicity)||o.harmonicity||0,W.others={},Object.keys(o.sound||o||{}).forEach(ee=>{var ie;DefaultChannels.includes(ee)||(W.others[ee]=((ie=o.sound)==null?void 0:ie[ee])||o[ee])}),W.filters=o.filters||[],this.isSupportedInst(W.timbre)?f.add(W.timbre):this.isSampling(W.timbre)&&O.add(W.timbre)}else r===ToneSeries?(W.instrument_type=o.instrument_type,this.isSupportedInst(W.instrument_type)?f.add(W.instrument_type):this.isSampling(W.instrument_type)&&O.add(W.instrument_type),W.sounds=makeSingleStreamQueueValues(o.sounds),W.sounds.hasSpeech&&(W.type=ToneSpeechSeries),W.sounds[W.sounds.length-1].isLast=!0,W.continued=o.continued,W.relative=o.relative,W.filters=o.filters||[],this.isSupportedInst(W.instrument_type)?f.add(W.instrument_type):this.isSampling(W.instrument_type)&&O.add(W.instrument_type),W.sounds.forEach(Z=>{this.isSupportedInst(Z.timbre)?f.add(Z.timbre):this.isSampling(Z.timbre)&&O.add(Z.timbre)})):r===ToneOverlaySeries?o.overlays.length>0?W.overlays=o.overlays.map(Z=>{let te={instrument_type:Z.instrument_type,sounds:makeSingleStreamQueueValues(Z.sounds),continued:Z.continued,relative:Z.relative,filters:Z.filters||[]};return te.sounds[te.sounds.length-1].isLast=!0,this.isSupportedInst(te.instrument_type)?f.add(te.instrument_type):this.isSampling(te.instrument_type)&&O.add(te.instrument_type),te.sounds.forEach(ee=>{this.isSupportedInst(ee.timbre)?f.add(ee.timbre):this.isSampling(ee.timbre)&&O.add(ee.timbre)}),te}):W.overlays=o.overlays:r===Pause?W.duration=o.duration:r===LegendType&&Object.assign(W,o);o.ramp&&(W.ramp=deepcopy(o.ramp)),Array.from(f).forEach(Z=>{this.sampledInstruments.includes(Z)||this.sampledInstruments.push(Z)}),Array.from(O).forEach(Z=>{this.sampledInstruments.includes(Z)||this.sampledInstruments.push(Z)}),p!==void 0?this.queue.splice(p,0,W):this.queue.push(W)}}addMulti(r,o,l){let p=l;for(const f of r)f!=null&&f.type&&(this.add(f.type,f,o,p),p!==void 0&&(p+=1))}addQueue(r,o){o!==void 0?this.queue.splice(o,0,...r.queue):this.queue.push(...r.queue)}async play(r,o,l){if(this.state!==Playing){setPlayerEvents(this,this.config);let p=this.queue;this.playAt=r||0;let f=Array((o||p.length)-(r||0)).fill({});r!==void 0&&o!==void 0?p=this.queue.slice(r,o):r!==void 0?p=this.queue.slice(r,this.queue.length):o!==void 0&&(p=this.queue.slice(0,o)),this.state=Playing,this.fireStartEvent();let O=0;for(const _ of p){if(console.log(_,this.state,l),this.state===Stopped||this.state===Paused)break;f[O]=await this.playLine(_,l),this.playAt+=1,O++}return this.fireStopEvent(),clearPlayerEvents(),this.state=Stopped,this.playAt=void 0,f}}async playLine(r,o){var O,_,S,v;let l=deepcopy(this.config);Object.assign(l,r.config),l.ramp=r.ramp;let p;o!=null&&o.pcm&&(p=new AudioPrimitiveBuffer(r.duration));let f=o==null?void 0:o.ttsFetchFunction;if((r==null?void 0:r.type)===TextType)await playSingleSpeech(r.text,l,p,f);else if((r==null?void 0:r.type)===ToneType){let s=makeContext();for(const d of this.sampledInstruments)d&&!this.sampledInstrumentSources[d]&&(this.sampledInstrumentSources[d]=await loadSamples(s,d,this.samplings,(O=this.config.options)==null?void 0:O.baseUrl));await playSingleTone(s,r,l,this.sampledInstrumentSources,this.synths,this.waves,r.filters,p),s.close()}else if((r==null?void 0:r.type)===Pause)await playPause(r.duration*1e3);else if((r==null?void 0:r.type)===ToneSeries){let s=makeContext();for(const d of this.sampledInstruments)d&&!this.sampledInstrumentSources[d]&&(this.sampledInstrumentSources[d]=await loadSamples(s,d,this.samplings,(_=this.config.options)==null?void 0:_.baseUrl));r.continued?(l.instrument_type=r.instrument_type,await playAbsoluteContinuousTones(s,r.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,r.filters,p)):r.relative?await playRelativeDiscreteTonesAndSpeeches(s,r.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,r.filters,p,f):await playAbsoluteDiscreteTonesAlt(s,r.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,r.filters,p),s.close()}else if((r==null?void 0:r.type)===ToneSpeechSeries){let s=makeContext();for(const d of this.sampledInstruments)d&&!this.sampledInstrumentSources[d]&&(this.sampledInstrumentSources[d]=await loadSamples(s,d,this.samplings,(S=this.config.options)==null?void 0:S.baseUrl));await playRelativeDiscreteTonesAndSpeeches(s,r.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,r.filters,p,f),s.close()}else if((r==null?void 0:r.type)===ToneOverlaySeries){let s=[],d=makeContext();for(const g of this.sampledInstruments)g&&!this.sampledInstrumentSources[g]&&(this.sampledInstrumentSources[g]=await loadSamples(d,g,this.samplings,(v=this.config.options)==null?void 0:v.baseUrl));for(let g of r.overlays)g.continued?(l.instrument_type=g.instrument_type,s.push(playAbsoluteContinuousTones(d,g.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,g.filters,p))):g.relative?s.push(playRelativeDiscreteTonesAndSpeeches(d,g.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,g.filters,p)):s.push(playAbsoluteDiscreteTonesAlt(d,g.sounds,l,this.sampledInstrumentSources,this.synths,this.waves,g.filters,p));await Promise.all(s),d.close()}if(p){let s=await(p==null?void 0:p.compile());return this.buffers.push(s),p}}stop(){var r,o;this.state===Playing&&((ErieGlobalControl==null?void 0:ErieGlobalControl.type)===Tone||(r=ErieGlobalControl==null?void 0:ErieGlobalControl.player)!=null&&r.close?ErieGlobalControl.player.close():((ErieGlobalControl==null?void 0:ErieGlobalControl.type)===Speech||(o=ErieGlobalControl==null?void 0:ErieGlobalControl.player)!=null&&o.cancel)&&ErieGlobalControl.player.cancel(),this.state!==Stopped&&(this.state=Stopped,notifyStop(this.config),this.fireStopEvent(),clearPlayerEvents(),this.playAt=void 0))}pause(){self.state=Paused,notifyPause(this.config)}async resume(){return await notifyResume(this.config),this.play(this.playAt)}fireStartEvent(){this.playId=genRid(),sendQueueStartEvent({pid:this.playId})}fireStopEvent(){sendQueueFinishEvent({pid:this.playId})}destroy(){this.state=Finished,this.queue=[],clearPlayerEvents()}async getFullAudio(r){let o=[],l=new AudioContext,p={pcm:!0,ttsFetchFunction:r};for(let _=0;_<this.queue.length;_++){let S=await this.play(_,_+1,p);for(const v of S)(v==null?void 0:v.constructor.name)===(AudioPrimitiveBuffer==null?void 0:AudioPrimitiveBuffer.name)?o.push(v.compiledBuffer):o.push(await l.decodeAudioData(v))}let f=concatenateBuffers(o),O=await makeWaveFromBuffer(f,"mp3");return window.URL.createObjectURL(O)}}function makeSingleStreamQueueValues(e){let r=[];for(const o of e){let l=o.start!==void 0?o.start:o.time,p=o.duration!==void 0?o.duration:o.end-l,f=mergeTapPattern(o.tapCount,o.tapSpeed);(o.tapCount||o.tapSpeed)&&(p=f.totalLength);let O={pitch:o.pitch,detune:o.detune,loudness:o.loudness,time:l,duration:p,pan:o.pan,speech:o.speech,language:o.language,postReverb:Math.round(o.postReverb*100)/100||0,timbre:o.timbre,tap:f,modulation:o.modulation||0,harmonicity:o.harmonicity||0,__datum:o.__datum,others:{}};o.speech&&(O.duration=void 0,r.hasSpeech=!0),Object.keys(o||{}).forEach(_=>{!DefaultChannels.includes(_)&&_!=="__datum"&&(O.others[_]=o[_])}),r.push(O)}return r=r.sort((o,l)=>o.time+o.duration-(l.time+l.duration)),r}function listString(e,r,o,l){if(e.length==0)return"";if(e.length==1)return e[0];if(e.length==2&&o)return`${e[0]} ${l||"and"} ${e[1]}`;if(e.length==2&&!o)return`${e[0]}${r||" "}${e[1]} `;if(o){let p=e[e.length-1];return e.slice(0,e.length-1).join(r)+r+`${l||"and"}`+p}else return e.join(r)}function toOrdinalNumbers(e){return["zeroth","first","second","third","fourth","fifth","sixth","seventh","eighth","nineth","tenth","eleventh","twelveth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth","twentieth","twenty-first","twenty-second","twenty-third"][e]||e+"th"}function toHashedObject(e,r,o){let l={};return e.forEach(p=>{let f={};o?f=deepcopy(p):Object.assign(f,p),l[p[r]]=f}),l}const descriptionKeywords=["sound","list","domain","domain.min","domain.max","domain.length","channel","field","aggregate","title","range.length","range","timeUnit"];function compileDescriptionMarkup(e,r,o,l,p){if(e.length==0||!e)return[];let f=parseDescriptionMarkup(e),O=o.properties,_=[];for(const v of f)if(v.type==="text")v.speechRate=l,_.push(v);else if(v.key==="sound"){let s={type:"sound"};jType(v.value)==="Array"?(s.continuous=!0,s.value=v.value.map(d=>getLKvalues(d,r,O,p))):(s.continuous=!1,s.value=getLKvalues(v.value,r,O,p)),v.duration?s.duration=v.duration:s.continuous?s.duration=(p==="beat"?1:.5)*s.value.length:s.duration=p==="beat"?1:.5,_.push(s)}else if(v.key==="list"){let s=v.item;s||(s=getKeywordValues("domain",r,O,p));let d=G=>G;O.format&&(O.formatType==="number"?d=format$3(O.format):O.formatType==="datetime"&&(d=timeFormat$1(O.format))),s&&(s=s.map(G=>jType(G)==="Number"?d(G):G));let g=v.first,P=v.last,R={type:"text"},I=[];g&&I.push(...s.slice(0,g)),P&&I.push(...s.slice(s.length-P,s.length));let j=v.join||", ",L=v.and;R.text=listString(I,j,!!L,L),R.speechRate=l,_.push(R)}else{let s=getKeywordValues(v.key,r,O,p),d=g=>(g==null?void 0:g.toString())||"";O.format&&(O.formatType==="number"?d=format$3(O.format):O.formatType==="datetime"&&(d=timeFormat$1(O.format))),jType(s)==="Array"?s=s.map(g=>jType(g)==="Number"?d(g):g):jType(s)!=="String"&&(s=d(s)),_.push({type:"text",text:s,speechRate:l})}let S=[];for(const v of _)S.length>0&&S[S.length-1].type==="text"&&v.type==="text"?S[S.length-1].text+=(v.text.startsWith(".")?"":" ")+v.text.trim():S.push(v);return S}function getLKvalues(e,r,o,l){return e!=null&&e.literal?e.literal:e!=null&&e.keyword?getKeywordValues(e.keyword,r,o,l):void 0}function getKeywordValues(e,r,o,l){if(e==="domain")return o.domain.join(", ");if(e==="domain.min")return Math.min(...o.domain);if(e==="domain.max")return Math.max(...o.domain);if(e.match(/domain\[[0-9]+\]/g)){let p=parseInt(e.match(/[0-9]+/g)[0]);return o.domain[p]}else if(e==="domain.length")return o.domain.length;if(e==="range")return o.range.join(", ");if(e==="range.length")return r===TIME_chn?o.length:Math.max(...o.range)-Math.min(...o.range);if(e==="channel")return r;if(e==="field")return o.field.join(", ");if(e==="title")return o.title;if(e==="aggregate")return o.aggregate;if(e==="timeUnit")return l}const exprRegex=/(\<[^\<\>]+\>|[^\<\>]+)/g;function parseDescriptionMarkup(e){jType(e)!=="String"&&console.error("Wrong description expression type.");let r=e.trim(),o=!1;r.endsWith(".")&&(r=r.substring(0,r.length-1),o=!0);let l=r.match(exprRegex);l||console.error(`Wrong description expression (not parsable): ${e}.`);let p=[];for(const f of l)if(f.startsWith("<")){let O=parseDescriptionKeywords(f);p.push(O)}else p.push({type:"text",text:f});return p[p.length-1].type==="text"&&o&&(p[p.length-1].text+="."),p}const descSegmentReges=/(([a-zA-Z0-9\.]+=\"[^\"]+\")|[a-zA-Z\.0-9\[\]]+)/g;function parseDescriptionKeywords(e){let r={},o=e.match(descSegmentReges);return o||console.error(`Wrong description keyword expression: ${e}.`),o.forEach((l,p)=>{var f;if(r.type="keyword",p==0)descriptionKeywords.includes(l)||l.match(/domain\[[0-9]+\]/g)?r.key=l:console.error(`Unidentifiable keyword: ${l}.`);else{let O=l.split("="),_=O[1].replace(/\"/gi,"");if(O[0]==="duration")r.duration=parseFloat(_);else if(O[0]==="first")r.first=parseInt(_);else if(O[0]==="last")r.last=parseInt(_);else if(O[0]==="item")descriptionKeywords.includes(_)?r.item={keyword:_}:_.match(/domain\[[0-9]+\]/g)?r.item={keyword:_}:r.item={literal:_.split(",").map(S=>S.trim())};else if(O[0]==="value")descriptionKeywords.includes(_)?r.value={keyword:_}:_.match(/domain\[[0-9]+\]/g)?r.value={keyword:_}:r.value={literal:_};else if(O[0]==="values"){let S=_.split(",").map(v=>v.trim());r.value=[],S.forEach(v=>{descriptionKeywords.includes(v)?r.value.push({keyword:v}):v.match(/domain\[[0-9]+\]/g)?r.value.push({keyword:v}):r.value.push({literal:v})})}else if(((f=O[0].match(/v[0-9]+/g))==null?void 0:f.length)==1){r.value||(r.value=[]);let S=parseInt(O[0].substring(1));descriptionKeywords.includes(_)?r.value[S]={keyword:_}:_.match(/domain\[[0-9]+\]/g)?r.value[S]={keyword:_}:r.value[S]={literal:_}}else descriptionKeywords.includes(_)?r[O[0]]={keyword:_}:_.match(/domain\[[0-9]+\]/g)?r[O[0]]={keyword:_}:r[O[0]]={literal:_}}}),r}function makeScaleDescription(e,r,o,l,p,f,O){var L,G,J,Q,W,Z,te;let _=e.properties,S=_.channel;_.field;let v=_.encodingType,s=((L=f==null?void 0:f.timeUnit)==null?void 0:L.unit)||"seconds";if((_==null?void 0:_.descriptionDetail)===SKIP$3||(_==null?void 0:_.descriptionDetail)===null)return null;let d="",g=!1;if(jType(_==null?void 0:_.descriptionDetail)==="String"&&(_==null?void 0:_.descriptionDetail)!==NONSKIP)return d=_==null?void 0:_.descriptionDetail,g=!0,[{type:TextType,speech:_==null?void 0:_.descriptionDetail,speechRate:P}];let P=f.speechRate||DEF_SPEECH_RATE,R=(r==null?void 0:r.scale.title)||listString(unique(_.field),", ",!1);if(S===TIME_chn)g||(d="The <title> is mapped to <channel>. "),(_.range?Math.max(..._.range):null)&&(g||(d+="The duration of the stream is <range.length> <timeUnit>. ")),_.binned&&(r.binned.equiBin?g||(d+="Each sound represents a equally sized bin bucket. "):g||(d+="The length of each sound represents the corresponding bin bucket size. ")),l!=null&&l.interval&&(l==null?void 0:l.description)!==SKIP$3&&(g||(d+=`A tick sound is played every ${l.interval} ${s}. `));else if(v===QUANT){if(R&&_.aggregate&&_.aggregate!=="count"?g||(d+="The <title> is mapped to <channel> and aggregated by <aggregate>. "):_.aggregate==="count"?g||(d="The count of data points is mapped to <channel>. "):g||(d="The <title> is mapped to <channel>. "),p.continued)((G=_==null?void 0:_.domain)==null?void 0:G.length)==2?g||(d+='The domains values from <domain.min> to <domain.max> are mapped to <sound v0="domain.min" v1="domain.max" duration="0.6">'):((J=_==null?void 0:_.domain)==null?void 0:J.length)>2&&(g||(d+=`The domains values from <domain.min> to <domain.max> are mapped to <sound values="${_.domain.map((ee,ie)=>"domain["+ie+"]")}" duration="${_.domain.length*.3}">`));else if(((Q=_==null?void 0:_.domain)==null?void 0:Q.length)==2)g||(d+='The minimum value <domain.min> is mapped to <sound value="domain.min" duration="0.3">, and '),g||(d+='the maximum value <domain.max> is mapped to <sound value="domain.max" duration="0.3">.');else if(((W=_==null?void 0:_.domain)==null?void 0:W.length)>2&&!g){d+="<title> values are mapped as";for(let ee=0;ee<_.domain.length;ee++)d+=`<domain[${ee}]> <sound value="domain[${ee}]" duration="0.3">`}}else if(v===TMP)R&&_.aggregate&&_.aggregate!=="count"?g||(d+="The <title> is mapped to <channel> and aggregated by <aggregate>. "):_.aggregate==="count"?g||(d+="The count of data points is mapped to <channel>. "):g||(d+="The <title> is mapped to <channel>. "),p.continued?g||(d+='The domains values from <domain.min> to <domain.max> are mapped to <sound v0="domain.min" v1="domain.max" duration="0.6">. '):(g||(d+='The minimum value <domain.min> is mapped to <sound value="domain.min" duration="0.5">, and '),g||(d+='the maximum value <domain.max> is mapped to <sound value="domain.max" duration="0.5">. '));else if(v===ORD||v===NOM){g||(d+="The <title> is mapped to <channel>. ");let ee=_.domain.length;if(ee<=6||_.playAllDescription)for(let ie=0;ie<ee;ie++)g||(d+=`The value <domain[${ie}]> is <sound value="domain[${ie}]" duration="0.3">. `);else g||(d+='The first value <domain[0]> is <sound value="domain[0]" duration="0.3">. '),g||(d+='The second value <domain[1]> is <sound value="domain[1]" duration="0.3">. '),g||(d+=`The second last value <domain[${ee-2}]> is <sound value="domain[${ee-2}]" duration="0.3">. `),g||(d+=`The last value <domain[${ee-1}]> is <sound value="domain[${ee-1}]" duration="0.3">. `)}else if(v===STATIC&&_.conditions){for(const ee of _.conditions)if(jType(ee.test)==="Array")g||(d+=`The values of <list item="${ee.test.join(",")}" join=", "> are mapped to <sound value="${ee.test[0]}" duration="0.3>. `);else if((Z=ee.test)!=null&&Z.not&&jType(ee.test.not)==="Array")g||(d+=`The values that are not <list item="${ee.test.not.join(",")}" join=", "> are mapped to <sound value="${ee.test.not[0]}" duration="0.3>. `);else if(ee.test&&ee.name){let ie=ee.test[0]||((te=ee.test.not)==null?void 0:te[0]);!g&&ie!==void 0&&(d+=`${ee.name} values are mapped to <sound value="${ie}" duration="0.3>. `)}}let I=compileDescriptionMarkup(d,S,e,P,s),j=[];for(const ee of I)if(ee.type===TextType)j.push({type:TextType,speech:ee.text,speechRate:ee.speechRate||P});else if(ee.type==="sound")if(ee.continuous){let ie=makeConinuousAudioLegend(S,ee.value,e,ee.duration);j.push({type:ToneSeries,channel:S,sounds:ie,instrument_type:(p==null?void 0:p.type)||"default",continued:!0})}else{let ie=makeSingleDiscAudioLegend(S,ee.value,e,ee.duration);j.push({type:ToneType,sound:ie,instrument_type:(p==null?void 0:p.type)||"default"})}return j}function makeConinuousAudioLegend(e,r,o,l){let p=Math.min(...r),f=Math.max(...r),O=s=>(s-p)/(f-p)*l,_=linear$1().domain(r).range(r.map(O)),S=[],v=0;for(const s of r)S.push({start:_(s),[e]:o(s),duration:v==r.length-1?.15:0}),v++;return S}function makeSingleDiscAudioLegend(e,r,o,l){let p={start:0,[e]:o(r)};return p.duration==null&&(p.duration=l||.2),p}const ForceRepeatScale="forceRepeatScale",PlayAt="playScaleAt",BeforeAll="beforeAll",BeforeThis="beforeThis",AfterAll="afterAll",AfterThis="afterThis";class SequenceStream{constructor(){this.streams=[],this.playing=!1,this.status=void 0,this.prerendered=!1,this.config={},this.synths=[],this.samplings=[]}setTitle(r){this.title=r}setDescription(r){this.description=r}addStream(r){this.streams.push(r)}addStreams(r){this.streams.push(...r)}setSampling(r){this.samplings=r}setSynths(r){this.synths=r}setWaves(r){this.waves=r}setConfig(r,o){this.config[r]=o}setIntroStream(r){this.introStream=r}async prerender(){var d,g,P,R,I,j;this.queue=new AudioGraphQueue,this.config&&Object.keys(this.config).forEach(L=>{this.queue.setConfig(L,this.config[L])}),this.queue.setSampling(this.samplings),this.queue.setSynths(this.synths),this.queue.setWaves(this.waves),this.config.skipStartSpeech||this.queue.add(TextType,{speech:"To stop playing the sonification, press the X key. ",speechRate:(d=this.config)==null?void 0:d.speechRate},this.config),this.introStream?this.introStream.stream.forEach(L=>{var G;this.queue.add(TextType,{speech:L.speech,speechRate:(G=this.config)==null?void 0:G.speechRate},this.config)}):(this.title&&!this.config.skipTitle?this.queue.add(TextType,{speech:`${this.title}. `,speechRate:(g=this.config)==null?void 0:g.speechRate},this.config):this.name&&!this.config.skipTitle&&this.queue.add(TextType,{speech:`This sonification is about ${this.name}. `,speechRate:(P=this.config)==null?void 0:P.speechRate},this.config),this.description&&!this.config.skipDescription&&this.queue.add(TextType,{speech:this.description,speechRate:(R=this.config)==null?void 0:R.speechRate},this.config));let r=[],o=[],l=[],p=[],f=this.streams.length>1;f&&!this.config.skipSquenceIntro&&this.queue.add(TextType,{speech:`This sonification sequence consists of ${this.streams.length} parts. `,speechRate:(I=this.config)==null?void 0:I.speechRate},this.config);let O=0;for(const L of this.streams){let G=deepcopy(this.config||{});Object.assign(G,L.config||{});let J=G.speechRate;if(f){let W=new AudioGraphQueue;(L.title||L.name)&&!L.config.skipSequenceTitle?W.add(TextType,{speech:`Stream ${O+1}. ${L.title||L.name}. `,speechRate:J},G):L.config.skipSequenceTitle||W.add(TextType,{speech:`Stream ${O+1}. `,speechRate:J},G),L.description&&!L.config.skipSequenceDescription&&W.add(TextType,{speech:L.description,speechRate:J},G),r.push(W)}else r.push(new AudioGraphQueue);let Q="This";if(f&&(Q="The "+toOrdinalNumbers(O+1)),jType(L)!==OverlayStream.name&&!G.skipScaleSpeech){let W=L.make_scale_text().filter(ee=>ee),Z=[],te=G[ForceRepeatScale];te||(te=!1);for(const ee of W)ee.description&&(p.includes(ee.id)?(te===!0||(te==null?void 0:te[ee.channel])===!0)&&Z.push(...ee.description):(Z.push(...ee.description),p.push(ee.id)));if(Z.length>0){let ee=new AudioGraphQueue;ee.add(TextType,{speech:`${Q} stream has the following sound mappings. `,speechRate:J},G),ee.addMulti(Z,{...G,tick:null}),o.push(ee)}else o.push(null)}else if(jType(L)===OverlayStream.name){G.skipTitle||r[O].add(TextType,{speech:`${Q} stream has ${L.overlays.length} overlaid sounds. `,speechRate:J},G);let W=G[ForceRepeatScale];W||(W=!1);let Z=!1,te=new AudioGraphQueue;L.overlays.forEach((ee,ie)=>{let oe=deepcopy(G||{});Object.assign(oe,ee.config||{});let se=oe.speechRate;oe.playRepeatSequenceName!==!1&&ee.title&&!oe.skipOverlayTitle?r[O].add(TextType,{speech:`Overlay ${ie+1}. ${ee.title}. `,speechRate:se},oe):oe.playRepeatSequenceName!==!1&&ee.name&&!oe.skipOverlayTitle&&r[O].add(TextType,{speech:`Overlay ${ie+1}. ${ee.name}. `,speechRate:se},oe),ee.description&&!oe.skipOverlayDescription&&r[O].add(TextType,{speech:ee.description,speechRate:se},oe);let le=L.make_scale_text(ie).filter(pe=>pe),de=[];for(const pe of le)pe.description&&(p.includes(pe.id)?(W===!0||(W==null?void 0:W[pe.channel])===!0)&&de.push(...pe.description):(de.push(...pe.description),p.push(pe.id)));if(de.length>0){if(!W&&!Z)te.add(TextType,{speech:`${Q} stream has the following sound mappings. `,speechRate:se},oe),Z=!0;else{let pe="This";f&&ie>1&&(pe="The "+toOrdinalNumbers(ie)),te.add(TextType,{speech:`${pe} overlay has the following sound mappings. `,speechRate:se},oe)}te.addMulti(de,{...oe,tick:null})}}),te.queue.length>0?o.push(te):o.push(null)}O++}for(const L of this.streams){let G=await L.prerender(!0);l.push(G)}let _=0,S=this.queue.queue.length||0,v=[],s=[];for(const L of this.streams){let G=deepcopy(this.config||{});Object.assign(G,L.config||{});let J=G.speechRate;r[_]&&this.queue.addQueue(r[_]);let Q=G[PlayAt];Q===BeforeAll?o[_]&&v.push(o[_]):(Q===BeforeThis||!Q)&&o[_]&&this.queue.addQueue(o[_]);let W=l[_];G.skipStartPlaySpeech||this.queue.add(TextType,{speech:"Start playing. ",speechRate:J},G),jType(W)===AudioGraphQueue.name?this.queue.addMulti(W.queue,G):this.queue.add(ToneSeries,W,G),Q===AfterAll?o[_]&&s.push(o[_]):Q===AfterThis&&o[_]&&this.queue.addQueue(o[_]),_++}if(v.length>0)for(const L of v)this.queue.addQueue(L,S),S+=1;if(s.length>0)for(const L of v)this.queue.addQueue(L);return this.config.skipFinishSpeech||this.queue.add(TextType,{speech:"Finished.",speechRate:(j=this.config)==null?void 0:j.speechRate},this.config),this.prerendered=!0,this.queue.setConfig("options",this.config.options),this.queue}make_scale_text(r,o){var l;return r===void 0?this.streams.map(p=>p.make_scale_text(o)).flat():(l=this.streams[r])==null?void 0:l.make_scale_text(o)}async prerenderScale(r,o){let l=(this.make_scale_text(r,o)||[]).map(p=>p.description).flat();return this.scaleQueue=new AudioGraphQueue,this.scaleQueue.addMulti(l,{...this.config,tick:null}),this.scaleQueue}async playScaleDescription(r,o){var l;await this.prerenderScale(r,o),await((l=this.scaleQueue)==null?void 0:l.play())}async stopScaleDescription(){var r;(r=this.scaleQueue)==null||r.stop()}async playQueue(){var r;this.prerendered||await this.prerender(),await((r=this.queue)==null?void 0:r.play())}async stopQueue(){var r;(r=this.queue)==null||r.stop()}destroy(){this.queue=this.queue.destroy()}}class OverlayStream{constructor(){this.overlays=[],this.playing=!1,this.status=void 0,this.prerendered=!1,this.individual_playing=[],this.config={},this.name}setName(r){this.name=r}setTitle(r){this.title=r}setDescription(r){this.description=r}addStream(r){this.overlays.push(r)}addStreams(r){this.overlays.push(...r)}setConfig(r,o){this.config[r]=o}async prerender(r){var l,p,f,O,_,S,v;if(this.queue=new AudioGraphQueue,r||(this.title&&!this.config.skipTitle?this.queue.add(TextType,{speech:this.title,speechRate:(l=this.config)==null?void 0:l.speechRate},this.config):this.name&&!this.config.skipTitle&&this.queue.add(TextType,{speech:this.name,speechRate:(p=this.config)==null?void 0:p.speechRate},this.config),this.description&&!this.config.skipDescription&&this.queue.add(TextType,{speech:this.description,speechRate:(f=this.config)==null?void 0:f.speechRate},this.config)),this.overlays.length>1&&!r&&!this.config.skipStartSpeech){this.queue.add(TextType,{speech:`This sonification has ${this.overlays.length} overlaid streams.`,speechRate:(O=this.config)==null?void 0:O.speechRate});let s=1,d=[],g=[],P=0;for(const R of this.overlays){let I=new AudioGraphQueue;(R.title||R.name)&&!R.config.skipTitle&&I.add(TextType,{speech:`The ${toOrdinalNumbers(s)} overlay stream is about ${R.title||R.name}. `,speechRate:(_=this.config)==null?void 0:_.speechRate},R.config),R.description&&!R.config.skipDescription&&I.add(TextType,{speech:R.description,speechRate:(S=this.config)==null?void 0:S.speechRate},R.config),d.push(I);let j=R.make_scale_text().filter(L=>L);if(!R.config.skipScaleSpeech&&j.length>0){let L=new AudioGraphQueue;L.add(TextType,{speech:"This stream has the following sound mappings. ",speechRate:(v=this.config)==null?void 0:v.speechRate},R.config),L.addMulti(j,{...R.config,tick:null}),P++,g.push(L)}s++}if(P>1)for(let R=0;R<s-1;R++)d[R]&&this.queue.addQueue(d[R]),g[R]&&this.queue.addQueue(g[R]);else{for(let R=0;R<s-1;R++)d[R]&&this.queue.addQueue(d[R]);for(let R=0;R<s-1;R++)g[R]&&this.queue.addQueue(g[R])}}let o=[];return this.overlays.forEach(async(s,d)=>{o.push(await s.prerender())}),this.queue.add(ToneOverlaySeries,{overlays:o}),this.prerendered=!0,this.queue}make_scale_text(r,o){if(r!==void 0){let l=this.overlays[r];return l&&!l.config.skipScaleSpeech?l.make_scale_text(o):[]}else return this.overlays.map(l=>l.config.skipScaleSpeech?[]:l.make_scale_text(o)).flat()}async playQueue(){var r;this.prerendered||await this.prerender(),(r=this.queue)==null||r.play()}async stopQueue(){var r;(r=this.queue)==null||r.stop()}}class UnitStream{constructor(r,o,l,p){this.instrument_type=r,this.stream=o,this.option=p||{},this.instrument,this.scales=l,this.config={},this.name,this.ramp={}}setTitle(r){this.title=r}setDescription(r){this.description=r}setName(r){this.name=r}setConfig(r,o){this.config[r]=o}setFilters(r){this.audioFilters=r}setRamp(r){this.ramp=deepcopy(r)}make_tone_text(r){var p,f;let o=[],l=r!==void 0?`The ${toOrdinalNumbers(r+1)}`:"This";return this.name?o.push({type:TextType,speech:`${l} stream is for ${this.name} layer and has a tone of`,speechRate:(p=this.config)==null?void 0:p.speechRate}):o.push({type:TextType,speech:`${l} stream has a tone of`,speechRate:(f=this.config)==null?void 0:f.speechRate}),o.push({type:ToneType,sound:{pitch:DefaultFrequency,duration:.2,start:0},instrument_type:this.instrument_type}),o}make_scale_text(r){let o=this.scales;return Object.keys(o).filter(p=>!r&&!OmitDesc.includes(p)||p===r).map(p=>{var f,O;return{id:(f=o[p])==null?void 0:f.scaleId,channel:p,description:(O=o[p])==null?void 0:O.description}}).flat()}async prerender(){var r,o;return{instrument_type:this.instrument_type,sounds:this.stream,continued:(r=this.option)==null?void 0:r.is_continued,relative:(o=this.option)==null?void 0:o.relative,filters:this.audioFilters,ramp:this.ramp,duration:this.duration}}}class SpeechStream{constructor(r){this.stream=r,this.config={}}setConfig(r,o){this.config[r]=o}make_scale_text(){return[]}async prerender(){var o;let r=[];for(const l of this.stream)l.speech&&r.push({type:TextType,speech:l.speech,speechRate:(o=this.config)==null?void 0:o.speechRate});return r}}const OmitDesc=["time2"];function makeRepeatStreamTree(e,r,o){let l={};if(e===void 0&&(e=0),o.length<=e)return{direction:"leaf",node:[]};let p=r.map(S=>S.membership[e]),f=[],O=o[e];l.direction=O,l.nodes=[],l.field=p[0].key;let _=[];for(const S of p)if(!_.includes(S.value)&&(_.push(S.value),!f.includes(S.value))){let v=r.filter(s=>s[e]===S.value);if(v.length>0){let s=makeRepeatStreamTree(e+1,v,o);s.parent_value=S.value,l.nodes.push(s),f.push(S.value)}}return l}function postprocessRepeatStreams(e){let r=postprocessRstreamTree(e);return r=r.nodes.map(o=>{if(jType(o)===UnitStream.name)return o;if(o.length==1)return o[0];if(o.length>1){let l=new OverlayStream;return l.addStreams(o),l}}),r}function postprocessRstreamTree(e){if(e.direction==="leaf")return{nodes:e.node,dir:"leaf"};if(e.direction===OVERLAY){let r=[];return e.nodes.forEach(o=>{let{nodes:l,dir:p}=postprocessRstreamTree(o);r.push(...l)}),{nodes:[r.filter(o=>o!==void 0)]}}else if(e.direction===SEQUENCE){let r=[];return e.nodes.forEach(o=>{let{nodes:l,dir:p}=postprocessRstreamTree(o);p===OVERLAY?r.push(l):r.push(...l)}),{nodes:r.filter(o=>o!==void 0),dir:SEQUENCE}}}async function normalizeSpecification(e){var P,R,I,j,L,G,J,Q,W,Z;let r=deepcopy(e),o=[],l=deepcopy(r.datasets||[]),p=deepcopy(r.synth||[]),f=deepcopy(r.sampling||[]),O=deepcopy(r.tick||[]),_=deepcopy(r.wave||[]),S=[],v,s=[];if(isSingleStream(r)){if(r.data){let ie="data__"+(l.length+1);l.push({name:ie,...deepcopy(r.data)}),r.data={name:ie}}let{normalized:te,scaleDefinitions:ee}=normalizeSingleSpec(r,null);o.push({stream:te}),S.push(...ee),s.push(...Object.keys(te.encoding))}else{let te;if(r.data&&!r.data.name&&r.data.type!=="unset"&&r.data.values&&(te="data__"+(l.length+1),l.push({name:te,...deepcopy(r.data)})),isOverlayStream(r)){let ee=[],ie,oe;r.data&&!r.data.name&&r.data.type!=="unset"&&r.data.values?(ie=deepcopy(r.data),oe=`data__${l.length+1}`,l.push({name:oe,...ie})):(P=r.data)!=null&&P.name&&(ie=deepcopy(r.data));for(const le of r.overlay){let de=deepcopy(le);if(ie&&!de.data)oe?de.data={name:oe}:de.data||(de.data=ie);else if(de.data&&!de.data.name){let fe=`data__${l.length+1}`;l.push({name:fe,...de.data}),de.data={name:fe}}if((R=de.encoding)!=null&&R.time.tick&&(!((I=de.encoding)!=null&&I.time.tick.name)||!O.filter(fe=>{var he;return fe.name===((he=de.encoding)==null?void 0:he.time.tick.name)}))){let fe=((j=de.encoding)==null?void 0:j.time.tick.name)||"tick_"+(O.length+1);O.push({...(L=de.encoding)==null?void 0:L.time.tick,name:fe}),de.encoding.time.tick={name:fe}}de.data||(de.data={name:te}),de.common_transform=deepcopy(r.transform||[]),de.transform=deepcopy(le.transform||[]),isSingleStream(le)||console.error("An overlay of multi-stream sequences is not supported!");let pe=normalizeSingleSpec(de,OVERLAY);s.push(...Object.keys(pe.normalized.encoding)),ee.push(pe.normalized),S.push(...pe.scaleDefinitions)}let se={};Object.assign(se,r.config),normalizeScaleConsistency(se,unique(s)),delete se.sequenceScaleConsistency,delete se.forceSequenceScaleConsistency,o.push({overlay:ee,name:r.name,title:r.title,description:r.description,config:se})}else if(isSequenceStream(r)){let ee=[],ie={};v={},Object.assign(v,r.config),r.title&&(ie.title=r.title),r.description&&(ie.description=r.description),Object.keys(ie).length>0&&ee.push({intro:ie});for(const oe of r.sequence){let se=deepcopy(oe);if(isSequenceStream(oe)&&console.error("A sequence of sequence is not supported!"),isSingleStream(se)){if((G=se.encoding)!=null&&G.time.tick&&(!((J=se.encoding)!=null&&J.time.tick.name)||!O.filter(de=>{var pe;return de.name===((pe=se.encoding)==null?void 0:pe.time.tick.name)}))){let de=((Q=se.encoding)==null?void 0:Q.time.tick.name)||"tick_"+(O.length+1);O.push({...(W=se.encoding)==null?void 0:W.time.tick,name:de}),se.encoding.time.tick={name:de}}if(!se.data)se.data={name:te};else if((Z=se.data)!=null&&Z.values){let de="data__"+(l.length+1);l.push({name:de,values:deepcopy(se.data.values)}),se.data={name:de}}se.common_transform=deepcopy(r.transform||[]),se.transform=deepcopy(oe.transform||[]);let le=normalizeSingleSpec(se,SEQUENCE);S.push(...le.scaleDefinitions),ee.push(le.normalized),s.push(...Object.keys(le.normalized.encoding))}else if(isOverlayStream(se)){se.id="overlay-"+genRid();let le=await normalizeSpecification(se),de=le.normalized[0];de.id=se.id,ee.push(de),le.scaleDefinitions.forEach(pe=>{pe.parentId=de.id}),le.normalized[0].overlay.forEach(pe=>{s.push(...Object.keys(pe.encoding))}),S.push(...le.scaleDefinitions),Object.assign(l,le.datasets),Object.assign(O,le.tick)}}normalizeScaleConsistency(v,unique(s)),delete v.overlayScaleConsistency,delete v.forceOverlayScaleConsistency,o.push(...ee.map(oe=>oe.intro?{intro:oe.intro}:oe.overlay?{overlay:oe.overlay||oe,id:oe.overlay.id||oe.id,name:oe.overlay.name||oe.name,title:oe.overlay.title||oe.title,description:oe.overlay.description||oe.description,config:oe.config}:{stream:oe}))}}let d=toHashedObject(l,"name",!0),g=toHashedObject(O,"name",!0);return v||(v={},Object.assign(v,r.config),normalizeScaleConsistency(v,unique(s)),delete v.overlayScaleConsistency,delete v.forceOverlayScaleConsistency),{normalized:o,datasets:d,tick:g,scaleDefinitions:S,sequenceConfig:v,synths:p,samplings:f,waves:_}}function isRepeatedStream(e){var r;return!!(e&&e.encoding&&((r=e.encoding)!=null&&r.repeat))}function isSingleStream(e){return!!(e&&e.encoding&&e.tone&&!e.overlay&&!e.sequence)}function isOverlayStream(e){return!!(e&&!e.encoding&&!e.tone&&e.overlay&&!e.sequence)}function isSequenceStream(e){return!!(e&&!e.encoding&&!e.tone&&!e.overlay&&e.sequence)}const bin_ending="__bin",bin_end_ending="__bin_end",count_ending="__count",Def_tone="default",Auto="auto";function normalizeSingleSpec(e,r){var _,S,v,s,d,g;let o=[];if(!e)return null;let l=r===OVERLAY,p={};e.title&&(p.title=e.title),e.name&&(p.name=e.name),p.id="stream-"+genRid(),e.description&&(p.description=e.description),e.data&&(p.data=deepcopy(e.data)),e.tone&&(p.tone={},jType(e.tone)==="String"?p.tone.type=e.tone:jType(e.tone)==="Object"&&(p.tone=deepcopy(e.tone),p.tone.type===void 0&&(p.tone.type=Def_tone)),jType((_=e.tone)==null?void 0:_.filter)==="Array"&&(p.filter=[...e.tone.filter]));let f=[],O=[];if(e.encoding){p.encoding={},((v=(S=e.encoding[TIME_chn])==null?void 0:S.scale)==null?void 0:v.timing)===SIM_TIMING&&(e.encoding[SPEECH_BEFORE_chn]&&e.encoding[SPEECH_AFTER_chn]?(console.warn(`Speech channels cannot be used for simultaneous timing. ${SPEECH_BEFORE_chn} and ${SPEECH_AFTER_chn} are dropped.`),delete e.encoding[SPEECH_BEFORE_chn],delete e.encoding[SPEECH_AFTER_chn]):e.encoding[SPEECH_BEFORE_chn]?(console.warn(`Speech channels cannot be used for simultaneous timing. ${SPEECH_BEFORE_chn} is dropped.`),delete e.encoding[SPEECH_BEFORE_chn]):e.encoding[SPEECH_AFTER_chn]&&(console.warn(`Speech channels cannot be used for simultaneous timing. ${SPEECH_AFTER_chn} is dropped.`),delete e.encoding[SPEECH_AFTER_chn]));let P=!1;for(const I of Object.keys(e.encoding)){let j=e.encoding[I],L={};j.field&&(L.field=j.field),j.type&&(L.type=j.type),j.by&&(jType(j.by)==="Array"&&!j.by.join("X").match(/(^(sequence|sequenceX)*(overlay|overlayX)*$)/gi)&&console.error("Wrong repeat-by form. Overlay cannot preceed sequence!"),L.by=j.by,P=L.by.includes(OVERLAY),P&&l&&console.error("Overlay composition + overlay repet is not supported.")),j.ramp&&RampMethods.includes(j.ramp)?j.ramp.constructor.name==="String"?L.ramp=j.ramp:L.ramp=j.ramp?"linear":"exponential":L.ramp="linear",j.speech&&(L.speech=j.speech),j.value!==void 0&&(L.value=j.value),I===TIME_chn&&j.tick&&(L.tick=deepcopy(j.tick)),j.scale?L.scale=deepcopy(j.scale):L.scale={},j.format&&(L.format=j.format),j.formatType&&(L.formatType=j.formatType),j.bin&&(jType(j.bin)==="Object"?f.push({bin:j.field,step:j.bin.step,maxbins:j.bin.maxbins,nice:j.bin.nice,as:j.field+bin_ending,exact:j.bin.exact,end:j.field+bin_end_ending}):jType(j.bin)==="Boolean"&&f.push({bin:j.field,auto:!0,as:j.field+bin_ending,end:j.field+bin_end_ending}),L.field=j.field+bin_ending,L.original_field=j.field,L.type=QUANT,I===TIME_chn&&(p.encoding[I+"2"]={field:j.field+bin_end_ending}),L.scale||(L.scale={}),L.scale.title=j.field+" (binned)",L.binned=!0),j.aggregate&&(!j.field&&j.aggregate==="count"?(O.push({op:"count",as:count_ending}),L.field=count_ending,L.scale||(L.scale={}),L.scale.title="Count",L.type=QUANT):(O.push({op:j.aggregate,field:j.field,as:j.field+"__"+j.aggregate,p:j.p}),L.field=j.field+"__"+j.aggregate,L.original_field=j.field,L.scale||(L.scale={}),L.scale.title=j.aggregate+" "+j.field,L.type=j.type||QUANT),L.aggregate=j.aggregate),j.condition&&(L.condtion=deepcopy(j.condition)),I===TAPCNT_chn&&e.encoding[TAPSPD_chn]?L.hasTapSpeed=!0:I===TAPSPD_chn&&e.encoding[TAPCNT_chn]?L.hasTapCount=!0:I===PITCH_chn&&j.roundToNote&&(L.roundToNote=!0);let G="scale-"+genRid(),J={id:G,channel:I,type:L.type,dataName:p.data.name,field:[L.field],scale:deepcopy(L.scale),streamID:[p.id],parentType:r};L.roundToNote&&(J.roundToNote=!0),L.scale.id=G,o.push(J),p.encoding[I]=L}p.encoding[TIME2_chn]&&(p.encoding[TIME2_chn].scale={id:(d=(s=p.encoding[TIME_chn])==null?void 0:s.scale)==null?void 0:d.id},o.forEach(I=>{var j,L;I.channel===TIME_chn&&I.id===((L=(j=p.encoding[TIME_chn])==null?void 0:j.scale)==null?void 0:L.id)&&(I.hasTime2||(I.hasTime2=[]),I.hasTime2.push(p.id))})),p.encoding[REPEAT_chn]&&o.forEach(I=>{I.isRepeated||(I.isRepeated=[]),I.isRepeated.push(p.id)});let R=Object.keys(p.encoding);(P||l)&&(R.includes(SPEECH_AFTER_chn)||R.includes(SPEECH_BEFORE_chn))&&console.warn("Using speechAfter/Before channels for an overlaid stream is not recommended.")}if(e.common_transform&&(p.common_transform=deepcopy(e.common_transform)),e.transform&&(p.transform=deepcopy(e.transform)),f.length>0&&(p.transform||(p.transform=[]),p.transform.push(...f)),O.length>0&&(p.encoding_aggregates=O,p.transform||(p.transform=[]),p.transform.push({aggregate:O,groupby:Auto})),((g=p.transform)==null?void 0:g.length)>0&&p.transform.forEach(P=>{(P.boxplot||P.quantile)&&!P.groupby&&(P.groupby=Auto)}),e.config){let P={};Object.assign(P,e.config),p.config=P}return{normalized:p,scaleDefinitions:o}}function normalizeScaleConsistency(e,r){var O,_,S,v;let o={},l={},p={},f={};for(const s of r)((O=e.overlayScaleConsistency)==null?void 0:O[s])!==void 0?o[s]=e.overlayScaleConsistency[s]:jType(e.overlayScaleConsistency)==="Boolean"?o[s]=e.overlayScaleConsistency:o[s]=!0,((_=e.forceOverlayScaleConsistency)==null?void 0:_[s])!==void 0?l[s]=e.forceOverlayScaleConsistency[s]:jType(e.overlayScaleConsistency)==="Boolean"?l[s]=e.forceOverlayScaleConsistency:l[s]=!1,((S=e.sequenceScaleConsistency)==null?void 0:S[s])!==void 0?p[s]=e.sequenceScaleConsistency[s]:jType(e.sequenceScaleConsistency)==="Boolean"?p[s]=e.sequenceScaleConsistency:p[s]=!0,((v=e.forceSequenceScaleConsistency)==null?void 0:v[s])!==void 0?f[s]=e.forceSequenceScaleConsistency[s]:jType(e.overlayScaleConsistency)==="Boolean"?f[s]=e.forceSequenceScaleConsistency:f[s]=!1;e.overlayScaleConsistency=o,e.forceOverlayScaleConsistency=l,e.sequenceScaleConsistency=p,e.forceSequenceScaleConsistency=f}const isArray$2=Array.isArray;function toArray(e){return e!=null?isArray$2(e)?e:[e]:[]}function slice$2(e=0,r=1/0){return`${prep(e)} < row_number() && row_number() <= ${prep(r)}`}function prep(e){return e<0?`count() + ${e}`:e}class Transformable{constructor(r){r&&(this._params=r)}params(r){return arguments.length?(r&&(this._params={...this._params,...r}),this):this._params}reify(r){return this.__reify(this,r)}count(r){return this.__count(this,r)}derive(r,o){return this.__derive(this,r,o)}filter(r){return this.__filter(this,r)}slice(r,o){return this.filter(slice$2(r,o)).reify()}groupby(...r){return this.__groupby(this,r.flat())}orderby(...r){return this.__orderby(this,r.flat())}relocate(r,o){return this.__relocate(this,toArray(r),o)}rename(...r){return this.__rename(this,r.flat())}rollup(r){return this.__rollup(this,r)}sample(r,o){return this.__sample(this,r,o)}select(...r){return this.__select(this,r.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...r){return this.__dedupe(this,r.flat())}impute(r,o){return this.__impute(this,r,o)}fold(r,o){return this.__fold(this,r,o)}pivot(r,o,l){return this.__pivot(this,r,o,l)}spread(r,o){return this.__spread(this,r,o)}unroll(r,o){return this.__unroll(this,r,o)}lookup(r,o,...l){return this.__lookup(this,r,o,l.flat())}join(r,o,l,p){return this.__join(this,r,o,l,p)}join_left(r,o,l,p){const f={...p,left:!0,right:!1};return this.__join(this,r,o,l,f)}join_right(r,o,l,p){const f={...p,left:!1,right:!0};return this.__join(this,r,o,l,f)}join_full(r,o,l,p){const f={...p,left:!0,right:!0};return this.__join(this,r,o,l,f)}cross(r,o,l){return this.__cross(this,r,o,l)}semijoin(r,o){return this.__semijoin(this,r,o)}antijoin(r,o){return this.__antijoin(this,r,o)}concat(...r){return this.__concat(this,r.flat())}union(...r){return this.__union(this,r.flat())}intersect(...r){return this.__intersect(this,r.flat())}except(...r){return this.__except(this,r.flat())}}function error$1(e){throw Error(e)}function isNumber$2(e){return typeof e=="number"}function isFunction$2(e){return typeof e=="function"}function repeat$1(e,r){const o=Array(e);if(isFunction$2(r))for(let l=0;l<e;++l)o[l]=r(l);else o.fill(r);return o}let Table$1=class extends Transformable{constructor(r,o,l,p,f,O,_){super(_),this._names=Object.freeze(r),this._data=l,this._total=o,this._nrows=p?p.count():o,this._mask=o!==this._nrows&&p||null,this._group=f||null,this._order=O||null}create(r){error$1("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const r=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${r}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(r){return r?this._names.filter(r):this._names.slice()}columnName(r){return this._names[r]}columnIndex(r){return this._names.indexOf(r)}columnArray(r,o){return this.array(r,o)}array(r,o){error$1("Not implemented")}*values(r){const o=this.getter(r),l=this.numRows();for(let p=0;p<l;++p)yield o(p)}get(r,o=0){error$1("Not implemented")}getter(r){error$1("Not implemented")}objects(r){error$1("Not implemented")}object(r){error$1("Not implemented")}[Symbol.iterator](){error$1("Not implemented")}print(r={}){isNumber$2(r)?r={limit:r}:r.limit==null&&(r.limit=10);const o=this.objects({...r,grouped:!1}),l=`${this[Symbol.toStringTag]}. Showing ${o.length} rows.`;return console.log(l),console.table(o),this}indices(r=!0){if(this._index)return this._index;const o=this.numRows(),l=new Uint32Array(o),p=this.isOrdered(),f=this.mask();let O=-1;if(f)for(let _=f.next(0);_>=0;_=f.next(_+1))l[++O]=_;else for(let _=0;_<o;++_)l[++O]=_;if(r&&p){const _=this._order,S=this._data;l.sort((v,s)=>_(v,s,S))}return(r||!p)&&(this._index=l),l}partitions(r=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(r)];const{keys:o,size:l}=this._group,p=repeat$1(l,()=>[]),f=this._index,O=this.mask(),_=this.numRows();if(f&&this.isOrdered())for(let S=0,v;S<_;++S)v=f[S],p[o[v]].push(v);else if(O)for(let S=O.next(0);S>=0;S=O.next(S+1))p[o[S]].push(S);else for(let S=0;S<_;++S)p[o[S]].push(S);if(r&&!f&&this.isOrdered()){const S=this._order,v=this._data;for(let s=0;s<l;++s)p[s].sort((d,g)=>S(d,g,v))}return(r||!this.isOrdered())&&(this._partitions=p),p}scan(r,o,l=1/0,p=0){const f=this._mask,O=this._nrows,_=this._data;let S=p||0;if(S>O)return;const v=Math.min(O,S+l),s=()=>S=this._total;if(o&&this.isOrdered()||f&&this._index){const d=this.indices(),g=this._data;for(;S<v;++S)r(d[S],g,s)}else if(f){let d=v-S+1;for(S=f.nth(S);--d&&S>-1;S=f.next(S+1))r(S,_,s)}else for(;S<v;++S)r(S,_,s)}slice(r=0,o=1/0){if(this.isGrouped())return super.slice(r,o);const l=[],p=this.numRows();return r=Math.max(0,r+(r<0?p:0)),o=Math.min(p,Math.max(0,o+(o<0?p:0))),this.scan(f=>l.push(f),!0,o-r,r),this.reify(l)}reduce(r){return this.__reduce(this,r)}},Column$2=class{constructor(r){this.data=r}get length(){return this.data.length}get(r){return this.data[r]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},defaultColumnFactory=function(e){return e&&isFunction$2(e.get)?e:new Column$2(e)};function isDate$2(e){return e instanceof Date}function isObject$2(e){return e===Object(e)}function isRegExp$1(e){return e instanceof RegExp}function isString$1(e){return typeof e=="string"}function columnsFrom(e,r){const o=l=>error$1(`Illegal argument type: ${l||typeof e}`);return e instanceof Map?fromKeyValuePairs(e.entries(),r):isDate$2(e)?o("Date"):isRegExp$1(e)?o("RegExp"):isString$1(e)?o():isArray$2(e)?fromArray(e,r):isFunction$2(e[Symbol.iterator])?fromIterable$1(e,r):isObject$2(e)?fromKeyValuePairs(Object.entries(e),r):o()}function fromKeyValuePairs(e,r=["key","value"]){const o=[],l=[];for(const[f,O]of e)o.push(f),l.push(O);const p={};return r[0]&&(p[r[0]]=o),r[1]&&(p[r[1]]=l),p}function fromArray(e,r){const o=e.length,l={},p=f=>l[f]=Array(o);if(o){r=r||Object.keys(e[0]);const f=r.map(p),O=f.length;for(let _=0;_<o;++_){const S=e[_];for(let v=0;v<O;++v)f[v][_]=S[r[v]]}}else r&&r.forEach(p);return l}function fromIterable$1(e,r){const o={},l=O=>o[O]=[];let p,f;for(const O of e){p||(r=r||Object.keys(O),p=r.map(l),f=p.length);for(let _=0;_<f;++_)p[_].push(O[r[_]])}return!p&&r&&r.forEach(l),o}const{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function has$1(e,r){return hasOwnProperty$1.call(e,r)}function columnSet(e){return e?new ColumnSet({...e.data()},e.columnNames()):new ColumnSet}class ColumnSet{constructor(r,o){this.data=r||{},this.names=o||[]}add(r,o){return this.has(r)||this.names.push(r+""),this.data[r]=o}has(r){return has$1(this.data,r)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(r){return this.groups=r,this}}const NULL$1=void 0,TypedArray=Object.getPrototypeOf(Int8Array);function isTypedArray(e){return e instanceof TypedArray}function isArrayType(e){return isArray$2(e)||isTypedArray(e)}function isValid$1(e){return e!=null&&e===e}const isSeq=e=>isArrayType(e)||isString$1(e),array$5={compact:e=>isArrayType(e)?e.filter(r=>isValid$1(r)):e,concat:(...e)=>[].concat(...e),includes:(e,r,o)=>isSeq(e)?e.includes(r,o):!1,indexof:(e,r)=>isSeq(e)?e.indexOf(r):-1,join:(e,r)=>isArrayType(e)?e.join(r):NULL$1,lastindexof:(e,r)=>isSeq(e)?e.lastIndexOf(r):-1,length:e=>isSeq(e)?e.length:0,pluck:(e,r)=>isArrayType(e)?e.map(o=>isValid$1(o)?o[r]:NULL$1):NULL$1,reverse:e=>isArrayType(e)?e.slice().reverse():isString$1(e)?e.split("").reverse().join(""):NULL$1,slice:(e,r,o)=>isSeq(e)?e.slice(r,o):NULL$1};function bin$2(e,r,o,l,p){return e==null?null:e<r?-1/0:e>o?1/0:(e=Math.max(r,Math.min(e,o)),r+l*Math.floor(1e-14+(e-r)/l+(p||0)))}function pad$1(e,r,o="0"){const l=e+"",p=l.length;return p<r?Array(r-p+1).join(o)+l:l}const pad2=e=>(e<10?"0":"")+e,formatYear=e=>e<0?"-"+pad$1(-e,6):e>9999?"+"+pad$1(e,6):pad$1(e,4);function formatISO(e,r,o,l,p,f,O,_,S){const v=_?"Z":"";return formatYear(e)+"-"+pad2(r+1)+"-"+pad2(o)+(!S||O?"T"+pad2(l)+":"+pad2(p)+":"+pad2(f)+"."+pad$1(O,3)+v:f?"T"+pad2(l)+":"+pad2(p)+":"+pad2(f)+v:p||l||!_?"T"+pad2(l)+":"+pad2(p)+v:"")}function formatDate(e,r){return isNaN(e)?"Invalid Date":formatISO(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,r)}function formatUTCDate(e,r){return isNaN(e)?"Invalid Date":formatISO(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,r)}const iso_re=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function isISODateString(e){return e.match(iso_re)&&!isNaN(Date.parse(e))}function parseIsoDate(e,r=Date.parse){return isISODateString(e)?r(e):e}const msMinute=6e4,msDay=864e5,msWeek=6048e5,t0$1=new Date,t1=new Date,t=e=>(t0$1.setTime(typeof e=="string"?parseIsoDate(e):e),t0$1);function datetime(e,r,o,l,p,f,O){return arguments.length?new Date(e,r||0,o??1,l||0,p||0,f||0,O||0):new Date(Date.now())}function utcdatetime(e,r,o,l,p,f,O){return arguments.length?new Date(Date.UTC(e,r||0,o??1,l||0,p||0,f||0,O||0)):new Date(Date.now())}function dayofyear$1(e){t1.setTime(+e),t1.setHours(0,0,0,0),t0$1.setTime(+t1),t0$1.setMonth(0),t0$1.setDate(1);const r=(t1.getTimezoneOffset()-t0$1.getTimezoneOffset())*msMinute;return Math.floor(1+(t1-t0$1-r)/msDay)}function utcdayofyear$1(e){t1.setTime(+e),t1.setUTCHours(0,0,0,0);const r=Date.UTC(t1.getUTCFullYear(),0,1);return Math.floor(1+(t1-r)/msDay)}function week$1(e,r){const o=r||0;t1.setTime(+e),t1.setDate(t1.getDate()-(t1.getDay()+7-o)%7),t1.setHours(0,0,0,0),t0$1.setTime(+e),t0$1.setMonth(0),t0$1.setDate(1),t0$1.setDate(1-(t0$1.getDay()+7-o)%7),t0$1.setHours(0,0,0,0);const l=(t1.getTimezoneOffset()-t0$1.getTimezoneOffset())*msMinute;return Math.floor((1+(t1-t0$1)-l)/msWeek)}function utcweek$1(e,r){const o=r||0;return t1.setTime(+e),t1.setUTCDate(t1.getUTCDate()-(t1.getUTCDay()+7-o)%7),t1.setUTCHours(0,0,0,0),t0$1.setTime(+e),t0$1.setUTCMonth(0),t0$1.setUTCDate(1),t0$1.setUTCDate(1-(t0$1.getUTCDay()+7-o)%7),t0$1.setUTCHours(0,0,0,0),Math.floor((1+(t1-t0$1))/msWeek)}const date={format_date:(e,r)=>formatDate(t(e),!r),format_utcdate:(e,r)=>formatUTCDate(t(e),!r),timestamp:e=>+t(e),year:e=>t(e).getFullYear(),quarter:e=>Math.floor(t(e).getMonth()/3),month:e=>t(e).getMonth(),date:e=>t(e).getDate(),dayofweek:e=>t(e).getDay(),hours:e=>t(e).getHours(),minutes:e=>t(e).getMinutes(),seconds:e=>t(e).getSeconds(),milliseconds:e=>t(e).getMilliseconds(),utcyear:e=>t(e).getUTCFullYear(),utcquarter:e=>Math.floor(t(e).getUTCMonth()/3),utcmonth:e=>t(e).getUTCMonth(),utcdate:e=>t(e).getUTCDate(),utcdayofweek:e=>t(e).getUTCDay(),utchours:e=>t(e).getUTCHours(),utcminutes:e=>t(e).getUTCMinutes(),utcseconds:e=>t(e).getUTCSeconds(),utcmilliseconds:e=>t(e).getUTCMilliseconds(),datetime,dayofyear:dayofyear$1,week:week$1,utcdatetime,utcdayofyear:utcdayofyear$1,utcweek:utcweek$1,now:Date.now};function equal$1(e,r){return e==null||r==null||e!==e||r!==r?!1:e===r?!0:isDate$2(e)||isDate$2(r)?+e==+r:isRegExp$1(e)&&isRegExp$1(r)?e+""==r+"":isObject$2(e)&&isObject$2(r)?deepEqual(e,r):!1}function deepEqual(e,r){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1;if(e.length||r.length)return arrayEqual(e,r);const o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length||(o.sort(),l.sort(),!arrayEqual(o,l,(f,O)=>f===O)))return!1;const p=o.length;for(let f=0;f<p;++f){const O=o[f];if(!equal$1(e[O],r[O]))return!1}return!0}function arrayEqual(e,r,o=equal$1){const l=e.length;if(l!==r.length)return!1;for(let p=0;p<l;++p)if(!o(e[p],r[p]))return!1;return!0}const json$1={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let source$1=Math.random;function random$1(){return source$1()}const math={random:random$1,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function isMapOrSet(e){return isMap(e)||isSet(e)}function array$4(e){return Array.from(e)}const object$1={has:(e,r)=>isMapOrSet(e)?e.has(r):e!=null?has$1(e,r):!1,keys:e=>isMap(e)?array$4(e.keys()):e!=null?Object.keys(e):[],values:e=>isMapOrSet(e)?array$4(e.values()):e!=null?Object.values(e):[],entries:e=>isMapOrSet(e)?array$4(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):NULL$1};function recode(e,r,o){if(r instanceof Map){if(r.has(e))return r.get(e)}else if(has$1(r,e))return r[e];return o!==void 0?o:e}function sequence$2(e,r,o){let l=arguments.length;e=+e,r=+r,o=l<2?(r=e,e=0,1):l<3?1:+o,l=Math.max(0,Math.ceil((r-e)/o))|0;const p=new Array(l);for(let f=0;f<l;++f)p[f]=e+f*o;return p}const string={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,r)=>e==null?e:Number.parseInt(e,r),endswith:(e,r,o)=>e==null?!1:String(e).endsWith(r,o),match:(e,r,o)=>{const l=e==null?e:String(e).match(r);return o==null||l==null?l:typeof o=="number"?l[o]:l.groups?l.groups[o]:null},normalize:(e,r)=>e==null?e:String(e).normalize(r),padend:(e,r,o)=>e==null?e:String(e).padEnd(r,o),padstart:(e,r,o)=>e==null?e:String(e).padStart(r,o),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,r)=>e==null?e:String(e).repeat(r),replace:(e,r,o)=>e==null?e:String(e).replace(r,String(o)),substring:(e,r,o)=>e==null?e:String(e).substring(r,o),split:(e,r,o)=>e==null?[]:String(e).split(r,o),startswith:(e,r,o)=>e==null?!1:String(e).startsWith(r,o),trim:e=>e==null?e:String(e).trim()},functions={bin:bin$2,equal:equal$1,recode,sequence:sequence$2,...array$5,...date,...json$1,...math,...object$1,...string};function isBigInt(e){return typeof e=="bigint"}function toString$2(e){return e===void 0?e+"":isBigInt(e)?e+"n":JSON.stringify(e)}function op(e,r=[],o=[]){return new Op$1(e,toArray(r),toArray(o))}let Op$1=class{constructor(r,o,l){this.name=r,this.fields=o,this.params=l}toString(){const r=[...this.fields.map(o=>`d[${toString$2(o)}]`),...this.params.map(toString$2)];return`d => op.${this.name}(${r})`}toObject(){return{expr:this.toString(),func:!0}}};const any=e=>op("any",e),count=()=>op("count"),array_agg=e=>op("array_agg",e),array_agg_distinct=e=>op("array_agg_distinct",e),map_agg=(e,r)=>op("map_agg",[e,r]),object_agg=(e,r)=>op("object_agg",[e,r]),entries_agg=(e,r)=>op("entries_agg",[e,r]);({...functions});function uniqueName(e,r){e=isMapOrSet(e)?e:new Set(e);let o=r,l=0;for(;e.has(o);)o=r+ ++l;return o}function regroup(e,r){if(!e||!r)return e;const{keys:o,rows:l,size:p}=e,f=new Int32Array(p);r.scan(s=>f[o[s]]=1);const O=f.reduce((s,d)=>s+d,0);if(O===p)return e;const _=Array(O);let S=0;for(let s=0;s<p;++s)f[s]&&(_[f[s]=S++]=l[s]);const v=new Uint32Array(o.length);return r.scan(s=>v[s]=f[o[s]]),{...e,keys:v,rows:_,size:S}}function reindex(e,r,o,l){const{keys:p,rows:f,size:O}=e;let _=f,S=O,v=null;if(o){v=new Int32Array(O),r(R=>v[p[R]]=1);const P=v.reduce((R,I)=>R+I,0);if(P!==O){_=Array(P),S=0;for(let R=0;R<O;++R)v[R]&&(_[v[R]=S++]=f[R])}}let s=-1;const d=new Uint32Array(l);return r(S!==O?P=>d[++s]=v[p[P]]:P=>d[++s]=p[P]),{...e,keys:d,rows:_,size:S}}function nest$1(e,r,o,l){const p=l==="map"||l===!0?map_agg:l==="entries"?entries_agg:l==="object"?object_agg:error$1('groups option must be "map", "entries", or "object".'),{names:f}=e.groups(),O=uniqueName(e.columnNames(),"_");let _=e.select().reify(r).create({data:{[O]:o}}).rollup({[O]:array_agg(O)});for(let S=f.length;--S>=0;)_=_.groupby(f.slice(0,S)).rollup({[O]:p(f[S],O)});return _.get(O)}const ArrayPattern="ArrayPattern",ArrowFunctionExpression="ArrowFunctionExpression",FunctionExpression="FunctionExpression",Identifier$1="Identifier",Literal$1="Literal",MemberExpression="MemberExpression",ObjectExpression="ObjectExpression",ObjectPattern="ObjectPattern",Property="Property",Column$1="Column",Constant="Constant",Dictionary$1="Dictionary",Function$1="Function",Parameter="Parameter",Op="Op",visit$1=(e,r)=>{const o=visitors$1[e.type];return o?o(e,r):error$1(`Unsupported expression construct: ${e.type}`)},binary$1=(e,r)=>"("+visit$1(e.left,r)+" "+e.operator+" "+visit$1(e.right,r)+")",func$2=(e,r)=>"("+list$2(e.params,r)+")=>"+visit$1(e.body,r),call$1=(e,r)=>visit$1(e.callee,r)+"("+list$2(e.arguments,r)+")",list$2=(e,r,o=",")=>e.map(l=>visit$1(l,r)).join(o),name=e=>e.computed?`[${toString$2(e.name)}]`:`.${e.name}`,ref$1=(e,r,o)=>{const l=e.table||"";return`data${l}${name(e)}.${o}(${r.index}${l})`},visitors$1={Constant:e=>e.raw,Column:(e,r)=>ref$1(e,r,"get"),Dictionary:(e,r)=>ref$1(e,r,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${name(e)}`,Op:(e,r)=>`op(${toString$2(e.name)},${r.op||r.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,r)=>{const{quasis:o,expressions:l}=e,p=l.length;let f=o[0].value.raw;for(let O=0;O<p;)f+="${"+visit$1(l[O],r)+"}"+o[++O].value.raw;return"`"+f+"`"},MemberExpression:(e,r)=>{const o=!e.computed,l=visit$1(e.object,r),p=visit$1(e.property,r);return l+(o?"."+p:"["+p+"]")},CallExpression:call$1,NewExpression:(e,r)=>"new "+call$1(e,r),ArrayExpression:(e,r)=>"["+list$2(e.elements,r)+"]",AssignmentExpression:binary$1,BinaryExpression:binary$1,LogicalExpression:binary$1,UnaryExpression:(e,r)=>"("+e.operator+visit$1(e.argument,r)+")",ConditionalExpression:(e,r)=>"("+visit$1(e.test,r)+"?"+visit$1(e.consequent,r)+":"+visit$1(e.alternate,r)+")",ObjectExpression:(e,r)=>"({"+list$2(e.properties,r)+"})",Property:(e,r)=>{const o=visit$1(e.key,r);return(e.computed?`[${o}]`:o)+":"+visit$1(e.value,r)},ArrowFunctionExpression:func$2,FunctionExpression:func$2,FunctionDeclaration:func$2,ArrayPattern:(e,r)=>"["+list$2(e.elements,r)+"]",ObjectPattern:(e,r)=>"{"+list$2(e.properties,r)+"}",VariableDeclaration:(e,r)=>e.kind+" "+list$2(e.declarations,r,","),VariableDeclarator:(e,r)=>visit$1(e.id,r)+"="+visit$1(e.init,r),SpreadElement:(e,r)=>"..."+visit$1(e.argument,r),BlockStatement:(e,r)=>"{"+list$2(e.body,r,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,r)=>visit$1(e.expression,r),IfStatement:(e,r)=>"if ("+visit$1(e.test,r)+")"+visit$1(e.consequent,r)+(e.alternate?" else "+visit$1(e.alternate,r):""),SwitchStatement:(e,r)=>"switch ("+visit$1(e.discriminant,r)+") {"+list$2(e.cases,r,"")+"}",SwitchCase:(e,r)=>(e.test?"case "+visit$1(e.test,r):"default")+": "+list$2(e.consequent,r,";")+";",ReturnStatement:(e,r)=>"return "+visit$1(e.argument,r),Program:(e,r)=>visit$1(e.body[0],r)};function codegen$1(e,r={index:"row"}){return visit$1(e,r)}function bins(e,r,o=15,l=!0,p=0,f){const _=Math.LN10;if(f==null){const S=Math.ceil(Math.log(o)/_),v=r-e||Math.abs(e)||1,s=[5,2];for(f=Math.max(p,Math.pow(10,Math.round(Math.log(v)/_)-S));Math.ceil(v/f)>o;)f*=10;const d=s.length;for(let g=0;g<d;++g){const P=f/s[g];P>=p&&v/P<=o&&(f=P)}}if(l){let S=Math.log(f);const v=S>=0?0:~~(-S/_)+1,s=Math.pow(10,-v-1);S=Math.floor(e/f+s)*f,e=e<S?S-f:S,r=Math.ceil(r/f)*f}return[e,r===e?e+f:r,f]}function key$1(e){const r=typeof e;return r==="string"?`"${e}"`:r!=="object"||!e?e:isDate$2(e)?+e:isArray$2(e)||isTypedArray(e)?`[${e.map(key$1)}]`:isRegExp$1(e)?e+"":objectKey(e)}function objectKey(e){let r="{",o=-1;for(const l in e)++o>0&&(r+=","),r+=`"${l}":${key$1(e[l])}`;return r+="}",r}function keyFunction(e,r){const o=e.length;return o===1?(l,p)=>key$1(e[0](l,p)):(l,p)=>{let f="";for(let O=0;O<o;++O){O>0&&(f+="|");const _=e[O](l,p);if(r&&(_==null||_!==_))return null;f+=key$1(_)}return f}}function distinctMap(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),r=>r.v)},increment(r){const o=key$1(r),l=e.get(o);l?++l.n:e.set(o,{v:r,n:1})},decrement(r){const o=key$1(r),l=e.get(o);l.n===1?e.delete(o):--l.n},forEach(r){e.forEach(({v:o,n:l})=>r(o,l))}}}function noop$2(){}function product(e,r=0,o=e.length){let l=e[r++];for(let p=r;p<o;++p)l*=e[p];return l}function initOp(e){return e.init=e.init||noop$2,e.add=e.add||noop$2,e.rem=e.rem||noop$2,e}function initProduct(e,r){return e.product_v=!1,e.product=r}const aggregateFunctions={count:{create:()=>initOp({value:e=>e.count}),param:[]},array_agg:{create:()=>initOp({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>initOp({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>initOp({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>initOp({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>initOp({add:(e,r)=>{e.any==null&&(e.any=r)},value:e=>e.valid?e.any:NULL$1}),param:[1]},valid:{create:()=>initOp({value:e=>e.valid}),param:[1]},invalid:{create:()=>initOp({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=distinctMap(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,r)=>e.distinct.increment(r),rem:(e,r)=>e.distinct.decrement(r)}),param:[1]},array_agg_distinct:{create:()=>initOp({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>initOp({value:e=>{let r=NULL$1,o=0;return e.distinct.forEach((l,p)=>{p>o&&(o=p,r=l)}),r}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:NULL$1,add:(e,r)=>isBigInt(r)?e.sum===0?e.sum=r:e.sum+=r:e.sum+=+r,rem:(e,r)=>e.sum-=r}),param:[1]},product:{create:()=>({init:e=>initProduct(e,1),value:e=>e.valid?e.product_v?initProduct(e,product(e.list.values())):e.product:void 0,add:(e,r)=>isBigInt(r)&&e.product===1?e.product=r:e.product*=r,rem:(e,r)=>r==0||r===1/0||r===-1/0?e.product_v=!0:e.product/=r}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:NULL$1,add:(e,r)=>{e.mean_d=r-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,r)=>{e.mean_d=r-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>initOp({value:e=>e.valid?e.mean:NULL$1}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):NULL$1,add:(e,r)=>e.dev+=e.mean_d*(r-e.mean),rem:(e,r)=>e.dev-=e.mean_d*(r-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>initOp({value:e=>e.valid>1?e.dev/e.valid:NULL$1}),param:[1],req:["variance"]},stdev:{create:()=>initOp({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):NULL$1}),param:[1],req:["variance"]},stdevp:{create:()=>initOp({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):NULL$1}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=NULL$1,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,r)=>{(r<e.min||e.min===NULL$1)&&(e.min=r)},rem:(e,r)=>{r<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=NULL$1,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,r)=>{(r>e.max||e.max===NULL$1)&&(e.max=r)},rem:(e,r)=>{r>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>initOp({value:r=>r.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>initOp({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):NULL$1,add:(e,r,o)=>{const l=r-e.mean_x,p=o-e.mean_y;e.mean_x+=l/e.valid,e.mean_y+=p/e.valid;const f=o-e.mean_y;e.dev_x+=l*(r-e.mean_x),e.dev_y+=p*f,e.cov+=l*f},rem:(e,r,o)=>{const l=r-e.mean_x,p=o-e.mean_y;e.mean_x-=e.valid?l/e.valid:e.mean_x,e.mean_y-=e.valid?p/e.valid:e.mean_y;const f=o-e.mean_y;e.dev_x-=l*(r-e.mean_x),e.dev_y-=p*f,e.cov-=l*f}}),param:[2]},covariancep:{create:()=>initOp({value:e=>e.valid>1?e.cov/e.valid:NULL$1}),param:[2],req:["covariance"]},corr:{create:()=>initOp({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):NULL$1}),param:[2],req:["covariance"]},bins:{create:(e,r,o,l)=>initOp({value:p=>bins(p.min,p.max,e,r,o,l)}),param:[1,4],req:["min","max"]}},rank$1={create(){let e;return{init:()=>e=1,value:r=>{const o=r.index;return o&&!r.peer(o)?e=o+1:e}}},param:[]},cume_dist={create(){let e;return{init:()=>e=0,value:r=>{const{index:o,peer:l,size:p}=r;let f=o;if(e<f){for(;f+1<p&&l(f+1);)++f;e=f}return(1+e)/p}}},param:[]},windowFunctions={row_number:{create(){return{init:noop$2,value:e=>e.index+1}},param:[]},rank:rank$1,avg_rank:{create(){let e,r;return{init:()=>(e=-1,r=1),value:o=>{const l=o.index;if(l>=e){for(r=e=l+1;o.peer(e);r+=++e);r/=e-l}return r}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:r=>{const o=r.index;return o&&!r.peer(o)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:r}=rank$1.create();return{init:e,value:o=>(r(o)-1)/(o.size-1)}},param:[]},cume_dist,ntile:{create(e){e=+e,e>0||error$1("ntile num must be greater than zero.");const{init:r,value:o}=cume_dist.create();return{init:r,value:l=>Math.ceil(e*o(l))}},param:[0,1]},lag:{create(e,r=NULL$1){return e=+e||1,{init:noop$2,value:(o,l)=>{const p=o.index-e;return p>=0?o.value(p,l):r}}},param:[1,2]},lead:{create(e,r=NULL$1){return e=+e||1,{init:noop$2,value:(o,l)=>{const p=o.index+e;return p<o.size?o.value(p,l):r}}},param:[1,2]},first_value:{create(){return{init:noop$2,value:(e,r)=>e.value(e.i0,r)}},param:[1]},last_value:{create(){return{init:noop$2,value:(e,r)=>e.value(e.i1-1,r)}},param:[1]},nth_value:{create(e){return e=+e,e>0||error$1("nth_value nth must be greater than zero."),{init:noop$2,value:(r,o)=>{const l=r.i0+(e-1);return l<r.i1?r.value(l,o):NULL$1}}},param:[1,1]},fill_down:{create(e=NULL$1){let r;return{init:()=>r=e,value:(o,l)=>{const p=o.value(o.index,l);return isValid$1(p)?r=p:r}}},param:[1,1]},fill_up:{create(e=NULL$1){let r,o;return{init:()=>(r=e,o=-1),value:(l,p)=>l.index<=o?r:(o=find$1(l,p,l.index))>=0?r=l.value(o,p):(o=l.size,r=e)}},param:[1,1]}};function find$1(e,r,o){for(const l=e.size;o<l;++o)if(isValid$1(e.value(o,r)))return o;return-1}function hasAggregate(e){return has$1(aggregateFunctions,e)}function hasWindow(e){return has$1(windowFunctions,e)}function hasFunction(e){return has$1(functions,e)||e==="row_object"}function getAggregate(e){return hasAggregate(e)&&aggregateFunctions[e]}function getWindow(e){return hasWindow(e)&&windowFunctions[e]}function compile(e,r,o){return e=`"use strict"; return ${e};`,Function("fn","$",e)(r,o)}const compile$1={escape:(e,r,o)=>compile(e,r,o),expr:(e,r)=>compile(`(row,data,op)=>${e}`,functions,r),expr2:(e,r)=>compile(`(row0,data0,row,data)=>${e}`,functions,r),join:(e,r)=>compile(`(row1,data1,row2,data2)=>${e}`,functions,r),param:(e,r)=>compile(e,functions,r)},dictOps={"==":1,"!=":1,"===":1,"!==":1};function rewrite(e,r,o=0,l,p){if(e.type=Column$1,e.name=r,e.table=o,p&&l&&isFunction$2(l.keyFor)){const f=dictOps[p.operator]?p.left===e?p.right:p.left:p.callee&&p.callee.name==="equal"?p.arguments[p.arguments[0]===e?1:0]:null;f&&f.type===Literal$1&&rewriteDictionary(p,e,f,l.keyFor(f.value))}return e}function rewriteDictionary(e,r,o,l){return l<0?(e.type=Literal$1,e.value=!1,e.raw="false"):(r.type=Dictionary$1,o.value=l,o.raw=l+""),!0}function entries(e){return isArray$2(e)?e:isMap(e)?e.entries():e?Object.entries(e):[]}const ROW_OBJECT="row_object";function rowObjectExpression(e,r){e.type=ObjectExpression;const o=e.properties=[];for(const l of entries(r)){const[p,f]=isArray$2(l)?l:[l,l];o.push({type:Property,key:{type:Literal$1,raw:toString$2(f)},value:rewrite({computed:!0},p)})}return e}function rowObjectCode(e){return codegen$1(rowObjectExpression({},e))}function rowObjectBuilder(e){return compile$1.expr(rowObjectCode(e))}function __awaiter(e,r,o,l){function p(f){return f instanceof o?f:new o(function(O){O(f)})}return new(o||(o=Promise))(function(f,O){function _(s){try{v(l.next(s))}catch(d){O(d)}}function S(s){try{v(l.throw(s))}catch(d){O(d)}}function v(s){s.done?f(s.value):p(s.value).then(_,S)}v((l=l.apply(e,r||[])).next())})}function __values(e){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&e[r],l=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(e,r||[]),p,f=[];return p={},_("next"),_("throw"),_("return",O),p[Symbol.asyncIterator]=function(){return this},p;function O(P){return function(R){return Promise.resolve(R).then(P,d)}}function _(P,R){l[P]&&(p[P]=function(I){return new Promise(function(j,L){f.push([P,I,j,L])>1||S(P,I)})},R&&(p[P]=R(p[P])))}function S(P,R){try{v(l[P](R))}catch(I){g(f[0][3],I)}}function v(P){P.value instanceof __await?Promise.resolve(P.value.v).then(s,d):g(f[0][2],P)}function s(P){S("next",P)}function d(P){S("throw",P)}function g(P,R){P(R),f.shift(),f.length&&S(f[0][0],f[0][1])}}function __asyncDelegator(e){var r,o;return r={},l("next"),l("throw",function(p){throw p}),l("return"),r[Symbol.iterator]=function(){return this},r;function l(p,f){r[p]=e[p]?function(O){return(o=!o)?{value:__await(e[p](O)),done:!1}:f?f(O):O}:f}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],o;return r?r.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(f){o[f]=e[f]&&function(O){return new Promise(function(_,S){O=e[f](O),p(_,S,O.done,O.value)})}}function p(f,O,_,S){Promise.resolve(S).then(function(v){f({value:v,done:_})},O)}}typeof SuppressedError=="function"&&SuppressedError;const decoder=new TextDecoder("utf-8"),decodeUtf8=e=>decoder.decode(e),encoder$1=new TextEncoder,encodeUtf8=e=>encoder$1.encode(e),isBoolean$2=e=>typeof e=="boolean",isFunction$1=e=>typeof e=="function",isObject$1=e=>e!=null&&Object(e)===e,isPromise=e=>isObject$1(e)&&isFunction$1(e.then),isIterable$1=e=>isObject$1(e)&&isFunction$1(e[Symbol.iterator]),isAsyncIterable=e=>isObject$1(e)&&isFunction$1(e[Symbol.asyncIterator]),isIteratorResult=e=>isObject$1(e)&&"done"in e&&"value"in e,isReadableInterop=e=>"_getDOMStream"in e&&"_getNodeStream"in e,isWritableDOMStream=e=>isObject$1(e)&&isFunction$1(e.abort)&&isFunction$1(e.getWriter)&&!isReadableInterop(e),isWritableNodeStream=e=>isObject$1(e)&&isFunction$1(e.end)&&isFunction$1(e.write)&&isBoolean$2(e.writable)&&!isReadableInterop(e),isFlatbuffersByteBuffer=e=>isObject$1(e)&&isFunction$1(e.clear)&&isFunction$1(e.bytes)&&isFunction$1(e.position)&&isFunction$1(e.setPosition)&&isFunction$1(e.capacity)&&isFunction$1(e.getBufferIdentifier)&&isFunction$1(e.createLong),SharedArrayBuf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function collapseContiguousByteRanges(e){const r=e[0]?[e[0]]:[];let o,l,p,f;for(let O,_,S=0,v=0,s=e.length;++S<s;){if(O=r[v],_=e[S],!O||!_||O.buffer!==_.buffer||_.byteOffset<O.byteOffset){_&&(r[++v]=_);continue}if({byteOffset:o,byteLength:p}=O,{byteOffset:l,byteLength:f}=_,o+p<l||l+f<o){_&&(r[++v]=_);continue}r[v]=new Uint8Array(O.buffer,o,l-o+f)}return r}function memcpy(e,r,o=0,l=r.byteLength){const p=e.byteLength,f=new Uint8Array(e.buffer,e.byteOffset,p),O=new Uint8Array(r.buffer,r.byteOffset,Math.min(l,p));return f.set(O,o),e}function joinUint8Arrays(e,r){const o=collapseContiguousByteRanges(e),l=o.reduce((s,d)=>s+d.byteLength,0);let p,f,O,_=0,S=-1;const v=Math.min(r||Number.POSITIVE_INFINITY,l);for(const s=o.length;++S<s;){if(p=o[S],f=p.subarray(0,Math.min(p.length,v-_)),v<=_+f.length){f.length<p.length?o[S]=p.subarray(f.length):f.length===p.length&&S++,O?memcpy(O,f,_):O=f;break}memcpy(O||(O=new Uint8Array(v)),f,_),_+=f.length}return[O||new Uint8Array(0),o.slice(S),l-(O?O.byteLength:0)]}function toArrayBufferView(e,r){let o=isIteratorResult(r)?r.value:r;return o instanceof e?e===Uint8Array?new e(o.buffer,o.byteOffset,o.byteLength):o:o?(typeof o=="string"&&(o=encodeUtf8(o)),o instanceof ArrayBuffer?new e(o):o instanceof SharedArrayBuf?new e(o):isFlatbuffersByteBuffer(o)?toArrayBufferView(e,o.bytes()):ArrayBuffer.isView(o)?o.byteLength<=0?new e(0):new e(o.buffer,o.byteOffset,o.byteLength/e.BYTES_PER_ELEMENT):e.from(o)):new e(0)}const toInt32Array=e=>toArrayBufferView(Int32Array,e),toBigInt64Array=e=>toArrayBufferView(BigInt64Array,e),toUint8Array=e=>toArrayBufferView(Uint8Array,e),pump$1=e=>(e.next(),e);function*toArrayBufferViewIterator(e,r){const o=function*(p){yield p},l=typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer||r instanceof SharedArrayBuf?o(r):isIterable$1(r)?r:o(r);return yield*pump$1(function*(p){let f=null;do f=p.next(yield toArrayBufferView(e,f));while(!f.done)}(l[Symbol.iterator]())),new e}const toUint8ArrayIterator=e=>toArrayBufferViewIterator(Uint8Array,e);function toArrayBufferViewAsyncIterator(e,r){return __asyncGenerator(this,arguments,function*(){if(isPromise(r))return yield __await(yield __await(yield*__asyncDelegator(__asyncValues(toArrayBufferViewAsyncIterator(e,yield __await(r))))));const l=function(O){return __asyncGenerator(this,arguments,function*(){yield yield __await(yield __await(O))})},p=function(O){return __asyncGenerator(this,arguments,function*(){yield __await(yield*__asyncDelegator(__asyncValues(pump$1(function*(_){let S=null;do S=_.next(yield S==null?void 0:S.value);while(!S.done)}(O[Symbol.iterator]())))))})},f=typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer||r instanceof SharedArrayBuf?l(r):isIterable$1(r)?p(r):isAsyncIterable(r)?r:l(r);return yield __await(yield*__asyncDelegator(__asyncValues(pump$1(function(O){return __asyncGenerator(this,arguments,function*(){let _=null;do _=yield __await(O.next(yield yield __await(toArrayBufferView(e,_))));while(!_.done)})}(f[Symbol.asyncIterator]()))))),yield __await(new e)})}const toUint8ArrayAsyncIterator=e=>toArrayBufferViewAsyncIterator(Uint8Array,e);function rebaseValueOffsets(e,r,o){if(e!==0){o=o.slice(0,r);for(let l=-1,p=o.length;++l<p;)o[l]+=e}return o.subarray(0,r)}function compareArrayLike(e,r){let o=0;const l=e.length;if(l!==r.length)return!1;if(l>0)do if(e[o]!==r[o])return!1;while(++o<l);return!0}const streamAdapters={fromIterable(e){return pump(fromIterable(e))},fromAsyncIterable(e){return pump(fromAsyncIterable(e))},fromDOMStream(e){return pump(fromDOMStream(e))},fromNodeStream(e){return pump(fromNodeStream(e))},toDOMStream(e,r){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,r){throw new Error('"toNodeStream" not available in this environment')}},pump=e=>(e.next(),e);function*fromIterable(e){let r,o=!1,l=[],p,f,O,_=0;function S(){return f==="peek"?joinUint8Arrays(l,O)[0]:([p,l,_]=joinUint8Arrays(l,O),p)}({cmd:f,size:O}=(yield(()=>null)())||{cmd:"read",size:0});const v=toUint8ArrayIterator(e)[Symbol.iterator]();try{do if({done:r,value:p}=Number.isNaN(O-_)?v.next():v.next(O-_),!r&&p.byteLength>0&&(l.push(p),_+=p.byteLength),r||O<=_)do({cmd:f,size:O}=yield S());while(O<_);while(!r)}catch(s){(o=!0)&&typeof v.throw=="function"&&v.throw(s)}finally{o===!1&&typeof v.return=="function"&&v.return(null)}return null}function fromAsyncIterable(e){return __asyncGenerator(this,arguments,function*(){let o,l=!1,p=[],f,O,_,S=0;function v(){return O==="peek"?joinUint8Arrays(p,_)[0]:([f,p,S]=joinUint8Arrays(p,_),f)}({cmd:O,size:_}=(yield yield __await((()=>null)()))||{cmd:"read",size:0});const s=toUint8ArrayAsyncIterator(e)[Symbol.asyncIterator]();try{do if({done:o,value:f}=Number.isNaN(_-S)?yield __await(s.next()):yield __await(s.next(_-S)),!o&&f.byteLength>0&&(p.push(f),S+=f.byteLength),o||_<=S)do({cmd:O,size:_}=yield yield __await(v()));while(_<S);while(!o)}catch(d){(l=!0)&&typeof s.throw=="function"&&(yield __await(s.throw(d)))}finally{l===!1&&typeof s.return=="function"&&(yield __await(s.return(new Uint8Array(0))))}return yield __await(null)})}function fromDOMStream(e){return __asyncGenerator(this,arguments,function*(){let o=!1,l=!1,p=[],f,O,_,S=0;function v(){return O==="peek"?joinUint8Arrays(p,_)[0]:([f,p,S]=joinUint8Arrays(p,_),f)}({cmd:O,size:_}=(yield yield __await((()=>null)()))||{cmd:"read",size:0});const s=new AdaptiveByteReader(e);try{do if({done:o,value:f}=Number.isNaN(_-S)?yield __await(s.read()):yield __await(s.read(_-S)),!o&&f.byteLength>0&&(p.push(toUint8Array(f)),S+=f.byteLength),o||_<=S)do({cmd:O,size:_}=yield yield __await(v()));while(_<S);while(!o)}catch(d){(l=!0)&&(yield __await(s.cancel(d)))}finally{l===!1?yield __await(s.cancel()):e.locked&&s.releaseLock()}return yield __await(null)})}class AdaptiveByteReader{constructor(r){this.source=r,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(r){return __awaiter(this,void 0,void 0,function*(){const{reader:o,source:l}=this;o&&(yield o.cancel(r).catch(()=>{})),l&&l.locked&&this.releaseLock()})}read(r){return __awaiter(this,void 0,void 0,function*(){if(r===0)return{done:this.reader==null,value:new Uint8Array(0)};const o=yield this.reader.read();return!o.done&&(o.value=toUint8Array(o)),o})}}const onEvent=(e,r)=>{const o=p=>l([r,p]);let l;return[r,o,new Promise(p=>(l=p)&&e.once(r,o))]};function fromNodeStream(e){return __asyncGenerator(this,arguments,function*(){const o=[];let l="error",p=!1,f=null,O,_,S=0,v=[],s;function d(){return O==="peek"?joinUint8Arrays(v,_)[0]:([s,v,S]=joinUint8Arrays(v,_),s)}if({cmd:O,size:_}=(yield yield __await((()=>null)()))||{cmd:"read",size:0},e.isTTY)return yield yield __await(new Uint8Array(0)),yield __await(null);try{o[0]=onEvent(e,"end"),o[1]=onEvent(e,"error");do{if(o[2]=onEvent(e,"readable"),[l,f]=yield __await(Promise.race(o.map(P=>P[2]))),l==="error")break;if((p=l==="end")||(Number.isFinite(_-S)?(s=toUint8Array(e.read(_-S)),s.byteLength<_-S&&(s=toUint8Array(e.read()))):s=toUint8Array(e.read()),s.byteLength>0&&(v.push(s),S+=s.byteLength)),p||_<=S)do({cmd:O,size:_}=yield yield __await(d()));while(_<S)}while(!p)}finally{yield __await(g(o,l==="error"?f:null))}return yield __await(null);function g(P,R){return s=v=null,new Promise((I,j)=>{for(const[L,G]of P)e.off(L,G);try{const L=e.destroy;L&&L.call(e,R),R=void 0}catch(L){R=L||R}finally{R!=null?j(R):I()}})}})}var MetadataVersion;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(MetadataVersion||(MetadataVersion={}));var UnionMode;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(UnionMode||(UnionMode={}));var Precision;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Precision||(Precision={}));var DateUnit;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(DateUnit||(DateUnit={}));var TimeUnit$1;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(TimeUnit$1||(TimeUnit$1={}));var IntervalUnit;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(IntervalUnit||(IntervalUnit={}));const SIZEOF_SHORT=2,SIZEOF_INT=4,FILE_IDENTIFIER_LENGTH=4,SIZE_PREFIX_LENGTH=4,int32=new Int32Array(2),float32=new Float32Array(int32.buffer),float64=new Float64Array(int32.buffer),isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Encoding;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Encoding||(Encoding={}));let ByteBuffer$2=class At{constructor(r){this.bytes_=r,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(r){return new At(new Uint8Array(r))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(r){this.position_=r}capacity(){return this.bytes_.length}readInt8(r){return this.readUint8(r)<<24>>24}readUint8(r){return this.bytes_[r]}readInt16(r){return this.readUint16(r)<<16>>16}readUint16(r){return this.bytes_[r]|this.bytes_[r+1]<<8}readInt32(r){return this.bytes_[r]|this.bytes_[r+1]<<8|this.bytes_[r+2]<<16|this.bytes_[r+3]<<24}readUint32(r){return this.readInt32(r)>>>0}readInt64(r){return BigInt.asIntN(64,BigInt(this.readUint32(r))+(BigInt(this.readUint32(r+4))<<BigInt(32)))}readUint64(r){return BigInt.asUintN(64,BigInt(this.readUint32(r))+(BigInt(this.readUint32(r+4))<<BigInt(32)))}readFloat32(r){return int32[0]=this.readInt32(r),float32[0]}readFloat64(r){return int32[isLittleEndian?0:1]=this.readInt32(r),int32[isLittleEndian?1:0]=this.readInt32(r+4),float64[0]}writeInt8(r,o){this.bytes_[r]=o}writeUint8(r,o){this.bytes_[r]=o}writeInt16(r,o){this.bytes_[r]=o,this.bytes_[r+1]=o>>8}writeUint16(r,o){this.bytes_[r]=o,this.bytes_[r+1]=o>>8}writeInt32(r,o){this.bytes_[r]=o,this.bytes_[r+1]=o>>8,this.bytes_[r+2]=o>>16,this.bytes_[r+3]=o>>24}writeUint32(r,o){this.bytes_[r]=o,this.bytes_[r+1]=o>>8,this.bytes_[r+2]=o>>16,this.bytes_[r+3]=o>>24}writeInt64(r,o){this.writeInt32(r,Number(BigInt.asIntN(32,o))),this.writeInt32(r+4,Number(BigInt.asIntN(32,o>>BigInt(32))))}writeUint64(r,o){this.writeUint32(r,Number(BigInt.asUintN(32,o))),this.writeUint32(r+4,Number(BigInt.asUintN(32,o>>BigInt(32))))}writeFloat32(r,o){float32[0]=o,this.writeInt32(r,int32[0])}writeFloat64(r,o){float64[0]=o,this.writeInt32(r,int32[isLittleEndian?0:1]),this.writeInt32(r+4,int32[isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+SIZEOF_INT+FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let r="";for(let o=0;o<FILE_IDENTIFIER_LENGTH;o++)r+=String.fromCharCode(this.readInt8(this.position_+SIZEOF_INT+o));return r}__offset(r,o){const l=r-this.readInt32(r);return o<this.readInt16(l)?this.readInt16(l+o):0}__union(r,o){return r.bb_pos=o+this.readInt32(o),r.bb=this,r}__string(r,o){r+=this.readInt32(r);const l=this.readInt32(r);r+=SIZEOF_INT;const p=this.bytes_.subarray(r,r+l);return o===Encoding.UTF8_BYTES?p:this.text_decoder_.decode(p)}__union_with_string(r,o){return typeof r=="string"?this.__string(o):this.__union(r,o)}__indirect(r){return r+this.readInt32(r)}__vector(r){return r+this.readInt32(r)+SIZEOF_INT}__vector_len(r){return this.readInt32(r+this.readInt32(r))}__has_identifier(r){if(r.length!=FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+FILE_IDENTIFIER_LENGTH);for(let o=0;o<FILE_IDENTIFIER_LENGTH;o++)if(r.charCodeAt(o)!=this.readInt8(this.position()+SIZEOF_INT+o))return!1;return!0}createScalarList(r,o){const l=[];for(let p=0;p<o;++p){const f=r(p);f!==null&&l.push(f)}return l}createObjList(r,o){const l=[];for(let p=0;p<o;++p){const f=r(p);f!==null&&l.push(f.unpack())}return l}},Builder$3=class Ct{constructor(r){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let o;r?o=r:o=1024,this.bb=ByteBuffer$2.allocate(o),this.space=o}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(r){this.force_defaults=r}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(r,o){r>this.minalign&&(this.minalign=r);const l=~(this.bb.capacity()-this.space+o)+1&r-1;for(;this.space<l+r+o;){const p=this.bb.capacity();this.bb=Ct.growByteBuffer(this.bb),this.space+=this.bb.capacity()-p}this.pad(l)}pad(r){for(let o=0;o<r;o++)this.bb.writeInt8(--this.space,0)}writeInt8(r){this.bb.writeInt8(this.space-=1,r)}writeInt16(r){this.bb.writeInt16(this.space-=2,r)}writeInt32(r){this.bb.writeInt32(this.space-=4,r)}writeInt64(r){this.bb.writeInt64(this.space-=8,r)}writeFloat32(r){this.bb.writeFloat32(this.space-=4,r)}writeFloat64(r){this.bb.writeFloat64(this.space-=8,r)}addInt8(r){this.prep(1,0),this.writeInt8(r)}addInt16(r){this.prep(2,0),this.writeInt16(r)}addInt32(r){this.prep(4,0),this.writeInt32(r)}addInt64(r){this.prep(8,0),this.writeInt64(r)}addFloat32(r){this.prep(4,0),this.writeFloat32(r)}addFloat64(r){this.prep(8,0),this.writeFloat64(r)}addFieldInt8(r,o,l){(this.force_defaults||o!=l)&&(this.addInt8(o),this.slot(r))}addFieldInt16(r,o,l){(this.force_defaults||o!=l)&&(this.addInt16(o),this.slot(r))}addFieldInt32(r,o,l){(this.force_defaults||o!=l)&&(this.addInt32(o),this.slot(r))}addFieldInt64(r,o,l){(this.force_defaults||o!==l)&&(this.addInt64(o),this.slot(r))}addFieldFloat32(r,o,l){(this.force_defaults||o!=l)&&(this.addFloat32(o),this.slot(r))}addFieldFloat64(r,o,l){(this.force_defaults||o!=l)&&(this.addFloat64(o),this.slot(r))}addFieldOffset(r,o,l){(this.force_defaults||o!=l)&&(this.addOffset(o),this.slot(r))}addFieldStruct(r,o,l){o!=l&&(this.nested(o),this.slot(r))}nested(r){if(r!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(r){this.vtable!==null&&(this.vtable[r]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(r){const o=r.capacity();if(o&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const l=o<<1,p=ByteBuffer$2.allocate(l);return p.setPosition(l-o),p.bytes().set(r.bytes(),l-o),p}addOffset(r){this.prep(SIZEOF_INT,0),this.writeInt32(this.offset()-r+SIZEOF_INT)}startObject(r){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=r;for(let o=0;o<r;o++)this.vtable[o]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const r=this.offset();let o=this.vtable_in_use-1;for(;o>=0&&this.vtable[o]==0;o--);const l=o+1;for(;o>=0;o--)this.addInt16(this.vtable[o]!=0?r-this.vtable[o]:0);const p=2;this.addInt16(r-this.object_start);const f=(l+p)*SIZEOF_SHORT;this.addInt16(f);let O=0;const _=this.space;e:for(o=0;o<this.vtables.length;o++){const S=this.bb.capacity()-this.vtables[o];if(f==this.bb.readInt16(S)){for(let v=SIZEOF_SHORT;v<f;v+=SIZEOF_SHORT)if(this.bb.readInt16(_+v)!=this.bb.readInt16(S+v))continue e;O=this.vtables[o];break}}return O?(this.space=this.bb.capacity()-r,this.bb.writeInt32(this.space,O-r)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-r,this.offset()-r)),this.isNested=!1,r}finish(r,o,l){const p=l?SIZE_PREFIX_LENGTH:0;if(o){const f=o;if(this.prep(this.minalign,SIZEOF_INT+FILE_IDENTIFIER_LENGTH+p),f.length!=FILE_IDENTIFIER_LENGTH)throw new TypeError("FlatBuffers: file identifier must be length "+FILE_IDENTIFIER_LENGTH);for(let O=FILE_IDENTIFIER_LENGTH-1;O>=0;O--)this.writeInt8(f.charCodeAt(O))}this.prep(this.minalign,SIZEOF_INT+p),this.addOffset(r),p&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(r,o){this.finish(r,o,!0)}requiredField(r,o){const l=this.bb.capacity()-r,p=l-this.bb.readInt32(l);if(!(o<this.bb.readInt16(p)&&this.bb.readInt16(p+o)!=0))throw new TypeError("FlatBuffers: field "+o+" must be set")}startVector(r,o,l){this.notNested(),this.vector_num_elems=o,this.prep(SIZEOF_INT,r*o),this.prep(l,r*o)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(r){if(!r)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(r))return this.string_maps.get(r);const o=this.createString(r);return this.string_maps.set(r,o),o}createString(r){if(r==null)return 0;let o;r instanceof Uint8Array?o=r:o=this.text_encoder.encode(r),this.addInt8(0),this.startVector(1,o.length,1),this.bb.setPosition(this.space-=o.length);for(let l=0,p=this.space,f=this.bb.bytes();l<o.length;l++)f[p++]=o[l];return this.endVector()}createObjectOffset(r){return r===null?0:typeof r=="string"?this.createString(r):r.pack(this)}createObjectOffsetList(r){const o=[];for(let l=0;l<r.length;++l){const p=r[l];if(p!==null)o.push(this.createObjectOffset(p));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return o}createStructOffsetList(r,o){return o(this,r.length),this.createObjectOffsetList(r.slice().reverse()),this.endVector()}};var BodyCompressionMethod;(function(e){e[e.BUFFER=0]="BUFFER"})(BodyCompressionMethod||(BodyCompressionMethod={}));var CompressionType;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(CompressionType||(CompressionType={}));class BodyCompression{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsBodyCompression(r,o){return(o||new BodyCompression).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsBodyCompression(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new BodyCompression).__init(r.readInt32(r.position())+r.position(),r)}codec(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt8(this.bb_pos+r):CompressionType.LZ4_FRAME}method(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt8(this.bb_pos+r):BodyCompressionMethod.BUFFER}static startBodyCompression(r){r.startObject(2)}static addCodec(r,o){r.addFieldInt8(0,o,CompressionType.LZ4_FRAME)}static addMethod(r,o){r.addFieldInt8(1,o,BodyCompressionMethod.BUFFER)}static endBodyCompression(r){return r.endObject()}static createBodyCompression(r,o,l){return BodyCompression.startBodyCompression(r),BodyCompression.addCodec(r,o),BodyCompression.addMethod(r,l),BodyCompression.endBodyCompression(r)}}let Buffer$1=class{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(r,o,l){return r.prep(8,16),r.writeInt64(BigInt(l??0)),r.writeInt64(BigInt(o??0)),r.offset()}},FieldNode$1=class{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(r,o,l){return r.prep(8,16),r.writeInt64(BigInt(l??0)),r.writeInt64(BigInt(o??0)),r.offset()}},RecordBatch$2=class ft{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsRecordBatch(r,o){return(o||new ft).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsRecordBatch(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new ft).__init(r.readInt32(r.position())+r.position(),r)}length(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt64(this.bb_pos+r):BigInt("0")}nodes(r,o){const l=this.bb.__offset(this.bb_pos,6);return l?(o||new FieldNode$1).__init(this.bb.__vector(this.bb_pos+l)+r*16,this.bb):null}nodesLength(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}buffers(r,o){const l=this.bb.__offset(this.bb_pos,8);return l?(o||new Buffer$1).__init(this.bb.__vector(this.bb_pos+l)+r*16,this.bb):null}buffersLength(){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}compression(r){const o=this.bb.__offset(this.bb_pos,10);return o?(r||new BodyCompression).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startRecordBatch(r){r.startObject(4)}static addLength(r,o){r.addFieldInt64(0,o,BigInt("0"))}static addNodes(r,o){r.addFieldOffset(1,o,0)}static startNodesVector(r,o){r.startVector(16,o,8)}static addBuffers(r,o){r.addFieldOffset(2,o,0)}static startBuffersVector(r,o){r.startVector(16,o,8)}static addCompression(r,o){r.addFieldOffset(3,o,0)}static endRecordBatch(r){return r.endObject()}},DictionaryBatch$1=class ht{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsDictionaryBatch(r,o){return(o||new ht).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDictionaryBatch(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new ht).__init(r.readInt32(r.position())+r.position(),r)}id(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt64(this.bb_pos+r):BigInt("0")}data(r){const o=this.bb.__offset(this.bb_pos,6);return o?(r||new RecordBatch$2).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}isDelta(){const r=this.bb.__offset(this.bb_pos,8);return r?!!this.bb.readInt8(this.bb_pos+r):!1}static startDictionaryBatch(r){r.startObject(3)}static addId(r,o){r.addFieldInt64(0,o,BigInt("0"))}static addData(r,o){r.addFieldOffset(1,o,0)}static addIsDelta(r,o){r.addFieldInt8(2,+o,0)}static endDictionaryBatch(r){return r.endObject()}};var Endianness;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Endianness||(Endianness={}));var DictionaryKind;(function(e){e[e.DenseArray=0]="DenseArray"})(DictionaryKind||(DictionaryKind={}));class Int{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsInt(r,o){return(o||new Int).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsInt(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Int).__init(r.readInt32(r.position())+r.position(),r)}bitWidth(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt32(this.bb_pos+r):0}isSigned(){const r=this.bb.__offset(this.bb_pos,6);return r?!!this.bb.readInt8(this.bb_pos+r):!1}static startInt(r){r.startObject(2)}static addBitWidth(r,o){r.addFieldInt32(0,o,0)}static addIsSigned(r,o){r.addFieldInt8(1,+o,0)}static endInt(r){return r.endObject()}static createInt(r,o,l){return Int.startInt(r),Int.addBitWidth(r,o),Int.addIsSigned(r,l),Int.endInt(r)}}class DictionaryEncoding{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsDictionaryEncoding(r,o){return(o||new DictionaryEncoding).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDictionaryEncoding(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new DictionaryEncoding).__init(r.readInt32(r.position())+r.position(),r)}id(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt64(this.bb_pos+r):BigInt("0")}indexType(r){const o=this.bb.__offset(this.bb_pos,6);return o?(r||new Int).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}isOrdered(){const r=this.bb.__offset(this.bb_pos,8);return r?!!this.bb.readInt8(this.bb_pos+r):!1}dictionaryKind(){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt16(this.bb_pos+r):DictionaryKind.DenseArray}static startDictionaryEncoding(r){r.startObject(4)}static addId(r,o){r.addFieldInt64(0,o,BigInt("0"))}static addIndexType(r,o){r.addFieldOffset(1,o,0)}static addIsOrdered(r,o){r.addFieldInt8(2,+o,0)}static addDictionaryKind(r,o){r.addFieldInt16(3,o,DictionaryKind.DenseArray)}static endDictionaryEncoding(r){return r.endObject()}}class KeyValue{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsKeyValue(r,o){return(o||new KeyValue).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsKeyValue(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new KeyValue).__init(r.readInt32(r.position())+r.position(),r)}key(r){const o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,r):null}value(r){const o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,r):null}static startKeyValue(r){r.startObject(2)}static addKey(r,o){r.addFieldOffset(0,o,0)}static addValue(r,o){r.addFieldOffset(1,o,0)}static endKeyValue(r){return r.endObject()}static createKeyValue(r,o,l){return KeyValue.startKeyValue(r),KeyValue.addKey(r,o),KeyValue.addValue(r,l),KeyValue.endKeyValue(r)}}let Binary$1=class nt{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsBinary(r,o){return(o||new nt).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsBinary(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new nt).__init(r.readInt32(r.position())+r.position(),r)}static startBinary(r){r.startObject(0)}static endBinary(r){return r.endObject()}static createBinary(r){return nt.startBinary(r),nt.endBinary(r)}},Bool$1=class rt{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsBool(r,o){return(o||new rt).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsBool(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new rt).__init(r.readInt32(r.position())+r.position(),r)}static startBool(r){r.startObject(0)}static endBool(r){return r.endObject()}static createBool(r){return rt.startBool(r),rt.endBool(r)}},Date$1=class Xe{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsDate(r,o){return(o||new Xe).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDate(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Xe).__init(r.readInt32(r.position())+r.position(),r)}unit(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):DateUnit.MILLISECOND}static startDate(r){r.startObject(1)}static addUnit(r,o){r.addFieldInt16(0,o,DateUnit.MILLISECOND)}static endDate(r){return r.endObject()}static createDate(r,o){return Xe.startDate(r),Xe.addUnit(r,o),Xe.endDate(r)}},Decimal$1=class Je{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsDecimal(r,o){return(o||new Je).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDecimal(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Je).__init(r.readInt32(r.position())+r.position(),r)}precision(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt32(this.bb_pos+r):0}scale(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt32(this.bb_pos+r):0}bitWidth(){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.readInt32(this.bb_pos+r):128}static startDecimal(r){r.startObject(3)}static addPrecision(r,o){r.addFieldInt32(0,o,0)}static addScale(r,o){r.addFieldInt32(1,o,0)}static addBitWidth(r,o){r.addFieldInt32(2,o,128)}static endDecimal(r){return r.endObject()}static createDecimal(r,o,l,p){return Je.startDecimal(r),Je.addPrecision(r,o),Je.addScale(r,l),Je.addBitWidth(r,p),Je.endDecimal(r)}},Duration$1=class Qe{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsDuration(r,o){return(o||new Qe).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDuration(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Qe).__init(r.readInt32(r.position())+r.position(),r)}unit(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):TimeUnit$1.MILLISECOND}static startDuration(r){r.startObject(1)}static addUnit(r,o){r.addFieldInt16(0,o,TimeUnit$1.MILLISECOND)}static endDuration(r){return r.endObject()}static createDuration(r,o){return Qe.startDuration(r),Qe.addUnit(r,o),Qe.endDuration(r)}},FixedSizeBinary$1=class Ze{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsFixedSizeBinary(r,o){return(o||new Ze).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsFixedSizeBinary(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Ze).__init(r.readInt32(r.position())+r.position(),r)}byteWidth(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt32(this.bb_pos+r):0}static startFixedSizeBinary(r){r.startObject(1)}static addByteWidth(r,o){r.addFieldInt32(0,o,0)}static endFixedSizeBinary(r){return r.endObject()}static createFixedSizeBinary(r,o){return Ze.startFixedSizeBinary(r),Ze.addByteWidth(r,o),Ze.endFixedSizeBinary(r)}},FixedSizeList$1=class et{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsFixedSizeList(r,o){return(o||new et).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsFixedSizeList(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new et).__init(r.readInt32(r.position())+r.position(),r)}listSize(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt32(this.bb_pos+r):0}static startFixedSizeList(r){r.startObject(1)}static addListSize(r,o){r.addFieldInt32(0,o,0)}static endFixedSizeList(r){return r.endObject()}static createFixedSizeList(r,o){return et.startFixedSizeList(r),et.addListSize(r,o),et.endFixedSizeList(r)}};class FloatingPoint{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsFloatingPoint(r,o){return(o||new FloatingPoint).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsFloatingPoint(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new FloatingPoint).__init(r.readInt32(r.position())+r.position(),r)}precision(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):Precision.HALF}static startFloatingPoint(r){r.startObject(1)}static addPrecision(r,o){r.addFieldInt16(0,o,Precision.HALF)}static endFloatingPoint(r){return r.endObject()}static createFloatingPoint(r,o){return FloatingPoint.startFloatingPoint(r),FloatingPoint.addPrecision(r,o),FloatingPoint.endFloatingPoint(r)}}class Interval{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsInterval(r,o){return(o||new Interval).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsInterval(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Interval).__init(r.readInt32(r.position())+r.position(),r)}unit(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):IntervalUnit.YEAR_MONTH}static startInterval(r){r.startObject(1)}static addUnit(r,o){r.addFieldInt16(0,o,IntervalUnit.YEAR_MONTH)}static endInterval(r){return r.endObject()}static createInterval(r,o){return Interval.startInterval(r),Interval.addUnit(r,o),Interval.endInterval(r)}}let LargeBinary$1=class it{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsLargeBinary(r,o){return(o||new it).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsLargeBinary(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new it).__init(r.readInt32(r.position())+r.position(),r)}static startLargeBinary(r){r.startObject(0)}static endLargeBinary(r){return r.endObject()}static createLargeBinary(r){return it.startLargeBinary(r),it.endLargeBinary(r)}},LargeUtf8$1=class ot{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsLargeUtf8(r,o){return(o||new ot).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsLargeUtf8(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new ot).__init(r.readInt32(r.position())+r.position(),r)}static startLargeUtf8(r){r.startObject(0)}static endLargeUtf8(r){return r.endObject()}static createLargeUtf8(r){return ot.startLargeUtf8(r),ot.endLargeUtf8(r)}},List$1=class at{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsList(r,o){return(o||new at).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsList(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new at).__init(r.readInt32(r.position())+r.position(),r)}static startList(r){r.startObject(0)}static endList(r){return r.endObject()}static createList(r){return at.startList(r),at.endList(r)}},Map$1=class tt{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsMap(r,o){return(o||new tt).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsMap(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new tt).__init(r.readInt32(r.position())+r.position(),r)}keysSorted(){const r=this.bb.__offset(this.bb_pos,4);return r?!!this.bb.readInt8(this.bb_pos+r):!1}static startMap(r){r.startObject(1)}static addKeysSorted(r,o){r.addFieldInt8(0,+o,0)}static endMap(r){return r.endObject()}static createMap(r,o){return tt.startMap(r),tt.addKeysSorted(r,o),tt.endMap(r)}},Null$1=class st{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsNull(r,o){return(o||new st).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsNull(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new st).__init(r.readInt32(r.position())+r.position(),r)}static startNull(r){r.startObject(0)}static endNull(r){return r.endObject()}static createNull(r){return st.startNull(r),st.endNull(r)}};class Struct_{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsStruct_(r,o){return(o||new Struct_).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsStruct_(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Struct_).__init(r.readInt32(r.position())+r.position(),r)}static startStruct_(r){r.startObject(0)}static endStruct_(r){return r.endObject()}static createStruct_(r){return Struct_.startStruct_(r),Struct_.endStruct_(r)}}let Time$1=class Ye{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsTime(r,o){return(o||new Ye).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTime(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Ye).__init(r.readInt32(r.position())+r.position(),r)}unit(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):TimeUnit$1.MILLISECOND}bitWidth(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt32(this.bb_pos+r):32}static startTime(r){r.startObject(2)}static addUnit(r,o){r.addFieldInt16(0,o,TimeUnit$1.MILLISECOND)}static addBitWidth(r,o){r.addFieldInt32(1,o,32)}static endTime(r){return r.endObject()}static createTime(r,o,l){return Ye.startTime(r),Ye.addUnit(r,o),Ye.addBitWidth(r,l),Ye.endTime(r)}};class Timestamp{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsTimestamp(r,o){return(o||new Timestamp).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTimestamp(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Timestamp).__init(r.readInt32(r.position())+r.position(),r)}unit(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):TimeUnit$1.SECOND}timezone(r){const o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,r):null}static startTimestamp(r){r.startObject(2)}static addUnit(r,o){r.addFieldInt16(0,o,TimeUnit$1.SECOND)}static addTimezone(r,o){r.addFieldOffset(1,o,0)}static endTimestamp(r){return r.endObject()}static createTimestamp(r,o,l){return Timestamp.startTimestamp(r),Timestamp.addUnit(r,o),Timestamp.addTimezone(r,l),Timestamp.endTimestamp(r)}}let Union$1=class Ke{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsUnion(r,o){return(o||new Ke).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsUnion(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Ke).__init(r.readInt32(r.position())+r.position(),r)}mode(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):UnionMode.Sparse}typeIds(r){const o=this.bb.__offset(this.bb_pos,6);return o?this.bb.readInt32(this.bb.__vector(this.bb_pos+o)+r*4):0}typeIdsLength(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}typeIdsArray(){const r=this.bb.__offset(this.bb_pos,6);return r?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}static startUnion(r){r.startObject(2)}static addMode(r,o){r.addFieldInt16(0,o,UnionMode.Sparse)}static addTypeIds(r,o){r.addFieldOffset(1,o,0)}static createTypeIdsVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addInt32(o[l]);return r.endVector()}static startTypeIdsVector(r,o){r.startVector(4,o,4)}static endUnion(r){return r.endObject()}static createUnion(r,o,l){return Ke.startUnion(r),Ke.addMode(r,o),Ke.addTypeIds(r,l),Ke.endUnion(r)}},Utf8$1=class lt{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsUtf8(r,o){return(o||new lt).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsUtf8(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new lt).__init(r.readInt32(r.position())+r.position(),r)}static startUtf8(r){r.startObject(0)}static endUtf8(r){return r.endObject()}static createUtf8(r){return lt.startUtf8(r),lt.endUtf8(r)}};var Type$1;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(Type$1||(Type$1={}));let Field$2=class pt{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsField(r,o){return(o||new pt).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsField(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new pt).__init(r.readInt32(r.position())+r.position(),r)}name(r){const o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,r):null}nullable(){const r=this.bb.__offset(this.bb_pos,6);return r?!!this.bb.readInt8(this.bb_pos+r):!1}typeType(){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.readUint8(this.bb_pos+r):Type$1.NONE}type(r){const o=this.bb.__offset(this.bb_pos,10);return o?this.bb.__union(r,this.bb_pos+o):null}dictionary(r){const o=this.bb.__offset(this.bb_pos,12);return o?(r||new DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}children(r,o){const l=this.bb.__offset(this.bb_pos,14);return l?(o||new pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+r*4),this.bb):null}childrenLength(){const r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__vector_len(this.bb_pos+r):0}customMetadata(r,o){const l=this.bb.__offset(this.bb_pos,16);return l?(o||new KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+r*4),this.bb):null}customMetadataLength(){const r=this.bb.__offset(this.bb_pos,16);return r?this.bb.__vector_len(this.bb_pos+r):0}static startField(r){r.startObject(7)}static addName(r,o){r.addFieldOffset(0,o,0)}static addNullable(r,o){r.addFieldInt8(1,+o,0)}static addTypeType(r,o){r.addFieldInt8(2,o,Type$1.NONE)}static addType(r,o){r.addFieldOffset(3,o,0)}static addDictionary(r,o){r.addFieldOffset(4,o,0)}static addChildren(r,o){r.addFieldOffset(5,o,0)}static createChildrenVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addOffset(o[l]);return r.endVector()}static startChildrenVector(r,o){r.startVector(4,o,4)}static addCustomMetadata(r,o){r.addFieldOffset(6,o,0)}static createCustomMetadataVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addOffset(o[l]);return r.endVector()}static startCustomMetadataVector(r,o){r.startVector(4,o,4)}static endField(r){return r.endObject()}},Schema$1=class He{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsSchema(r,o){return(o||new He).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSchema(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new He).__init(r.readInt32(r.position())+r.position(),r)}endianness(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):Endianness.Little}fields(r,o){const l=this.bb.__offset(this.bb_pos,6);return l?(o||new Field$2).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+r*4),this.bb):null}fieldsLength(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}customMetadata(r,o){const l=this.bb.__offset(this.bb_pos,8);return l?(o||new KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+r*4),this.bb):null}customMetadataLength(){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}features(r){const o=this.bb.__offset(this.bb_pos,10);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+r*8):BigInt(0)}featuresLength(){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__vector_len(this.bb_pos+r):0}static startSchema(r){r.startObject(4)}static addEndianness(r,o){r.addFieldInt16(0,o,Endianness.Little)}static addFields(r,o){r.addFieldOffset(1,o,0)}static createFieldsVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addOffset(o[l]);return r.endVector()}static startFieldsVector(r,o){r.startVector(4,o,4)}static addCustomMetadata(r,o){r.addFieldOffset(2,o,0)}static createCustomMetadataVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addOffset(o[l]);return r.endVector()}static startCustomMetadataVector(r,o){r.startVector(4,o,4)}static addFeatures(r,o){r.addFieldOffset(3,o,0)}static createFeaturesVector(r,o){r.startVector(8,o.length,8);for(let l=o.length-1;l>=0;l--)r.addInt64(o[l]);return r.endVector()}static startFeaturesVector(r,o){r.startVector(8,o,8)}static endSchema(r){return r.endObject()}static finishSchemaBuffer(r,o){r.finish(o)}static finishSizePrefixedSchemaBuffer(r,o){r.finish(o,void 0,!0)}static createSchema(r,o,l,p,f){return He.startSchema(r),He.addEndianness(r,o),He.addFields(r,l),He.addCustomMetadata(r,p),He.addFeatures(r,f),He.endSchema(r)}};var MessageHeader;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(MessageHeader||(MessageHeader={}));var Type;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(Type||(Type={}));var BufferType;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(BufferType||(BufferType={}));const undf=void 0;function valueToString(e){if(e===null)return"null";if(e===undf)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(r=>valueToString(r))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(r,o)=>typeof o=="bigint"?`${o}`:o)}const isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function BigNum(e,...r){return r.length===0?Object.setPrototypeOf(toArrayBufferView(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...r),this.constructor.prototype)}BigNum.prototype[isArrowBigNumSymbol]=!0;BigNum.prototype.toJSON=function(){return`"${bigNumToString(this)}"`};BigNum.prototype.valueOf=function(){return bigNumToNumber(this)};BigNum.prototype.toString=function(){return bigNumToString(this)};BigNum.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return bigNumToNumber(this);case"string":return bigNumToString(this);case"default":return bigNumToBigInt(this)}return bigNumToString(this)};function SignedBigNum(...e){return BigNum.apply(this,e)}function UnsignedBigNum(...e){return BigNum.apply(this,e)}function DecimalBigNum(...e){return BigNum.apply(this,e)}Object.setPrototypeOf(SignedBigNum.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(UnsignedBigNum.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(DecimalBigNum.prototype,Object.create(Uint32Array.prototype));Object.assign(SignedBigNum.prototype,BigNum.prototype,{constructor:SignedBigNum,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(UnsignedBigNum.prototype,BigNum.prototype,{constructor:UnsignedBigNum,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(DecimalBigNum.prototype,BigNum.prototype,{constructor:DecimalBigNum,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function bigNumToNumber(e){const{buffer:r,byteOffset:o,length:l,signed:p}=e,f=new BigUint64Array(r,o,l),O=p&&f.at(-1)&BigInt(1)<<BigInt(63);let _=BigInt(O?1:0),S=BigInt(0);if(O){for(const v of f)_+=~v*(BigInt(1)<<BigInt(32)*S++);_*=BigInt(-1)}else for(const v of f)_+=v*(BigInt(1)<<BigInt(32)*S++);return _}const bigNumToString=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return unsignedBigNumToString(e);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([r.at(-1)])[0]>=0)return unsignedBigNumToString(e);r=r.slice();let l=1;for(let f=0;f<r.length;f++){const O=r[f],_=~O+l;r[f]=_,l&=O===0?1:0}return`-${unsignedBigNumToString(r)}`},bigNumToBigInt=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:bigNumToString(e);function unsignedBigNumToString(e){let r="";const o=new Uint32Array(2);let l=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const p=new Uint32Array((l=new Uint16Array(l).reverse()).buffer);let f=-1;const O=l.length-1;do{for(o[0]=l[f=0];f<O;)l[f++]=o[1]=o[0]/10,o[0]=(o[0]-o[1]*10<<16)+l[f];l[f]=o[1]=o[0]/10,o[0]=o[0]-o[1]*10,r=`${o[0]}${r}`}while(p[0]||p[1]||p[2]||p[3]);return r??"0"}class BN{static new(r,o){switch(o){case!0:return new SignedBigNum(r);case!1:return new UnsignedBigNum(r)}switch(r.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new SignedBigNum(r)}return r.byteLength===16?new DecimalBigNum(r):new UnsignedBigNum(r)}static signed(r){return new SignedBigNum(r)}static unsigned(r){return new UnsignedBigNum(r)}static decimal(r){return new DecimalBigNum(r)}constructor(r,o){return BN.new(r,o)}}function bigIntToNumber(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var _a$3,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x;class DataType{static isNull(r){return(r==null?void 0:r.typeId)===Type.Null}static isInt(r){return(r==null?void 0:r.typeId)===Type.Int}static isFloat(r){return(r==null?void 0:r.typeId)===Type.Float}static isBinary(r){return(r==null?void 0:r.typeId)===Type.Binary}static isLargeBinary(r){return(r==null?void 0:r.typeId)===Type.LargeBinary}static isUtf8(r){return(r==null?void 0:r.typeId)===Type.Utf8}static isLargeUtf8(r){return(r==null?void 0:r.typeId)===Type.LargeUtf8}static isBool(r){return(r==null?void 0:r.typeId)===Type.Bool}static isDecimal(r){return(r==null?void 0:r.typeId)===Type.Decimal}static isDate(r){return(r==null?void 0:r.typeId)===Type.Date}static isTime(r){return(r==null?void 0:r.typeId)===Type.Time}static isTimestamp(r){return(r==null?void 0:r.typeId)===Type.Timestamp}static isInterval(r){return(r==null?void 0:r.typeId)===Type.Interval}static isDuration(r){return(r==null?void 0:r.typeId)===Type.Duration}static isList(r){return(r==null?void 0:r.typeId)===Type.List}static isStruct(r){return(r==null?void 0:r.typeId)===Type.Struct}static isUnion(r){return(r==null?void 0:r.typeId)===Type.Union}static isFixedSizeBinary(r){return(r==null?void 0:r.typeId)===Type.FixedSizeBinary}static isFixedSizeList(r){return(r==null?void 0:r.typeId)===Type.FixedSizeList}static isMap(r){return(r==null?void 0:r.typeId)===Type.Map}static isDictionary(r){return(r==null?void 0:r.typeId)===Type.Dictionary}static isDenseUnion(r){return DataType.isUnion(r)&&r.mode===UnionMode.Dense}static isSparseUnion(r){return DataType.isUnion(r)&&r.mode===UnionMode.Sparse}constructor(r){this.typeId=r}}_a$3=Symbol.toStringTag;DataType[_a$3]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(DataType.prototype);class Null extends DataType{constructor(){super(Type.Null)}toString(){return"Null"}}_b=Symbol.toStringTag;Null[_b]=(e=>e[Symbol.toStringTag]="Null")(Null.prototype);class Int_ extends DataType{constructor(r,o){super(Type.Int),this.isSigned=r,this.bitWidth=o}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}_c=Symbol.toStringTag;Int_[_c]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Int_.prototype);class Int8 extends Int_{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class Int16 extends Int_{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Int32 extends Int_{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class Int64 extends Int_{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class Uint8 extends Int_{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class Uint16 extends Int_{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class Uint32 extends Int_{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class Uint64 extends Int_{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(Int8.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Int16.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Int32.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Int64.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Uint8.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Uint16.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Uint32.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Uint64.prototype,"ArrayType",{value:BigUint64Array});class Float extends DataType{constructor(r){super(Type.Float),this.precision=r}get ArrayType(){switch(this.precision){case Precision.HALF:return Uint16Array;case Precision.SINGLE:return Float32Array;case Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}_d=Symbol.toStringTag;Float[_d]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Float.prototype);class Float16 extends Float{constructor(){super(Precision.HALF)}}class Float32 extends Float{constructor(){super(Precision.SINGLE)}}class Float64 extends Float{constructor(){super(Precision.DOUBLE)}}Object.defineProperty(Float16.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Float32.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Float64.prototype,"ArrayType",{value:Float64Array});class Binary extends DataType{constructor(){super(Type.Binary)}toString(){return"Binary"}}_e=Symbol.toStringTag;Binary[_e]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Binary.prototype);class LargeBinary extends DataType{constructor(){super(Type.LargeBinary)}toString(){return"LargeBinary"}}_f=Symbol.toStringTag;LargeBinary[_f]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(LargeBinary.prototype);class Utf8 extends DataType{constructor(){super(Type.Utf8)}toString(){return"Utf8"}}_g=Symbol.toStringTag;Utf8[_g]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Utf8.prototype);class LargeUtf8 extends DataType{constructor(){super(Type.LargeUtf8)}toString(){return"LargeUtf8"}}_h=Symbol.toStringTag;LargeUtf8[_h]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(LargeUtf8.prototype);class Bool extends DataType{constructor(){super(Type.Bool)}toString(){return"Bool"}}_j=Symbol.toStringTag;Bool[_j]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Bool.prototype);class Decimal extends DataType{constructor(r,o,l=128){super(Type.Decimal),this.scale=r,this.precision=o,this.bitWidth=l}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}_k=Symbol.toStringTag;Decimal[_k]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Decimal.prototype);class Date_ extends DataType{constructor(r){super(Type.Date),this.unit=r}toString(){return`Date${(this.unit+1)*32}<${DateUnit[this.unit]}>`}}_l=Symbol.toStringTag;Date_[_l]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(Date_.prototype);class DateDay extends Date_{constructor(){super(DateUnit.DAY)}}class DateMillisecond extends Date_{constructor(){super(DateUnit.MILLISECOND)}}class Time_ extends DataType{constructor(r,o){super(Type.Time),this.unit=r,this.bitWidth=o}toString(){return`Time${this.bitWidth}<${TimeUnit$1[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}_m=Symbol.toStringTag;Time_[_m]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Time_.prototype);class TimeSecond extends Time_{constructor(){super(TimeUnit$1.SECOND,32)}}class TimeMillisecond extends Time_{constructor(){super(TimeUnit$1.MILLISECOND,32)}}class TimeMicrosecond extends Time_{constructor(){super(TimeUnit$1.MICROSECOND,64)}}class TimeNanosecond extends Time_{constructor(){super(TimeUnit$1.NANOSECOND,64)}}class Timestamp_ extends DataType{constructor(r,o){super(Type.Timestamp),this.unit=r,this.timezone=o}toString(){return`Timestamp<${TimeUnit$1[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}_o=Symbol.toStringTag;Timestamp_[_o]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(Timestamp_.prototype);class Interval_ extends DataType{constructor(r){super(Type.Interval),this.unit=r}toString(){return`Interval<${IntervalUnit[this.unit]}>`}}_p=Symbol.toStringTag;Interval_[_p]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Interval_.prototype);class IntervalDayTime extends Interval_{constructor(){super(IntervalUnit.DAY_TIME)}}class IntervalYearMonth extends Interval_{constructor(){super(IntervalUnit.YEAR_MONTH)}}class Duration extends DataType{constructor(r){super(Type.Duration),this.unit=r}toString(){return`Duration<${TimeUnit$1[this.unit]}>`}}_q=Symbol.toStringTag;Duration[_q]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(Duration.prototype);class List extends DataType{constructor(r){super(Type.List),this.children=[r]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}_r=Symbol.toStringTag;List[_r]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(List.prototype);class Struct extends DataType{constructor(r){super(Type.Struct),this.children=r}toString(){return`Struct<{${this.children.map(r=>`${r.name}:${r.type}`).join(", ")}}>`}}_s=Symbol.toStringTag;Struct[_s]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Struct.prototype);class Union_ extends DataType{constructor(r,o,l){super(Type.Union),this.mode=r,this.children=l,this.typeIds=o=Int32Array.from(o),this.typeIdToChildIndex=o.reduce((p,f,O)=>(p[f]=O)&&p||p,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(r=>`${r.type}`).join(" | ")}>`}}_t=Symbol.toStringTag;Union_[_t]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Union_.prototype);class FixedSizeBinary extends DataType{constructor(r){super(Type.FixedSizeBinary),this.byteWidth=r}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}_u=Symbol.toStringTag;FixedSizeBinary[_u]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(FixedSizeBinary.prototype);class FixedSizeList extends DataType{constructor(r,o){super(Type.FixedSizeList),this.listSize=r,this.children=[o]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}_v=Symbol.toStringTag;FixedSizeList[_v]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(FixedSizeList.prototype);class Map_ extends DataType{constructor(r,o=!1){var l,p,f;if(super(Type.Map),this.children=[r],this.keysSorted=o,r&&(r.name="entries",!((l=r==null?void 0:r.type)===null||l===void 0)&&l.children)){const O=(p=r==null?void 0:r.type)===null||p===void 0?void 0:p.children[0];O&&(O.name="key");const _=(f=r==null?void 0:r.type)===null||f===void 0?void 0:f.children[1];_&&(_.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(r=>`${r.name}:${r.type}`).join(", ")}}>`}}_w=Symbol.toStringTag;Map_[_w]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Map_.prototype);const getId=(e=>()=>++e)(-1);class Dictionary extends DataType{constructor(r,o,l,p){super(Type.Dictionary),this.indices=o,this.dictionary=r,this.isOrdered=p||!1,this.id=l==null?getId():bigIntToNumber(l)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}_x=Symbol.toStringTag;Dictionary[_x]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Dictionary.prototype);function strideForType(e){const r=e;switch(e.typeId){case Type.Decimal:return e.bitWidth/32;case Type.Timestamp:return 2;case Type.Date:return 1+r.unit;case Type.Interval:return 1+r.unit;case Type.FixedSizeList:return r.listSize;case Type.FixedSizeBinary:return r.byteWidth;default:return 1}}class Visitor{visitMany(r,...o){return r.map((l,p)=>this.visit(l,...o.map(f=>f[p])))}visit(...r){return this.getVisitFn(r[0],!1).apply(this,r)}getVisitFn(r,o=!0){return getVisitFn(this,r,o)}getVisitFnByTypeId(r,o=!0){return getVisitFnByTypeId(this,r,o)}visitNull(r,...o){return null}visitBool(r,...o){return null}visitInt(r,...o){return null}visitFloat(r,...o){return null}visitUtf8(r,...o){return null}visitLargeUtf8(r,...o){return null}visitBinary(r,...o){return null}visitLargeBinary(r,...o){return null}visitFixedSizeBinary(r,...o){return null}visitDate(r,...o){return null}visitTimestamp(r,...o){return null}visitTime(r,...o){return null}visitDecimal(r,...o){return null}visitList(r,...o){return null}visitStruct(r,...o){return null}visitUnion(r,...o){return null}visitDictionary(r,...o){return null}visitInterval(r,...o){return null}visitDuration(r,...o){return null}visitFixedSizeList(r,...o){return null}visitMap(r,...o){return null}}function getVisitFn(e,r,o=!0){return typeof r=="number"?getVisitFnByTypeId(e,r,o):typeof r=="string"&&r in Type?getVisitFnByTypeId(e,Type[r],o):r&&r instanceof DataType?getVisitFnByTypeId(e,inferDType(r),o):r!=null&&r.type&&r.type instanceof DataType?getVisitFnByTypeId(e,inferDType(r.type),o):getVisitFnByTypeId(e,Type.NONE,o)}function getVisitFnByTypeId(e,r,o=!0){let l=null;switch(r){case Type.Null:l=e.visitNull;break;case Type.Bool:l=e.visitBool;break;case Type.Int:l=e.visitInt;break;case Type.Int8:l=e.visitInt8||e.visitInt;break;case Type.Int16:l=e.visitInt16||e.visitInt;break;case Type.Int32:l=e.visitInt32||e.visitInt;break;case Type.Int64:l=e.visitInt64||e.visitInt;break;case Type.Uint8:l=e.visitUint8||e.visitInt;break;case Type.Uint16:l=e.visitUint16||e.visitInt;break;case Type.Uint32:l=e.visitUint32||e.visitInt;break;case Type.Uint64:l=e.visitUint64||e.visitInt;break;case Type.Float:l=e.visitFloat;break;case Type.Float16:l=e.visitFloat16||e.visitFloat;break;case Type.Float32:l=e.visitFloat32||e.visitFloat;break;case Type.Float64:l=e.visitFloat64||e.visitFloat;break;case Type.Utf8:l=e.visitUtf8;break;case Type.LargeUtf8:l=e.visitLargeUtf8;break;case Type.Binary:l=e.visitBinary;break;case Type.LargeBinary:l=e.visitLargeBinary;break;case Type.FixedSizeBinary:l=e.visitFixedSizeBinary;break;case Type.Date:l=e.visitDate;break;case Type.DateDay:l=e.visitDateDay||e.visitDate;break;case Type.DateMillisecond:l=e.visitDateMillisecond||e.visitDate;break;case Type.Timestamp:l=e.visitTimestamp;break;case Type.TimestampSecond:l=e.visitTimestampSecond||e.visitTimestamp;break;case Type.TimestampMillisecond:l=e.visitTimestampMillisecond||e.visitTimestamp;break;case Type.TimestampMicrosecond:l=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Type.TimestampNanosecond:l=e.visitTimestampNanosecond||e.visitTimestamp;break;case Type.Time:l=e.visitTime;break;case Type.TimeSecond:l=e.visitTimeSecond||e.visitTime;break;case Type.TimeMillisecond:l=e.visitTimeMillisecond||e.visitTime;break;case Type.TimeMicrosecond:l=e.visitTimeMicrosecond||e.visitTime;break;case Type.TimeNanosecond:l=e.visitTimeNanosecond||e.visitTime;break;case Type.Decimal:l=e.visitDecimal;break;case Type.List:l=e.visitList;break;case Type.Struct:l=e.visitStruct;break;case Type.Union:l=e.visitUnion;break;case Type.DenseUnion:l=e.visitDenseUnion||e.visitUnion;break;case Type.SparseUnion:l=e.visitSparseUnion||e.visitUnion;break;case Type.Dictionary:l=e.visitDictionary;break;case Type.Interval:l=e.visitInterval;break;case Type.IntervalDayTime:l=e.visitIntervalDayTime||e.visitInterval;break;case Type.IntervalYearMonth:l=e.visitIntervalYearMonth||e.visitInterval;break;case Type.Duration:l=e.visitDuration;break;case Type.DurationSecond:l=e.visitDurationSecond||e.visitDuration;break;case Type.DurationMillisecond:l=e.visitDurationMillisecond||e.visitDuration;break;case Type.DurationMicrosecond:l=e.visitDurationMicrosecond||e.visitDuration;break;case Type.DurationNanosecond:l=e.visitDurationNanosecond||e.visitDuration;break;case Type.FixedSizeList:l=e.visitFixedSizeList;break;case Type.Map:l=e.visitMap;break}if(typeof l=="function")return l;if(!o)return()=>null;throw new Error(`Unrecognized type '${Type[r]}'`)}function inferDType(e){switch(e.typeId){case Type.Null:return Type.Null;case Type.Int:{const{bitWidth:r,isSigned:o}=e;switch(r){case 8:return o?Type.Int8:Type.Uint8;case 16:return o?Type.Int16:Type.Uint16;case 32:return o?Type.Int32:Type.Uint32;case 64:return o?Type.Int64:Type.Uint64}return Type.Int}case Type.Float:switch(e.precision){case Precision.HALF:return Type.Float16;case Precision.SINGLE:return Type.Float32;case Precision.DOUBLE:return Type.Float64}return Type.Float;case Type.Binary:return Type.Binary;case Type.LargeBinary:return Type.LargeBinary;case Type.Utf8:return Type.Utf8;case Type.LargeUtf8:return Type.LargeUtf8;case Type.Bool:return Type.Bool;case Type.Decimal:return Type.Decimal;case Type.Time:switch(e.unit){case TimeUnit$1.SECOND:return Type.TimeSecond;case TimeUnit$1.MILLISECOND:return Type.TimeMillisecond;case TimeUnit$1.MICROSECOND:return Type.TimeMicrosecond;case TimeUnit$1.NANOSECOND:return Type.TimeNanosecond}return Type.Time;case Type.Timestamp:switch(e.unit){case TimeUnit$1.SECOND:return Type.TimestampSecond;case TimeUnit$1.MILLISECOND:return Type.TimestampMillisecond;case TimeUnit$1.MICROSECOND:return Type.TimestampMicrosecond;case TimeUnit$1.NANOSECOND:return Type.TimestampNanosecond}return Type.Timestamp;case Type.Date:switch(e.unit){case DateUnit.DAY:return Type.DateDay;case DateUnit.MILLISECOND:return Type.DateMillisecond}return Type.Date;case Type.Interval:switch(e.unit){case IntervalUnit.DAY_TIME:return Type.IntervalDayTime;case IntervalUnit.YEAR_MONTH:return Type.IntervalYearMonth}return Type.Interval;case Type.Duration:switch(e.unit){case TimeUnit$1.SECOND:return Type.DurationSecond;case TimeUnit$1.MILLISECOND:return Type.DurationMillisecond;case TimeUnit$1.MICROSECOND:return Type.DurationMicrosecond;case TimeUnit$1.NANOSECOND:return Type.DurationNanosecond}return Type.Duration;case Type.Map:return Type.Map;case Type.List:return Type.List;case Type.Struct:return Type.Struct;case Type.Union:switch(e.mode){case UnionMode.Dense:return Type.DenseUnion;case UnionMode.Sparse:return Type.SparseUnion}return Type.Union;case Type.FixedSizeBinary:return Type.FixedSizeBinary;case Type.FixedSizeList:return Type.FixedSizeList;case Type.Dictionary:return Type.Dictionary}throw new Error(`Unrecognized type '${Type[e.typeId]}'`)}Visitor.prototype.visitInt8=null;Visitor.prototype.visitInt16=null;Visitor.prototype.visitInt32=null;Visitor.prototype.visitInt64=null;Visitor.prototype.visitUint8=null;Visitor.prototype.visitUint16=null;Visitor.prototype.visitUint32=null;Visitor.prototype.visitUint64=null;Visitor.prototype.visitFloat16=null;Visitor.prototype.visitFloat32=null;Visitor.prototype.visitFloat64=null;Visitor.prototype.visitDateDay=null;Visitor.prototype.visitDateMillisecond=null;Visitor.prototype.visitTimestampSecond=null;Visitor.prototype.visitTimestampMillisecond=null;Visitor.prototype.visitTimestampMicrosecond=null;Visitor.prototype.visitTimestampNanosecond=null;Visitor.prototype.visitTimeSecond=null;Visitor.prototype.visitTimeMillisecond=null;Visitor.prototype.visitTimeMicrosecond=null;Visitor.prototype.visitTimeNanosecond=null;Visitor.prototype.visitDenseUnion=null;Visitor.prototype.visitSparseUnion=null;Visitor.prototype.visitIntervalDayTime=null;Visitor.prototype.visitIntervalYearMonth=null;Visitor.prototype.visitDuration=null;Visitor.prototype.visitDurationSecond=null;Visitor.prototype.visitDurationMillisecond=null;Visitor.prototype.visitDurationMicrosecond=null;Visitor.prototype.visitDurationNanosecond=null;const f64=new Float64Array(1),u32=new Uint32Array(f64.buffer);function uint16ToFloat64(e){const r=(e&31744)>>10,o=(e&1023)/1024,l=Math.pow(-1,(e&32768)>>15);switch(r){case 31:return l*(o?Number.NaN:1/0);case 0:return l*(o?6103515625e-14*o:0)}return l*Math.pow(2,r-15)*(1+o)}function float64ToUint16(e){if(e!==e)return 32256;f64[0]=e;const r=(u32[1]&2147483648)>>16&65535;let o=u32[1]&2146435072,l=0;return o>=1089470464?u32[0]>0?o=31744:(o=(o&2080374784)>>16,l=(u32[1]&1048575)>>10):o<=1056964608?(l=1048576+(u32[1]&1048575),l=1048576+(l<<(o>>20)-998)>>21,o=0):(o=o-1056964608>>10,l=(u32[1]&1048575)+512>>10),r|o|l&65535}class SetVisitor extends Visitor{}function wrapSet(e){return(r,o,l)=>{if(r.setValid(o,l!=null))return e(r,o,l)}}const setEpochMsToDays=(e,r,o)=>{e[r]=Math.trunc(o/864e5)},setEpochMsToMillisecondsLong=(e,r,o)=>{e[r]=Math.trunc(o%4294967296),e[r+1]=Math.trunc(o/4294967296)},setEpochMsToMicrosecondsLong=(e,r,o)=>{e[r]=Math.trunc(o*1e3%4294967296),e[r+1]=Math.trunc(o*1e3/4294967296)},setEpochMsToNanosecondsLong=(e,r,o)=>{e[r]=Math.trunc(o*1e6%4294967296),e[r+1]=Math.trunc(o*1e6/4294967296)},setVariableWidthBytes=(e,r,o,l)=>{if(o+1<r.length){const p=bigIntToNumber(r[o]),f=bigIntToNumber(r[o+1]);e.set(l.subarray(0,f-p),p)}},setBool=({offset:e,values:r},o,l)=>{const p=e+o;l?r[p>>3]|=1<<p%8:r[p>>3]&=~(1<<p%8)},setInt=({values:e},r,o)=>{e[r]=o},setFloat=({values:e},r,o)=>{e[r]=o},setFloat16=({values:e},r,o)=>{e[r]=float64ToUint16(o)},setAnyFloat=(e,r,o)=>{switch(e.type.precision){case Precision.HALF:return setFloat16(e,r,o);case Precision.SINGLE:case Precision.DOUBLE:return setFloat(e,r,o)}},setDateDay=({values:e},r,o)=>{setEpochMsToDays(e,r,o.valueOf())},setDateMillisecond=({values:e},r,o)=>{setEpochMsToMillisecondsLong(e,r*2,o.valueOf())},setFixedSizeBinary=({stride:e,values:r},o,l)=>{r.set(l.subarray(0,e),e*o)},setBinary=({values:e,valueOffsets:r},o,l)=>setVariableWidthBytes(e,r,o,l),setUtf8=({values:e,valueOffsets:r},o,l)=>setVariableWidthBytes(e,r,o,encodeUtf8(l)),setDate=(e,r,o)=>{e.type.unit===DateUnit.DAY?setDateDay(e,r,o):setDateMillisecond(e,r,o)},setTimestampSecond=({values:e},r,o)=>setEpochMsToMillisecondsLong(e,r*2,o/1e3),setTimestampMillisecond=({values:e},r,o)=>setEpochMsToMillisecondsLong(e,r*2,o),setTimestampMicrosecond=({values:e},r,o)=>setEpochMsToMicrosecondsLong(e,r*2,o),setTimestampNanosecond=({values:e},r,o)=>setEpochMsToNanosecondsLong(e,r*2,o),setTimestamp=(e,r,o)=>{switch(e.type.unit){case TimeUnit$1.SECOND:return setTimestampSecond(e,r,o);case TimeUnit$1.MILLISECOND:return setTimestampMillisecond(e,r,o);case TimeUnit$1.MICROSECOND:return setTimestampMicrosecond(e,r,o);case TimeUnit$1.NANOSECOND:return setTimestampNanosecond(e,r,o)}},setTimeSecond=({values:e},r,o)=>{e[r]=o},setTimeMillisecond=({values:e},r,o)=>{e[r]=o},setTimeMicrosecond=({values:e},r,o)=>{e[r]=o},setTimeNanosecond=({values:e},r,o)=>{e[r]=o},setTime=(e,r,o)=>{switch(e.type.unit){case TimeUnit$1.SECOND:return setTimeSecond(e,r,o);case TimeUnit$1.MILLISECOND:return setTimeMillisecond(e,r,o);case TimeUnit$1.MICROSECOND:return setTimeMicrosecond(e,r,o);case TimeUnit$1.NANOSECOND:return setTimeNanosecond(e,r,o)}},setDecimal=({values:e,stride:r},o,l)=>{e.set(l.subarray(0,r),r*o)},setList=(e,r,o)=>{const l=e.children[0],p=e.valueOffsets,f=instance$6.getVisitFn(l);if(Array.isArray(o))for(let O=-1,_=p[r],S=p[r+1];_<S;)f(l,_++,o[++O]);else for(let O=-1,_=p[r],S=p[r+1];_<S;)f(l,_++,o.get(++O))},setMap=(e,r,o)=>{const l=e.children[0],{valueOffsets:p}=e,f=instance$6.getVisitFn(l);let{[r]:O,[r+1]:_}=p;const S=o instanceof Map?o.entries():Object.entries(o);for(const v of S)if(f(l,O,v),++O>=_)break},_setStructArrayValue=(e,r)=>(o,l,p,f)=>l&&o(l,e,r[f]),_setStructVectorValue=(e,r)=>(o,l,p,f)=>l&&o(l,e,r.get(f)),_setStructMapValue=(e,r)=>(o,l,p,f)=>l&&o(l,e,r.get(p.name)),_setStructObjectValue=(e,r)=>(o,l,p,f)=>l&&o(l,e,r[p.name]),setStruct=(e,r,o)=>{const l=e.type.children.map(f=>instance$6.getVisitFn(f.type)),p=o instanceof Map?_setStructMapValue(r,o):o instanceof Vector?_setStructVectorValue(r,o):Array.isArray(o)?_setStructArrayValue(r,o):_setStructObjectValue(r,o);e.type.children.forEach((f,O)=>p(l[O],e.children[O],f,O))},setUnion=(e,r,o)=>{e.type.mode===UnionMode.Dense?setDenseUnion(e,r,o):setSparseUnion(e,r,o)},setDenseUnion=(e,r,o)=>{const l=e.type.typeIdToChildIndex[e.typeIds[r]],p=e.children[l];instance$6.visit(p,e.valueOffsets[r],o)},setSparseUnion=(e,r,o)=>{const l=e.type.typeIdToChildIndex[e.typeIds[r]],p=e.children[l];instance$6.visit(p,r,o)},setDictionary=(e,r,o)=>{var l;(l=e.dictionary)===null||l===void 0||l.set(e.values[r],o)},setIntervalValue=(e,r,o)=>{e.type.unit===IntervalUnit.DAY_TIME?setIntervalDayTime(e,r,o):setIntervalYearMonth(e,r,o)},setIntervalDayTime=({values:e},r,o)=>{e.set(o.subarray(0,2),2*r)},setIntervalYearMonth=({values:e},r,o)=>{e[r]=o[0]*12+o[1]%12},setDurationSecond=({values:e},r,o)=>{e[r]=o},setDurationMillisecond=({values:e},r,o)=>{e[r]=o},setDurationMicrosecond=({values:e},r,o)=>{e[r]=o},setDurationNanosecond=({values:e},r,o)=>{e[r]=o},setDuration=(e,r,o)=>{switch(e.type.unit){case TimeUnit$1.SECOND:return setDurationSecond(e,r,o);case TimeUnit$1.MILLISECOND:return setDurationMillisecond(e,r,o);case TimeUnit$1.MICROSECOND:return setDurationMicrosecond(e,r,o);case TimeUnit$1.NANOSECOND:return setDurationNanosecond(e,r,o)}},setFixedSizeList=(e,r,o)=>{const{stride:l}=e,p=e.children[0],f=instance$6.getVisitFn(p);if(Array.isArray(o))for(let O=-1,_=r*l;++O<l;)f(p,_+O,o[O]);else for(let O=-1,_=r*l;++O<l;)f(p,_+O,o.get(O))};SetVisitor.prototype.visitBool=wrapSet(setBool);SetVisitor.prototype.visitInt=wrapSet(setInt);SetVisitor.prototype.visitInt8=wrapSet(setInt);SetVisitor.prototype.visitInt16=wrapSet(setInt);SetVisitor.prototype.visitInt32=wrapSet(setInt);SetVisitor.prototype.visitInt64=wrapSet(setInt);SetVisitor.prototype.visitUint8=wrapSet(setInt);SetVisitor.prototype.visitUint16=wrapSet(setInt);SetVisitor.prototype.visitUint32=wrapSet(setInt);SetVisitor.prototype.visitUint64=wrapSet(setInt);SetVisitor.prototype.visitFloat=wrapSet(setAnyFloat);SetVisitor.prototype.visitFloat16=wrapSet(setFloat16);SetVisitor.prototype.visitFloat32=wrapSet(setFloat);SetVisitor.prototype.visitFloat64=wrapSet(setFloat);SetVisitor.prototype.visitUtf8=wrapSet(setUtf8);SetVisitor.prototype.visitLargeUtf8=wrapSet(setUtf8);SetVisitor.prototype.visitBinary=wrapSet(setBinary);SetVisitor.prototype.visitLargeBinary=wrapSet(setBinary);SetVisitor.prototype.visitFixedSizeBinary=wrapSet(setFixedSizeBinary);SetVisitor.prototype.visitDate=wrapSet(setDate);SetVisitor.prototype.visitDateDay=wrapSet(setDateDay);SetVisitor.prototype.visitDateMillisecond=wrapSet(setDateMillisecond);SetVisitor.prototype.visitTimestamp=wrapSet(setTimestamp);SetVisitor.prototype.visitTimestampSecond=wrapSet(setTimestampSecond);SetVisitor.prototype.visitTimestampMillisecond=wrapSet(setTimestampMillisecond);SetVisitor.prototype.visitTimestampMicrosecond=wrapSet(setTimestampMicrosecond);SetVisitor.prototype.visitTimestampNanosecond=wrapSet(setTimestampNanosecond);SetVisitor.prototype.visitTime=wrapSet(setTime);SetVisitor.prototype.visitTimeSecond=wrapSet(setTimeSecond);SetVisitor.prototype.visitTimeMillisecond=wrapSet(setTimeMillisecond);SetVisitor.prototype.visitTimeMicrosecond=wrapSet(setTimeMicrosecond);SetVisitor.prototype.visitTimeNanosecond=wrapSet(setTimeNanosecond);SetVisitor.prototype.visitDecimal=wrapSet(setDecimal);SetVisitor.prototype.visitList=wrapSet(setList);SetVisitor.prototype.visitStruct=wrapSet(setStruct);SetVisitor.prototype.visitUnion=wrapSet(setUnion);SetVisitor.prototype.visitDenseUnion=wrapSet(setDenseUnion);SetVisitor.prototype.visitSparseUnion=wrapSet(setSparseUnion);SetVisitor.prototype.visitDictionary=wrapSet(setDictionary);SetVisitor.prototype.visitInterval=wrapSet(setIntervalValue);SetVisitor.prototype.visitIntervalDayTime=wrapSet(setIntervalDayTime);SetVisitor.prototype.visitIntervalYearMonth=wrapSet(setIntervalYearMonth);SetVisitor.prototype.visitDuration=wrapSet(setDuration);SetVisitor.prototype.visitDurationSecond=wrapSet(setDurationSecond);SetVisitor.prototype.visitDurationMillisecond=wrapSet(setDurationMillisecond);SetVisitor.prototype.visitDurationMicrosecond=wrapSet(setDurationMicrosecond);SetVisitor.prototype.visitDurationNanosecond=wrapSet(setDurationNanosecond);SetVisitor.prototype.visitFixedSizeList=wrapSet(setFixedSizeList);SetVisitor.prototype.visitMap=wrapSet(setMap);const instance$6=new SetVisitor,kParent=Symbol.for("parent"),kRowIndex=Symbol.for("rowIndex");class StructRow{constructor(r,o){return this[kParent]=r,this[kRowIndex]=o,new Proxy(this,new StructRowProxyHandler)}toArray(){return Object.values(this.toJSON())}toJSON(){const r=this[kRowIndex],o=this[kParent],l=o.type.children,p={};for(let f=-1,O=l.length;++f<O;)p[l[f].name]=instance$5.visit(o.children[f],r);return p}toString(){return`{${[...this].map(([r,o])=>`${valueToString(r)}: ${valueToString(o)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new StructRowIterator(this[kParent],this[kRowIndex])}}class StructRowIterator{constructor(r,o){this.childIndex=0,this.children=r.children,this.rowIndex=o,this.childFields=r.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const r=this.childIndex;return r<this.numChildren?(this.childIndex=r+1,{done:!1,value:[this.childFields[r].name,instance$5.visit(this.children[r],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(StructRow.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[kParent]:{writable:!0,enumerable:!1,configurable:!1,value:null},[kRowIndex]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class StructRowProxyHandler{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(r){return r[kParent].type.children.map(o=>o.name)}has(r,o){return r[kParent].type.children.findIndex(l=>l.name===o)!==-1}getOwnPropertyDescriptor(r,o){if(r[kParent].type.children.findIndex(l=>l.name===o)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(r,o){if(Reflect.has(r,o))return r[o];const l=r[kParent].type.children.findIndex(p=>p.name===o);if(l!==-1){const p=instance$5.visit(r[kParent].children[l],r[kRowIndex]);return Reflect.set(r,o,p),p}}set(r,o,l){const p=r[kParent].type.children.findIndex(f=>f.name===o);return p!==-1?(instance$6.visit(r[kParent].children[p],r[kRowIndex],l),Reflect.set(r,o,l)):Reflect.has(r,o)||typeof o=="symbol"?Reflect.set(r,o,l):!1}}class GetVisitor extends Visitor{}function wrapGet(e){return(r,o)=>r.getValid(o)?e(r,o):null}const epochDaysToMs=(e,r)=>864e5*e[r],epochMillisecondsLongToMs=(e,r)=>4294967296*e[r+1]+(e[r]>>>0),epochMicrosecondsLongToMs=(e,r)=>4294967296*(e[r+1]/1e3)+(e[r]>>>0)/1e3,epochNanosecondsLongToMs=(e,r)=>4294967296*(e[r+1]/1e6)+(e[r]>>>0)/1e6,epochMillisecondsToDate=e=>new Date(e),epochDaysToDate=(e,r)=>epochMillisecondsToDate(epochDaysToMs(e,r)),epochMillisecondsLongToDate=(e,r)=>epochMillisecondsToDate(epochMillisecondsLongToMs(e,r)),getNull=(e,r)=>null,getVariableWidthBytes=(e,r,o)=>{if(o+1>=r.length)return null;const l=bigIntToNumber(r[o]),p=bigIntToNumber(r[o+1]);return e.subarray(l,p)},getBool$1=({offset:e,values:r},o)=>{const l=e+o;return(r[l>>3]&1<<l%8)!==0},getDateDay=({values:e},r)=>epochDaysToDate(e,r),getDateMillisecond=({values:e},r)=>epochMillisecondsLongToDate(e,r*2),getNumeric=({stride:e,values:r},o)=>r[e*o],getFloat16=({stride:e,values:r},o)=>uint16ToFloat64(r[e*o]),getBigInts=({values:e},r)=>e[r],getFixedSizeBinary=({stride:e,values:r},o)=>r.subarray(e*o,e*(o+1)),getBinary=({values:e,valueOffsets:r},o)=>getVariableWidthBytes(e,r,o),getUtf8=({values:e,valueOffsets:r},o)=>{const l=getVariableWidthBytes(e,r,o);return l!==null?decodeUtf8(l):null},getInt=({values:e},r)=>e[r],getFloat=({type:e,values:r},o)=>e.precision!==Precision.HALF?r[o]:uint16ToFloat64(r[o]),getDate=(e,r)=>e.type.unit===DateUnit.DAY?getDateDay(e,r):getDateMillisecond(e,r),getTimestampSecond=({values:e},r)=>1e3*epochMillisecondsLongToMs(e,r*2),getTimestampMillisecond=({values:e},r)=>epochMillisecondsLongToMs(e,r*2),getTimestampMicrosecond=({values:e},r)=>epochMicrosecondsLongToMs(e,r*2),getTimestampNanosecond=({values:e},r)=>epochNanosecondsLongToMs(e,r*2),getTimestamp=(e,r)=>{switch(e.type.unit){case TimeUnit$1.SECOND:return getTimestampSecond(e,r);case TimeUnit$1.MILLISECOND:return getTimestampMillisecond(e,r);case TimeUnit$1.MICROSECOND:return getTimestampMicrosecond(e,r);case TimeUnit$1.NANOSECOND:return getTimestampNanosecond(e,r)}},getTimeSecond=({values:e},r)=>e[r],getTimeMillisecond=({values:e},r)=>e[r],getTimeMicrosecond=({values:e},r)=>e[r],getTimeNanosecond=({values:e},r)=>e[r],getTime=(e,r)=>{switch(e.type.unit){case TimeUnit$1.SECOND:return getTimeSecond(e,r);case TimeUnit$1.MILLISECOND:return getTimeMillisecond(e,r);case TimeUnit$1.MICROSECOND:return getTimeMicrosecond(e,r);case TimeUnit$1.NANOSECOND:return getTimeNanosecond(e,r)}},getDecimal=({values:e,stride:r},o)=>BN.decimal(e.subarray(r*o,r*(o+1))),getList=(e,r)=>{const{valueOffsets:o,stride:l,children:p}=e,{[r*l]:f,[r*l+1]:O}=o,S=p[0].slice(f,O-f);return new Vector([S])},getMap=(e,r)=>{const{valueOffsets:o,children:l}=e,{[r]:p,[r+1]:f}=o,O=l[0];return new MapRow(O.slice(p,f-p))},getStruct=(e,r)=>new StructRow(e,r),getUnion=(e,r)=>e.type.mode===UnionMode.Dense?getDenseUnion(e,r):getSparseUnion(e,r),getDenseUnion=(e,r)=>{const o=e.type.typeIdToChildIndex[e.typeIds[r]],l=e.children[o];return instance$5.visit(l,e.valueOffsets[r])},getSparseUnion=(e,r)=>{const o=e.type.typeIdToChildIndex[e.typeIds[r]],l=e.children[o];return instance$5.visit(l,r)},getDictionary=(e,r)=>{var o;return(o=e.dictionary)===null||o===void 0?void 0:o.get(e.values[r])},getInterval=(e,r)=>e.type.unit===IntervalUnit.DAY_TIME?getIntervalDayTime(e,r):getIntervalYearMonth(e,r),getIntervalDayTime=({values:e},r)=>e.subarray(2*r,2*(r+1)),getIntervalYearMonth=({values:e},r)=>{const o=e[r],l=new Int32Array(2);return l[0]=Math.trunc(o/12),l[1]=Math.trunc(o%12),l},getDurationSecond=({values:e},r)=>e[r],getDurationMillisecond=({values:e},r)=>e[r],getDurationMicrosecond=({values:e},r)=>e[r],getDurationNanosecond=({values:e},r)=>e[r],getDuration=(e,r)=>{switch(e.type.unit){case TimeUnit$1.SECOND:return getDurationSecond(e,r);case TimeUnit$1.MILLISECOND:return getDurationMillisecond(e,r);case TimeUnit$1.MICROSECOND:return getDurationMicrosecond(e,r);case TimeUnit$1.NANOSECOND:return getDurationNanosecond(e,r)}},getFixedSizeList=(e,r)=>{const{stride:o,children:l}=e,f=l[0].slice(r*o,o);return new Vector([f])};GetVisitor.prototype.visitNull=wrapGet(getNull);GetVisitor.prototype.visitBool=wrapGet(getBool$1);GetVisitor.prototype.visitInt=wrapGet(getInt);GetVisitor.prototype.visitInt8=wrapGet(getNumeric);GetVisitor.prototype.visitInt16=wrapGet(getNumeric);GetVisitor.prototype.visitInt32=wrapGet(getNumeric);GetVisitor.prototype.visitInt64=wrapGet(getBigInts);GetVisitor.prototype.visitUint8=wrapGet(getNumeric);GetVisitor.prototype.visitUint16=wrapGet(getNumeric);GetVisitor.prototype.visitUint32=wrapGet(getNumeric);GetVisitor.prototype.visitUint64=wrapGet(getBigInts);GetVisitor.prototype.visitFloat=wrapGet(getFloat);GetVisitor.prototype.visitFloat16=wrapGet(getFloat16);GetVisitor.prototype.visitFloat32=wrapGet(getNumeric);GetVisitor.prototype.visitFloat64=wrapGet(getNumeric);GetVisitor.prototype.visitUtf8=wrapGet(getUtf8);GetVisitor.prototype.visitLargeUtf8=wrapGet(getUtf8);GetVisitor.prototype.visitBinary=wrapGet(getBinary);GetVisitor.prototype.visitLargeBinary=wrapGet(getBinary);GetVisitor.prototype.visitFixedSizeBinary=wrapGet(getFixedSizeBinary);GetVisitor.prototype.visitDate=wrapGet(getDate);GetVisitor.prototype.visitDateDay=wrapGet(getDateDay);GetVisitor.prototype.visitDateMillisecond=wrapGet(getDateMillisecond);GetVisitor.prototype.visitTimestamp=wrapGet(getTimestamp);GetVisitor.prototype.visitTimestampSecond=wrapGet(getTimestampSecond);GetVisitor.prototype.visitTimestampMillisecond=wrapGet(getTimestampMillisecond);GetVisitor.prototype.visitTimestampMicrosecond=wrapGet(getTimestampMicrosecond);GetVisitor.prototype.visitTimestampNanosecond=wrapGet(getTimestampNanosecond);GetVisitor.prototype.visitTime=wrapGet(getTime);GetVisitor.prototype.visitTimeSecond=wrapGet(getTimeSecond);GetVisitor.prototype.visitTimeMillisecond=wrapGet(getTimeMillisecond);GetVisitor.prototype.visitTimeMicrosecond=wrapGet(getTimeMicrosecond);GetVisitor.prototype.visitTimeNanosecond=wrapGet(getTimeNanosecond);GetVisitor.prototype.visitDecimal=wrapGet(getDecimal);GetVisitor.prototype.visitList=wrapGet(getList);GetVisitor.prototype.visitStruct=wrapGet(getStruct);GetVisitor.prototype.visitUnion=wrapGet(getUnion);GetVisitor.prototype.visitDenseUnion=wrapGet(getDenseUnion);GetVisitor.prototype.visitSparseUnion=wrapGet(getSparseUnion);GetVisitor.prototype.visitDictionary=wrapGet(getDictionary);GetVisitor.prototype.visitInterval=wrapGet(getInterval);GetVisitor.prototype.visitIntervalDayTime=wrapGet(getIntervalDayTime);GetVisitor.prototype.visitIntervalYearMonth=wrapGet(getIntervalYearMonth);GetVisitor.prototype.visitDuration=wrapGet(getDuration);GetVisitor.prototype.visitDurationSecond=wrapGet(getDurationSecond);GetVisitor.prototype.visitDurationMillisecond=wrapGet(getDurationMillisecond);GetVisitor.prototype.visitDurationMicrosecond=wrapGet(getDurationMicrosecond);GetVisitor.prototype.visitDurationNanosecond=wrapGet(getDurationNanosecond);GetVisitor.prototype.visitFixedSizeList=wrapGet(getFixedSizeList);GetVisitor.prototype.visitMap=wrapGet(getMap);const instance$5=new GetVisitor,kKeys=Symbol.for("keys"),kVals=Symbol.for("vals");class MapRow{constructor(r){return this[kKeys]=new Vector([r.children[0]]).memoize(),this[kVals]=r.children[1],new Proxy(this,new MapRowProxyHandler)}[Symbol.iterator](){return new MapRowIterator(this[kKeys],this[kVals])}get size(){return this[kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){const r=this[kKeys],o=this[kVals],l={};for(let p=-1,f=r.length;++p<f;)l[r.get(p)]=instance$5.visit(o,p);return l}toString(){return`{${[...this].map(([r,o])=>`${valueToString(r)}: ${valueToString(o)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class MapRowIterator{constructor(r,o){this.keys=r,this.vals=o,this.keyIndex=0,this.numKeys=r.length}[Symbol.iterator](){return this}next(){const r=this.keyIndex;return r===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(r),instance$5.visit(this.vals,r)]})}}class MapRowProxyHandler{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(r){return r[kKeys].toArray().map(String)}has(r,o){return r[kKeys].includes(o)}getOwnPropertyDescriptor(r,o){if(r[kKeys].indexOf(o)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(r,o){if(Reflect.has(r,o))return r[o];const l=r[kKeys].indexOf(o);if(l!==-1){const p=instance$5.visit(Reflect.get(r,kVals),l);return Reflect.set(r,o,p),p}}set(r,o,l){const p=r[kKeys].indexOf(o);return p!==-1?(instance$6.visit(Reflect.get(r,kVals),p,l),Reflect.set(r,o,l)):Reflect.has(r,o)?Reflect.set(r,o,l):!1}}Object.defineProperties(MapRow.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let tmp;function clampRange$1(e,r,o,l){const{length:p=0}=e;let f=typeof r!="number"?0:r,O=typeof o!="number"?p:o;return f<0&&(f=(f%p+p)%p),O<0&&(O=(O%p+p)%p),O<f&&(tmp=f,f=O,O=tmp),O>p&&(O=p),l?l(e,f,O):[f,O]}const isNaNFast=e=>e!==e;function createElementComparator(e){if(typeof e!=="object"||e===null)return isNaNFast(e)?isNaNFast:o=>o===e;if(e instanceof Date){const o=e.valueOf();return l=>l instanceof Date?l.valueOf()===o:!1}return ArrayBuffer.isView(e)?o=>o?compareArrayLike(e,o):!1:e instanceof Map?createMapComparator(e):Array.isArray(e)?createArrayLikeComparator(e):e instanceof Vector?createVectorComparator(e):createObjectComparator(e,!0)}function createArrayLikeComparator(e){const r=[];for(let o=-1,l=e.length;++o<l;)r[o]=createElementComparator(e[o]);return createSubElementsComparator(r)}function createMapComparator(e){let r=-1;const o=[];for(const l of e.values())o[++r]=createElementComparator(l);return createSubElementsComparator(o)}function createVectorComparator(e){const r=[];for(let o=-1,l=e.length;++o<l;)r[o]=createElementComparator(e.get(o));return createSubElementsComparator(r)}function createObjectComparator(e,r=!1){const o=Object.keys(e);if(!r&&o.length===0)return()=>!1;const l=[];for(let p=-1,f=o.length;++p<f;)l[p]=createElementComparator(e[o[p]]);return createSubElementsComparator(l,o)}function createSubElementsComparator(e,r){return o=>{if(!o||typeof o!="object")return!1;switch(o.constructor){case Array:return compareArray(e,o);case Map:return compareObject(e,o,o.keys());case MapRow:case StructRow:case Object:case void 0:return compareObject(e,o,r||Object.keys(o))}return o instanceof Vector?compareVector(e,o):!1}}function compareArray(e,r){const o=e.length;if(r.length!==o)return!1;for(let l=-1;++l<o;)if(!e[l](r[l]))return!1;return!0}function compareVector(e,r){const o=e.length;if(r.length!==o)return!1;for(let l=-1;++l<o;)if(!e[l](r.get(l)))return!1;return!0}function compareObject(e,r,o){const l=o[Symbol.iterator](),p=r instanceof Map?r.keys():Object.keys(r)[Symbol.iterator](),f=r instanceof Map?r.values():Object.values(r)[Symbol.iterator]();let O=0;const _=e.length;let S=f.next(),v=l.next(),s=p.next();for(;O<_&&!v.done&&!s.done&&!S.done&&!(v.value!==s.value||!e[O](S.value));++O,v=l.next(),s=p.next(),S=f.next());return O===_&&v.done&&s.done&&S.done?!0:(l.return&&l.return(),p.return&&p.return(),f.return&&f.return(),!1)}function getBool(e,r,o,l){return(o&1<<l)!==0}function getBit(e,r,o,l){return(o&1<<l)>>l}function truncateBitmap(e,r,o){const l=o.byteLength+7&-8;if(e>0||o.byteLength<l){const p=new Uint8Array(l);return p.set(e%8===0?o.subarray(e>>3):packBools(new BitIterator(o,e,r,null,getBool)).subarray(0,l)),p}return o}function packBools(e){const r=[];let o=0,l=0,p=0;for(const O of e)O&&(p|=1<<l),++l===8&&(r[o++]=p,p=l=0);(o===0||l>0)&&(r[o++]=p);const f=new Uint8Array(r.length+7&-8);return f.set(r),f}class BitIterator{constructor(r,o,l,p,f){this.bytes=r,this.length=l,this.context=p,this.get=f,this.bit=o%8,this.byteIndex=o>>3,this.byte=r[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function popcnt_bit_range(e,r,o){if(o-r<=0)return 0;if(o-r<8){let f=0;for(const O of new BitIterator(e,r,o-r,e,getBit))f+=O;return f}const l=o>>3<<3,p=r+(r%8===0?0:8-r%8);return popcnt_bit_range(e,r,p)+popcnt_bit_range(e,l,o)+popcnt_array(e,p>>3,l-p>>3)}function popcnt_array(e,r,o){let l=0,p=Math.trunc(r);const f=new DataView(e.buffer,e.byteOffset,e.byteLength),O=o===void 0?e.byteLength:p+o;for(;O-p>=4;)l+=popcnt_uint32(f.getUint32(p)),p+=4;for(;O-p>=2;)l+=popcnt_uint32(f.getUint16(p)),p+=2;for(;O-p>=1;)l+=popcnt_uint32(f.getUint8(p)),p+=1;return l}function popcnt_uint32(e){let r=Math.trunc(e);return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),(r+(r>>>4)&252645135)*16843009>>>24}const kUnknownNullCount=-1;class Data{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:r}=this;return DataType.isSparseUnion(r)?this.children.some(o=>o.nullable):DataType.isDenseUnion(r)?this.children.some(o=>o.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let r=0;const{valueOffsets:o,values:l,nullBitmap:p,typeIds:f}=this;return o&&(r+=o.byteLength),l&&(r+=l.byteLength),p&&(r+=p.byteLength),f&&(r+=f.byteLength),this.children.reduce((O,_)=>O+_.byteLength,r)}get nullCount(){if(DataType.isUnion(this.type))return this.children.reduce((l,p)=>l+p.nullCount,0);let r=this._nullCount,o;return r<=kUnknownNullCount&&(o=this.nullBitmap)&&(this._nullCount=r=this.length-popcnt_bit_range(o,this.offset,this.offset+this.length)),r}constructor(r,o,l,p,f,O=[],_){this.type=r,this.children=O,this.dictionary=_,this.offset=Math.floor(Math.max(o||0,0)),this.length=Math.floor(Math.max(l||0,0)),this._nullCount=Math.floor(Math.max(p||0,-1));let S;f instanceof Data?(this.stride=f.stride,this.values=f.values,this.typeIds=f.typeIds,this.nullBitmap=f.nullBitmap,this.valueOffsets=f.valueOffsets):(this.stride=strideForType(r),f&&((S=f[0])&&(this.valueOffsets=S),(S=f[1])&&(this.values=S),(S=f[2])&&(this.nullBitmap=S),(S=f[3])&&(this.typeIds=S)))}getValid(r){const{type:o}=this;if(DataType.isUnion(o)){const l=o,p=this.children[l.typeIdToChildIndex[this.typeIds[r]]],f=l.mode===UnionMode.Dense?this.valueOffsets[r]:r;return p.getValid(f)}if(this.nullable&&this.nullCount>0){const l=this.offset+r;return(this.nullBitmap[l>>3]&1<<l%8)!==0}return!0}setValid(r,o){let l;const{type:p}=this;if(DataType.isUnion(p)){const f=p,O=this.children[f.typeIdToChildIndex[this.typeIds[r]]],_=f.mode===UnionMode.Dense?this.valueOffsets[r]:r;l=O.getValid(_),O.setValid(_,o)}else{let{nullBitmap:f}=this;const{offset:O,length:_}=this,S=O+r,v=1<<S%8,s=S>>3;(!f||f.byteLength<=s)&&(f=new Uint8Array((O+_+63&-64)>>3).fill(255),this.nullCount>0&&f.set(truncateBitmap(O,_,this.nullBitmap),0),Object.assign(this,{nullBitmap:f,_nullCount:-1}));const d=f[s];l=(d&v)!==0,o?f[s]=d|v:f[s]=d&~v}return l!==!!o&&(this._nullCount=this.nullCount+(o?-1:1)),o}clone(r=this.type,o=this.offset,l=this.length,p=this._nullCount,f=this,O=this.children){return new Data(r,o,l,p,f,O,this.dictionary)}slice(r,o){const{stride:l,typeId:p,children:f}=this,O=+(this._nullCount===0)-1,_=p===16?l:1,S=this._sliceBuffers(r,o,l,p);return this.clone(this.type,this.offset+r,o,O,S,f.length===0||this.valueOffsets?f:this._sliceChildren(f,_*r,_*o))}_changeLengthAndBackfillNullBitmap(r){if(this.typeId===Type.Null)return this.clone(this.type,0,r,0);const{length:o,nullCount:l}=this,p=new Uint8Array((r+63&-64)>>3).fill(255,0,o>>3);p[o>>3]=(1<<o-(o&-8))-1,l>0&&p.set(truncateBitmap(this.offset,o,this.nullBitmap),0);const f=this.buffers;return f[BufferType.VALIDITY]=p,this.clone(this.type,0,r,l+(r-o),f)}_sliceBuffers(r,o,l,p){let f;const{buffers:O}=this;return(f=O[BufferType.TYPE])&&(O[BufferType.TYPE]=f.subarray(r,r+o)),(f=O[BufferType.OFFSET])&&(O[BufferType.OFFSET]=f.subarray(r,r+o+1))||(f=O[BufferType.DATA])&&(O[BufferType.DATA]=p===6?f:f.subarray(l*r,l*(r+o))),O}_sliceChildren(r,o,l){return r.map(p=>p.slice(o,l))}}Data.prototype.children=Object.freeze([]);class MakeDataVisitor extends Visitor{visit(r){return this.getVisitFn(r.type).call(this,r)}visitNull(r){const{["type"]:o,["offset"]:l=0,["length"]:p=0}=r;return new Data(o,l,p,p)}visitBool(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length>>3,["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitInt(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length,["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitFloat(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length,["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitUtf8(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.data),f=toUint8Array(r.nullBitmap),O=toInt32Array(r.valueOffsets),{["length"]:_=O.length-1,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[O,p,f])}visitLargeUtf8(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.data),f=toUint8Array(r.nullBitmap),O=toBigInt64Array(r.valueOffsets),{["length"]:_=O.length-1,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[O,p,f])}visitBinary(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.data),f=toUint8Array(r.nullBitmap),O=toInt32Array(r.valueOffsets),{["length"]:_=O.length-1,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[O,p,f])}visitLargeBinary(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.data),f=toUint8Array(r.nullBitmap),O=toBigInt64Array(r.valueOffsets),{["length"]:_=O.length-1,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[O,p,f])}visitFixedSizeBinary(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitDate(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitTimestamp(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitTime(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitDecimal(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitList(r){const{["type"]:o,["offset"]:l=0,["child"]:p}=r,f=toUint8Array(r.nullBitmap),O=toInt32Array(r.valueOffsets),{["length"]:_=O.length-1,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[O,void 0,f],[p])}visitStruct(r){const{["type"]:o,["offset"]:l=0,["children"]:p=[]}=r,f=toUint8Array(r.nullBitmap),{length:O=p.reduce((S,{length:v})=>Math.max(S,v),0),nullCount:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,void 0,f],p)}visitUnion(r){const{["type"]:o,["offset"]:l=0,["children"]:p=[]}=r,f=toArrayBufferView(o.ArrayType,r.typeIds),{["length"]:O=f.length,["nullCount"]:_=-1}=r;if(DataType.isSparseUnion(o))return new Data(o,l,O,_,[void 0,void 0,void 0,f],p);const S=toInt32Array(r.valueOffsets);return new Data(o,l,O,_,[S,void 0,void 0,f],p)}visitDictionary(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.indices.ArrayType,r.data),{["dictionary"]:O=new Vector([new MakeDataVisitor().visit({type:o.dictionary})])}=r,{["length"]:_=f.length,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[void 0,f,p],[],O)}visitInterval(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitDuration(r){const{["type"]:o,["offset"]:l=0}=r,p=toUint8Array(r.nullBitmap),f=toArrayBufferView(o.ArrayType,r.data),{["length"]:O=f.length,["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,f,p])}visitFixedSizeList(r){const{["type"]:o,["offset"]:l=0,["child"]:p=new MakeDataVisitor().visit({type:o.valueType})}=r,f=toUint8Array(r.nullBitmap),{["length"]:O=p.length/strideForType(o),["nullCount"]:_=r.nullBitmap?-1:0}=r;return new Data(o,l,O,_,[void 0,void 0,f],[p])}visitMap(r){const{["type"]:o,["offset"]:l=0,["child"]:p=new MakeDataVisitor().visit({type:o.childType})}=r,f=toUint8Array(r.nullBitmap),O=toInt32Array(r.valueOffsets),{["length"]:_=O.length-1,["nullCount"]:S=r.nullBitmap?-1:0}=r;return new Data(o,l,_,S,[O,void 0,f],[p])}}const makeDataVisitor=new MakeDataVisitor;function makeData(e){return makeDataVisitor.visit(e)}class ChunkedIterator{constructor(r=0,o){this.numChunks=r,this.getChunkIterator=o,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const r=this.chunkIterator.next();if(!r.done)return r;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function computeChunkNullable(e){return e.some(r=>r.nullable)}function computeChunkNullCounts(e){return e.reduce((r,o)=>r+o.nullCount,0)}function computeChunkOffsets(e){return e.reduce((r,o,l)=>(r[l+1]=r[l]+o.length,r),new Uint32Array(e.length+1))}function sliceChunks(e,r,o,l){const p=[];for(let f=-1,O=e.length;++f<O;){const _=e[f],S=r[f],{length:v}=_;if(S>=l)break;if(o>=S+v)continue;if(S>=o&&S+v<=l){p.push(_);continue}const s=Math.max(0,o-S),d=Math.min(l-S,v);p.push(_.slice(s,d-s))}return p.length===0&&p.push(e[0].slice(0,0)),p}function binarySearch(e,r,o,l){let p=0,f=0,O=r.length-1;do{if(p>=O-1)return o<r[O]?l(e,p,o-r[p]):null;f=p+Math.trunc((O-p)*.5),o<r[f]?O=f:p=f}while(p<O)}function isChunkedValid(e,r){return e.getValid(r)}function wrapChunkedCall1(e){function r(o,l,p){return e(o[l],p)}return function(o){const l=this.data;return binarySearch(l,this._offsets,o,r)}}function wrapChunkedCall2(e){let r;function o(l,p,f){return e(l[p],f,r)}return function(l,p){const f=this.data;r=p;const O=binarySearch(f,this._offsets,l,o);return r=void 0,O}}function wrapChunkedIndexOf(e){let r;function o(l,p,f){let O=f,_=0,S=0;for(let v=p-1,s=l.length;++v<s;){const d=l[v];if(~(_=e(d,r,O)))return S+_;O=0,S+=d.length}return-1}return function(l,p){r=l;const f=this.data,O=typeof p!="number"?o(f,0,0):binarySearch(f,this._offsets,p,o);return r=void 0,O}}class IndexOfVisitor extends Visitor{}function nullIndexOf(e,r){return r===null&&e.length>0?0:-1}function indexOfNull(e,r){const{nullBitmap:o}=e;if(!o||e.nullCount<=0)return-1;let l=0;for(const p of new BitIterator(o,e.offset+(r||0),e.length,o,getBool)){if(!p)return l;++l}return-1}function indexOfValue(e,r,o){if(r===void 0)return-1;if(r===null)switch(e.typeId){case Type.Union:break;case Type.Dictionary:break;default:return indexOfNull(e,o)}const l=instance$5.getVisitFn(e),p=createElementComparator(r);for(let f=(o||0)-1,O=e.length;++f<O;)if(p(l(e,f)))return f;return-1}function indexOfUnion(e,r,o){const l=instance$5.getVisitFn(e),p=createElementComparator(r);for(let f=(o||0)-1,O=e.length;++f<O;)if(p(l(e,f)))return f;return-1}IndexOfVisitor.prototype.visitNull=nullIndexOf;IndexOfVisitor.prototype.visitBool=indexOfValue;IndexOfVisitor.prototype.visitInt=indexOfValue;IndexOfVisitor.prototype.visitInt8=indexOfValue;IndexOfVisitor.prototype.visitInt16=indexOfValue;IndexOfVisitor.prototype.visitInt32=indexOfValue;IndexOfVisitor.prototype.visitInt64=indexOfValue;IndexOfVisitor.prototype.visitUint8=indexOfValue;IndexOfVisitor.prototype.visitUint16=indexOfValue;IndexOfVisitor.prototype.visitUint32=indexOfValue;IndexOfVisitor.prototype.visitUint64=indexOfValue;IndexOfVisitor.prototype.visitFloat=indexOfValue;IndexOfVisitor.prototype.visitFloat16=indexOfValue;IndexOfVisitor.prototype.visitFloat32=indexOfValue;IndexOfVisitor.prototype.visitFloat64=indexOfValue;IndexOfVisitor.prototype.visitUtf8=indexOfValue;IndexOfVisitor.prototype.visitLargeUtf8=indexOfValue;IndexOfVisitor.prototype.visitBinary=indexOfValue;IndexOfVisitor.prototype.visitLargeBinary=indexOfValue;IndexOfVisitor.prototype.visitFixedSizeBinary=indexOfValue;IndexOfVisitor.prototype.visitDate=indexOfValue;IndexOfVisitor.prototype.visitDateDay=indexOfValue;IndexOfVisitor.prototype.visitDateMillisecond=indexOfValue;IndexOfVisitor.prototype.visitTimestamp=indexOfValue;IndexOfVisitor.prototype.visitTimestampSecond=indexOfValue;IndexOfVisitor.prototype.visitTimestampMillisecond=indexOfValue;IndexOfVisitor.prototype.visitTimestampMicrosecond=indexOfValue;IndexOfVisitor.prototype.visitTimestampNanosecond=indexOfValue;IndexOfVisitor.prototype.visitTime=indexOfValue;IndexOfVisitor.prototype.visitTimeSecond=indexOfValue;IndexOfVisitor.prototype.visitTimeMillisecond=indexOfValue;IndexOfVisitor.prototype.visitTimeMicrosecond=indexOfValue;IndexOfVisitor.prototype.visitTimeNanosecond=indexOfValue;IndexOfVisitor.prototype.visitDecimal=indexOfValue;IndexOfVisitor.prototype.visitList=indexOfValue;IndexOfVisitor.prototype.visitStruct=indexOfValue;IndexOfVisitor.prototype.visitUnion=indexOfValue;IndexOfVisitor.prototype.visitDenseUnion=indexOfUnion;IndexOfVisitor.prototype.visitSparseUnion=indexOfUnion;IndexOfVisitor.prototype.visitDictionary=indexOfValue;IndexOfVisitor.prototype.visitInterval=indexOfValue;IndexOfVisitor.prototype.visitIntervalDayTime=indexOfValue;IndexOfVisitor.prototype.visitIntervalYearMonth=indexOfValue;IndexOfVisitor.prototype.visitDuration=indexOfValue;IndexOfVisitor.prototype.visitDurationSecond=indexOfValue;IndexOfVisitor.prototype.visitDurationMillisecond=indexOfValue;IndexOfVisitor.prototype.visitDurationMicrosecond=indexOfValue;IndexOfVisitor.prototype.visitDurationNanosecond=indexOfValue;IndexOfVisitor.prototype.visitFixedSizeList=indexOfValue;IndexOfVisitor.prototype.visitMap=indexOfValue;const instance$4=new IndexOfVisitor;class IteratorVisitor extends Visitor{}function vectorIterator(e){const{type:r}=e;if(e.nullCount===0&&e.stride===1&&(r.typeId===Type.Timestamp||r instanceof Int_&&r.bitWidth!==64||r instanceof Time_&&r.bitWidth!==64||r instanceof Float&&r.precision!==Precision.HALF))return new ChunkedIterator(e.data.length,l=>{const p=e.data[l];return p.values.subarray(0,p.length)[Symbol.iterator]()});let o=0;return new ChunkedIterator(e.data.length,l=>{const f=e.data[l].length,O=e.slice(o,o+f);return o+=f,new VectorIterator(O)})}class VectorIterator{constructor(r){this.vector=r,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}IteratorVisitor.prototype.visitNull=vectorIterator;IteratorVisitor.prototype.visitBool=vectorIterator;IteratorVisitor.prototype.visitInt=vectorIterator;IteratorVisitor.prototype.visitInt8=vectorIterator;IteratorVisitor.prototype.visitInt16=vectorIterator;IteratorVisitor.prototype.visitInt32=vectorIterator;IteratorVisitor.prototype.visitInt64=vectorIterator;IteratorVisitor.prototype.visitUint8=vectorIterator;IteratorVisitor.prototype.visitUint16=vectorIterator;IteratorVisitor.prototype.visitUint32=vectorIterator;IteratorVisitor.prototype.visitUint64=vectorIterator;IteratorVisitor.prototype.visitFloat=vectorIterator;IteratorVisitor.prototype.visitFloat16=vectorIterator;IteratorVisitor.prototype.visitFloat32=vectorIterator;IteratorVisitor.prototype.visitFloat64=vectorIterator;IteratorVisitor.prototype.visitUtf8=vectorIterator;IteratorVisitor.prototype.visitLargeUtf8=vectorIterator;IteratorVisitor.prototype.visitBinary=vectorIterator;IteratorVisitor.prototype.visitLargeBinary=vectorIterator;IteratorVisitor.prototype.visitFixedSizeBinary=vectorIterator;IteratorVisitor.prototype.visitDate=vectorIterator;IteratorVisitor.prototype.visitDateDay=vectorIterator;IteratorVisitor.prototype.visitDateMillisecond=vectorIterator;IteratorVisitor.prototype.visitTimestamp=vectorIterator;IteratorVisitor.prototype.visitTimestampSecond=vectorIterator;IteratorVisitor.prototype.visitTimestampMillisecond=vectorIterator;IteratorVisitor.prototype.visitTimestampMicrosecond=vectorIterator;IteratorVisitor.prototype.visitTimestampNanosecond=vectorIterator;IteratorVisitor.prototype.visitTime=vectorIterator;IteratorVisitor.prototype.visitTimeSecond=vectorIterator;IteratorVisitor.prototype.visitTimeMillisecond=vectorIterator;IteratorVisitor.prototype.visitTimeMicrosecond=vectorIterator;IteratorVisitor.prototype.visitTimeNanosecond=vectorIterator;IteratorVisitor.prototype.visitDecimal=vectorIterator;IteratorVisitor.prototype.visitList=vectorIterator;IteratorVisitor.prototype.visitStruct=vectorIterator;IteratorVisitor.prototype.visitUnion=vectorIterator;IteratorVisitor.prototype.visitDenseUnion=vectorIterator;IteratorVisitor.prototype.visitSparseUnion=vectorIterator;IteratorVisitor.prototype.visitDictionary=vectorIterator;IteratorVisitor.prototype.visitInterval=vectorIterator;IteratorVisitor.prototype.visitIntervalDayTime=vectorIterator;IteratorVisitor.prototype.visitIntervalYearMonth=vectorIterator;IteratorVisitor.prototype.visitDuration=vectorIterator;IteratorVisitor.prototype.visitDurationSecond=vectorIterator;IteratorVisitor.prototype.visitDurationMillisecond=vectorIterator;IteratorVisitor.prototype.visitDurationMicrosecond=vectorIterator;IteratorVisitor.prototype.visitDurationNanosecond=vectorIterator;IteratorVisitor.prototype.visitFixedSizeList=vectorIterator;IteratorVisitor.prototype.visitMap=vectorIterator;const instance$3=new IteratorVisitor;var _a$2;const visitorsByTypeId={},vectorPrototypesByTypeId={};class Vector{constructor(r){var o,l,p;const f=r[0]instanceof Vector?r.flatMap(_=>_.data):r;if(f.length===0||f.some(_=>!(_ instanceof Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");const O=(o=f[0])===null||o===void 0?void 0:o.type;switch(f.length){case 0:this._offsets=[0];break;case 1:{const{get:_,set:S,indexOf:v}=visitorsByTypeId[O.typeId],s=f[0];this.isValid=d=>isChunkedValid(s,d),this.get=d=>_(s,d),this.set=(d,g)=>S(s,d,g),this.indexOf=d=>v(s,d),this._offsets=[0,s.length];break}default:Object.setPrototypeOf(this,vectorPrototypesByTypeId[O.typeId]),this._offsets=computeChunkOffsets(f);break}this.data=f,this.type=O,this.stride=strideForType(O),this.numChildren=(p=(l=O.children)===null||l===void 0?void 0:l.length)!==null&&p!==void 0?p:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((r,o)=>r+o.byteLength,0)}get nullable(){return computeChunkNullable(this.data)}get nullCount(){return computeChunkNullCounts(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Type[this.type.typeId]}Vector`}isValid(r){return!1}get(r){return null}set(r,o){}indexOf(r,o){return-1}includes(r,o){return this.indexOf(r,o)>-1}[Symbol.iterator](){return instance$3.visit(this)}concat(...r){return new Vector(this.data.concat(r.flatMap(o=>o.data).flat(Number.POSITIVE_INFINITY)))}slice(r,o){return new Vector(clampRange$1(this,r,o,({data:l,_offsets:p},f,O)=>sliceChunks(l,p,f,O)))}toJSON(){return[...this]}toArray(){const{type:r,data:o,length:l,stride:p,ArrayType:f}=this;switch(r.typeId){case Type.Int:case Type.Float:case Type.Decimal:case Type.Time:case Type.Timestamp:switch(o.length){case 0:return new f;case 1:return o[0].values.subarray(0,l*p);default:return o.reduce((O,{values:_,length:S})=>(O.array.set(_.subarray(0,S*p),O.offset),O.offset+=S*p,O),{array:new f(l*p),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(r){var o;return this.getChildAt((o=this.type.children)===null||o===void 0?void 0:o.findIndex(l=>l.name===r))}getChildAt(r){return r>-1&&r<this.numChildren?new Vector(this.data.map(({children:o})=>o[r])):null}get isMemoized(){return DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(DataType.isDictionary(this.type)){const r=new MemoizedVector(this.data[0].dictionary),o=this.data.map(l=>{const p=l.clone();return p.dictionary=r,p});return new Vector(o)}return new MemoizedVector(this)}unmemoize(){if(DataType.isDictionary(this.type)&&this.isMemoized){const r=this.data[0].dictionary.unmemoize(),o=this.data.map(l=>{const p=l.clone();return p.dictionary=r,p});return new Vector(o)}return this}}_a$2=Symbol.toStringTag;Vector[_a$2]=(e=>{e.type=DataType.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const r=Object.keys(Type).map(o=>Type[o]).filter(o=>typeof o=="number"&&o!==Type.NONE);for(const o of r){const l=instance$5.getVisitFnByTypeId(o),p=instance$6.getVisitFnByTypeId(o),f=instance$4.getVisitFnByTypeId(o);visitorsByTypeId[o]={get:l,set:p,indexOf:f},vectorPrototypesByTypeId[o]=Object.create(e,{isValid:{value:wrapChunkedCall1(isChunkedValid)},get:{value:wrapChunkedCall1(instance$5.getVisitFnByTypeId(o))},set:{value:wrapChunkedCall2(instance$6.getVisitFnByTypeId(o))},indexOf:{value:wrapChunkedIndexOf(instance$4.getVisitFnByTypeId(o))}})}return"Vector"})(Vector.prototype);class MemoizedVector extends Vector{constructor(r){super(r.data);const o=this.get,l=this.set,p=this.slice,f=new Array(this.length);Object.defineProperty(this,"get",{value(O){const _=f[O];if(_!==void 0)return _;const S=o.call(this,O);return f[O]=S,S}}),Object.defineProperty(this,"set",{value(O,_){l.call(this,O,_),f[O]=_}}),Object.defineProperty(this,"slice",{value:(O,_)=>new MemoizedVector(p.call(this,O,_))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Vector(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function createIsValidFunction(e){if(!e||e.length<=0)return function(p){return!0};let r="";const o=e.filter(l=>l===l);return o.length>0&&(r=`
    switch (x) {${o.map(l=>`
        case ${valueToCase(l)}:`).join("")}
            return false;
    }`),e.length!==o.length&&(r=`if (x !== x) return false;
${r}`),new Function("x",`${r}
return true;`)}function valueToCase(e){return typeof e!="bigint"?valueToString(e):`${valueToString(e)}n`}function roundLengthUpToNearest64Bytes(e,r){const o=Math.ceil(e)*r-1;return(o-o%64+64||64)/r}function resizeArray(e,r=0){return e.length>=r?e.subarray(0,r):memcpy(new e.constructor(r),e,0)}class BufferBuilder{constructor(r,o=0,l=1){this.length=Math.ceil(o/l),this.buffer=new r(this.length),this.stride=l,this.BYTES_PER_ELEMENT=r.BYTES_PER_ELEMENT,this.ArrayType=r}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(r,o){return this}append(r){return this.set(this.length,r)}reserve(r){if(r>0){this.length+=r;const o=this.stride,l=this.length*o,p=this.buffer.length;l>=p&&this._resize(p===0?roundLengthUpToNearest64Bytes(l*1,this.BYTES_PER_ELEMENT):roundLengthUpToNearest64Bytes(l*2,this.BYTES_PER_ELEMENT))}return this}flush(r=this.length){r=roundLengthUpToNearest64Bytes(r*this.stride,this.BYTES_PER_ELEMENT);const o=resizeArray(this.buffer,r);return this.clear(),o}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(r){return this.buffer=resizeArray(this.buffer,r)}}class DataBufferBuilder extends BufferBuilder{last(){return this.get(this.length-1)}get(r){return this.buffer[r]}set(r,o){return this.reserve(r-this.length+1),this.buffer[r*this.stride]=o,this}}class BitmapBufferBuilder extends DataBufferBuilder{constructor(){super(Uint8Array,0,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(r){return this.buffer[r>>3]>>r%8&1}set(r,o){const{buffer:l}=this.reserve(r-this.length+1),p=r>>3,f=r%8,O=l[p]>>f&1;return o?O===0&&(l[p]|=1<<f,++this.numValid):O===1&&(l[p]&=~(1<<f),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class OffsetsBufferBuilder extends DataBufferBuilder{constructor(r){super(r.OffsetArrayType,1,1)}append(r){return this.set(this.length-1,r)}set(r,o){const l=this.length-1,p=this.reserve(r-l+1).buffer;return l<r++&&l>=0&&p.fill(p[l],l,r),p[r]=p[r-1]+o,this}flush(r=this.length-1){return r>this.length&&this.set(r-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0),super.flush(r+1)}}let Builder$2=class{static throughNode(r){throw new Error('"throughNode" not available in this environment')}static throughDOM(r){throw new Error('"throughDOM" not available in this environment')}constructor({type:r,nullValues:o}){this.length=0,this.finished=!1,this.type=r,this.children=[],this.nullValues=o,this.stride=strideForType(r),this._nulls=new BitmapBufferBuilder,o&&o.length>0&&(this._isValid=createIsValidFunction(o))}toVector(){return new Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let r=0;const{_offsets:o,_values:l,_nulls:p,_typeIds:f,children:O}=this;return o&&(r+=o.byteLength),l&&(r+=l.byteLength),p&&(r+=p.byteLength),f&&(r+=f.byteLength),O.reduce((_,S)=>_+S.byteLength,r)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let r=0;return this._offsets&&(r+=this._offsets.reservedByteLength),this._values&&(r+=this._values.reservedByteLength),this._nulls&&(r+=this._nulls.reservedByteLength),this._typeIds&&(r+=this._typeIds.reservedByteLength),this.children.reduce((o,l)=>o+l.reservedByteLength,r)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(r){return this.set(this.length,r)}isValid(r){return this._isValid(r)}set(r,o){return this.setValid(r,this.isValid(o))&&this.setValue(r,o),this}setValue(r,o){this._setValue(this,r,o)}setValid(r,o){return this.length=this._nulls.set(r,+o).length,o}addChild(r,o=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(r){return this.children[r]||null}flush(){let r,o,l,p;const{type:f,length:O,nullCount:_,_typeIds:S,_offsets:v,_values:s,_nulls:d}=this;(o=S==null?void 0:S.flush(O))?p=v==null?void 0:v.flush(O):(p=v==null?void 0:v.flush(O))?r=s==null?void 0:s.flush(v.last()):r=s==null?void 0:s.flush(O),_>0&&(l=d==null?void 0:d.flush(O));const g=this.children.map(P=>P.flush());return this.clear(),makeData({type:f,length:O,nullCount:_,children:g,child:g[0],data:r,typeIds:o,nullBitmap:l,valueOffsets:p})}finish(){this.finished=!0;for(const r of this.children)r.finish();return this}clear(){var r,o,l,p;this.length=0,(r=this._nulls)===null||r===void 0||r.clear(),(o=this._values)===null||o===void 0||o.clear(),(l=this._offsets)===null||l===void 0||l.clear(),(p=this._typeIds)===null||p===void 0||p.clear();for(const f of this.children)f.clear();return this}};Builder$2.prototype.length=1;Builder$2.prototype.stride=1;Builder$2.prototype.children=null;Builder$2.prototype.finished=!1;Builder$2.prototype.nullValues=null;Builder$2.prototype._isValid=()=>!0;class FixedWidthBuilder extends Builder$2{constructor(r){super(r),this._values=new DataBufferBuilder(this.ArrayType,0,this.stride)}setValue(r,o){const l=this._values;return l.reserve(r-l.length+1),super.setValue(r,o)}}class VariableWidthBuilder extends Builder$2{constructor(r){super(r),this._pendingLength=0,this._offsets=new OffsetsBufferBuilder(r.type)}setValue(r,o){const l=this._pending||(this._pending=new Map),p=l.get(r);p&&(this._pendingLength-=p.length),this._pendingLength+=o instanceof MapRow?o[kKeys].length:o.length,l.set(r,o)}setValid(r,o){return super.setValid(r,o)?!0:((this._pending||(this._pending=new Map)).set(r,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const r=this._pending,o=this._pendingLength;return this._pendingLength=0,this._pending=void 0,r&&r.size>0&&this._flushPending(r,o),this}}class Block{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(r,o,l,p){return r.prep(8,24),r.writeInt64(BigInt(p??0)),r.pad(4),r.writeInt32(l),r.writeInt64(BigInt(o??0)),r.offset()}}class Footer{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsFooter(r,o){return(o||new Footer).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsFooter(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new Footer).__init(r.readInt32(r.position())+r.position(),r)}version(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):MetadataVersion.V1}schema(r){const o=this.bb.__offset(this.bb_pos,6);return o?(r||new Schema$1).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}dictionaries(r,o){const l=this.bb.__offset(this.bb_pos,8);return l?(o||new Block).__init(this.bb.__vector(this.bb_pos+l)+r*24,this.bb):null}dictionariesLength(){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}recordBatches(r,o){const l=this.bb.__offset(this.bb_pos,10);return l?(o||new Block).__init(this.bb.__vector(this.bb_pos+l)+r*24,this.bb):null}recordBatchesLength(){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__vector_len(this.bb_pos+r):0}customMetadata(r,o){const l=this.bb.__offset(this.bb_pos,12);return l?(o||new KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+r*4),this.bb):null}customMetadataLength(){const r=this.bb.__offset(this.bb_pos,12);return r?this.bb.__vector_len(this.bb_pos+r):0}static startFooter(r){r.startObject(5)}static addVersion(r,o){r.addFieldInt16(0,o,MetadataVersion.V1)}static addSchema(r,o){r.addFieldOffset(1,o,0)}static addDictionaries(r,o){r.addFieldOffset(2,o,0)}static startDictionariesVector(r,o){r.startVector(24,o,8)}static addRecordBatches(r,o){r.addFieldOffset(3,o,0)}static startRecordBatchesVector(r,o){r.startVector(24,o,8)}static addCustomMetadata(r,o){r.addFieldOffset(4,o,0)}static createCustomMetadataVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addOffset(o[l]);return r.endVector()}static startCustomMetadataVector(r,o){r.startVector(4,o,4)}static endFooter(r){return r.endObject()}static finishFooterBuffer(r,o){r.finish(o)}static finishSizePrefixedFooterBuffer(r,o){r.finish(o,void 0,!0)}}class Schema{constructor(r=[],o,l,p=MetadataVersion.V5){this.fields=r||[],this.metadata=o||new Map,l||(l=generateDictionaryMap(r)),this.dictionaries=l,this.metadataVersion=p}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(r=>r.name)}toString(){return`Schema<{ ${this.fields.map((r,o)=>`${o}: ${r}`).join(", ")} }>`}select(r){const o=new Set(r),l=this.fields.filter(p=>o.has(p.name));return new Schema(l,this.metadata)}selectAt(r){const o=r.map(l=>this.fields[l]).filter(Boolean);return new Schema(o,this.metadata)}assign(...r){const o=r[0]instanceof Schema?r[0]:Array.isArray(r[0])?new Schema(r[0]):new Schema(r),l=[...this.fields],p=mergeMaps(mergeMaps(new Map,this.metadata),o.metadata),f=o.fields.filter(_=>{const S=l.findIndex(v=>v.name===_.name);return~S?(l[S]=_.clone({metadata:mergeMaps(mergeMaps(new Map,l[S].metadata),_.metadata)}))&&!1:!0}),O=generateDictionaryMap(f,new Map);return new Schema([...l,...f],p,new Map([...this.dictionaries,...O]))}}Schema.prototype.fields=null;Schema.prototype.metadata=null;Schema.prototype.dictionaries=null;let Field$1=class gt{static new(...r){let[o,l,p,f]=r;return r[0]&&typeof r[0]=="object"&&({name:o}=r[0],l===void 0&&(l=r[0].type),p===void 0&&(p=r[0].nullable),f===void 0&&(f=r[0].metadata)),new gt(`${o}`,l,p,f)}constructor(r,o,l=!1,p){this.name=r,this.type=o,this.nullable=l,this.metadata=p||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...r){let[o,l,p,f]=r;return!r[0]||typeof r[0]!="object"?[o=this.name,l=this.type,p=this.nullable,f=this.metadata]=r:{name:o=this.name,type:l=this.type,nullable:p=this.nullable,metadata:f=this.metadata}=r[0],gt.new(o,l,p,f)}};Field$1.prototype.type=null;Field$1.prototype.name=null;Field$1.prototype.nullable=null;Field$1.prototype.metadata=null;function mergeMaps(e,r){return new Map([...e||new Map,...r||new Map])}function generateDictionaryMap(e,r=new Map){for(let o=-1,l=e.length;++o<l;){const f=e[o].type;if(DataType.isDictionary(f)){if(!r.has(f.id))r.set(f.id,f.dictionary);else if(r.get(f.id)!==f.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}f.children&&f.children.length>0&&generateDictionaryMap(f.children,r)}return r}var Builder$1=Builder$3,ByteBuffer$1=ByteBuffer$2;class Footer_{static decode(r){r=new ByteBuffer$1(toUint8Array(r));const o=Footer.getRootAsFooter(r),l=Schema.decode(o.schema(),new Map,o.version());return new OffHeapFooter(l,o)}static encode(r){const o=new Builder$1,l=Schema.encode(o,r.schema);Footer.startRecordBatchesVector(o,r.numRecordBatches);for(const O of[...r.recordBatches()].slice().reverse())FileBlock.encode(o,O);const p=o.endVector();Footer.startDictionariesVector(o,r.numDictionaries);for(const O of[...r.dictionaryBatches()].slice().reverse())FileBlock.encode(o,O);const f=o.endVector();return Footer.startFooter(o),Footer.addSchema(o,l),Footer.addVersion(o,MetadataVersion.V5),Footer.addRecordBatches(o,p),Footer.addDictionaries(o,f),Footer.finishFooterBuffer(o,Footer.endFooter(o)),o.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(r,o=MetadataVersion.V5,l,p){this.schema=r,this.version=o,l&&(this._recordBatches=l),p&&(this._dictionaryBatches=p)}*recordBatches(){for(let r,o=-1,l=this.numRecordBatches;++o<l;)(r=this.getRecordBatch(o))&&(yield r)}*dictionaryBatches(){for(let r,o=-1,l=this.numDictionaries;++o<l;)(r=this.getDictionaryBatch(o))&&(yield r)}getRecordBatch(r){return r>=0&&r<this.numRecordBatches&&this._recordBatches[r]||null}getDictionaryBatch(r){return r>=0&&r<this.numDictionaries&&this._dictionaryBatches[r]||null}}class OffHeapFooter extends Footer_{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(r,o){super(r,o.version()),this._footer=o}getRecordBatch(r){if(r>=0&&r<this.numRecordBatches){const o=this._footer.recordBatches(r);if(o)return FileBlock.decode(o)}return null}getDictionaryBatch(r){if(r>=0&&r<this.numDictionaries){const o=this._footer.dictionaries(r);if(o)return FileBlock.decode(o)}return null}}class FileBlock{static decode(r){return new FileBlock(r.metaDataLength(),r.bodyLength(),r.offset())}static encode(r,o){const{metaDataLength:l}=o,p=BigInt(o.offset),f=BigInt(o.bodyLength);return Block.createBlock(r,p,l,f)}constructor(r,o,l){this.metaDataLength=r,this.offset=bigIntToNumber(l),this.bodyLength=bigIntToNumber(o)}}const ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class ReadableInterop{tee(){return this._getDOMStream().tee()}pipe(r,o){return this._getNodeStream().pipe(r,o)}pipeTo(r,o){return this._getDOMStream().pipeTo(r,o)}pipeThrough(r,o){return this._getDOMStream().pipeThrough(r,o)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class AsyncQueue extends ReadableInterop{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(r=>this._closedPromiseResolve=r)}get closed(){return this._closedPromise}cancel(r){return __awaiter(this,void 0,void 0,function*(){yield this.return(r)})}write(r){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(r):this.resolvers.shift().resolve({done:!1,value:r}))}abort(r){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:r}:this.resolvers.shift().reject({done:!0,value:r}))}close(){if(this._closedPromiseResolve){const{resolvers:r}=this;for(;r.length>0;)r.shift().resolve(ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(r){return streamAdapters.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,r)}toNodeStream(r){return streamAdapters.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,r)}throw(r){return __awaiter(this,void 0,void 0,function*(){return yield this.abort(r),ITERATOR_DONE})}return(r){return __awaiter(this,void 0,void 0,function*(){return yield this.close(),ITERATOR_DONE})}read(r){return __awaiter(this,void 0,void 0,function*(){return(yield this.next(r,"read")).value})}peek(r){return __awaiter(this,void 0,void 0,function*(){return(yield this.next(r,"peek")).value})}next(...r){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((o,l)=>{this.resolvers.push({resolve:o,reject:l})}):Promise.resolve(ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class AsyncByteQueue extends AsyncQueue{write(r){if((r=toUint8Array(r)).byteLength>0)return super.write(r)}toString(r=!1){return r?decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(decodeUtf8)}toUint8Array(r=!1){return r?joinUint8Arrays(this._values)[0]:(()=>__awaiter(this,void 0,void 0,function*(){var o,l,p,f;const O=[];let _=0;try{for(var S=!0,v=__asyncValues(this),s;s=yield v.next(),o=s.done,!o;S=!0){f=s.value,S=!1;const d=f;O.push(d),_+=d.byteLength}}catch(d){l={error:d}}finally{try{!S&&!o&&(p=v.return)&&(yield p.call(v))}finally{if(l)throw l.error}}return joinUint8Arrays(O,_)[0]}))()}}class BinaryBuilder extends VariableWidthBuilder{constructor(r){super(r),this._values=new BufferBuilder(Uint8Array)}get byteLength(){let r=this._pendingLength+this.length*4;return this._offsets&&(r+=this._offsets.byteLength),this._values&&(r+=this._values.byteLength),this._nulls&&(r+=this._nulls.byteLength),r}setValue(r,o){return super.setValue(r,toUint8Array(o))}_flushPending(r,o){const l=this._offsets,p=this._values.reserve(o).buffer;let f=0;for(const[O,_]of r)if(_===void 0)l.set(O,0);else{const S=_.length;p.set(_,f),l.set(O,S),f+=S}}}class LargeBinaryBuilder extends VariableWidthBuilder{constructor(r){super(r),this._values=new BufferBuilder(Uint8Array)}get byteLength(){let r=this._pendingLength+this.length*4;return this._offsets&&(r+=this._offsets.byteLength),this._values&&(r+=this._values.byteLength),this._nulls&&(r+=this._nulls.byteLength),r}setValue(r,o){return super.setValue(r,toUint8Array(o))}_flushPending(r,o){const l=this._offsets,p=this._values.reserve(o).buffer;let f=0;for(const[O,_]of r)if(_===void 0)l.set(O,BigInt(0));else{const S=_.length;p.set(_,f),l.set(O,BigInt(S)),f+=S}}}class BoolBuilder extends Builder$2{constructor(r){super(r),this._values=new BitmapBufferBuilder}setValue(r,o){this._values.set(r,+o)}}class DateBuilder extends FixedWidthBuilder{}DateBuilder.prototype._setValue=setDate;class DateDayBuilder extends DateBuilder{}DateDayBuilder.prototype._setValue=setDateDay;class DateMillisecondBuilder extends DateBuilder{}DateMillisecondBuilder.prototype._setValue=setDateMillisecond;class DecimalBuilder extends FixedWidthBuilder{}DecimalBuilder.prototype._setValue=setDecimal;class DictionaryBuilder extends Builder$2{constructor({type:r,nullValues:o,dictionaryHashFunction:l}){super({type:new Dictionary(r.dictionary,r.indices,r.id,r.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=makeBuilder({type:this.type.indices,nullValues:o}),this.dictionary=makeBuilder({type:this.type.dictionary,nullValues:null}),typeof l=="function"&&(this.valueToKey=l)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(r){return this.indices.isValid(r)}setValid(r,o){const l=this.indices;return o=l.setValid(r,o),this.length=l.length,o}setValue(r,o){const l=this._keysToIndices,p=this.valueToKey(o);let f=l[p];return f===void 0&&(l[p]=f=this._dictionaryOffset+this.dictionary.append(o).length-1),this.indices.setValue(r,f)}flush(){const r=this.type,o=this._dictionary,l=this.dictionary.toVector(),p=this.indices.flush().clone(r);return p.dictionary=o?o.concat(l):l,this.finished||(this._dictionaryOffset+=l.length),this._dictionary=p.dictionary,this.clear(),p}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(r){return typeof r=="string"?r:`${r}`}}class FixedSizeBinaryBuilder extends FixedWidthBuilder{}FixedSizeBinaryBuilder.prototype._setValue=setFixedSizeBinary;class FixedSizeListBuilder extends Builder$2{setValue(r,o){const[l]=this.children,p=r*this.stride;for(let f=-1,O=o.length;++f<O;)l.set(p+f,o[f])}addChild(r,o="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const l=this.children.push(r);return this.type=new FixedSizeList(this.type.listSize,new Field$1(o,r.type,!0)),l}}class FloatBuilder extends FixedWidthBuilder{setValue(r,o){this._values.set(r,o)}}class Float16Builder extends FloatBuilder{setValue(r,o){super.setValue(r,float64ToUint16(o))}}class Float32Builder extends FloatBuilder{}class Float64Builder extends FloatBuilder{}class IntervalBuilder extends FixedWidthBuilder{}IntervalBuilder.prototype._setValue=setIntervalValue;class IntervalDayTimeBuilder extends IntervalBuilder{}IntervalDayTimeBuilder.prototype._setValue=setIntervalDayTime;class IntervalYearMonthBuilder extends IntervalBuilder{}IntervalYearMonthBuilder.prototype._setValue=setIntervalYearMonth;class DurationBuilder extends FixedWidthBuilder{}DurationBuilder.prototype._setValue=setDuration;class DurationSecondBuilder extends DurationBuilder{}DurationSecondBuilder.prototype._setValue=setDurationSecond;class DurationMillisecondBuilder extends DurationBuilder{}DurationMillisecondBuilder.prototype._setValue=setDurationMillisecond;class DurationMicrosecondBuilder extends DurationBuilder{}DurationMicrosecondBuilder.prototype._setValue=setDurationMicrosecond;class DurationNanosecondBuilder extends DurationBuilder{}DurationNanosecondBuilder.prototype._setValue=setDurationNanosecond;class IntBuilder extends FixedWidthBuilder{setValue(r,o){this._values.set(r,o)}}class Int8Builder extends IntBuilder{}class Int16Builder extends IntBuilder{}class Int32Builder extends IntBuilder{}class Int64Builder extends IntBuilder{}class Uint8Builder extends IntBuilder{}class Uint16Builder extends IntBuilder{}class Uint32Builder extends IntBuilder{}class Uint64Builder extends IntBuilder{}class ListBuilder extends VariableWidthBuilder{constructor(r){super(r),this._offsets=new OffsetsBufferBuilder(r.type)}addChild(r,o="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=r,this.type=new List(new Field$1(o,r.type,!0)),this.numChildren-1}_flushPending(r){const o=this._offsets,[l]=this.children;for(const[p,f]of r)if(typeof f>"u")o.set(p,0);else{const O=f,_=O.length,S=o.set(p,_).buffer[p];for(let v=-1;++v<_;)l.set(S+v,O[v])}}}class MapBuilder extends VariableWidthBuilder{set(r,o){return super.set(r,o)}setValue(r,o){const l=o instanceof Map?o:new Map(Object.entries(o)),p=this._pending||(this._pending=new Map),f=p.get(r);f&&(this._pendingLength-=f.size),this._pendingLength+=l.size,p.set(r,l)}addChild(r,o=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=r,this.type=new Map_(new Field$1(o,r.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(r){const o=this._offsets,[l]=this.children;for(const[p,f]of r)if(f===void 0)o.set(p,0);else{let{[p]:O,[p+1]:_}=o.set(p,f.size).buffer;for(const S of f.entries())if(l.set(O,S),++O>=_)break}}}class NullBuilder extends Builder$2{setValue(r,o){}setValid(r,o){return this.length=Math.max(r+1,this.length),o}}class StructBuilder extends Builder$2{setValue(r,o){const{children:l,type:p}=this;switch(Array.isArray(o)||o.constructor){case!0:return p.children.forEach((f,O)=>l[O].set(r,o[O]));case Map:return p.children.forEach((f,O)=>l[O].set(r,o.get(f.name)));default:return p.children.forEach((f,O)=>l[O].set(r,o[f.name]))}}setValid(r,o){return super.setValid(r,o)||this.children.forEach(l=>l.setValid(r,o)),o}addChild(r,o=`${this.numChildren}`){const l=this.children.push(r);return this.type=new Struct([...this.type.children,new Field$1(o,r.type,!0)]),l}}class TimestampBuilder extends FixedWidthBuilder{}TimestampBuilder.prototype._setValue=setTimestamp;class TimestampSecondBuilder extends TimestampBuilder{}TimestampSecondBuilder.prototype._setValue=setTimestampSecond;class TimestampMillisecondBuilder extends TimestampBuilder{}TimestampMillisecondBuilder.prototype._setValue=setTimestampMillisecond;class TimestampMicrosecondBuilder extends TimestampBuilder{}TimestampMicrosecondBuilder.prototype._setValue=setTimestampMicrosecond;class TimestampNanosecondBuilder extends TimestampBuilder{}TimestampNanosecondBuilder.prototype._setValue=setTimestampNanosecond;class TimeBuilder extends FixedWidthBuilder{}TimeBuilder.prototype._setValue=setTime;class TimeSecondBuilder extends TimeBuilder{}TimeSecondBuilder.prototype._setValue=setTimeSecond;class TimeMillisecondBuilder extends TimeBuilder{}TimeMillisecondBuilder.prototype._setValue=setTimeMillisecond;class TimeMicrosecondBuilder extends TimeBuilder{}TimeMicrosecondBuilder.prototype._setValue=setTimeMicrosecond;class TimeNanosecondBuilder extends TimeBuilder{}TimeNanosecondBuilder.prototype._setValue=setTimeNanosecond;class UnionBuilder extends Builder$2{constructor(r){super(r),this._typeIds=new DataBufferBuilder(Int8Array,0,1),typeof r.valueToChildTypeId=="function"&&(this._valueToChildTypeId=r.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(r,o){return this.set(this.length,r,o)}set(r,o,l){return l===void 0&&(l=this._valueToChildTypeId(this,o,r)),this.setValue(r,o,l),this}setValue(r,o,l){this._typeIds.set(r,l);const p=this.type.typeIdToChildIndex[l],f=this.children[p];f==null||f.set(r,o)}addChild(r,o=`${this.children.length}`){const l=this.children.push(r),{type:{children:p,mode:f,typeIds:O}}=this,_=[...p,new Field$1(o,r.type)];return this.type=new Union_(f,[...O,l],_),l}_valueToChildTypeId(r,o,l){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class SparseUnionBuilder extends UnionBuilder{}class DenseUnionBuilder extends UnionBuilder{constructor(r){super(r),this._offsets=new DataBufferBuilder(Int32Array)}setValue(r,o,l){const p=this._typeIds.set(r,l).buffer[r],f=this.getChildAt(this.type.typeIdToChildIndex[p]),O=this._offsets.set(r,f.length).buffer[r];f==null||f.set(O,o)}}class Utf8Builder extends VariableWidthBuilder{constructor(r){super(r),this._values=new BufferBuilder(Uint8Array)}get byteLength(){let r=this._pendingLength+this.length*4;return this._offsets&&(r+=this._offsets.byteLength),this._values&&(r+=this._values.byteLength),this._nulls&&(r+=this._nulls.byteLength),r}setValue(r,o){return super.setValue(r,encodeUtf8(o))}_flushPending(r,o){}}Utf8Builder.prototype._flushPending=BinaryBuilder.prototype._flushPending;class LargeUtf8Builder extends VariableWidthBuilder{constructor(r){super(r),this._values=new BufferBuilder(Uint8Array)}get byteLength(){let r=this._pendingLength+this.length*4;return this._offsets&&(r+=this._offsets.byteLength),this._values&&(r+=this._values.byteLength),this._nulls&&(r+=this._nulls.byteLength),r}setValue(r,o){return super.setValue(r,encodeUtf8(o))}_flushPending(r,o){}}LargeUtf8Builder.prototype._flushPending=LargeBinaryBuilder.prototype._flushPending;class GetBuilderCtor extends Visitor{visitNull(){return NullBuilder}visitBool(){return BoolBuilder}visitInt(){return IntBuilder}visitInt8(){return Int8Builder}visitInt16(){return Int16Builder}visitInt32(){return Int32Builder}visitInt64(){return Int64Builder}visitUint8(){return Uint8Builder}visitUint16(){return Uint16Builder}visitUint32(){return Uint32Builder}visitUint64(){return Uint64Builder}visitFloat(){return FloatBuilder}visitFloat16(){return Float16Builder}visitFloat32(){return Float32Builder}visitFloat64(){return Float64Builder}visitUtf8(){return Utf8Builder}visitLargeUtf8(){return LargeUtf8Builder}visitBinary(){return BinaryBuilder}visitLargeBinary(){return LargeBinaryBuilder}visitFixedSizeBinary(){return FixedSizeBinaryBuilder}visitDate(){return DateBuilder}visitDateDay(){return DateDayBuilder}visitDateMillisecond(){return DateMillisecondBuilder}visitTimestamp(){return TimestampBuilder}visitTimestampSecond(){return TimestampSecondBuilder}visitTimestampMillisecond(){return TimestampMillisecondBuilder}visitTimestampMicrosecond(){return TimestampMicrosecondBuilder}visitTimestampNanosecond(){return TimestampNanosecondBuilder}visitTime(){return TimeBuilder}visitTimeSecond(){return TimeSecondBuilder}visitTimeMillisecond(){return TimeMillisecondBuilder}visitTimeMicrosecond(){return TimeMicrosecondBuilder}visitTimeNanosecond(){return TimeNanosecondBuilder}visitDecimal(){return DecimalBuilder}visitList(){return ListBuilder}visitStruct(){return StructBuilder}visitUnion(){return UnionBuilder}visitDenseUnion(){return DenseUnionBuilder}visitSparseUnion(){return SparseUnionBuilder}visitDictionary(){return DictionaryBuilder}visitInterval(){return IntervalBuilder}visitIntervalDayTime(){return IntervalDayTimeBuilder}visitIntervalYearMonth(){return IntervalYearMonthBuilder}visitDuration(){return DurationBuilder}visitDurationSecond(){return DurationSecondBuilder}visitDurationMillisecond(){return DurationMillisecondBuilder}visitDurationMicrosecond(){return DurationMicrosecondBuilder}visitDurationNanosecond(){return DurationNanosecondBuilder}visitFixedSizeList(){return FixedSizeListBuilder}visitMap(){return MapBuilder}}const instance$2=new GetBuilderCtor;class TypeComparator extends Visitor{compareSchemas(r,o){return r===o||o instanceof r.constructor&&this.compareManyFields(r.fields,o.fields)}compareManyFields(r,o){return r===o||Array.isArray(r)&&Array.isArray(o)&&r.length===o.length&&r.every((l,p)=>this.compareFields(l,o[p]))}compareFields(r,o){return r===o||o instanceof r.constructor&&r.name===o.name&&r.nullable===o.nullable&&this.visit(r.type,o.type)}}function compareConstructor(e,r){return r instanceof e.constructor}function compareAny(e,r){return e===r||compareConstructor(e,r)}function compareInt(e,r){return e===r||compareConstructor(e,r)&&e.bitWidth===r.bitWidth&&e.isSigned===r.isSigned}function compareFloat(e,r){return e===r||compareConstructor(e,r)&&e.precision===r.precision}function compareFixedSizeBinary(e,r){return e===r||compareConstructor(e,r)&&e.byteWidth===r.byteWidth}function compareDate(e,r){return e===r||compareConstructor(e,r)&&e.unit===r.unit}function compareTimestamp(e,r){return e===r||compareConstructor(e,r)&&e.unit===r.unit&&e.timezone===r.timezone}function compareTime(e,r){return e===r||compareConstructor(e,r)&&e.unit===r.unit&&e.bitWidth===r.bitWidth}function compareList(e,r){return e===r||compareConstructor(e,r)&&e.children.length===r.children.length&&instance$1.compareManyFields(e.children,r.children)}function compareStruct(e,r){return e===r||compareConstructor(e,r)&&e.children.length===r.children.length&&instance$1.compareManyFields(e.children,r.children)}function compareUnion(e,r){return e===r||compareConstructor(e,r)&&e.mode===r.mode&&e.typeIds.every((o,l)=>o===r.typeIds[l])&&instance$1.compareManyFields(e.children,r.children)}function compareDictionary(e,r){return e===r||compareConstructor(e,r)&&e.id===r.id&&e.isOrdered===r.isOrdered&&instance$1.visit(e.indices,r.indices)&&instance$1.visit(e.dictionary,r.dictionary)}function compareInterval(e,r){return e===r||compareConstructor(e,r)&&e.unit===r.unit}function compareDuration(e,r){return e===r||compareConstructor(e,r)&&e.unit===r.unit}function compareFixedSizeList(e,r){return e===r||compareConstructor(e,r)&&e.listSize===r.listSize&&e.children.length===r.children.length&&instance$1.compareManyFields(e.children,r.children)}function compareMap(e,r){return e===r||compareConstructor(e,r)&&e.keysSorted===r.keysSorted&&e.children.length===r.children.length&&instance$1.compareManyFields(e.children,r.children)}TypeComparator.prototype.visitNull=compareAny;TypeComparator.prototype.visitBool=compareAny;TypeComparator.prototype.visitInt=compareInt;TypeComparator.prototype.visitInt8=compareInt;TypeComparator.prototype.visitInt16=compareInt;TypeComparator.prototype.visitInt32=compareInt;TypeComparator.prototype.visitInt64=compareInt;TypeComparator.prototype.visitUint8=compareInt;TypeComparator.prototype.visitUint16=compareInt;TypeComparator.prototype.visitUint32=compareInt;TypeComparator.prototype.visitUint64=compareInt;TypeComparator.prototype.visitFloat=compareFloat;TypeComparator.prototype.visitFloat16=compareFloat;TypeComparator.prototype.visitFloat32=compareFloat;TypeComparator.prototype.visitFloat64=compareFloat;TypeComparator.prototype.visitUtf8=compareAny;TypeComparator.prototype.visitLargeUtf8=compareAny;TypeComparator.prototype.visitBinary=compareAny;TypeComparator.prototype.visitLargeBinary=compareAny;TypeComparator.prototype.visitFixedSizeBinary=compareFixedSizeBinary;TypeComparator.prototype.visitDate=compareDate;TypeComparator.prototype.visitDateDay=compareDate;TypeComparator.prototype.visitDateMillisecond=compareDate;TypeComparator.prototype.visitTimestamp=compareTimestamp;TypeComparator.prototype.visitTimestampSecond=compareTimestamp;TypeComparator.prototype.visitTimestampMillisecond=compareTimestamp;TypeComparator.prototype.visitTimestampMicrosecond=compareTimestamp;TypeComparator.prototype.visitTimestampNanosecond=compareTimestamp;TypeComparator.prototype.visitTime=compareTime;TypeComparator.prototype.visitTimeSecond=compareTime;TypeComparator.prototype.visitTimeMillisecond=compareTime;TypeComparator.prototype.visitTimeMicrosecond=compareTime;TypeComparator.prototype.visitTimeNanosecond=compareTime;TypeComparator.prototype.visitDecimal=compareAny;TypeComparator.prototype.visitList=compareList;TypeComparator.prototype.visitStruct=compareStruct;TypeComparator.prototype.visitUnion=compareUnion;TypeComparator.prototype.visitDenseUnion=compareUnion;TypeComparator.prototype.visitSparseUnion=compareUnion;TypeComparator.prototype.visitDictionary=compareDictionary;TypeComparator.prototype.visitInterval=compareInterval;TypeComparator.prototype.visitIntervalDayTime=compareInterval;TypeComparator.prototype.visitIntervalYearMonth=compareInterval;TypeComparator.prototype.visitDuration=compareDuration;TypeComparator.prototype.visitDurationSecond=compareDuration;TypeComparator.prototype.visitDurationMillisecond=compareDuration;TypeComparator.prototype.visitDurationMicrosecond=compareDuration;TypeComparator.prototype.visitDurationNanosecond=compareDuration;TypeComparator.prototype.visitFixedSizeList=compareFixedSizeList;TypeComparator.prototype.visitMap=compareMap;const instance$1=new TypeComparator;function compareSchemas(e,r){return instance$1.compareSchemas(e,r)}function makeBuilder(e){const r=e.type,o=new(instance$2.getVisitFn(r)())(e);if(r.children&&r.children.length>0){const l=e.children||[],p={nullValues:e.nullValues},f=Array.isArray(l)?(O,_)=>l[_]||p:({name:O})=>l[O]||p;for(const[O,_]of r.children.entries()){const{type:S}=_,v=f(_,O);o.children.push(makeBuilder(Object.assign(Object.assign({},v),{type:S})))}}return o}function distributeVectorsIntoRecordBatches(e,r){return uniformlyDistributeChunksAcrossRecordBatches(e,r.map(o=>o.data.concat()))}function uniformlyDistributeChunksAcrossRecordBatches(e,r){const o=[...e.fields],l=[],p={numBatches:r.reduce((d,g)=>Math.max(d,g.length),0)};let f=0,O=0,_=-1;const S=r.length;let v,s=[];for(;p.numBatches-- >0;){for(O=Number.POSITIVE_INFINITY,_=-1;++_<S;)s[_]=v=r[_].shift(),O=Math.min(O,v?v.length:O);Number.isFinite(O)&&(s=distributeChildren(o,O,s,r,p),O>0&&(l[f++]=makeData({type:new Struct(o),length:O,nullCount:0,children:s.slice()})))}return[e=e.assign(o),l.map(d=>new RecordBatch$1(e,d))]}function distributeChildren(e,r,o,l,p){var f;const O=(r+63&-64)>>3;for(let _=-1,S=l.length;++_<S;){const v=o[_],s=v==null?void 0:v.length;if(s>=r)s===r?o[_]=v:(o[_]=v.slice(0,r),p.numBatches=Math.max(p.numBatches,l[_].unshift(v.slice(r,s-r))));else{const d=e[_];e[_]=d.clone({nullable:!0}),o[_]=(f=v==null?void 0:v._changeLengthAndBackfillNullBitmap(r))!==null&&f!==void 0?f:makeData({type:d.type,length:r,nullCount:r,nullBitmap:new Uint8Array(O)})}}return o}var _a$1;class Table{constructor(...r){var o,l;if(r.length===0)return this.batches=[],this.schema=new Schema([]),this._offsets=[0],this;let p,f;r[0]instanceof Schema&&(p=r.shift()),r.at(-1)instanceof Uint32Array&&(f=r.pop());const O=S=>{if(S){if(S instanceof RecordBatch$1)return[S];if(S instanceof Table)return S.batches;if(S instanceof Data){if(S.type instanceof Struct)return[new RecordBatch$1(new Schema(S.type.children),S)]}else{if(Array.isArray(S))return S.flatMap(v=>O(v));if(typeof S[Symbol.iterator]=="function")return[...S].flatMap(v=>O(v));if(typeof S=="object"){const v=Object.keys(S),s=v.map(P=>new Vector([S[P]])),d=p??new Schema(v.map((P,R)=>new Field$1(String(P),s[R].type,s[R].nullable))),[,g]=distributeVectorsIntoRecordBatches(d,s);return g.length===0?[new RecordBatch$1(S)]:g}}}return[]},_=r.flatMap(S=>O(S));if(p=(l=p??((o=_[0])===null||o===void 0?void 0:o.schema))!==null&&l!==void 0?l:new Schema([]),!(p instanceof Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const S of _){if(!(S instanceof RecordBatch$1))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!compareSchemas(p,S.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=p,this.batches=_,this._offsets=f??computeChunkOffsets(this.data)}get data(){return this.batches.map(({data:r})=>r)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((r,o)=>r+o.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=computeChunkNullCounts(this.data)),this._nullCount}isValid(r){return!1}get(r){return null}set(r,o){}indexOf(r,o){return-1}[Symbol.iterator](){return this.batches.length>0?instance$3.visit(new Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...r){const o=this.schema,l=this.data.concat(r.flatMap(({data:p})=>p));return new Table(o,l.map(p=>new RecordBatch$1(o,p)))}slice(r,o){const l=this.schema;[r,o]=clampRange$1({length:this.numRows},r,o);const p=sliceChunks(this.data,this._offsets,r,o);return new Table(l,p.map(f=>new RecordBatch$1(l,f)))}getChild(r){return this.getChildAt(this.schema.fields.findIndex(o=>o.name===r))}getChildAt(r){if(r>-1&&r<this.schema.fields.length){const o=this.data.map(l=>l.children[r]);if(o.length===0){const{type:l}=this.schema.fields[r],p=makeData({type:l,length:0,nullCount:0});o.push(p._changeLengthAndBackfillNullBitmap(this.numRows))}return new Vector(o)}return null}setChild(r,o){var l;return this.setChildAt((l=this.schema.fields)===null||l===void 0?void 0:l.findIndex(p=>p.name===r),o)}setChildAt(r,o){let l=this.schema,p=[...this.batches];if(r>-1&&r<this.numCols){o||(o=new Vector([makeData({type:new Null,length:this.numRows})]));const f=l.fields.slice(),O=f[r].clone({type:o.type}),_=this.schema.fields.map((S,v)=>this.getChildAt(v));[f[r],_[r]]=[O,o],[l,p]=distributeVectorsIntoRecordBatches(l,_)}return new Table(l,p)}select(r){const o=this.schema.fields.reduce((l,p,f)=>l.set(p.name,f),new Map);return this.selectAt(r.map(l=>o.get(l)).filter(l=>l>-1))}selectAt(r){const o=this.schema.selectAt(r),l=this.batches.map(p=>p.selectAt(r));return new Table(o,l)}assign(r){const o=this.schema.fields,[l,p]=r.schema.fields.reduce((_,S,v)=>{const[s,d]=_,g=o.findIndex(P=>P.name===S.name);return~g?d[g]=v:s.push(v),_},[[],[]]),f=this.schema.assign(r.schema),O=[...o.map((_,S)=>[S,p[S]]).map(([_,S])=>S===void 0?this.getChildAt(_):r.getChildAt(S)),...l.map(_=>r.getChildAt(_))].filter(Boolean);return new Table(...distributeVectorsIntoRecordBatches(f,O))}}_a$1=Symbol.toStringTag;Table[_a$1]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=wrapChunkedCall1(isChunkedValid),e.get=wrapChunkedCall1(instance$5.getVisitFn(Type.Struct)),e.set=wrapChunkedCall2(instance$6.getVisitFn(Type.Struct)),e.indexOf=wrapChunkedIndexOf(instance$4.getVisitFn(Type.Struct)),"Table"))(Table.prototype);var _a;let RecordBatch$1=class ut{constructor(...r){switch(r.length){case 2:{if([this.schema]=r,!(this.schema instanceof Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=makeData({nullCount:0,type:new Struct(this.schema.fields),children:this.schema.fields.map(o=>makeData({type:o.type,nullCount:0}))})]=r,!(this.data instanceof Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=ensureSameLengthData(this.schema,this.data.children);break}case 1:{const[o]=r,{fields:l,children:p,length:f}=Object.keys(o).reduce((S,v,s)=>(S.children[s]=o[v],S.length=Math.max(S.length,o[v].length),S.fields[s]=Field$1.new({name:v,type:o[v].type,nullable:!0}),S),{length:0,fields:new Array,children:new Array}),O=new Schema(l),_=makeData({type:new Struct(l),length:f,children:p,nullCount:0});[this.schema,this.data]=ensureSameLengthData(O,_.children,f);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=collectDictionaries(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(r){return this.data.getValid(r)}get(r){return instance$5.visit(this.data,r)}set(r,o){return instance$6.visit(this.data,r,o)}indexOf(r,o){return instance$4.visit(this.data,r,o)}[Symbol.iterator](){return instance$3.visit(new Vector([this.data]))}toArray(){return[...this]}concat(...r){return new Table(this.schema,[this,...r])}slice(r,o){const[l]=new Vector([this.data]).slice(r,o).data;return new ut(this.schema,l)}getChild(r){var o;return this.getChildAt((o=this.schema.fields)===null||o===void 0?void 0:o.findIndex(l=>l.name===r))}getChildAt(r){return r>-1&&r<this.schema.fields.length?new Vector([this.data.children[r]]):null}setChild(r,o){var l;return this.setChildAt((l=this.schema.fields)===null||l===void 0?void 0:l.findIndex(p=>p.name===r),o)}setChildAt(r,o){let l=this.schema,p=this.data;if(r>-1&&r<this.numCols){o||(o=new Vector([makeData({type:new Null,length:this.numRows})]));const f=l.fields.slice(),O=p.children.slice(),_=f[r].clone({type:o.type});[f[r],O[r]]=[_,o.data[0]],l=new Schema(f,new Map(this.schema.metadata)),p=makeData({type:new Struct(f),children:O})}return new ut(l,p)}select(r){const o=this.schema.select(r),l=new Struct(o.fields),p=[];for(const f of r){const O=this.schema.fields.findIndex(_=>_.name===f);~O&&(p[O]=this.data.children[O])}return new ut(o,makeData({type:l,length:this.numRows,children:p}))}selectAt(r){const o=this.schema.selectAt(r),l=r.map(f=>this.data.children[f]).filter(Boolean),p=makeData({type:new Struct(o.fields),length:this.numRows,children:l});return new ut(o,p)}};_a=Symbol.toStringTag;RecordBatch$1[_a]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(RecordBatch$1.prototype);function ensureSameLengthData(e,r,o=r.reduce((l,p)=>Math.max(l,p.length),0)){var l;const p=[...e.fields],f=[...r],O=(o+63&-64)>>3;for(const[_,S]of e.fields.entries()){const v=r[_];(!v||v.length!==o)&&(p[_]=S.clone({nullable:!0}),f[_]=(l=v==null?void 0:v._changeLengthAndBackfillNullBitmap(o))!==null&&l!==void 0?l:makeData({type:S.type,length:o,nullCount:o,nullBitmap:new Uint8Array(O)}))}return[e.assign(p),makeData({type:new Struct(p),length:o,children:f})]}function collectDictionaries(e,r,o=new Map){var l,p;if(((l=e==null?void 0:e.length)!==null&&l!==void 0?l:0)>0&&(e==null?void 0:e.length)===(r==null?void 0:r.length))for(let f=-1,O=e.length;++f<O;){const{type:_}=e[f],S=r[f];for(const v of[S,...((p=S==null?void 0:S.dictionary)===null||p===void 0?void 0:p.data)||[]])collectDictionaries(_.children,v==null?void 0:v.children,o);if(DataType.isDictionary(_)){const{id:v}=_;if(!o.has(v))S!=null&&S.dictionary&&o.set(v,S.dictionary);else if(o.get(v)!==S.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return o}class _InternalEmptyPlaceholderRecordBatch extends RecordBatch$1{constructor(r){const o=r.fields.map(p=>makeData({type:p.type})),l=makeData({type:new Struct(r.fields),nullCount:0,children:o});super(r,l)}}let Message$1=class ze{constructor(){this.bb=null,this.bb_pos=0}__init(r,o){return this.bb_pos=r,this.bb=o,this}static getRootAsMessage(r,o){return(o||new ze).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsMessage(r,o){return r.setPosition(r.position()+SIZE_PREFIX_LENGTH),(o||new ze).__init(r.readInt32(r.position())+r.position(),r)}version(){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt16(this.bb_pos+r):MetadataVersion.V1}headerType(){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readUint8(this.bb_pos+r):MessageHeader.NONE}header(r){const o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__union(r,this.bb_pos+o):null}bodyLength(){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt64(this.bb_pos+r):BigInt("0")}customMetadata(r,o){const l=this.bb.__offset(this.bb_pos,12);return l?(o||new KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+r*4),this.bb):null}customMetadataLength(){const r=this.bb.__offset(this.bb_pos,12);return r?this.bb.__vector_len(this.bb_pos+r):0}static startMessage(r){r.startObject(5)}static addVersion(r,o){r.addFieldInt16(0,o,MetadataVersion.V1)}static addHeaderType(r,o){r.addFieldInt8(1,o,MessageHeader.NONE)}static addHeader(r,o){r.addFieldOffset(2,o,0)}static addBodyLength(r,o){r.addFieldInt64(3,o,BigInt("0"))}static addCustomMetadata(r,o){r.addFieldOffset(4,o,0)}static createCustomMetadataVector(r,o){r.startVector(4,o.length,4);for(let l=o.length-1;l>=0;l--)r.addOffset(o[l]);return r.endVector()}static startCustomMetadataVector(r,o){r.startVector(4,o,4)}static endMessage(r){return r.endObject()}static finishMessageBuffer(r,o){r.finish(o)}static finishSizePrefixedMessageBuffer(r,o){r.finish(o,void 0,!0)}static createMessage(r,o,l,p,f,O){return ze.startMessage(r),ze.addVersion(r,o),ze.addHeaderType(r,l),ze.addHeader(r,p),ze.addBodyLength(r,f),ze.addCustomMetadata(r,O),ze.endMessage(r)}};class TypeAssembler extends Visitor{visit(r,o){return r==null||o==null?void 0:super.visit(r,o)}visitNull(r,o){return Null$1.startNull(o),Null$1.endNull(o)}visitInt(r,o){return Int.startInt(o),Int.addBitWidth(o,r.bitWidth),Int.addIsSigned(o,r.isSigned),Int.endInt(o)}visitFloat(r,o){return FloatingPoint.startFloatingPoint(o),FloatingPoint.addPrecision(o,r.precision),FloatingPoint.endFloatingPoint(o)}visitBinary(r,o){return Binary$1.startBinary(o),Binary$1.endBinary(o)}visitLargeBinary(r,o){return LargeBinary$1.startLargeBinary(o),LargeBinary$1.endLargeBinary(o)}visitBool(r,o){return Bool$1.startBool(o),Bool$1.endBool(o)}visitUtf8(r,o){return Utf8$1.startUtf8(o),Utf8$1.endUtf8(o)}visitLargeUtf8(r,o){return LargeUtf8$1.startLargeUtf8(o),LargeUtf8$1.endLargeUtf8(o)}visitDecimal(r,o){return Decimal$1.startDecimal(o),Decimal$1.addScale(o,r.scale),Decimal$1.addPrecision(o,r.precision),Decimal$1.addBitWidth(o,r.bitWidth),Decimal$1.endDecimal(o)}visitDate(r,o){return Date$1.startDate(o),Date$1.addUnit(o,r.unit),Date$1.endDate(o)}visitTime(r,o){return Time$1.startTime(o),Time$1.addUnit(o,r.unit),Time$1.addBitWidth(o,r.bitWidth),Time$1.endTime(o)}visitTimestamp(r,o){const l=r.timezone&&o.createString(r.timezone)||void 0;return Timestamp.startTimestamp(o),Timestamp.addUnit(o,r.unit),l!==void 0&&Timestamp.addTimezone(o,l),Timestamp.endTimestamp(o)}visitInterval(r,o){return Interval.startInterval(o),Interval.addUnit(o,r.unit),Interval.endInterval(o)}visitDuration(r,o){return Duration$1.startDuration(o),Duration$1.addUnit(o,r.unit),Duration$1.endDuration(o)}visitList(r,o){return List$1.startList(o),List$1.endList(o)}visitStruct(r,o){return Struct_.startStruct_(o),Struct_.endStruct_(o)}visitUnion(r,o){Union$1.startTypeIdsVector(o,r.typeIds.length);const l=Union$1.createTypeIdsVector(o,r.typeIds);return Union$1.startUnion(o),Union$1.addMode(o,r.mode),Union$1.addTypeIds(o,l),Union$1.endUnion(o)}visitDictionary(r,o){const l=this.visit(r.indices,o);return DictionaryEncoding.startDictionaryEncoding(o),DictionaryEncoding.addId(o,BigInt(r.id)),DictionaryEncoding.addIsOrdered(o,r.isOrdered),l!==void 0&&DictionaryEncoding.addIndexType(o,l),DictionaryEncoding.endDictionaryEncoding(o)}visitFixedSizeBinary(r,o){return FixedSizeBinary$1.startFixedSizeBinary(o),FixedSizeBinary$1.addByteWidth(o,r.byteWidth),FixedSizeBinary$1.endFixedSizeBinary(o)}visitFixedSizeList(r,o){return FixedSizeList$1.startFixedSizeList(o),FixedSizeList$1.addListSize(o,r.listSize),FixedSizeList$1.endFixedSizeList(o)}visitMap(r,o){return Map$1.startMap(o),Map$1.addKeysSorted(o,r.keysSorted),Map$1.endMap(o)}}const instance=new TypeAssembler;function schemaFromJSON(e,r=new Map){return new Schema(schemaFieldsFromJSON(e,r),customMetadataFromJSON(e.metadata),r)}function recordBatchFromJSON(e){return new RecordBatch(e.count,fieldNodesFromJSON(e.columns),buffersFromJSON(e.columns))}function dictionaryBatchFromJSON(e){return new DictionaryBatch(recordBatchFromJSON(e.data),e.id,e.isDelta)}function schemaFieldsFromJSON(e,r){return(e.fields||[]).filter(Boolean).map(o=>Field$1.fromJSON(o,r))}function fieldChildrenFromJSON(e,r){return(e.children||[]).filter(Boolean).map(o=>Field$1.fromJSON(o,r))}function fieldNodesFromJSON(e){return(e||[]).reduce((r,o)=>[...r,new FieldNode(o.count,nullCountFromJSON(o.VALIDITY)),...fieldNodesFromJSON(o.children)],[])}function buffersFromJSON(e,r=[]){for(let o=-1,l=(e||[]).length;++o<l;){const p=e[o];p.VALIDITY&&r.push(new BufferRegion(r.length,p.VALIDITY.length)),p.TYPE_ID&&r.push(new BufferRegion(r.length,p.TYPE_ID.length)),p.OFFSET&&r.push(new BufferRegion(r.length,p.OFFSET.length)),p.DATA&&r.push(new BufferRegion(r.length,p.DATA.length)),r=buffersFromJSON(p.children,r)}return r}function nullCountFromJSON(e){return(e||[]).reduce((r,o)=>r+ +(o===0),0)}function fieldFromJSON(e,r){let o,l,p,f,O,_;return!r||!(f=e.dictionary)?(O=typeFromJSON(e,fieldChildrenFromJSON(e,r)),p=new Field$1(e.name,O,e.nullable,customMetadataFromJSON(e.metadata))):r.has(o=f.id)?(l=(l=f.indexType)?indexTypeFromJSON(l):new Int32,_=new Dictionary(r.get(o),l,o,f.isOrdered),p=new Field$1(e.name,_,e.nullable,customMetadataFromJSON(e.metadata))):(l=(l=f.indexType)?indexTypeFromJSON(l):new Int32,r.set(o,O=typeFromJSON(e,fieldChildrenFromJSON(e,r))),_=new Dictionary(O,l,o,f.isOrdered),p=new Field$1(e.name,_,e.nullable,customMetadataFromJSON(e.metadata))),p||null}function customMetadataFromJSON(e=[]){return new Map(e.map(({key:r,value:o})=>[r,o]))}function indexTypeFromJSON(e){return new Int_(e.isSigned,e.bitWidth)}function typeFromJSON(e,r){const o=e.type.name;switch(o){case"NONE":return new Null;case"null":return new Null;case"binary":return new Binary;case"largebinary":return new LargeBinary;case"utf8":return new Utf8;case"largeutf8":return new LargeUtf8;case"bool":return new Bool;case"list":return new List((r||[])[0]);case"struct":return new Struct(r||[]);case"struct_":return new Struct(r||[])}switch(o){case"int":{const l=e.type;return new Int_(l.isSigned,l.bitWidth)}case"floatingpoint":{const l=e.type;return new Float(Precision[l.precision])}case"decimal":{const l=e.type;return new Decimal(l.scale,l.precision,l.bitWidth)}case"date":{const l=e.type;return new Date_(DateUnit[l.unit])}case"time":{const l=e.type;return new Time_(TimeUnit$1[l.unit],l.bitWidth)}case"timestamp":{const l=e.type;return new Timestamp_(TimeUnit$1[l.unit],l.timezone)}case"interval":{const l=e.type;return new Interval_(IntervalUnit[l.unit])}case"duration":{const l=e.type;return new Duration(TimeUnit$1[l.unit])}case"union":{const l=e.type,[p,...f]=(l.mode+"").toLowerCase(),O=p.toUpperCase()+f.join("");return new Union_(UnionMode[O],l.typeIds||[],r||[])}case"fixedsizebinary":{const l=e.type;return new FixedSizeBinary(l.byteWidth)}case"fixedsizelist":{const l=e.type;return new FixedSizeList(l.listSize,(r||[])[0])}case"map":{const l=e.type;return new Map_((r||[])[0],l.keysSorted)}}throw new Error(`Unrecognized type: "${o}"`)}var Builder=Builder$3,ByteBuffer=ByteBuffer$2;class Message{static fromJSON(r,o){const l=new Message(0,MetadataVersion.V5,o);return l._createHeader=messageHeaderFromJSON(r,o),l}static decode(r){r=new ByteBuffer(toUint8Array(r));const o=Message$1.getRootAsMessage(r),l=o.bodyLength(),p=o.version(),f=o.headerType(),O=new Message(l,p,f);return O._createHeader=decodeMessageHeader(o,f),O}static encode(r){const o=new Builder;let l=-1;return r.isSchema()?l=Schema.encode(o,r.header()):r.isRecordBatch()?l=RecordBatch.encode(o,r.header()):r.isDictionaryBatch()&&(l=DictionaryBatch.encode(o,r.header())),Message$1.startMessage(o),Message$1.addVersion(o,MetadataVersion.V5),Message$1.addHeader(o,l),Message$1.addHeaderType(o,r.headerType),Message$1.addBodyLength(o,BigInt(r.bodyLength)),Message$1.finishMessageBuffer(o,Message$1.endMessage(o)),o.asUint8Array()}static from(r,o=0){if(r instanceof Schema)return new Message(0,MetadataVersion.V5,MessageHeader.Schema,r);if(r instanceof RecordBatch)return new Message(o,MetadataVersion.V5,MessageHeader.RecordBatch,r);if(r instanceof DictionaryBatch)return new Message(o,MetadataVersion.V5,MessageHeader.DictionaryBatch,r);throw new Error(`Unrecognized Message header: ${r}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===MessageHeader.Schema}isRecordBatch(){return this.headerType===MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===MessageHeader.DictionaryBatch}constructor(r,o,l,p){this._version=o,this._headerType=l,this.body=new Uint8Array(0),p&&(this._createHeader=()=>p),this._bodyLength=bigIntToNumber(r)}}class RecordBatch{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(r,o,l){this._nodes=o,this._buffers=l,this._length=bigIntToNumber(r)}}class DictionaryBatch{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(r,o,l=!1){this._data=r,this._isDelta=l,this._id=bigIntToNumber(o)}}class BufferRegion{constructor(r,o){this.offset=bigIntToNumber(r),this.length=bigIntToNumber(o)}}class FieldNode{constructor(r,o){this.length=bigIntToNumber(r),this.nullCount=bigIntToNumber(o)}}function messageHeaderFromJSON(e,r){return()=>{switch(r){case MessageHeader.Schema:return Schema.fromJSON(e);case MessageHeader.RecordBatch:return RecordBatch.fromJSON(e);case MessageHeader.DictionaryBatch:return DictionaryBatch.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${MessageHeader[r]}, type: ${r} }`)}}function decodeMessageHeader(e,r){return()=>{switch(r){case MessageHeader.Schema:return Schema.decode(e.header(new Schema$1),new Map,e.version());case MessageHeader.RecordBatch:return RecordBatch.decode(e.header(new RecordBatch$2),e.version());case MessageHeader.DictionaryBatch:return DictionaryBatch.decode(e.header(new DictionaryBatch$1),e.version())}throw new Error(`Unrecognized Message type: { name: ${MessageHeader[r]}, type: ${r} }`)}}Field$1.encode=encodeField;Field$1.decode=decodeField;Field$1.fromJSON=fieldFromJSON;Schema.encode=encodeSchema;Schema.decode=decodeSchema;Schema.fromJSON=schemaFromJSON;RecordBatch.encode=encodeRecordBatch;RecordBatch.decode=decodeRecordBatch;RecordBatch.fromJSON=recordBatchFromJSON;DictionaryBatch.encode=encodeDictionaryBatch;DictionaryBatch.decode=decodeDictionaryBatch;DictionaryBatch.fromJSON=dictionaryBatchFromJSON;FieldNode.encode=encodeFieldNode;FieldNode.decode=decodeFieldNode;BufferRegion.encode=encodeBufferRegion;BufferRegion.decode=decodeBufferRegion;function decodeSchema(e,r=new Map,o=MetadataVersion.V5){const l=decodeSchemaFields(e,r);return new Schema(l,decodeCustomMetadata(e),r,o)}function decodeRecordBatch(e,r=MetadataVersion.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new RecordBatch(e.length(),decodeFieldNodes(e),decodeBuffers(e,r))}function decodeDictionaryBatch(e,r=MetadataVersion.V5){return new DictionaryBatch(RecordBatch.decode(e.data(),r),e.id(),e.isDelta())}function decodeBufferRegion(e){return new BufferRegion(e.offset(),e.length())}function decodeFieldNode(e){return new FieldNode(e.length(),e.nullCount())}function decodeFieldNodes(e){const r=[];for(let o,l=-1,p=-1,f=e.nodesLength();++l<f;)(o=e.nodes(l))&&(r[++p]=FieldNode.decode(o));return r}function decodeBuffers(e,r){const o=[];for(let l,p=-1,f=-1,O=e.buffersLength();++p<O;)(l=e.buffers(p))&&(r<MetadataVersion.V4&&(l.bb_pos+=8*(p+1)),o[++f]=BufferRegion.decode(l));return o}function decodeSchemaFields(e,r){const o=[];for(let l,p=-1,f=-1,O=e.fieldsLength();++p<O;)(l=e.fields(p))&&(o[++f]=Field$1.decode(l,r));return o}function decodeFieldChildren(e,r){const o=[];for(let l,p=-1,f=-1,O=e.childrenLength();++p<O;)(l=e.children(p))&&(o[++f]=Field$1.decode(l,r));return o}function decodeField(e,r){let o,l,p,f,O,_;return!r||!(_=e.dictionary())?(p=decodeFieldType(e,decodeFieldChildren(e,r)),l=new Field$1(e.name(),p,e.nullable(),decodeCustomMetadata(e))):r.has(o=bigIntToNumber(_.id()))?(f=(f=_.indexType())?decodeIndexType(f):new Int32,O=new Dictionary(r.get(o),f,o,_.isOrdered()),l=new Field$1(e.name(),O,e.nullable(),decodeCustomMetadata(e))):(f=(f=_.indexType())?decodeIndexType(f):new Int32,r.set(o,p=decodeFieldType(e,decodeFieldChildren(e,r))),O=new Dictionary(p,f,o,_.isOrdered()),l=new Field$1(e.name(),O,e.nullable(),decodeCustomMetadata(e))),l||null}function decodeCustomMetadata(e){const r=new Map;if(e)for(let o,l,p=-1,f=Math.trunc(e.customMetadataLength());++p<f;)(o=e.customMetadata(p))&&(l=o.key())!=null&&r.set(l,o.value());return r}function decodeIndexType(e){return new Int_(e.isSigned(),e.bitWidth())}function decodeFieldType(e,r){const o=e.typeType();switch(o){case Type$1.NONE:return new Null;case Type$1.Null:return new Null;case Type$1.Binary:return new Binary;case Type$1.LargeBinary:return new LargeBinary;case Type$1.Utf8:return new Utf8;case Type$1.LargeUtf8:return new LargeUtf8;case Type$1.Bool:return new Bool;case Type$1.List:return new List((r||[])[0]);case Type$1.Struct_:return new Struct(r||[])}switch(o){case Type$1.Int:{const l=e.type(new Int);return new Int_(l.isSigned(),l.bitWidth())}case Type$1.FloatingPoint:{const l=e.type(new FloatingPoint);return new Float(l.precision())}case Type$1.Decimal:{const l=e.type(new Decimal$1);return new Decimal(l.scale(),l.precision(),l.bitWidth())}case Type$1.Date:{const l=e.type(new Date$1);return new Date_(l.unit())}case Type$1.Time:{const l=e.type(new Time$1);return new Time_(l.unit(),l.bitWidth())}case Type$1.Timestamp:{const l=e.type(new Timestamp);return new Timestamp_(l.unit(),l.timezone())}case Type$1.Interval:{const l=e.type(new Interval);return new Interval_(l.unit())}case Type$1.Duration:{const l=e.type(new Duration$1);return new Duration(l.unit())}case Type$1.Union:{const l=e.type(new Union$1);return new Union_(l.mode(),l.typeIdsArray()||[],r||[])}case Type$1.FixedSizeBinary:{const l=e.type(new FixedSizeBinary$1);return new FixedSizeBinary(l.byteWidth())}case Type$1.FixedSizeList:{const l=e.type(new FixedSizeList$1);return new FixedSizeList(l.listSize(),(r||[])[0])}case Type$1.Map:{const l=e.type(new Map$1);return new Map_((r||[])[0],l.keysSorted())}}throw new Error(`Unrecognized type: "${Type$1[o]}" (${o})`)}function encodeSchema(e,r){const o=r.fields.map(f=>Field$1.encode(e,f));Schema$1.startFieldsVector(e,o.length);const l=Schema$1.createFieldsVector(e,o),p=r.metadata&&r.metadata.size>0?Schema$1.createCustomMetadataVector(e,[...r.metadata].map(([f,O])=>{const _=e.createString(`${f}`),S=e.createString(`${O}`);return KeyValue.startKeyValue(e),KeyValue.addKey(e,_),KeyValue.addValue(e,S),KeyValue.endKeyValue(e)})):-1;return Schema$1.startSchema(e),Schema$1.addFields(e,l),Schema$1.addEndianness(e,platformIsLittleEndian?Endianness.Little:Endianness.Big),p!==-1&&Schema$1.addCustomMetadata(e,p),Schema$1.endSchema(e)}function encodeField(e,r){let o=-1,l=-1,p=-1;const f=r.type;let O=r.typeId;DataType.isDictionary(f)?(O=f.dictionary.typeId,p=instance.visit(f,e),l=instance.visit(f.dictionary,e)):l=instance.visit(f,e);const _=(f.children||[]).map(s=>Field$1.encode(e,s)),S=Field$2.createChildrenVector(e,_),v=r.metadata&&r.metadata.size>0?Field$2.createCustomMetadataVector(e,[...r.metadata].map(([s,d])=>{const g=e.createString(`${s}`),P=e.createString(`${d}`);return KeyValue.startKeyValue(e),KeyValue.addKey(e,g),KeyValue.addValue(e,P),KeyValue.endKeyValue(e)})):-1;return r.name&&(o=e.createString(r.name)),Field$2.startField(e),Field$2.addType(e,l),Field$2.addTypeType(e,O),Field$2.addChildren(e,S),Field$2.addNullable(e,!!r.nullable),o!==-1&&Field$2.addName(e,o),p!==-1&&Field$2.addDictionary(e,p),v!==-1&&Field$2.addCustomMetadata(e,v),Field$2.endField(e)}function encodeRecordBatch(e,r){const o=r.nodes||[],l=r.buffers||[];RecordBatch$2.startNodesVector(e,o.length);for(const O of o.slice().reverse())FieldNode.encode(e,O);const p=e.endVector();RecordBatch$2.startBuffersVector(e,l.length);for(const O of l.slice().reverse())BufferRegion.encode(e,O);const f=e.endVector();return RecordBatch$2.startRecordBatch(e),RecordBatch$2.addLength(e,BigInt(r.length)),RecordBatch$2.addNodes(e,p),RecordBatch$2.addBuffers(e,f),RecordBatch$2.endRecordBatch(e)}function encodeDictionaryBatch(e,r){const o=RecordBatch.encode(e,r.data);return DictionaryBatch$1.startDictionaryBatch(e),DictionaryBatch$1.addId(e,BigInt(r.id)),DictionaryBatch$1.addIsDelta(e,r.isDelta),DictionaryBatch$1.addData(e,o),DictionaryBatch$1.endDictionaryBatch(e)}function encodeFieldNode(e,r){return FieldNode$1.createFieldNode(e,BigInt(r.length),BigInt(r.nullCount))}function encodeBufferRegion(e,r){return Buffer$1.createBuffer(e,BigInt(r.offset),BigInt(r.length))}const platformIsLittleEndian=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),MAGIC_STR="ARROW1",MAGIC=new Uint8Array(MAGIC_STR.length);for(let e=0;e<MAGIC_STR.length;e+=1)MAGIC[e]=MAGIC_STR.codePointAt(e);MAGIC.length;class VectorAssembler extends Visitor{static assemble(...r){const o=p=>p.flatMap(f=>Array.isArray(f)?o(f):f instanceof RecordBatch$1?f.data.children:f.data),l=new VectorAssembler;return l.visitMany(o(r)),l}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(r){if(r instanceof Vector)return this.visitMany(r.data),this;const{type:o}=r;if(!DataType.isDictionary(o)){const{length:l}=r;if(l>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(DataType.isUnion(o))this.nodes.push(new FieldNode(l,0));else{const{nullCount:p}=r;DataType.isNull(o)||addBuffer.call(this,p<=0?new Uint8Array(0):truncateBitmap(r.offset,l,r.nullBitmap)),this.nodes.push(new FieldNode(l,p))}}return super.visit(r)}visitNull(r){return this}visitDictionary(r){return this.visit(r.clone(r.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function addBuffer(e){const r=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new BufferRegion(this._byteLength,r)),this._byteLength+=r,this}function assembleUnion(e){var r;const{type:o,length:l,typeIds:p,valueOffsets:f}=e;if(addBuffer.call(this,p),o.mode===UnionMode.Sparse)return assembleNestedVector.call(this,e);if(o.mode===UnionMode.Dense){if(e.offset<=0)return addBuffer.call(this,f),assembleNestedVector.call(this,e);{const O=new Int32Array(l),_=Object.create(null),S=Object.create(null);for(let v,s,d=-1;++d<l;)(v=p[d])!==void 0&&((s=_[v])===void 0&&(s=_[v]=f[d]),O[d]=f[d]-s,S[v]=((r=S[v])!==null&&r!==void 0?r:0)+1);addBuffer.call(this,O),this.visitMany(e.children.map((v,s)=>{const d=o.typeIds[s],g=_[d],P=S[d];return v.slice(g,Math.min(l,P))}))}}return this}function assembleBoolVector(e){let r;return e.nullCount>=e.length?addBuffer.call(this,new Uint8Array(0)):(r=e.values)instanceof Uint8Array?addBuffer.call(this,truncateBitmap(e.offset,e.length,r)):addBuffer.call(this,packBools(e.values))}function assembleFlatVector(e){return addBuffer.call(this,e.values.subarray(0,e.length*e.stride))}function assembleFlatListVector(e){const{length:r,values:o,valueOffsets:l}=e,p=bigIntToNumber(l[0]),f=bigIntToNumber(l[r]),O=Math.min(f-p,o.byteLength-p);return addBuffer.call(this,rebaseValueOffsets(-p,r+1,l)),addBuffer.call(this,o.subarray(p,p+O)),this}function assembleListVector(e){const{length:r,valueOffsets:o}=e;if(o){const{[0]:l,[r]:p}=o;return addBuffer.call(this,rebaseValueOffsets(-l,r+1,o)),this.visit(e.children[0].slice(l,p-l))}return this.visit(e.children[0])}function assembleNestedVector(e){return this.visitMany(e.type.children.map((r,o)=>e.children[o]).filter(Boolean))[0]}VectorAssembler.prototype.visitBool=assembleBoolVector;VectorAssembler.prototype.visitInt=assembleFlatVector;VectorAssembler.prototype.visitFloat=assembleFlatVector;VectorAssembler.prototype.visitUtf8=assembleFlatListVector;VectorAssembler.prototype.visitLargeUtf8=assembleFlatListVector;VectorAssembler.prototype.visitBinary=assembleFlatListVector;VectorAssembler.prototype.visitLargeBinary=assembleFlatListVector;VectorAssembler.prototype.visitFixedSizeBinary=assembleFlatVector;VectorAssembler.prototype.visitDate=assembleFlatVector;VectorAssembler.prototype.visitTimestamp=assembleFlatVector;VectorAssembler.prototype.visitTime=assembleFlatVector;VectorAssembler.prototype.visitDecimal=assembleFlatVector;VectorAssembler.prototype.visitList=assembleListVector;VectorAssembler.prototype.visitStruct=assembleNestedVector;VectorAssembler.prototype.visitUnion=assembleUnion;VectorAssembler.prototype.visitInterval=assembleFlatVector;VectorAssembler.prototype.visitDuration=assembleFlatVector;VectorAssembler.prototype.visitFixedSizeList=assembleListVector;VectorAssembler.prototype.visitMap=assembleListVector;class RecordBatchWriter extends ReadableInterop{static throughNode(r){throw new Error('"throughNode" not available in this environment')}static throughDOM(r,o){throw new Error('"throughDOM" not available in this environment')}constructor(r){super(),this._position=0,this._started=!1,this._sink=new AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,isObject$1(r)||(r={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof r.autoDestroy=="boolean"?r.autoDestroy:!0,this._writeLegacyIpcFormat=typeof r.writeLegacyIpcFormat=="boolean"?r.writeLegacyIpcFormat:!1}toString(r=!1){return this._sink.toString(r)}toUint8Array(r=!1){return this._sink.toUint8Array(r)}writeAll(r){return isPromise(r)?r.then(o=>this.writeAll(o)):isAsyncIterable(r)?writeAllAsync(this,r):writeAll(this,r)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(r){return this._sink.toDOMStream(r)}toNodeStream(r){return this._sink.toNodeStream(r)}close(){return this.reset()._sink.close()}abort(r){return this.reset()._sink.abort(r)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(r=this._sink,o=null){return r===this._sink||r instanceof AsyncByteQueue?this._sink=r:(this._sink=new AsyncByteQueue,r&&isWritableDOMStream(r)?this.toDOMStream({type:"bytes"}).pipeTo(r):r&&isWritableNodeStream(r)&&this.toNodeStream({objectMode:!1}).pipe(r)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!o||!compareSchemas(o,this._schema))&&(o==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=o,this._writeSchema(o))),this}write(r){let o=null;if(this._sink){if(r==null)return this.finish()&&void 0;if(r instanceof Table&&!(o=r.schema))return this.finish()&&void 0;if(r instanceof RecordBatch$1&&!(o=r.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(o&&!compareSchemas(o,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,o)}r instanceof RecordBatch$1?r instanceof _InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(r):r instanceof Table?this.writeAll(r.batches):isIterable$1(r)&&this.writeAll(r)}_writeMessage(r,o=8){const l=o-1,p=Message.encode(r),f=p.byteLength,O=this._writeLegacyIpcFormat?4:8,_=f+O+l&~l,S=_-f-O;return r.headerType===MessageHeader.RecordBatch?this._recordBatchBlocks.push(new FileBlock(_,r.bodyLength,this._position)):r.headerType===MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new FileBlock(_,r.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(_-O)),f>0&&this._write(p),this._writePadding(S)}_write(r){if(this._started){const o=toUint8Array(r);o&&o.byteLength>0&&(this._sink.write(o),this._position+=o.byteLength)}return this}_writeSchema(r){return this._writeMessage(Message.from(r))}_writeFooter(r){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(MAGIC)}_writePadding(r){return r>0?this._write(new Uint8Array(r)):this}_writeRecordBatch(r){const{byteLength:o,nodes:l,bufferRegions:p,buffers:f}=VectorAssembler.assemble(r),O=new RecordBatch(r.numRows,l,p),_=Message.from(O,o);return this._writeDictionaries(r)._writeMessage(_)._writeBodyBuffers(f)}_writeDictionaryBatch(r,o,l=!1){this._dictionaryDeltaOffsets.set(o,r.length+(this._dictionaryDeltaOffsets.get(o)||0));const{byteLength:p,nodes:f,bufferRegions:O,buffers:_}=VectorAssembler.assemble(new Vector([r])),S=new RecordBatch(r.length,f,O),v=new DictionaryBatch(S,o,l),s=Message.from(v,p);return this._writeMessage(s)._writeBodyBuffers(_)}_writeBodyBuffers(r){let o,l,p;for(let f=-1,O=r.length;++f<O;)(o=r[f])&&(l=o.byteLength)>0&&(this._write(o),(p=(l+7&-8)-l)>0&&this._writePadding(p));return this}_writeDictionaries(r){for(let[o,l]of r.dictionaries){let p=this._dictionaryDeltaOffsets.get(o)||0;if(p===0||(l=l==null?void 0:l.slice(p)).length>0)for(const f of l.data)this._writeDictionaryBatch(f,o,p>0),p+=f.length}return this}}class RecordBatchStreamWriter extends RecordBatchWriter{static writeAll(r,o){const l=new RecordBatchStreamWriter(o);return isPromise(r)?r.then(p=>l.writeAll(p)):isAsyncIterable(r)?writeAllAsync(l,r):writeAll(l,r)}}class RecordBatchFileWriter extends RecordBatchWriter{static writeAll(r){const o=new RecordBatchFileWriter;return isPromise(r)?r.then(l=>o.writeAll(l)):isAsyncIterable(r)?writeAllAsync(o,r):writeAll(o,r)}constructor(){super(),this._autoDestroy=!0}_writeSchema(r){return this._writeMagic()._writePadding(2)}_writeFooter(r){const o=Footer_.encode(new Footer_(r,MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(r)._write(o)._write(Int32Array.of(o.byteLength))._writeMagic()}}function writeAll(e,r){let o=r;r instanceof Table&&(o=r.batches,e.reset(void 0,r.schema));for(const l of o)e.write(l);return e.finish()}function writeAllAsync(e,r){var o,l,p,f,O,_,S;return __awaiter(this,void 0,void 0,function*(){try{for(o=!0,l=__asyncValues(r);p=yield l.next(),f=p.done,!f;o=!0){S=p.value,o=!1;const v=S;e.write(v)}}catch(v){O={error:v}}finally{try{!o&&!f&&(_=l.return)&&(yield _.call(l))}finally{if(O)throw O.error}}return e.finish()})}function tableToIPC(e,r="stream"){return(r==="stream"?RecordBatchStreamWriter:RecordBatchFileWriter).writeAll(e).toUint8Array(!0)}function ceil64Bytes(e,r=1){return(e*r+63&-64||64)/r}function array$3(e,r,o=e.BYTES_PER_ELEMENT){return new e(ceil64Bytes(r,o))}function arrowData(e){return e instanceof Data?e:new Data(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function arrowVector$1(e){return new Vector([arrowData(e)])}const encoder=new TextEncoder;function encode$2(e,r,o){const l=encoder.encode(o);return e.set(l,r),l.length}function encodeInto(e,r,o){return encoder.encodeInto(o,e.subarray(r)).written}const writeUtf8=encoder.encodeInto?encodeInto:encode$2;function arrayBuilder(e,r){const o=array$3(e.ArrayType,r);return{set(l,p){o[p]=l},data:()=>({type:e,length:r,buffers:[null,o]})}}function boolBuilder(e,r){const o=array$3(e.ArrayType,r/8);return{set(l,p){l&&(o[p>>3]|=1<<p%8)},data:()=>({type:e,length:r,buffers:[null,o]})}}function dateDayBuilder(e,r){const o=array$3(e.ArrayType,r);return{set(l,p){o[p]=l/864e5|0},data:()=>({type:e,length:r,buffers:[null,o]})}}function dateMillisBuilder(e,r){const o=array$3(e.ArrayType,r<<1);return{set(l,p){const f=p<<1;o[f]=l%4294967296|0,o[f+1]=l/4294967296|0},data:()=>({type:e,length:r,buffers:[null,o]})}}function defaultBuilder(e){const r=makeBuilder({type:e,nullValues:[null,void 0]});return{set(o,l){r.set(l,o)},data:()=>r.finish().flush()}}function utf8Builder(e,r,o){const l=array$3(Int32Array,r+1),p=array$3(Uint8Array,3*o);let f=0;return{set(O,_){f+=writeUtf8(p,f,O),l[_+1]=f},data:()=>{const O=ceil64Bytes(f),_=p.length>O?p.subarray(0,O):p;return{type:e,length:r,buffers:[l,_]}}}}function dictionaryBuilder(e,r){const o=[],l=array$3(e.indices.ArrayType,r),p=Object.create(null);let f=-1,O=0;return{set(_,S){const v=String(_);let s=p[v];s===void 0&&(O+=v.length,p[v]=s=++f,o.push(v)),l[S]=s},data:()=>({type:e,length:r,buffers:[null,l],dict:dictionary(e.dictionary,o,O)})}}function dictionary(e,r,o){const l=utf8Builder(e,r.length,o);return r.forEach(l.set),arrowVector$1(l.data())}function validBuilder(e,r){const o=array$3(Uint8Array,r/8);let l=0;return{set(p,f){p==null?++l:(e.set(p,f),o[f>>3]|=1<<f%8)},data:()=>{const p=e.data();return l&&(p.nulls=l,p.buffers[2]=o),p}}}function builder(e,r,o=!0){let l;switch(e.typeId){case Type.Int:l=e.bitWidth<64?arrayBuilder:null;break;case Type.Float:l=e.precision>0?arrayBuilder:null;break;case Type.Dictionary:l=e.dictionary.typeId===Type.Utf8&&e.indices.typeId===Type.Int&&e.indices.bitWidth<64?dictionaryBuilder:null;break;case Type.Bool:l=boolBuilder;break;case Type.Date:l=e.unit?dateMillisBuilder:dateDayBuilder;break}return l==null?defaultBuilder(e):o?validBuilder(l(e,r),r):l(e,r)}function dataFromArray(e,r){const o=e.length,l=ceil64Bytes(o,e.BYTES_PER_ELEMENT);let p=e;return o!==l&&(p=new e.constructor(l),p.set(e)),arrowData({type:r,length:o,buffers:[null,p]})}function dataFromScan(e,r,o,l,p=!0){const f=builder(l,e,p);return r(o,f.set),arrowData(f.data())}function resolveType(e){if(e instanceof DataType||e==null)return e;switch(e){case Type.Binary:return new Binary;case Type.Bool:return new Bool;case Type.DateDay:return new DateDay;case Type.DateMillisecond:case Type.Date:return new DateMillisecond;case Type.Dictionary:return new Dictionary(new Utf8,new Int32);case Type.Float16:return new Float16;case Type.Float32:return new Float32;case Type.Float64:case Type.Float:return new Float64;case Type.Int8:return new Int8;case Type.Int16:return new Int16;case Type.Int32:case Type.Int:return new Int32;case Type.Int64:return new Int64;case Type.IntervalDayTime:return new IntervalDayTime;case Type.Interval:case Type.IntervalYearMonth:return new IntervalYearMonth;case Type.Null:return new Null;case Type.TimeMicrosecond:return new TimeMicrosecond;case Type.TimeMillisecond:case Type.Time:return new TimeMillisecond;case Type.TimeNanosecond:return new TimeNanosecond;case Type.TimeSecond:return new TimeSecond;case Type.Uint8:return new Uint8;case Type.Uint16:return new Uint16;case Type.Uint32:return new Uint32;case Type.Uint64:return new Uint64;case Type.Utf8:return new Utf8;default:error$1(`Unsupported type code: ${toString$2(e)}. Use a data type constructor instead?`)}}function isExactUTCDate(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function profile(e,r){const o=profiler();return e(r,o.add),o}function profiler(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(r){if(++e.count,r==null){++e.nulls;return}const o=typeof r;if(o==="string")++e.strings;else if(o==="number")++e.nums,r<e.min&&(e.min=r),r>e.max&&(e.max=r),Number.isInteger(r)&&++e.ints;else if(o==="boolean")++e.bools;else if(o==="object")if(isDate$2(r))++e.dates,isExactUTCDate(r)&&++e.utcdays;else if(isArrayType(r)){++e.arrays,r.length<e.minlen&&(e.minlen=r.length),r.length>e.maxlen&&(e.maxlen=r.length);const l=e.array_prof||(e.array_prof=profiler());r.forEach(l.add)}else{++e.structs;const l=e.struct_prof||(e.struct_prof={});for(const p in r)(l[p]||(l[p]=profiler())).add(r[p])}else o==="bigint"&&(++e.bigints,r<e.min&&(e.min=r),r>e.max&&(e.max=r))},type(){return resolveType(infer(e))}};return e}function infer(e){const r=e.count-e.nulls;if(r===0)return Type.Null;if(e.ints===r){const o=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?o>=2**31?Type.Float64:o<128?Type.Int8:o<32768?Type.Int16:Type.Int32:o>=2**32?Type.Float64:o<256?Type.Uint8:o<65536?Type.Uint16:Type.Uint32}else{if(e.nums===r)return Type.Float64;if(e.bigints===r){const o=-e.min>e.max?-e.min-1n:e.max;return e.min<0?o<2**63?Type.Int64:error$1(`BigInt exceeds 64 bits: ${o}`):e.max<2**64?Type.Uint64:error$1(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===r)return Type.Bool;if(e.utcdays===r)return Type.DateDay;if(e.dates===r)return Type.DateMillisecond;if(e.arrays===r){const o=Field$1.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new FixedSizeList(e.minlen,o):new List(o)}else if(e.structs===r){const o=e.struct_prof;return new Struct(Object.keys(o).map(l=>Field$1.new(l,o[l].type(),!0)))}else{if(e.strings>0)return Type.Dictionary;error$1("Type inference failure")}}}}function dataFromObjects(e,r,o,l,p,f=!0){if(p=resolveType(p),!p){const O=profile(l,r);f=O.nulls>0,p=O.type()}return dataFromScan(o,l,r,p,f)}function dataFromTable(e,r,o,l,p,f=!0){p=resolveType(p);const O=e.column(r),_=!(e.isFiltered()||e.isOrdered()),S=arrowVector(O);if(S&&_&&typeCompatible(S.type,p))return S;const v=O.data;if(isTypedArray(v)){const s=typeFromArray(v);if(_&&s&&typeCompatible(s,p))return dataFromArray(v,s);p=p||s,f=!1}if(!p){const s=profile(l,O);f=s.nulls>0,p=s.type()}return dataFromScan(o,l,O,p,f)}function arrowVector(e){return e instanceof Vector?e:e.vector instanceof Vector?e.vector:null}function typeFromArray(e){const o={Float32Array:Float32,Float64Array:Float64,Int8Array:Int8,Int16Array:Int16,Int32Array:Int32,Uint8Array:Uint8,Uint16Array:Uint16,Uint32Array:Uint32,BigInt64Array:Int64,BigUint64Array:Uint64}[e.constructor.name];return o?new o:null}function typeCompatible(e,r){return!e||!r?!0:e.compareTo(r)}function scanArray(e,r,o){const l=Math.min(e.length,o+r);return(p,f)=>{for(let O=o;O<l;++O)f(e[O][p],O)}}function scanTable(e,r,o){const l=o===0&&e.numRows()<=r&&!e.isFiltered()&&!e.isOrdered();return(p,f)=>{let O=-1;l&&isArrayType(p.data)?p.data.forEach(f):e.scan(_=>f(p.get(_),++O),!0,r,o)}}const fail=()=>error$1("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function table$1(){try{return Table}catch{fail()}}function toArrow(e,r={}){const{types:o={}}=r,{dataFrom:l,names:p,nrows:f,scan:O}=init$1(e,r),_={};p.forEach(v=>{const s=l(e,v,f,O,o[v]);s.length!==f&&error$1("Column length mismatch"),_[v]=s});const S=table$1();return new S(_)}function init$1(e,r){const{columns:o,limit:l=1/0,offset:p=0}=r,f=isFunction$2(o)?o(e):isArray$2(o)?o:null;if(isArray$2(e))return{dataFrom:dataFromObjects,names:f||Object.keys(e[0]),nrows:Math.min(l,e.length-p),scan:scanArray(e,l,p)};if(isTable(e))return{dataFrom:dataFromTable,names:f||e.columnNames(),nrows:Math.min(l,e.numRows()-p),scan:scanTable(e,l,p)};error$1("Unsupported input data type")}function isTable(e){return e&&isFunction$2(e.reify)}function toArrowIPC(e,r={}){const{format:o,...l}=r,p=o||"stream";if(!["stream","file"].includes(p))throw Error("Unrecognised output format");return tableToIPC(toArrow(e,l),o)}function isExactDateUTC(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function inferFormat(e,r={}){let o=0,l=0,p=0,f=0,O=0,_=0;return e(S=>{if(++o,S==null){++l;return}const v=typeof S;if(v==="object"&&isDate$2(S))++p,isExactDateUTC(S)&&++f;else if(v==="number"&&(++O,S===S&&(S|0)!==S)){const s=S+"",d=s.indexOf(".");if(d>=0){const g=s.indexOf("e"),P=g>0?g:s.length;_=Math.max(_,P-d-1)}}}),{align:(l+O+p)/o>.5?"r":"l",format:{utc:p===f,digits:Math.min(_,r.maxdigits||6)}}}function columns(e,r){return isFunction$2(r)?r(e):r||e.columnNames()}function formats$2(e,r,o){const l=o.format||{},p=o.align||{},f={},O={};return r.forEach(_=>{const S=inferFormat(values$1(e,_),o);O[_]=p[_]||S.align,f[_]=l[_]||S.format}),{align:O,format:f}}function values$1(e,r){const o=e.column(r);return l=>e.scan(p=>l(o.get(p)))}function scan(e,r,o=100,l,p){const f=e.data(),O=r.length;e.scan(_=>{p.row(_);for(let S=0;S<O;++S){const v=r[S];p.cell(f[r[S]].get(_),v,S)}},!0,o,l)}function toCSV(e,r={}){const o=columns(e,r.columns),l=r.format||{},p=r.delimiter||",",f=new RegExp(`["${p}
\r]`),O=v=>v==null?"":isDate$2(v)?formatUTCDate(v,!0):f.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v,_=o.map(O);let S="";return scan(e,o,r.limit||1/0,r.offset,{row(){S+=_.join(p)+`
`},cell(v,s,d){_[d]=O(l[s]?l[s](v):v)}}),S+_.join(p)}function formatValue$2(e,r={}){if(isFunction$2(r))return r(e)+"";const o=typeof e;if(o==="object"){if(isDate$2(e))return r.utc?formatUTCDate(e):formatDate(e);{const l=JSON.stringify(e,(f,O)=>isTypedArray(O)?Array.from(O):O),p=r.maxlen||30;return l.length>p?l.slice(0,28)+"…"+(l[0]==="["?"]":"}"):l}}else if(o==="number"){const l=r.digits||0;let p;return e!==0&&((p=Math.abs(e))>=1e18||p<Math.pow(10,-l))?e.toExponential(l):e.toFixed(l)}else return e+""}function map$1(e,r,o={}){for(const l in e)o[l]=r(e[l],l);return o}function toHTML(e,r={}){const o=columns(e,r.columns),{align:l,format:p}=formats$2(e,o,r),f=styles(r),O=r.null,_=I=>I==="c"?"center":I==="r"?"right":"left",S=I=>I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),v=(I,j)=>S(formatValue$2(I,j)),s=O?(I,j)=>I==null?O(I):v(I,j):v;let d=-1,g=-1;const P=(I,j,L)=>{const G=L?_(l[j]):"",J=f[I]&&f[I](j,g,d)||"",Q=(G?`text-align: ${G};`+(J?" ":""):"")+J;return`<${I}${Q?` style="${Q}"`:""}>`};let R=P("table")+P("thead")+P("tr",d)+o.map(I=>`${P("th",I,1)}${I}</th>`).join("")+"</tr></thead>"+P("tbody");return scan(e,o,r.limit,r.offset,{row(I){d=I,R+=(++g?"</tr>":"")+P("tr")},cell(I,j){R+=P("td",j,1)+s(I,p[j])+"</td>"}}),R+"</tr></tbody></table>"}function styles(e){return map$1(e.style,r=>isFunction$2(r)?r:()=>r)}function defaultTrue(e,r=!0,o=!1){return e===void 0||e?r:o}const defaultFormatter$1=e=>isDate$2(e)?formatUTCDate(e,!0):e;function toJSON(e,r={}){const o=defaultTrue(r.schema),l=r.format||{},p=columns(e,r.columns);let f="{";return o&&(f+='"schema":{"fields":'+JSON.stringify(p.map(O=>({name:O})))+'},"data":{'),p.forEach((O,_)=>{f+=(_?",":"")+JSON.stringify(O)+":[";const S=e.column(O),v=l[O]||defaultFormatter$1;let s=-1;e.scan(d=>{const g=S.get(d);f+=(++s?",":"")+JSON.stringify(v(g))},!0,r.limit,r.offset),f+="]"}),f+"}"+(o?"}":"")}function toMarkdown(e,r={}){const o=columns(e,r.columns),{align:l,format:p}=formats$2(e,o,r),f=S=>S==="c"?":-:":S==="r"?"-:":":-",O=S=>S.replace(/\|/g,"\\|");let _="|"+o.map(O).join("|")+`|
|`+o.map(S=>f(l[S])).join("|")+"|";return scan(e,o,r.limit,r.offset,{row(){_+=`
|`},cell(S,v){_+=O(formatValue$2(S,p[v]))+"|"}}),_+`
`}function assign(e,r){for(const[o,l]of entries(r))e.set(o,l);return e}function escapeRegExp(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function resolve$1(e,r,o=new Map){return r=isNumber$2(r)?e.columnName(r):r,isString$1(r)?o.set(r,r):isArray$2(r)?r.forEach(l=>resolve$1(e,l,o)):isFunction$2(r)?resolve$1(e,r(e),o):isObject$2(r)?assign(o,r):error$1(`Invalid column selection: ${toString$2(r)}`),o}function decorate(e,r){return e.toObject=r,e}function toObject$1(e){return isArray$2(e)?e.map(toObject$1):e&&e.toObject?e.toObject():e}function all(){return decorate(e=>e.columnNames(),()=>({all:[]}))}function not(...e){return e=e.flat(),decorate(r=>{const o=resolve$1(r,e);return r.columnNames(l=>!o.has(l))},()=>({not:toObject$1(e)}))}function range$2(e,r){return decorate(o=>{let l=isNumber$2(e)?e:o.columnIndex(e),p=isNumber$2(r)?r:o.columnIndex(r);if(p<l){const f=p;p=l,l=f}return o.columnNames().slice(l,p+1)},()=>({range:[e,r]}))}function matches(e){return isString$1(e)&&(e=RegExp(escapeRegExp(e))),decorate(r=>r.columnNames(o=>e.test(o)),()=>({matches:[e.source,e.flags]}))}function arrayType(e){return isTypedArray(e.data)?e.data.constructor:Array}class ColumnTable extends Table$1{static from(r,o){return new ColumnTable(columnsFrom(r,o),o)}static new(r,o){if(r instanceof ColumnTable)return r;const l={},p=[];for(const[f,O]of entries(r))l[f]=O,p.push(f);return new ColumnTable(l,o||p)}constructor(r,o,l,p,f,O){map$1(r,defaultColumnFactory,r),o=o||Object.keys(r);const _=o.length?r[o[0]].length:0;super(o,_,r,l,p,f,O)}create({data:r,names:o,filter:l,groups:p,order:f}){const O=l!==void 0?l:this.mask();return new ColumnTable(r||this._data,o||(r?null:this._names),O,p!==void 0?p:regroup(this._group,l&&O),f!==void 0?f:this._order,this._params)}assign(...r){const o=this.numRows(),l=this.reify(),p=columnSet(l).groupby(l.groups());return r.forEach(f=>{f=ColumnTable.new(f),f.numRows()!==o&&error$1("Assign row counts do not match"),f=f.reify(),f.columnNames(O=>p.add(O,f.column(O)))}),this.create(p.new())}columns(){return this._data}column(r){return this._data[r]}columnAt(r){return this._data[this._names[r]]}array(r,o=Array){const l=this.column(r),p=new o(this.numRows());let f=-1;return this.scan(O=>p[++f]=l.get(O),!0),p}get(r,o=0){const l=this.column(r);return this.isFiltered()||this.isOrdered()?l.get(this.indices()[o]):l.get(o)}getter(r){const o=this.column(r),l=this.isFiltered()||this.isOrdered()?this.indices():null;return l?p=>o.get(l[p]):o?p=>o.get(p):error$1(`Unrecognized column: ${r}`)}object(r=0){return objectBuilder(this)(r)}objects(r={}){const{grouped:o,limit:l,offset:p}=r,f=resolve$1(this,r.columns||all()),O=rowObjectBuilder(f),_=[];if(this.scan((S,v)=>_.push(O(S,v)),!0,l,p),o&&this.isGrouped()){const S=[];return this.scan(v=>S.push(v),!0,l,p),nest$1(this,S,_,o)}return _}*[Symbol.iterator](){const r=objectBuilder(this),o=this.numRows();for(let l=0;l<o;++l)yield r(l)}reify(r){const o=r?r.length:this.numRows(),l=this._names;let p,f;if(!r&&!this.isOrdered())if(this.isFiltered())o===this.totalRows()&&(p=this.data());else return this;if(!p){const O=r?S=>r.forEach(S):S=>this.scan(S,!0),_=l.length;p={};for(let S=0;S<_;++S){const v=l[S],s=this.column(v),d=p[v]=new(arrayType(s))(o);let g=-1;O(P=>d[++g]=s.get(P))}this.isGrouped()&&(f=reindex(this.groups(),O,!!r,o))}return this.create({data:p,names:l,groups:f,filter:null,order:null})}transform(...r){return r.flat().reduce((o,l)=>l(o),this)}toArrow(r){return toArrow(this,r)}toArrowBuffer(r){return toArrowIPC(this,r)}toCSV(r){return toCSV(this,r)}toHTML(r){return toHTML(this,r)}toJSON(r){return toJSON(this,r)}toMarkdown(r){return toMarkdown(this,r)}}function objectBuilder(e){let r=e._builder;if(!r){const o=rowObjectBuilder(e.columnNames()),l=e.data();if(e.isOrdered()||e.isFiltered()){const p=e.indices();r=f=>o(p[f],l)}else r=p=>o(p,l);e._builder=r}return r}class Reducer{constructor(r){this._outputs=r}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function walk(e,r,o,l){const p=o[e.type]||o.Default;if(p&&p(e,r,l)===!1)return;const f=walkers[e.type];f&&f(e,r,o)}const unary=(e,r,o)=>{walk(e.argument,r,o,e)},binary=(e,r,o)=>{walk(e.left,r,o,e),walk(e.right,r,o,e)},ternary=(e,r,o)=>{walk(e.test,r,o,e),walk(e.consequent,r,o,e),e.alternate&&walk(e.alternate,r,o,e)},func$1=(e,r,o)=>{list$1(e.params,r,o,e),walk(e.body,r,o,e)},call=(e,r,o)=>{walk(e.callee,r,o,e),list$1(e.arguments,r,o,e)},list$1=(e,r,o,l)=>{e.forEach(p=>walk(p,r,o,l))},walkers={TemplateLiteral:(e,r,o)=>{list$1(e.expressions,r,o,e),list$1(e.quasis,r,o,e)},MemberExpression:(e,r,o)=>{walk(e.object,r,o,e),walk(e.property,r,o,e)},CallExpression:call,NewExpression:call,ArrayExpression:(e,r,o)=>{list$1(e.elements,r,o,e)},AssignmentExpression:binary,AwaitExpression:unary,BinaryExpression:binary,LogicalExpression:binary,UnaryExpression:unary,UpdateExpression:unary,ConditionalExpression:ternary,ObjectExpression:(e,r,o)=>{list$1(e.properties,r,o,e)},Property:(e,r,o)=>{walk(e.key,r,o,e),walk(e.value,r,o,e)},ArrowFunctionExpression:func$1,FunctionExpression:func$1,FunctionDeclaration:func$1,VariableDeclaration:(e,r,o)=>{list$1(e.declarations,r,o,e)},VariableDeclarator:(e,r,o)=>{walk(e.id,r,o,e),walk(e.init,r,o,e)},SpreadElement:(e,r,o)=>{walk(e.argument,r,o,e)},BlockStatement:(e,r,o)=>{list$1(e.body,r,o,e)},ExpressionStatement:(e,r,o)=>{walk(e.expression,r,o,e)},IfStatement:ternary,ForStatement:(e,r,o)=>{walk(e.init,r,o,e),walk(e.test,r,o,e),walk(e.update,r,o,e),walk(e.body,r,o,e)},WhileStatement:(e,r,o)=>{walk(e.test,r,o,e),walk(e.body,r,o,e)},DoWhileStatement:(e,r,o)=>{walk(e.body,r,o,e),walk(e.test,r,o,e)},SwitchStatement:(e,r,o)=>{walk(e.discriminant,r,o,e),list$1(e.cases,r,o,e)},SwitchCase:(e,r,o)=>{e.test&&walk(e.test,r,o,e),list$1(e.consequent,r,o,e)},ReturnStatement:unary,Program:(e,r,o)=>{walk(e.body[0],r,o,e)}};function strip(e){delete e.start,delete e.end,delete e.optional}function stripMember(e){strip(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function clean(e){return walk(e,null,{Column:stripMember,Constant:stripMember,Default:strip}),e}function is(e,r){return r&&r.type===e}function isFunctionExpression(e){return is(FunctionExpression,e)||is(ArrowFunctionExpression,e)}function toFunction(e){return isFunction$2(e)?e:()=>e}const ERROR_ESC_AGGRONLY="Escaped functions are not valid as rollup or pivot values.";function parseEscape(e,r,o){e.aggronly&&error$1(ERROR_ESC_AGGRONLY);const l="(row,data)=>fn("+rowObjectCode(e.table.columnNames())+",$)";return{escape:compile$1.escape(l,toFunction(r.expr),o)}}var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");function isInAstralSet(e,r){for(var o=65536,l=0;l<r.length;l+=2){if(o+=r[l],o>e)return!1;if(o+=r[l+1],o>=e)return!0}return!1}function isIdentifierStart(e,r){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):r===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)}function isIdentifierChar(e,r){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):r===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes)}var TokenType=function e(r,o){o===void 0&&(o={}),this.label=r,this.keyword=o.keyword,this.beforeExpr=!!o.beforeExpr,this.startsExpr=!!o.startsExpr,this.isLoop=!!o.isLoop,this.isAssign=!!o.isAssign,this.prefix=!!o.prefix,this.postfix=!!o.postfix,this.binop=o.binop||null,this.updateContext=null};function binop(e,r){return new TokenType(e,{beforeExpr:!0,binop:r})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords={};function kw(e,r){return r===void 0&&(r={}),r.keyword=e,keywords[e]=new TokenType(e,r)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(e){return e===10||e===13||e===8232||e===8233}function nextLineBreak(e,r,o){o===void 0&&(o=e.length);for(var l=r;l<o;l++){var p=e.charCodeAt(l);if(isNewLine(p))return l<o-1&&p===13&&e.charCodeAt(l+1)===10?l+2:l+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString$1=ref.toString,hasOwn=Object.hasOwn||function(e,r){return hasOwnProperty.call(e,r)},isArray$1=Array.isArray||function(e){return toString$1.call(e)==="[object Array]"},regexpCache=Object.create(null);function wordsRegexp(e){return regexpCache[e]||(regexpCache[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function e(r,o){this.line=r,this.column=o};Position.prototype.offset=function e(r){return new Position(this.line,this.column+r)};var SourceLocation=function e(r,o,l){this.start=o,this.end=l,r.sourceFile!==null&&(this.source=r.sourceFile)};function getLineInfo(e,r){for(var o=1,l=0;;){var p=nextLineBreak(e,l,r);if(p<0)return new Position(o,r-l);++o,l=p}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(e){var r={};for(var o in defaultOptions)r[o]=e&&hasOwn(e,o)?e[o]:defaultOptions[o];if(r.ecmaVersion==="latest"?r.ecmaVersion=1e8:r.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),r.ecmaVersion=11):r.ecmaVersion>=2015&&(r.ecmaVersion-=2009),r.allowReserved==null&&(r.allowReserved=r.ecmaVersion<5),(!e||e.allowHashBang==null)&&(r.allowHashBang=r.ecmaVersion>=14),isArray$1(r.onToken)){var l=r.onToken;r.onToken=function(p){return l.push(p)}}return isArray$1(r.onComment)&&(r.onComment=pushComment(r,r.onComment)),r}function pushComment(e,r){return function(o,l,p,f,O,_){var S={type:o?"Block":"Line",value:l,start:p,end:f};e.locations&&(S.loc=new SourceLocation(this,O,_)),e.ranges&&(S.range=[p,f]),r.push(S)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(e,r){return SCOPE_FUNCTION|(e?SCOPE_ASYNC:0)|(r?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function e(r,o,l){this.options=r=getOptions(r),this.sourceFile=r.sourceFile,this.keywords=wordsRegexp(keywords$1[r.ecmaVersion>=6?6:r.sourceType==="module"?"5module":5]);var p="";r.allowReserved!==!0&&(p=reservedWords[r.ecmaVersion>=6?6:r.ecmaVersion===5?5:3],r.sourceType==="module"&&(p+=" await")),this.reservedWords=wordsRegexp(p);var f=(p?p+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(f),this.reservedWordsStrictBind=wordsRegexp(f+" "+reservedWords.strictBind),this.input=String(o),this.containsEsc=!1,l?(this.pos=l,this.lineStart=this.input.lastIndexOf(`
`,l-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=r.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&r.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function e(){var r=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(r)};prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0};prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var r=this.scopeStack[e];if(r.inClassFieldInit||r.flags&SCOPE_CLASS_STATIC_BLOCK)return!1;if(r.flags&SCOPE_FUNCTION)return(r.flags&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};prototypeAccessors.allowSuper.get=function(){var e=this.currentThisScope(),r=e.flags,o=e.inClassFieldInit;return(r&SCOPE_SUPER)>0||o||this.options.allowSuperOutsideMethod};prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0};prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};prototypeAccessors.allowNewDotTarget.get=function(){var e=this.currentThisScope(),r=e.flags,o=e.inClassFieldInit;return(r&(SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK))>0||o};prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0};Parser.extend=function e(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];for(var l=this,p=0;p<r.length;p++)l=r[p](l);return l};Parser.parse=function e(r,o){return new this(o,r).parse()};Parser.parseExpressionAt=function e(r,o,l){var p=new this(l,r,o);return p.nextToken(),p.parseExpression()};Parser.tokenizer=function e(r,o){return new this(o,r)};Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;pp$9.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length;var r=literal.exec(this.input.slice(e));if(!r)return!1;if((r[1]||r[2])==="use strict"){skipWhiteSpace.lastIndex=e+r[0].length;var o=skipWhiteSpace.exec(this.input),l=o.index+o[0].length,p=this.input.charAt(l);return p===";"||p==="}"||lineBreak.test(o[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(p)||p==="!"&&this.input.charAt(l+1)==="=")}e+=r[0].length,skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length,this.input[e]===";"&&e++}};pp$9.eat=function(e){return this.type===e?(this.next(),!0):!1};pp$9.isContextual=function(e){return this.type===types$1.name&&this.value===e&&!this.containsEsc};pp$9.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};pp$9.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp$9.semicolon=function(){!this.eat(types$1.semi)&&!this.insertSemicolon()&&this.unexpected()};pp$9.afterTrailingComma=function(e,r){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),r||this.next(),!0};pp$9.expect=function(e){this.eat(e)||this.unexpected()};pp$9.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var DestructuringErrors=function e(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pp$9.checkPatternErrors=function(e,r){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var o=r?e.parenthesizedAssign:e.parenthesizedBind;o>-1&&this.raiseRecoverable(o,r?"Assigning to rvalue":"Parenthesized pattern")}};pp$9.checkExpressionErrors=function(e,r){if(!e)return!1;var o=e.shorthandAssign,l=e.doubleProto;if(!r)return o>=0||l>=0;o>=0&&this.raise(o,"Shorthand property assignments are valid only in destructuring patterns"),l>=0&&this.raiseRecoverable(l,"Redefinition of __proto__ property")};pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp$9.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(e){var r=Object.create(null);for(e.body||(e.body=[]);this.type!==types$1.eof;){var o=this.parseStatement(null,!0,r);e.body.push(o)}if(this.inModule)for(var l=0,p=Object.keys(this.undefinedExports);l<p.length;l+=1){var f=p[l];this.raiseRecoverable(this.undefinedExports[f].start,"Export '"+f+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var r=skipWhiteSpace.exec(this.input),o=this.pos+r[0].length,l=this.input.charCodeAt(o);if(l===91||l===92)return!0;if(e)return!1;if(l===123||l>55295&&l<56320)return!0;if(isIdentifierStart(l,!0)){for(var p=o+1;isIdentifierChar(l=this.input.charCodeAt(p),!0);)++p;if(l===92||l>55295&&l<56320)return!0;var f=this.input.slice(o,p);if(!keywordRelationalOperator.test(f))return!0}return!1};pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),r=this.pos+e[0].length,o;return!lineBreak.test(this.input.slice(this.pos,r))&&this.input.slice(r,r+8)==="function"&&(r+8===this.input.length||!(isIdentifierChar(o=this.input.charCodeAt(r+8))||o>55295&&o<56320))};pp$8.parseStatement=function(e,r,o){var l=this.type,p=this.startNode(),f;switch(this.isLet(e)&&(l=types$1._var,f="let"),l){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(p,l.keyword);case types$1._debugger:return this.parseDebuggerStatement(p);case types$1._do:return this.parseDoStatement(p);case types$1._for:return this.parseForStatement(p);case types$1._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(p,!1,!e);case types$1._class:return e&&this.unexpected(),this.parseClass(p,!0);case types$1._if:return this.parseIfStatement(p);case types$1._return:return this.parseReturnStatement(p);case types$1._switch:return this.parseSwitchStatement(p);case types$1._throw:return this.parseThrowStatement(p);case types$1._try:return this.parseTryStatement(p);case types$1._const:case types$1._var:return f=f||this.value,e&&f!=="var"&&this.unexpected(),this.parseVarStatement(p,f);case types$1._while:return this.parseWhileStatement(p);case types$1._with:return this.parseWithStatement(p);case types$1.braceL:return this.parseBlock(!0,p);case types$1.semi:return this.parseEmptyStatement(p);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&l===types$1._import){skipWhiteSpace.lastIndex=this.pos;var O=skipWhiteSpace.exec(this.input),_=this.pos+O[0].length,S=this.input.charCodeAt(_);if(S===40||S===46)return this.parseExpressionStatement(p,this.parseExpression())}return this.options.allowImportExportEverywhere||(r||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),l===types$1._import?this.parseImport(p):this.parseExport(p,o);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(p,!0,!e);var v=this.value,s=this.parseExpression();return l===types$1.name&&s.type==="Identifier"&&this.eat(types$1.colon)?this.parseLabeledStatement(p,v,s,e):this.parseExpressionStatement(p,s)}};pp$8.parseBreakContinueStatement=function(e,r){var o=r==="break";this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.label=null:this.type!==types$1.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var l=0;l<this.labels.length;++l){var p=this.labels[l];if((e.label==null||p.name===e.label.name)&&(p.kind!=null&&(o||p.kind==="loop")||e.label&&o))break}return l===this.labels.length&&this.raise(e.start,"Unsyntactic "+r),this.finishNode(e,o?"BreakStatement":"ContinueStatement")};pp$8.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};pp$8.parseDoStatement=function(e){return this.next(),this.labels.push(loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};pp$8.parseForStatement=function(e){this.next();var r=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1.parenL),this.type===types$1.semi)return r>-1&&this.unexpected(r),this.parseFor(e,null);var o=this.isLet();if(this.type===types$1._var||this.type===types$1._const||o){var l=this.startNode(),p=o?"let":this.value;return this.next(),this.parseVar(l,!0,p),this.finishNode(l,"VariableDeclaration"),(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&l.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1._in?r>-1&&this.unexpected(r):e.await=r>-1),this.parseForIn(e,l)):(r>-1&&this.unexpected(r),this.parseFor(e,l))}var f=this.isContextual("let"),O=!1,_=this.containsEsc,S=new DestructuringErrors,v=this.start,s=r>-1?this.parseExprSubscripts(S,"await"):this.parseExpression(!0,S);return this.type===types$1._in||(O=this.options.ecmaVersion>=6&&this.isContextual("of"))?(r>-1?(this.type===types$1._in&&this.unexpected(r),e.await=!0):O&&this.options.ecmaVersion>=8&&(s.start===v&&!_&&s.type==="Identifier"&&s.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),f&&O&&this.raise(s.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(s,!1,S),this.checkLValPattern(s),this.parseForIn(e,s)):(this.checkExpressionErrors(S,!0),r>-1&&this.unexpected(r),this.parseFor(e,s))};pp$8.parseFunctionStatement=function(e,r,o){return this.next(),this.parseFunction(e,FUNC_STATEMENT|(o?0:FUNC_HANGING_STATEMENT),!1,r)};pp$8.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(types$1._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};pp$8.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};pp$8.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(types$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var r,o=!1;this.type!==types$1.braceR;)if(this.type===types$1._case||this.type===types$1._default){var l=this.type===types$1._case;r&&this.finishNode(r,"SwitchCase"),e.cases.push(r=this.startNode()),r.consequent=[],this.next(),l?r.test=this.parseExpression():(o&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),o=!0,r.test=null),this.expect(types$1.colon)}else r||this.unexpected(),r.consequent.push(this.parseStatement(null));return this.exitScope(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};pp$8.parseThrowStatement=function(e){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var empty$1=[];pp$8.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),r=e.type==="Identifier";return this.enterScope(r?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(e,r?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1.parenR),e};pp$8.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===types$1._catch){var r=this.startNode();this.next(),this.eat(types$1.parenL)?r.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),r.param=null,this.enterScope(0)),r.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(r,"CatchClause")}return e.finalizer=this.eat(types$1._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};pp$8.parseVarStatement=function(e,r,o){return this.next(),this.parseVar(e,!1,r,o),this.semicolon(),this.finishNode(e,"VariableDeclaration")};pp$8.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};pp$8.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};pp$8.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};pp$8.parseLabeledStatement=function(e,r,o,l){for(var p=0,f=this.labels;p<f.length;p+=1){var O=f[p];O.name===r&&this.raise(o.start,"Label '"+r+"' is already declared")}for(var _=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null,S=this.labels.length-1;S>=0;S--){var v=this.labels[S];if(v.statementStart===e.start)v.statementStart=this.start,v.kind=_;else break}return this.labels.push({name:r,kind:_,statementStart:this.start}),e.body=this.parseStatement(l?l.indexOf("label")===-1?l+"label":l:"label"),this.labels.pop(),e.label=o,this.finishNode(e,"LabeledStatement")};pp$8.parseExpressionStatement=function(e,r){return e.expression=r,this.semicolon(),this.finishNode(e,"ExpressionStatement")};pp$8.parseBlock=function(e,r,o){for(e===void 0&&(e=!0),r===void 0&&(r=this.startNode()),r.body=[],this.expect(types$1.braceL),e&&this.enterScope(0);this.type!==types$1.braceR;){var l=this.parseStatement(null);r.body.push(l)}return o&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(r,"BlockStatement")};pp$8.parseFor=function(e,r){return e.init=r,this.expect(types$1.semi),e.test=this.type===types$1.semi?null:this.parseExpression(),this.expect(types$1.semi),e.update=this.type===types$1.parenR?null:this.parseExpression(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};pp$8.parseForIn=function(e,r){var o=this.type===types$1._in;return this.next(),r.type==="VariableDeclaration"&&r.declarations[0].init!=null&&(!o||this.options.ecmaVersion<8||this.strict||r.kind!=="var"||r.declarations[0].id.type!=="Identifier")&&this.raise(r.start,(o?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=r,e.right=o?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,o?"ForInStatement":"ForOfStatement")};pp$8.parseVar=function(e,r,o,l){for(e.declarations=[],e.kind=o;;){var p=this.startNode();if(this.parseVarId(p,o),this.eat(types$1.eq)?p.init=this.parseMaybeAssign(r):!l&&o==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!l&&p.id.type!=="Identifier"&&!(r&&(this.type===types$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):p.init=null,e.declarations.push(this.finishNode(p,"VariableDeclarator")),!this.eat(types$1.comma))break}return e};pp$8.parseVarId=function(e,r){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,r==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(e,r,o,l,p){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!l)&&(this.type===types$1.star&&r&FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat(types$1.star)),this.options.ecmaVersion>=8&&(e.async=!!l),r&FUNC_STATEMENT&&(e.id=r&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent(),e.id&&!(r&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var f=this.yieldPos,O=this.awaitPos,_=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),r&FUNC_STATEMENT||(e.id=this.type===types$1.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,o,!1,p),this.yieldPos=f,this.awaitPos=O,this.awaitIdentPos=_,this.finishNode(e,r&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")};pp$8.parseFunctionParams=function(e){this.expect(types$1.parenL),e.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$8.parseClass=function(e,r){this.next();var o=this.strict;this.strict=!0,this.parseClassId(e,r),this.parseClassSuper(e);var l=this.enterClassBody(),p=this.startNode(),f=!1;for(p.body=[],this.expect(types$1.braceL);this.type!==types$1.braceR;){var O=this.parseClassElement(e.superClass!==null);O&&(p.body.push(O),O.type==="MethodDefinition"&&O.kind==="constructor"?(f&&this.raiseRecoverable(O.start,"Duplicate constructor in the same class"),f=!0):O.key&&O.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(l,O)&&this.raiseRecoverable(O.key.start,"Identifier '#"+O.key.name+"' has already been declared"))}return this.strict=o,this.next(),e.body=this.finishNode(p,"ClassBody"),this.exitClassBody(),this.finishNode(e,r?"ClassDeclaration":"ClassExpression")};pp$8.parseClassElement=function(e){if(this.eat(types$1.semi))return null;var r=this.options.ecmaVersion,o=this.startNode(),l="",p=!1,f=!1,O="method",_=!1;if(this.eatContextual("static")){if(r>=13&&this.eat(types$1.braceL))return this.parseClassStaticBlock(o),o;this.isClassElementNameStart()||this.type===types$1.star?_=!0:l="static"}if(o.static=_,!l&&r>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()?f=!0:l="async"),!l&&(r>=9||!f)&&this.eat(types$1.star)&&(p=!0),!l&&!f&&!p){var S=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?O=S:l=S)}if(l?(o.computed=!1,o.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),o.key.name=l,this.finishNode(o.key,"Identifier")):this.parseClassElementName(o),r<13||this.type===types$1.parenL||O!=="method"||p||f){var v=!o.static&&checkKeyName(o,"constructor"),s=v&&e;v&&O!=="method"&&this.raise(o.key.start,"Constructor can't have get/set modifier"),o.kind=v?"constructor":O,this.parseClassMethod(o,p,f,s)}else this.parseClassField(o);return o};pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword};pp$8.parseClassElementName=function(e){this.type===types$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};pp$8.parseClassMethod=function(e,r,o,l){var p=e.key;e.kind==="constructor"?(r&&this.raise(p.start,"Constructor can't be a generator"),o&&this.raise(p.start,"Constructor can't be an async method")):e.static&&checkKeyName(e,"prototype")&&this.raise(p.start,"Classes may not have a static property named prototype");var f=e.value=this.parseMethod(r,o,l);return e.kind==="get"&&f.params.length!==0&&this.raiseRecoverable(f.start,"getter should have no params"),e.kind==="set"&&f.params.length!==1&&this.raiseRecoverable(f.start,"setter should have exactly one param"),e.kind==="set"&&f.params[0].type==="RestElement"&&this.raiseRecoverable(f.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};pp$8.parseClassField=function(e){if(checkKeyName(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&checkKeyName(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1.eq)){var r=this.currentThisScope(),o=r.inClassFieldInit;r.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),r.inClassFieldInit=o}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};pp$8.parseClassStaticBlock=function(e){e.body=[];var r=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1.braceR;){var o=this.parseStatement(null);e.body.push(o)}return this.next(),this.exitScope(),this.labels=r,this.finishNode(e,"StaticBlock")};pp$8.parseClassId=function(e,r){this.type===types$1.name?(e.id=this.parseIdent(),r&&this.checkLValSimple(e.id,BIND_LEXICAL,!1)):(r===!0&&this.unexpected(),e.id=null)};pp$8.parseClassSuper=function(e){e.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(null,!1):null};pp$8.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};pp$8.exitClassBody=function(){var e=this.privateNameStack.pop(),r=e.declared,o=e.used;if(this.options.checkPrivateFields)for(var l=this.privateNameStack.length,p=l===0?null:this.privateNameStack[l-1],f=0;f<o.length;++f){var O=o[f];hasOwn(r,O.name)||(p?p.used.push(O):this.raiseRecoverable(O.start,"Private field '#"+O.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(e,r){var o=r.key.name,l=e[o],p="true";return r.type==="MethodDefinition"&&(r.kind==="get"||r.kind==="set")&&(p=(r.static?"s":"i")+r.kind),l==="iget"&&p==="iset"||l==="iset"&&p==="iget"||l==="sget"&&p==="sset"||l==="sset"&&p==="sget"?(e[o]="true",!1):l?!0:(e[o]=p,!1)}function checkKeyName(e,r){var o=e.computed,l=e.key;return!o&&(l.type==="Identifier"&&l.name===r||l.type==="Literal"&&l.value===r)}pp$8.parseExportAllDeclaration=function(e,r){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(r,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};pp$8.parseExport=function(e,r){if(this.next(),this.eat(types$1.star))return this.parseExportAllDeclaration(e,r);if(this.eat(types$1._default))return this.checkExport(r,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(r,e.declaration.declarations):this.checkExport(r,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from"))this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,l=e.specifiers;o<l.length;o+=1){var p=l[o];this.checkUnreserved(p.local),this.checkLocalExport(p.local),p.local.type==="Literal"&&this.raise(p.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};pp$8.parseExportDeclaration=function(e){return this.parseStatement(null)};pp$8.parseExportDefaultDeclaration=function(){var e;if(this.type===types$1._function||(e=this.isAsyncFunction())){var r=this.startNode();return this.next(),e&&this.next(),this.parseFunction(r,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,e)}else if(this.type===types$1._class){var o=this.startNode();return this.parseClass(o,"nullableID")}else{var l=this.parseMaybeAssign();return this.semicolon(),l}};pp$8.checkExport=function(e,r,o){e&&(typeof r!="string"&&(r=r.type==="Identifier"?r.name:r.value),hasOwn(e,r)&&this.raiseRecoverable(o,"Duplicate export '"+r+"'"),e[r]=!0)};pp$8.checkPatternExport=function(e,r){var o=r.type;if(o==="Identifier")this.checkExport(e,r,r.start);else if(o==="ObjectPattern")for(var l=0,p=r.properties;l<p.length;l+=1){var f=p[l];this.checkPatternExport(e,f)}else if(o==="ArrayPattern")for(var O=0,_=r.elements;O<_.length;O+=1){var S=_[O];S&&this.checkPatternExport(e,S)}else o==="Property"?this.checkPatternExport(e,r.value):o==="AssignmentPattern"?this.checkPatternExport(e,r.left):o==="RestElement"&&this.checkPatternExport(e,r.argument)};pp$8.checkVariableExport=function(e,r){if(e)for(var o=0,l=r;o<l.length;o+=1){var p=l[o];this.checkPatternExport(e,p.id)}};pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$8.parseExportSpecifier=function(e){var r=this.startNode();return r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(e,r.exported,r.exported.start),this.finishNode(r,"ExportSpecifier")};pp$8.parseExportSpecifiers=function(e){var r=[],o=!0;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(o)o=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;r.push(this.parseExportSpecifier(e))}return r};pp$8.parseImport=function(e){return this.next(),this.type===types$1.string?(e.specifiers=empty$1,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};pp$8.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportSpecifier")};pp$8.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportDefaultSpecifier")};pp$8.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportNamespaceSpecifier")};pp$8.parseImportSpecifiers=function(){var e=[],r=!0;if(this.type===types$1.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(types$1.comma)))return e;if(this.type===types$1.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(r)r=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;e.push(this.parseImportSpecifier())}return e};pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var e=this.parseLiteral(this.value);return loneSurrogate.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};pp$8.adaptDirectivePrologue=function(e){for(var r=0;r<e.length&&this.isDirectiveCandidate(e[r]);++r)e[r].directive=e[r].expression.raw.slice(1,-1)};pp$8.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(e,r,o){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",o&&this.checkPatternErrors(o,!0);for(var l=0,p=e.properties;l<p.length;l+=1){var f=p[l];this.toAssignable(f,r),f.type==="RestElement"&&(f.argument.type==="ArrayPattern"||f.argument.type==="ObjectPattern")&&this.raise(f.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,r);break;case"ArrayExpression":e.type="ArrayPattern",o&&this.checkPatternErrors(o,!0),this.toAssignableList(e.elements,r);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,r),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,r);break;case"ParenthesizedExpression":this.toAssignable(e.expression,r,o);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!r)break;default:this.raise(e.start,"Assigning to rvalue")}else o&&this.checkPatternErrors(o,!0);return e};pp$7.toAssignableList=function(e,r){for(var o=e.length,l=0;l<o;l++){var p=e[l];p&&this.toAssignable(p,r)}if(o){var f=e[o-1];this.options.ecmaVersion===6&&r&&f&&f.type==="RestElement"&&f.argument.type!=="Identifier"&&this.unexpected(f.argument.start)}return e};pp$7.parseSpread=function(e){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssign(!1,e),this.finishNode(r,"SpreadElement")};pp$7.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(types$1.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case types$1.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$7.parseBindingList=function(e,r,o,l){for(var p=[],f=!0;!this.eat(e);)if(f?f=!1:this.expect(types$1.comma),r&&this.type===types$1.comma)p.push(null);else{if(o&&this.afterTrailingComma(e))break;if(this.type===types$1.ellipsis){var O=this.parseRestBinding();this.parseBindingListItem(O),p.push(O),this.type===types$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else p.push(this.parseAssignableListItem(l))}return p};pp$7.parseAssignableListItem=function(e){var r=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(r),r};pp$7.parseBindingListItem=function(e){return e};pp$7.parseMaybeDefault=function(e,r,o){if(o=o||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1.eq))return o;var l=this.startNodeAt(e,r);return l.left=o,l.right=this.parseMaybeAssign(),this.finishNode(l,"AssignmentPattern")};pp$7.checkLValSimple=function(e,r,o){r===void 0&&(r=BIND_NONE);var l=r!==BIND_NONE;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(l?"Binding ":"Assigning to ")+e.name+" in strict mode"),l&&(r===BIND_LEXICAL&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),o&&(hasOwn(o,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),o[e.name]=!0),r!==BIND_OUTSIDE&&this.declareName(e.name,r,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":l&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return l&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,r,o);default:this.raise(e.start,(l?"Binding":"Assigning to")+" rvalue")}};pp$7.checkLValPattern=function(e,r,o){switch(r===void 0&&(r=BIND_NONE),e.type){case"ObjectPattern":for(var l=0,p=e.properties;l<p.length;l+=1){var f=p[l];this.checkLValInnerPattern(f,r,o)}break;case"ArrayPattern":for(var O=0,_=e.elements;O<_.length;O+=1){var S=_[O];S&&this.checkLValInnerPattern(S,r,o)}break;default:this.checkLValSimple(e,r,o)}};pp$7.checkLValInnerPattern=function(e,r,o){switch(r===void 0&&(r=BIND_NONE),e.type){case"Property":this.checkLValInnerPattern(e.value,r,o);break;case"AssignmentPattern":this.checkLValPattern(e.left,r,o);break;case"RestElement":this.checkLValPattern(e.argument,r,o);break;default:this.checkLValPattern(e,r,o)}};var TokContext=function e(r,o,l,p,f){this.token=r,this.isExpr=!!o,this.preserveSpace=!!l,this.override=p,this.generator=!!f},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]};pp$6.curContext=function(){return this.context[this.context.length-1]};pp$6.braceIsBlock=function(e){var r=this.curContext();return r===types.f_expr||r===types.f_stat?!0:e===types$1.colon&&(r===types.b_stat||r===types.b_expr)?!r.isExpr:e===types$1._return||e===types$1.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===types$1._else||e===types$1.semi||e===types$1.eof||e===types$1.parenR||e===types$1.arrow?!0:e===types$1.braceL?r===types.b_stat:e===types$1._var||e===types$1._const||e===types$1.name?!1:!this.exprAllowed};pp$6.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var r=this.context[e];if(r.token==="function")return r.generator}return!1};pp$6.updateContext=function(e){var r,o=this.type;o.keyword&&e===types$1.dot?this.exprAllowed=!1:(r=o.updateContext)?r.call(this,e):this.exprAllowed=o.beforeExpr};pp$6.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===types.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};types$1.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?types.b_stat:types.b_expr),this.exprAllowed=!0};types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0};types$1.parenL.updateContext=function(e){var r=e===types$1._if||e===types$1._for||e===types$1._with||e===types$1._while;this.context.push(r?types.p_stat:types.p_expr),this.exprAllowed=!0};types$1.incDec.updateContext=function(){};types$1._function.updateContext=types$1._class.updateContext=function(e){e.beforeExpr&&e!==types$1._else&&!(e===types$1.semi&&this.curContext()!==types.p_stat)&&!(e===types$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===types$1.colon||e===types$1.braceL)&&this.curContext()===types.b_stat)?this.context.push(types.f_expr):this.context.push(types.f_stat),this.exprAllowed=!1};types$1.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};types$1.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};types$1.star.updateContext=function(e){if(e===types$1._function){var r=this.context.length-1;this.context[r]===types.f_expr?this.context[r]=types.f_expr_gen:this.context[r]=types.f_gen}this.exprAllowed=!0};types$1.name.updateContext=function(e){var r=!1;this.options.ecmaVersion>=6&&e!==types$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(r=!0),this.exprAllowed=r};var pp$5=Parser.prototype;pp$5.checkPropClash=function(e,r,o){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var l=e.key,p;switch(l.type){case"Identifier":p=l.name;break;case"Literal":p=String(l.value);break;default:return}var f=e.kind;if(this.options.ecmaVersion>=6){p==="__proto__"&&f==="init"&&(r.proto&&(o?o.doubleProto<0&&(o.doubleProto=l.start):this.raiseRecoverable(l.start,"Redefinition of __proto__ property")),r.proto=!0);return}p="$"+p;var O=r[p];if(O){var _;f==="init"?_=this.strict&&O.init||O.get||O.set:_=O.init||O[f],_&&this.raiseRecoverable(l.start,"Redefinition of property")}else O=r[p]={init:!1,get:!1,set:!1};O[f]=!0}};pp$5.parseExpression=function(e,r){var o=this.start,l=this.startLoc,p=this.parseMaybeAssign(e,r);if(this.type===types$1.comma){var f=this.startNodeAt(o,l);for(f.expressions=[p];this.eat(types$1.comma);)f.expressions.push(this.parseMaybeAssign(e,r));return this.finishNode(f,"SequenceExpression")}return p};pp$5.parseMaybeAssign=function(e,r,o){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var l=!1,p=-1,f=-1,O=-1;r?(p=r.parenthesizedAssign,f=r.trailingComma,O=r.doubleProto,r.parenthesizedAssign=r.trailingComma=-1):(r=new DestructuringErrors,l=!0);var _=this.start,S=this.startLoc;(this.type===types$1.parenL||this.type===types$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var v=this.parseMaybeConditional(e,r);if(o&&(v=o.call(this,v,_,S)),this.type.isAssign){var s=this.startNodeAt(_,S);return s.operator=this.value,this.type===types$1.eq&&(v=this.toAssignable(v,!1,r)),l||(r.parenthesizedAssign=r.trailingComma=r.doubleProto=-1),r.shorthandAssign>=v.start&&(r.shorthandAssign=-1),this.type===types$1.eq?this.checkLValPattern(v):this.checkLValSimple(v),s.left=v,this.next(),s.right=this.parseMaybeAssign(e),O>-1&&(r.doubleProto=O),this.finishNode(s,"AssignmentExpression")}else l&&this.checkExpressionErrors(r,!0);return p>-1&&(r.parenthesizedAssign=p),f>-1&&(r.trailingComma=f),v};pp$5.parseMaybeConditional=function(e,r){var o=this.start,l=this.startLoc,p=this.parseExprOps(e,r);if(this.checkExpressionErrors(r))return p;if(this.eat(types$1.question)){var f=this.startNodeAt(o,l);return f.test=p,f.consequent=this.parseMaybeAssign(),this.expect(types$1.colon),f.alternate=this.parseMaybeAssign(e),this.finishNode(f,"ConditionalExpression")}return p};pp$5.parseExprOps=function(e,r){var o=this.start,l=this.startLoc,p=this.parseMaybeUnary(r,!1,!1,e);return this.checkExpressionErrors(r)||p.start===o&&p.type==="ArrowFunctionExpression"?p:this.parseExprOp(p,o,l,-1,e)};pp$5.parseExprOp=function(e,r,o,l,p){var f=this.type.binop;if(f!=null&&(!p||this.type!==types$1._in)&&f>l){var O=this.type===types$1.logicalOR||this.type===types$1.logicalAND,_=this.type===types$1.coalesce;_&&(f=types$1.logicalAND.binop);var S=this.value;this.next();var v=this.start,s=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,p),v,s,f,p),g=this.buildBinary(r,o,e,d,S,O||_);return(O&&this.type===types$1.coalesce||_&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(g,r,o,l,p)}return e};pp$5.buildBinary=function(e,r,o,l,p,f){l.type==="PrivateIdentifier"&&this.raise(l.start,"Private identifier can only be left side of binary expression");var O=this.startNodeAt(e,r);return O.left=o,O.operator=p,O.right=l,this.finishNode(O,f?"LogicalExpression":"BinaryExpression")};pp$5.parseMaybeUnary=function(e,r,o,l){var p=this.start,f=this.startLoc,O;if(this.isContextual("await")&&this.canAwait)O=this.parseAwait(l),r=!0;else if(this.type.prefix){var _=this.startNode(),S=this.type===types$1.incDec;_.operator=this.value,_.prefix=!0,this.next(),_.argument=this.parseMaybeUnary(null,!0,S,l),this.checkExpressionErrors(e,!0),S?this.checkLValSimple(_.argument):this.strict&&_.operator==="delete"&&isLocalVariableAccess(_.argument)?this.raiseRecoverable(_.start,"Deleting local variable in strict mode"):_.operator==="delete"&&isPrivateFieldAccess(_.argument)?this.raiseRecoverable(_.start,"Private fields can not be deleted"):r=!0,O=this.finishNode(_,S?"UpdateExpression":"UnaryExpression")}else if(!r&&this.type===types$1.privateId)(l||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),O=this.parsePrivateIdent(),this.type!==types$1._in&&this.unexpected();else{if(O=this.parseExprSubscripts(e,l),this.checkExpressionErrors(e))return O;for(;this.type.postfix&&!this.canInsertSemicolon();){var v=this.startNodeAt(p,f);v.operator=this.value,v.prefix=!1,v.argument=O,this.checkLValSimple(O),this.next(),O=this.finishNode(v,"UpdateExpression")}}if(!o&&this.eat(types$1.starstar))if(r)this.unexpected(this.lastTokStart);else return this.buildBinary(p,f,O,this.parseMaybeUnary(null,!1,!1,l),"**",!1);else return O};function isLocalVariableAccess(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&isLocalVariableAccess(e.expression)}function isPrivateFieldAccess(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&isPrivateFieldAccess(e.expression)||e.type==="ParenthesizedExpression"&&isPrivateFieldAccess(e.expression)}pp$5.parseExprSubscripts=function(e,r){var o=this.start,l=this.startLoc,p=this.parseExprAtom(e,r);if(p.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return p;var f=this.parseSubscripts(p,o,l,!1,r);return e&&f.type==="MemberExpression"&&(e.parenthesizedAssign>=f.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=f.start&&(e.parenthesizedBind=-1),e.trailingComma>=f.start&&(e.trailingComma=-1)),f};pp$5.parseSubscripts=function(e,r,o,l,p){for(var f=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,O=!1;;){var _=this.parseSubscript(e,r,o,l,f,O,p);if(_.optional&&(O=!0),_===e||_.type==="ArrowFunctionExpression"){if(O){var S=this.startNodeAt(r,o);S.expression=_,_=this.finishNode(S,"ChainExpression")}return _}e=_}};pp$5.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(types$1.arrow)};pp$5.parseSubscriptAsyncArrow=function(e,r,o,l){return this.parseArrowExpression(this.startNodeAt(e,r),o,!0,l)};pp$5.parseSubscript=function(e,r,o,l,p,f,O){var _=this.options.ecmaVersion>=11,S=_&&this.eat(types$1.questionDot);l&&S&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var v=this.eat(types$1.bracketL);if(v||S&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var s=this.startNodeAt(r,o);s.object=e,v?(s.property=this.parseExpression(),this.expect(types$1.bracketR)):this.type===types$1.privateId&&e.type!=="Super"?s.property=this.parsePrivateIdent():s.property=this.parseIdent(this.options.allowReserved!=="never"),s.computed=!!v,_&&(s.optional=S),e=this.finishNode(s,"MemberExpression")}else if(!l&&this.eat(types$1.parenL)){var d=new DestructuringErrors,g=this.yieldPos,P=this.awaitPos,R=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var I=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1,d);if(p&&!S&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=g,this.awaitPos=P,this.awaitIdentPos=R,this.parseSubscriptAsyncArrow(r,o,I,O);this.checkExpressionErrors(d,!0),this.yieldPos=g||this.yieldPos,this.awaitPos=P||this.awaitPos,this.awaitIdentPos=R||this.awaitIdentPos;var j=this.startNodeAt(r,o);j.callee=e,j.arguments=I,_&&(j.optional=S),e=this.finishNode(j,"CallExpression")}else if(this.type===types$1.backQuote){(S||f)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var L=this.startNodeAt(r,o);L.tag=e,L.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(L,"TaggedTemplateExpression")}return e};pp$5.parseExprAtom=function(e,r,o){this.type===types$1.slash&&this.readRegexp();var l,p=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),l=this.startNode(),this.next(),this.type===types$1.parenL&&!this.allowDirectSuper&&this.raise(l.start,"super() call outside constructor of a subclass"),this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL&&this.unexpected(),this.finishNode(l,"Super");case types$1._this:return l=this.startNode(),this.next(),this.finishNode(l,"ThisExpression");case types$1.name:var f=this.start,O=this.startLoc,_=this.containsEsc,S=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!_&&S.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function))return this.overrideContext(types.f_expr),this.parseFunction(this.startNodeAt(f,O),0,!1,!0,r);if(p&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow))return this.parseArrowExpression(this.startNodeAt(f,O),[S],!1,r);if(this.options.ecmaVersion>=8&&S.name==="async"&&this.type===types$1.name&&!_&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return S=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(f,O),[S],!0,r)}return S;case types$1.regexp:var v=this.value;return l=this.parseLiteral(v.value),l.regex={pattern:v.pattern,flags:v.flags},l;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:return l=this.startNode(),l.value=this.type===types$1._null?null:this.type===types$1._true,l.raw=this.type.keyword,this.next(),this.finishNode(l,"Literal");case types$1.parenL:var s=this.start,d=this.parseParenAndDistinguishExpression(p,r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(e.parenthesizedAssign=s),e.parenthesizedBind<0&&(e.parenthesizedBind=s)),d;case types$1.bracketL:return l=this.startNode(),this.next(),l.elements=this.parseExprList(types$1.bracketR,!0,!0,e),this.finishNode(l,"ArrayExpression");case types$1.braceL:return this.overrideContext(types.b_expr),this.parseObj(!1,e);case types$1._function:return l=this.startNode(),this.next(),this.parseFunction(l,0);case types$1._class:return this.parseClass(this.startNode(),!1);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:return this.options.ecmaVersion>=11?this.parseExprImport(o):this.unexpected();default:return this.parseExprAtomDefault()}};pp$5.parseExprAtomDefault=function(){this.unexpected()};pp$5.parseExprImport=function(e){var r=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===types$1.parenL&&!e)return this.parseDynamicImport(r);if(this.type===types$1.dot){var o=this.startNodeAt(r.start,r.loc&&r.loc.start);return o.name="import",r.meta=this.finishNode(o,"Identifier"),this.parseImportMeta(r)}else this.unexpected()};pp$5.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(types$1.parenR)){var r=this.start;this.eat(types$1.comma)&&this.eat(types$1.parenR)?this.raiseRecoverable(r,"Trailing comma is not allowed in import()"):this.unexpected(r)}return this.finishNode(e,"ImportExpression")};pp$5.parseImportMeta=function(e){this.next();var r=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),r&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};pp$5.parseLiteral=function(e){var r=this.startNode();return r.value=e,r.raw=this.input.slice(this.start,this.end),r.raw.charCodeAt(r.raw.length-1)===110&&(r.bigint=r.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(r,"Literal")};pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var e=this.parseExpression();return this.expect(types$1.parenR),e};pp$5.shouldParseArrow=function(e){return!this.canInsertSemicolon()};pp$5.parseParenAndDistinguishExpression=function(e,r){var o=this.start,l=this.startLoc,p,f=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var O=this.start,_=this.startLoc,S=[],v=!0,s=!1,d=new DestructuringErrors,g=this.yieldPos,P=this.awaitPos,R;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1.parenR;)if(v?v=!1:this.expect(types$1.comma),f&&this.afterTrailingComma(types$1.parenR,!0)){s=!0;break}else if(this.type===types$1.ellipsis){R=this.start,S.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else S.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var I=this.lastTokEnd,j=this.lastTokEndLoc;if(this.expect(types$1.parenR),e&&this.shouldParseArrow(S)&&this.eat(types$1.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=g,this.awaitPos=P,this.parseParenArrowList(o,l,S,r);(!S.length||s)&&this.unexpected(this.lastTokStart),R&&this.unexpected(R),this.checkExpressionErrors(d,!0),this.yieldPos=g||this.yieldPos,this.awaitPos=P||this.awaitPos,S.length>1?(p=this.startNodeAt(O,_),p.expressions=S,this.finishNodeAt(p,"SequenceExpression",I,j)):p=S[0]}else p=this.parseParenExpression();if(this.options.preserveParens){var L=this.startNodeAt(o,l);return L.expression=p,this.finishNode(L,"ParenthesizedExpression")}else return p};pp$5.parseParenItem=function(e){return e};pp$5.parseParenArrowList=function(e,r,o,l){return this.parseArrowExpression(this.startNodeAt(e,r),o,!1,l)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===types$1.dot){var r=this.startNodeAt(e.start,e.loc&&e.loc.start);r.name="new",e.meta=this.finishNode(r,"Identifier"),this.next();var o=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),o&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var l=this.start,p=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),l,p,!0,!1),this.eat(types$1.parenL)?e.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1):e.arguments=empty,this.finishNode(e,"NewExpression")};pp$5.parseTemplateElement=function(e){var r=e.isTagged,o=this.startNode();return this.type===types$1.invalidTemplate?(r||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),o.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):o.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),o.tail=this.type===types$1.backQuote,this.finishNode(o,"TemplateElement")};pp$5.parseTemplate=function(e){e===void 0&&(e={});var r=e.isTagged;r===void 0&&(r=!1);var o=this.startNode();this.next(),o.expressions=[];var l=this.parseTemplateElement({isTagged:r});for(o.quasis=[l];!l.tail;)this.type===types$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1.dollarBraceL),o.expressions.push(this.parseExpression()),this.expect(types$1.braceR),o.quasis.push(l=this.parseTemplateElement({isTagged:r}));return this.next(),this.finishNode(o,"TemplateLiteral")};pp$5.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$5.parseObj=function(e,r){var o=this.startNode(),l=!0,p={};for(o.properties=[],this.next();!this.eat(types$1.braceR);){if(l)l=!1;else if(this.expect(types$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR))break;var f=this.parseProperty(e,r);e||this.checkPropClash(f,p,r),o.properties.push(f)}return this.finishNode(o,e?"ObjectPattern":"ObjectExpression")};pp$5.parseProperty=function(e,r){var o=this.startNode(),l,p,f,O;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===types$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,r),this.type===types$1.comma&&r&&r.trailingComma<0&&(r.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||r)&&(f=this.start,O=this.startLoc),e||(l=this.eat(types$1.star)));var _=this.containsEsc;return this.parsePropertyName(o),!e&&!_&&this.options.ecmaVersion>=8&&!l&&this.isAsyncProp(o)?(p=!0,l=this.options.ecmaVersion>=9&&this.eat(types$1.star),this.parsePropertyName(o)):p=!1,this.parsePropertyValue(o,e,l,p,f,O,r,_),this.finishNode(o,"Property")};pp$5.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var r=e.kind==="get"?0:1;if(e.value.params.length!==r){var o=e.value.start;e.kind==="get"?this.raiseRecoverable(o,"getter should have no params"):this.raiseRecoverable(o,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};pp$5.parsePropertyValue=function(e,r,o,l,p,f,O,_){(o||l)&&this.type===types$1.colon&&this.unexpected(),this.eat(types$1.colon)?(e.value=r?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,O),e.kind="init"):this.options.ecmaVersion>=6&&this.type===types$1.parenL?(r&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(o,l)):!r&&!_&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq?((o||l)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((o||l)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=p),e.kind="init",r?e.value=this.parseMaybeDefault(p,f,this.copyNode(e.key)):this.type===types$1.eq&&O?(O.shorthandAssign<0&&(O.shorthandAssign=this.start),e.value=this.parseMaybeDefault(p,f,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};pp$5.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(types$1.bracketR),e.key;e.computed=!1}return e.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pp$5.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};pp$5.parseMethod=function(e,r,o){var l=this.startNode(),p=this.yieldPos,f=this.awaitPos,O=this.awaitIdentPos;return this.initFunction(l),this.options.ecmaVersion>=6&&(l.generator=e),this.options.ecmaVersion>=8&&(l.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(r,l.generator)|SCOPE_SUPER|(o?SCOPE_DIRECT_SUPER:0)),this.expect(types$1.parenL),l.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(l,!1,!0,!1),this.yieldPos=p,this.awaitPos=f,this.awaitIdentPos=O,this.finishNode(l,"FunctionExpression")};pp$5.parseArrowExpression=function(e,r,o,l){var p=this.yieldPos,f=this.awaitPos,O=this.awaitIdentPos;return this.enterScope(functionFlags(o,!1)|SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!o),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(r,!0),this.parseFunctionBody(e,!0,!1,l),this.yieldPos=p,this.awaitPos=f,this.awaitIdentPos=O,this.finishNode(e,"ArrowFunctionExpression")};pp$5.parseFunctionBody=function(e,r,o,l){var p=r&&this.type!==types$1.braceL,f=this.strict,O=!1;if(p)e.body=this.parseMaybeAssign(l),e.expression=!0,this.checkParams(e,!1);else{var _=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!f||_)&&(O=this.strictDirective(this.end),O&&_&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var S=this.labels;this.labels=[],O&&(this.strict=!0),this.checkParams(e,!f&&!O&&!r&&!o&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,BIND_OUTSIDE),e.body=this.parseBlock(!1,void 0,O&&!f),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=S}this.exitScope()};pp$5.isSimpleParamList=function(e){for(var r=0,o=e;r<o.length;r+=1){var l=o[r];if(l.type!=="Identifier")return!1}return!0};pp$5.checkParams=function(e,r){for(var o=Object.create(null),l=0,p=e.params;l<p.length;l+=1){var f=p[l];this.checkLValInnerPattern(f,BIND_VAR,r?null:o)}};pp$5.parseExprList=function(e,r,o,l){for(var p=[],f=!0;!this.eat(e);){if(f)f=!1;else if(this.expect(types$1.comma),r&&this.afterTrailingComma(e))break;var O=void 0;o&&this.type===types$1.comma?O=null:this.type===types$1.ellipsis?(O=this.parseSpread(l),l&&this.type===types$1.comma&&l.trailingComma<0&&(l.trailingComma=this.start)):O=this.parseMaybeAssign(!1,l),p.push(O)}return p};pp$5.checkUnreserved=function(e){var r=e.start,o=e.end,l=e.name;if(this.inGenerator&&l==="yield"&&this.raiseRecoverable(r,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&l==="await"&&this.raiseRecoverable(r,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&l==="arguments"&&this.raiseRecoverable(r,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(l==="arguments"||l==="await")&&this.raise(r,"Cannot use "+l+" in class static initialization block"),this.keywords.test(l)&&this.raise(r,"Unexpected keyword '"+l+"'"),!(this.options.ecmaVersion<6&&this.input.slice(r,o).indexOf("\\")!==-1)){var p=this.strict?this.reservedWordsStrict:this.reservedWords;p.test(l)&&(!this.inAsync&&l==="await"&&this.raiseRecoverable(r,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(r,"The keyword '"+l+"' is reserved"))}};pp$5.parseIdent=function(e){var r=this.parseIdentNode();return this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};pp$5.parseIdentNode=function(){var e=this.startNode();return this.type===types$1.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=types$1.name):this.unexpected(),e};pp$5.parsePrivateIdent=function(){var e=this.startNode();return this.type===types$1.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};pp$5.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(types$1.star),r.argument=this.parseMaybeAssign(e)),this.finishNode(r,"YieldExpression")};pp$5.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(r,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(e,r){var o=getLineInfo(this.input,e);r+=" ("+o.line+":"+o.column+")";var l=new SyntaxError(r);throw l.pos=e,l.loc=o,l.raisedAt=this.pos,l};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function e(r){this.flags=r,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};pp$3.enterScope=function(e){this.scopeStack.push(new Scope(e))};pp$3.exitScope=function(){this.scopeStack.pop()};pp$3.treatFunctionsAsVarInScope=function(e){return e.flags&SCOPE_FUNCTION||!this.inModule&&e.flags&SCOPE_TOP};pp$3.declareName=function(e,r,o){var l=!1;if(r===BIND_LEXICAL){var p=this.currentScope();l=p.lexical.indexOf(e)>-1||p.functions.indexOf(e)>-1||p.var.indexOf(e)>-1,p.lexical.push(e),this.inModule&&p.flags&SCOPE_TOP&&delete this.undefinedExports[e]}else if(r===BIND_SIMPLE_CATCH){var f=this.currentScope();f.lexical.push(e)}else if(r===BIND_FUNCTION){var O=this.currentScope();this.treatFunctionsAsVar?l=O.lexical.indexOf(e)>-1:l=O.lexical.indexOf(e)>-1||O.var.indexOf(e)>-1,O.functions.push(e)}else for(var _=this.scopeStack.length-1;_>=0;--_){var S=this.scopeStack[_];if(S.lexical.indexOf(e)>-1&&!(S.flags&SCOPE_SIMPLE_CATCH&&S.lexical[0]===e)||!this.treatFunctionsAsVarInScope(S)&&S.functions.indexOf(e)>-1){l=!0;break}if(S.var.push(e),this.inModule&&S.flags&SCOPE_TOP&&delete this.undefinedExports[e],S.flags&SCOPE_VAR)break}l&&this.raiseRecoverable(o,"Identifier '"+e+"' has already been declared")};pp$3.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pp$3.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var r=this.scopeStack[e];if(r.flags&SCOPE_VAR)return r}};pp$3.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var r=this.scopeStack[e];if(r.flags&SCOPE_VAR&&!(r.flags&SCOPE_ARROW))return r}};var Node=function e(r,o,l){this.type="",this.start=o,this.end=0,r.options.locations&&(this.loc=new SourceLocation(r,l)),r.options.directSourceFile&&(this.sourceFile=r.options.directSourceFile),r.options.ranges&&(this.range=[o,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$2.startNodeAt=function(e,r){return new Node(this,e,r)};function finishNodeAt(e,r,o,l){return e.type=r,e.end=o,this.options.locations&&(e.loc.end=l),this.options.ranges&&(e.range[1]=o),e}pp$2.finishNode=function(e,r){return finishNodeAt.call(this,e,r,this.lastTokEnd,this.lastTokEndLoc)};pp$2.finishNodeAt=function(e,r,o,l){return finishNodeAt.call(this,e,r,o,l)};pp$2.copyNode=function(e){var r=new Node(this,e.start,this.startLoc);for(var o in e)r[o]=e[o];return r};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,ecma14BinaryProperties=ecma13BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties,14:ecma14BinaryProperties},ecma14BinaryPropertiesOfStrings="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",unicodeBinaryPropertiesOfStrings={9:"",10:"",11:"",12:"",13:"",14:ecma14BinaryPropertiesOfStrings},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ecma14ScriptValues=ecma13ScriptValues+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues,14:ecma14ScriptValues},data$2={};function buildUnicodeData(e){var r=data$2[e]={binary:wordsRegexp(unicodeBinaryProperties[e]+" "+unicodeGeneralCategoryValues),binaryOfStrings:wordsRegexp(unicodeBinaryPropertiesOfStrings[e]),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[e])}};r.nonBinary.Script_Extensions=r.nonBinary.Script,r.nonBinary.gc=r.nonBinary.General_Category,r.nonBinary.sc=r.nonBinary.Script,r.nonBinary.scx=r.nonBinary.Script_Extensions}for(var i$1=0,list=[9,10,11,12,13,14];i$1<list.length;i$1+=1){var ecmaVersion=list[i$1];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,BranchID=function e(r,o){this.parent=r,this.base=o||this};BranchID.prototype.separatedFrom=function e(r){for(var o=this;o;o=o.parent)for(var l=r;l;l=l.parent)if(o.base===l.base&&o!==l)return!0;return!1};BranchID.prototype.sibling=function e(){return new BranchID(this.parent,this.base)};var RegExpValidationState=function e(r){this.parser=r,this.validFlags="gim"+(r.options.ecmaVersion>=6?"uy":"")+(r.options.ecmaVersion>=9?"s":"")+(r.options.ecmaVersion>=13?"d":"")+(r.options.ecmaVersion>=15?"v":""),this.unicodeProperties=data$2[r.options.ecmaVersion>=14?14:r.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};RegExpValidationState.prototype.reset=function e(r,o,l){var p=l.indexOf("v")!==-1,f=l.indexOf("u")!==-1;this.start=r|0,this.source=o+"",this.flags=l,p&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=f&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=f&&this.parser.options.ecmaVersion>=9)};RegExpValidationState.prototype.raise=function e(r){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+r)};RegExpValidationState.prototype.at=function e(r,o){o===void 0&&(o=!1);var l=this.source,p=l.length;if(r>=p)return-1;var f=l.charCodeAt(r);if(!(o||this.switchU)||f<=55295||f>=57344||r+1>=p)return f;var O=l.charCodeAt(r+1);return O>=56320&&O<=57343?(f<<10)+O-56613888:f};RegExpValidationState.prototype.nextIndex=function e(r,o){o===void 0&&(o=!1);var l=this.source,p=l.length;if(r>=p)return p;var f=l.charCodeAt(r),O;return!(o||this.switchU)||f<=55295||f>=57344||r+1>=p||(O=l.charCodeAt(r+1))<56320||O>57343?r+1:r+2};RegExpValidationState.prototype.current=function e(r){return r===void 0&&(r=!1),this.at(this.pos,r)};RegExpValidationState.prototype.lookahead=function e(r){return r===void 0&&(r=!1),this.at(this.nextIndex(this.pos,r),r)};RegExpValidationState.prototype.advance=function e(r){r===void 0&&(r=!1),this.pos=this.nextIndex(this.pos,r)};RegExpValidationState.prototype.eat=function e(r,o){return o===void 0&&(o=!1),this.current(o)===r?(this.advance(o),!0):!1};RegExpValidationState.prototype.eatChars=function e(r,o){o===void 0&&(o=!1);for(var l=this.pos,p=0,f=r;p<f.length;p+=1){var O=f[p],_=this.at(l,o);if(_===-1||_!==O)return!1;l=this.nextIndex(l,o)}return this.pos=l,!0};pp$1.validateRegExpFlags=function(e){for(var r=e.validFlags,o=e.flags,l=!1,p=!1,f=0;f<o.length;f++){var O=o.charAt(f);r.indexOf(O)===-1&&this.raise(e.start,"Invalid regular expression flag"),o.indexOf(O,f+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),O==="u"&&(l=!0),O==="v"&&(p=!0)}this.options.ecmaVersion>=15&&l&&p&&this.raise(e.start,"Invalid regular expression flag")};function hasProp(e){for(var r in e)return!0;return!1}pp$1.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&hasProp(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))};pp$1.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var r=0,o=e.backReferenceNames;r<o.length;r+=1){var l=o[r];e.groupNames[l]||e.raise("Invalid named capture referenced")}};pp$1.regexp_disjunction=function(e){var r=this.options.ecmaVersion>=16;for(r&&(e.branchID=new BranchID(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)r&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);r&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};pp$1.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};pp$1.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};pp$1.regexp_eatAssertion=function(e){var r=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=r}if(e.eat(40)&&e.eat(63)){var o=!1;if(this.options.ecmaVersion>=9&&(o=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!o,!0}return e.pos=r,!1};pp$1.regexp_eatQuantifier=function(e,r){return r===void 0&&(r=!1),this.regexp_eatQuantifierPrefix(e,r)?(e.eat(63),!0):!1};pp$1.regexp_eatQuantifierPrefix=function(e,r){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,r)};pp$1.regexp_eatBracedQuantifier=function(e,r){var o=e.pos;if(e.eat(123)){var l=0,p=-1;if(this.regexp_eatDecimalDigits(e)&&(l=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(p=e.lastIntValue),e.eat(125)))return p!==-1&&p<l&&!r&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!r&&e.raise("Incomplete quantifier"),e.pos=o}return!1};pp$1.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};pp$1.regexp_eatReverseSolidusAtomEscape=function(e){var r=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=r}return!1};pp$1.regexp_eatUncapturingGroup=function(e){var r=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=r}return!1};pp$1.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};pp$1.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};pp$1.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};pp$1.regexp_eatSyntaxCharacter=function(e){var r=e.current();return isSyntaxCharacter(r)?(e.lastIntValue=r,e.advance(),!0):!1};function isSyntaxCharacter(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}pp$1.regexp_eatPatternCharacters=function(e){for(var r=e.pos,o=0;(o=e.current())!==-1&&!isSyntaxCharacter(o);)e.advance();return e.pos!==r};pp$1.regexp_eatExtendedPatternCharacter=function(e){var r=e.current();return r!==-1&&r!==36&&!(r>=40&&r<=43)&&r!==46&&r!==63&&r!==91&&r!==94&&r!==124?(e.advance(),!0):!1};pp$1.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var r=this.options.ecmaVersion>=16,o=e.groupNames[e.lastStringValue];if(o)if(r)for(var l=0,p=o;l<p.length;l+=1){var f=p[l];f.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");r?(o||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}};pp$1.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};pp$1.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString(e.lastIntValue);return!0}return!1};pp$1.regexp_eatRegExpIdentifierStart=function(e){var r=e.pos,o=this.options.ecmaVersion>=11,l=e.current(o);return e.advance(o),l===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,o)&&(l=e.lastIntValue),isRegExpIdentifierStart(l)?(e.lastIntValue=l,!0):(e.pos=r,!1)};function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||e===36||e===95}pp$1.regexp_eatRegExpIdentifierPart=function(e){var r=e.pos,o=this.options.ecmaVersion>=11,l=e.current(o);return e.advance(o),l===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,o)&&(l=e.lastIntValue),isRegExpIdentifierPart(l)?(e.lastIntValue=l,!0):(e.pos=r,!1)};function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||e===36||e===95||e===8204||e===8205}pp$1.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};pp$1.regexp_eatBackReference=function(e){var r=e.pos;if(this.regexp_eatDecimalEscape(e)){var o=e.lastIntValue;if(e.switchU)return o>e.maxBackReference&&(e.maxBackReference=o),!0;if(o<=e.numCapturingParens)return!0;e.pos=r}return!1};pp$1.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};pp$1.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};pp$1.regexp_eatCControlLetter=function(e){var r=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=r}return!1};pp$1.regexp_eatZero=function(e){return e.current()===48&&!isDecimalDigit(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};pp$1.regexp_eatControlEscape=function(e){var r=e.current();return r===116?(e.lastIntValue=9,e.advance(),!0):r===110?(e.lastIntValue=10,e.advance(),!0):r===118?(e.lastIntValue=11,e.advance(),!0):r===102?(e.lastIntValue=12,e.advance(),!0):r===114?(e.lastIntValue=13,e.advance(),!0):!1};pp$1.regexp_eatControlLetter=function(e){var r=e.current();return isControlLetter(r)?(e.lastIntValue=r%32,e.advance(),!0):!1};function isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(e,r){r===void 0&&(r=!1);var o=e.pos,l=r||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var p=e.lastIntValue;if(l&&p>=55296&&p<=56319){var f=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var O=e.lastIntValue;if(O>=56320&&O<=57343)return e.lastIntValue=(p-55296)*1024+(O-56320)+65536,!0}e.pos=f,e.lastIntValue=p}return!0}if(l&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&isValidUnicode(e.lastIntValue))return!0;l&&e.raise("Invalid unicode escape"),e.pos=o}return!1};function isValidUnicode(e){return e>=0&&e<=1114111}pp$1.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var r=e.current();return r!==99&&(!e.switchN||r!==107)?(e.lastIntValue=r,e.advance(),!0):!1};pp$1.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var r=e.current();if(r>=49&&r<=57){do e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();while((r=e.current())>=48&&r<=57);return!0}return!1};var CharSetNone=0,CharSetOk=1,CharSetString=2;pp$1.regexp_eatCharacterClassEscape=function(e){var r=e.current();if(isCharacterClassEscape(r))return e.lastIntValue=-1,e.advance(),CharSetOk;var o=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((o=r===80)||r===112)){e.lastIntValue=-1,e.advance();var l;if(e.eat(123)&&(l=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return o&&l===CharSetString&&e.raise("Invalid property name"),l;e.raise("Invalid property name")}return CharSetNone};function isCharacterClassEscape(e){return e===100||e===68||e===115||e===83||e===119||e===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(e){var r=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var o=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var l=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,o,l),CharSetOk}}if(e.pos=r,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var p=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,p)}return CharSetNone};pp$1.regexp_validateUnicodePropertyNameAndValue=function(e,r,o){hasOwn(e.unicodeProperties.nonBinary,r)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[r].test(o)||e.raise("Invalid property value")};pp$1.regexp_validateUnicodePropertyNameOrValue=function(e,r){if(e.unicodeProperties.binary.test(r))return CharSetOk;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(r))return CharSetString;e.raise("Invalid property name")};pp$1.regexp_eatUnicodePropertyName=function(e){var r=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(r=e.current());)e.lastStringValue+=codePointToString(r),e.advance();return e.lastStringValue!==""};function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||e===95}pp$1.regexp_eatUnicodePropertyValue=function(e){var r=0;for(e.lastStringValue="";isUnicodePropertyValueCharacter(r=e.current());)e.lastStringValue+=codePointToString(r),e.advance();return e.lastStringValue!==""};function isUnicodePropertyValueCharacter(e){return isUnicodePropertyNameCharacter(e)||isDecimalDigit(e)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};pp$1.regexp_eatCharacterClass=function(e){if(e.eat(91)){var r=e.eat(94),o=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),r&&o===CharSetString&&e.raise("Negated character class may contain strings"),!0}return!1};pp$1.regexp_classContents=function(e){return e.current()===93?CharSetOk:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),CharSetOk)};pp$1.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var r=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var o=e.lastIntValue;e.switchU&&(r===-1||o===-1)&&e.raise("Invalid character class"),r!==-1&&o!==-1&&r>o&&e.raise("Range out of order in character class")}}};pp$1.regexp_eatClassAtom=function(e){var r=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var o=e.current();(o===99||isOctalDigit(o))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=r}var l=e.current();return l!==93?(e.lastIntValue=l,e.advance(),!0):!1};pp$1.regexp_eatClassEscape=function(e){var r=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=r}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};pp$1.regexp_classSetExpression=function(e){var r=CharSetOk,o;if(!this.regexp_eatClassSetRange(e))if(o=this.regexp_eatClassSetOperand(e)){o===CharSetString&&(r=CharSetString);for(var l=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(o=this.regexp_eatClassSetOperand(e))){o!==CharSetString&&(r=CharSetOk);continue}e.raise("Invalid character in character class")}if(l!==e.pos)return r;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(l!==e.pos)return r}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(o=this.regexp_eatClassSetOperand(e),!o)return r;o===CharSetString&&(r=CharSetString)}};pp$1.regexp_eatClassSetRange=function(e){var r=e.pos;if(this.regexp_eatClassSetCharacter(e)){var o=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var l=e.lastIntValue;return o!==-1&&l!==-1&&o>l&&e.raise("Range out of order in character class"),!0}e.pos=r}return!1};pp$1.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?CharSetOk:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};pp$1.regexp_eatNestedClass=function(e){var r=e.pos;if(e.eat(91)){var o=e.eat(94),l=this.regexp_classContents(e);if(e.eat(93))return o&&l===CharSetString&&e.raise("Negated character class may contain strings"),l;e.pos=r}if(e.eat(92)){var p=this.regexp_eatCharacterClassEscape(e);if(p)return p;e.pos=r}return null};pp$1.regexp_eatClassStringDisjunction=function(e){var r=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var o=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return o}else e.raise("Invalid escape");e.pos=r}return null};pp$1.regexp_classStringDisjunctionContents=function(e){for(var r=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===CharSetString&&(r=CharSetString);return r};pp$1.regexp_classString=function(e){for(var r=0;this.regexp_eatClassSetCharacter(e);)r++;return r===1?CharSetOk:CharSetString};pp$1.regexp_eatClassSetCharacter=function(e){var r=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=r,!1);var o=e.current();return o<0||o===e.lookahead()&&isClassSetReservedDoublePunctuatorCharacter(o)||isClassSetSyntaxCharacter(o)?!1:(e.advance(),e.lastIntValue=o,!0)};function isClassSetReservedDoublePunctuatorCharacter(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function isClassSetSyntaxCharacter(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}pp$1.regexp_eatClassSetReservedPunctuator=function(e){var r=e.current();return isClassSetReservedPunctuator(r)?(e.lastIntValue=r,e.advance(),!0):!1};function isClassSetReservedPunctuator(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}pp$1.regexp_eatClassControlLetter=function(e){var r=e.current();return isDecimalDigit(r)||r===95?(e.lastIntValue=r%32,e.advance(),!0):!1};pp$1.regexp_eatHexEscapeSequence=function(e){var r=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=r}return!1};pp$1.regexp_eatDecimalDigits=function(e){var r=e.pos,o=0;for(e.lastIntValue=0;isDecimalDigit(o=e.current());)e.lastIntValue=10*e.lastIntValue+(o-48),e.advance();return e.pos!==r};function isDecimalDigit(e){return e>=48&&e<=57}pp$1.regexp_eatHexDigits=function(e){var r=e.pos,o=0;for(e.lastIntValue=0;isHexDigit(o=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(o),e.advance();return e.pos!==r};function isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function hexToInt(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var o=e.lastIntValue;r<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=r*64+o*8+e.lastIntValue:e.lastIntValue=r*8+o}else e.lastIntValue=r;return!0}return!1};pp$1.regexp_eatOctalDigit=function(e){var r=e.current();return isOctalDigit(r)?(e.lastIntValue=r-48,e.advance(),!0):(e.lastIntValue=0,!1)};function isOctalDigit(e){return e>=48&&e<=55}pp$1.regexp_eatFixedHexDigits=function(e,r){var o=e.pos;e.lastIntValue=0;for(var l=0;l<r;++l){var p=e.current();if(!isHexDigit(p))return e.pos=o,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(p),e.advance()}return!0};var Token=function e(r){this.type=r.type,this.value=r.value,this.start=r.start,this.end=r.end,r.options.locations&&(this.loc=new SourceLocation(r,r.startLoc,r.endLoc)),r.options.ranges&&(this.range=[r.start,r.end])},pp=Parser.prototype;pp.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp.getToken=function(){return this.next(),new Token(this)};typeof Symbol<"u"&&(pp[Symbol.iterator]=function(){var e=this;return{next:function(){var r=e.getToken();return{done:r.type===types$1.eof,value:r}}}});pp.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(e){return isIdentifierStart(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};pp.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var r=this.input.charCodeAt(this.pos+1);return r<=56319||r>=57344?e:(e<<10)+r-56613888};pp.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),r=this.pos,o=this.input.indexOf("*/",this.pos+=2);if(o===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=o+2,this.options.locations)for(var l=void 0,p=r;(l=nextLineBreak(this.input,p,this.pos))>-1;)++this.curLine,p=this.lineStart=l;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,o),r,this.pos,e,this.curPosition())};pp.skipLineComment=function(e){for(var r=this.pos,o=this.options.onComment&&this.curPosition(),l=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(l);)l=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+e,this.pos),r,this.pos,o,this.curPosition())};pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e)))++this.pos;else break e}}};pp.finishToken=function(e,r){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var o=this.type;this.type=e,this.value=r,this.updateContext(o)};pp.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var r=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&r===46?(this.pos+=3,this.finishToken(types$1.ellipsis)):(++this.pos,this.finishToken(types$1.dot))};pp.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.slash,1)};pp.readToken_mult_modulo_exp=function(e){var r=this.input.charCodeAt(this.pos+1),o=1,l=e===42?types$1.star:types$1.modulo;return this.options.ecmaVersion>=7&&e===42&&r===42&&(++o,l=types$1.starstar,r=this.input.charCodeAt(this.pos+2)),r===61?this.finishOp(types$1.assign,o+1):this.finishOp(l,o)};pp.readToken_pipe_amp=function(e){var r=this.input.charCodeAt(this.pos+1);if(r===e){if(this.options.ecmaVersion>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(types$1.assign,3)}return this.finishOp(e===124?types$1.logicalOR:types$1.logicalAND,2)}return r===61?this.finishOp(types$1.assign,2):this.finishOp(e===124?types$1.bitwiseOR:types$1.bitwiseAND,1)};pp.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.bitwiseXOR,1)};pp.readToken_plus_min=function(e){var r=this.input.charCodeAt(this.pos+1);return r===e?r===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1.incDec,2):r===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.plusMin,1)};pp.readToken_lt_gt=function(e){var r=this.input.charCodeAt(this.pos+1),o=1;return r===e?(o=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+o)===61?this.finishOp(types$1.assign,o+1):this.finishOp(types$1.bitShift,o)):r===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(r===61&&(o=2),this.finishOp(types$1.relational,o))};pp.readToken_eq_excl=function(e){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&r===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1.arrow)):this.finishOp(e===61?types$1.eq:types$1.prefix,1)};pp.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var r=this.input.charCodeAt(this.pos+1);if(r===46){var o=this.input.charCodeAt(this.pos+2);if(o<48||o>57)return this.finishOp(types$1.questionDot,2)}if(r===63){if(e>=12){var l=this.input.charCodeAt(this.pos+2);if(l===61)return this.finishOp(types$1.assign,3)}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)};pp.readToken_numberSign=function(){var e=this.options.ecmaVersion,r=35;if(e>=13&&(++this.pos,r=this.fullCharCodeAtPos(),isIdentifierStart(r,!0)||r===92))return this.finishToken(types$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(r)+"'")};pp.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1.parenL);case 41:return++this.pos,this.finishToken(types$1.parenR);case 59:return++this.pos,this.finishToken(types$1.semi);case 44:return++this.pos,this.finishToken(types$1.comma);case 91:return++this.pos,this.finishToken(types$1.bracketL);case 93:return++this.pos,this.finishToken(types$1.bracketR);case 123:return++this.pos,this.finishToken(types$1.braceL);case 125:return++this.pos,this.finishToken(types$1.braceR);case 58:return++this.pos,this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1.backQuote);case 48:var r=this.input.charCodeAt(this.pos+1);if(r===120||r===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(r===111||r===79)return this.readRadixNumber(8);if(r===98||r===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(e)+"'")};pp.finishOp=function(e,r){var o=this.input.slice(this.pos,this.pos+r);return this.pos+=r,this.finishToken(e,o)};pp.readRegexp=function(){for(var e,r,o=this.pos;;){this.pos>=this.input.length&&this.raise(o,"Unterminated regular expression");var l=this.input.charAt(this.pos);if(lineBreak.test(l)&&this.raise(o,"Unterminated regular expression"),e)e=!1;else{if(l==="[")r=!0;else if(l==="]"&&r)r=!1;else if(l==="/"&&!r)break;e=l==="\\"}++this.pos}var p=this.input.slice(o,this.pos);++this.pos;var f=this.pos,O=this.readWord1();this.containsEsc&&this.unexpected(f);var _=this.regexpState||(this.regexpState=new RegExpValidationState(this));_.reset(o,p,O),this.validateRegExpFlags(_),this.validateRegExpPattern(_);var S=null;try{S=new RegExp(p,O)}catch{}return this.finishToken(types$1.regexp,{pattern:p,flags:O,value:S})};pp.readInt=function(e,r,o){for(var l=this.options.ecmaVersion>=12&&r===void 0,p=o&&this.input.charCodeAt(this.pos)===48,f=this.pos,O=0,_=0,S=0,v=r??1/0;S<v;++S,++this.pos){var s=this.input.charCodeAt(this.pos),d=void 0;if(l&&s===95){p&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),_===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),S===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),_=s;continue}if(s>=97?d=s-97+10:s>=65?d=s-65+10:s>=48&&s<=57?d=s-48:d=1/0,d>=e)break;_=s,O=O*e+d}return l&&_===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===f||r!=null&&this.pos-f!==r?null:O};function stringToNumber(e,r){return r?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function stringToBigInt(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}pp.readRadixNumber=function(e){var r=this.pos;this.pos+=2;var o=this.readInt(e);return o==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(o=stringToBigInt(this.input.slice(r,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,o)};pp.readNumber=function(e){var r=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(r,"Invalid number");var o=this.pos-r>=2&&this.input.charCodeAt(r)===48;o&&this.strict&&this.raise(r,"Invalid number");var l=this.input.charCodeAt(this.pos);if(!o&&!e&&this.options.ecmaVersion>=11&&l===110){var p=stringToBigInt(this.input.slice(r,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,p)}o&&/[89]/.test(this.input.slice(r,this.pos))&&(o=!1),l===46&&!o&&(++this.pos,this.readInt(10),l=this.input.charCodeAt(this.pos)),(l===69||l===101)&&!o&&(l=this.input.charCodeAt(++this.pos),(l===43||l===45)&&++this.pos,this.readInt(10)===null&&this.raise(r,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var f=stringToNumber(this.input.slice(r,this.pos),o);return this.finishToken(types$1.num,f)};pp.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),r;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var o=++this.pos;r=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,r>1114111&&this.invalidStringToken(o,"Code point out of bounds")}else r=this.readHexChar(4);return r};pp.readString=function(e){for(var r="",o=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var l=this.input.charCodeAt(this.pos);if(l===e)break;l===92?(r+=this.input.slice(o,this.pos),r+=this.readEscapedChar(!1),o=this.pos):l===8232||l===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine(l)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return r+=this.input.slice(o,this.pos++),this.finishToken(types$1.string,r)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};pp.invalidStringToken=function(e,r){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,r)};pp.readTmplToken=function(){for(var e="",r=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var o=this.input.charCodeAt(this.pos);if(o===96||o===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)?o===36?(this.pos+=2,this.finishToken(types$1.dollarBraceL)):(++this.pos,this.finishToken(types$1.backQuote)):(e+=this.input.slice(r,this.pos),this.finishToken(types$1.template,e));if(o===92)e+=this.input.slice(r,this.pos),e+=this.readEscapedChar(!0),r=this.pos;else if(isNewLine(o)){switch(e+=this.input.slice(r,this.pos),++this.pos,o){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(o);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),r=this.pos}else++this.pos}};pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};pp.readEscapedChar=function(e){var r=this.input.charCodeAt(++this.pos);switch(++this.pos,r){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var o=this.pos-1;this.invalidStringToken(o,"Invalid escape sequence in template string")}default:if(r>=48&&r<=55){var l=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],p=parseInt(l,8);return p>255&&(l=l.slice(0,-1),p=parseInt(l,8)),this.pos+=l.length-1,r=this.input.charCodeAt(this.pos),(l!=="0"||r===56||r===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-l.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(p)}return isNewLine(r)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(r)}};pp.readHexChar=function(e){var r=this.pos,o=this.readInt(16,e);return o===null&&this.invalidStringToken(r,"Bad character escape sequence"),o};pp.readWord1=function(){this.containsEsc=!1;for(var e="",r=!0,o=this.pos,l=this.options.ecmaVersion>=6;this.pos<this.input.length;){var p=this.fullCharCodeAtPos();if(isIdentifierChar(p,l))this.pos+=p<=65535?1:2;else if(p===92){this.containsEsc=!0,e+=this.input.slice(o,this.pos);var f=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var O=this.readCodePoint();(r?isIdentifierStart:isIdentifierChar)(O,l)||this.invalidStringToken(f,"Invalid Unicode escape"),e+=codePointToString(O),o=this.pos}else break;r=!1}return e+this.input.slice(o,this.pos)};pp.readWord=function(){var e=this.readWord1(),r=types$1.name;return this.keywords.test(e)&&(r=keywords[e]),this.finishToken(r,e)};var version="8.12.1";Parser.acorn={Parser,version,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext,tokContexts:types,isIdentifierChar,isIdentifierStart,Token,isNewLine,lineBreak,lineBreakG,nonASCIIwhitespace};function parse$8(e,r){return Parser.parse(e,r)}const constants={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},PARSER_OPT={ecmaVersion:11},DEFAULT_PARAM_ID="$",DEFAULT_TUPLE_ID="d",DEFAULT_TUPLE_ID1="d1",DEFAULT_TUPLE_ID2="d2",NO=e=>(r,o)=>o.error(r,e+" not allowed"),ERROR_AGGREGATE=NO("Aggregate function"),ERROR_WINDOW=NO("Window function"),ERROR_ARGUMENT="Invalid argument",ERROR_COLUMN="Invalid column reference",ERROR_AGGRONLY=ERROR_COLUMN+" (must be input to an aggregate function)",ERROR_FUNCTION="Invalid function call",ERROR_MEMBER="Invalid member expression",ERROR_OP_PARAMETER="Invalid operator parameter",ERROR_PARAM="Invalid param reference",ERROR_VARIABLE="Invalid variable reference",ERROR_VARIABLE_OP="Variable not accessible in operator call",ERROR_DECLARATION="Unsupported variable declaration",ERROR_DESTRUCTURE="Unsupported destructuring pattern",ERROR_CLOSURE="Table expressions do not support closures",ERROR_ESCAPE="Use aq.escape(fn) to use a function as-is (including closures)",ERROR_USE_PARAMS="use table.params({ name: value }) to define dynamic parameters",ERROR_ADD_FUNCTION="use aq.addFunction(name, fn) to add new op functions",ERROR_VARIABLE_NOTE=`
Note: ${ERROR_CLOSURE}. ${ERROR_ESCAPE}, or ${ERROR_USE_PARAMS}.`,ERROR_FUNCTION_NOTE=`
Note: ${ERROR_CLOSURE}. ${ERROR_ESCAPE}, or ${ERROR_ADD_FUNCTION}.`,ERROR_ROW_OBJECT=`The ${ROW_OBJECT} method is not valid in multi-table expressions.`;function parseExpression(e,r){const o=parseAST(r);let l=e.root=o;return e.spec=r,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,isFunctionExpression(l)?(parseFunction(l,e),l=l.body):e.join?(e.scope.add(e.tuple1=DEFAULT_TUPLE_ID1),e.scope.add(e.tuple2=DEFAULT_TUPLE_ID2),e.scope.add(e.$param=DEFAULT_PARAM_ID)):(e.scope.add(e.tuple=DEFAULT_TUPLE_ID),e.scope.add(e.$param=DEFAULT_PARAM_ID)),walk(l,e,visitors),e.root}function parseAST(e){try{const r=e.field?fieldRef(e):isArray$2(e)?toString$2(e):e;return parse$8(`expr=(${r})`,PARSER_OPT).body[0].expression.right}catch{error$1(`Expression parse error: ${e+""}`)}}function fieldRef(e){const r=JSON.stringify(e+"");return e.table?`(a,b)=>b[${r}]`:`d=>d[${r}]`}const visitors={FunctionDeclaration:NO("Function definitions"),ForStatement:NO("For loops"),ForOfStatement:NO("For-of loops"),ForInStatement:NO("For-in loops"),WhileStatement:NO("While loops"),DoWhileStatement:NO("Do-while loops"),AwaitExpression:NO("Await expressions"),ArrowFunctionExpression:NO("Function definitions"),AssignmentExpression:NO("Assignments"),FunctionExpression:NO("Function definitions"),NewExpression:NO('Use of "new"'),UpdateExpression:NO("Update expressions"),VariableDeclarator(e,r){handleDeclaration(e.id,r)},Identifier(e,r,o){handleIdentifier(e,r,o)&&!r.scope.has(e.name)&&r.error(e,ERROR_VARIABLE,ERROR_VARIABLE_NOTE)},CallExpression(e,r){const o=functionName(e.callee),l=getAggregate(o)||getWindow(o);if(l){if((r.join||r.aggregate===!1)&&hasAggregate(o)&&ERROR_AGGREGATE(e,r),(r.join||r.window===!1)&&hasWindow(o)&&ERROR_WINDOW(e,r),r.$op=1,r.ast)updateFunctionNode(e,o,r),e.arguments.forEach(p=>walk(p,r,opVisitors));else{const p=r.op(parseOperator$1(r,l,o,e.arguments));Object.assign(e,{type:Op,name:p.id})}return r.$op=0,!1}else hasFunction(o)?updateFunctionNode(e,o,r):r.error(e,ERROR_FUNCTION,ERROR_FUNCTION_NOTE)},MemberExpression(e,r,o){const{object:l,property:p}=e;if(!is(Identifier$1,l))return;const{name:f}=l;if(isMath(e)&&is(Identifier$1,p)&&has$1(constants,p.name)){updateConstantNode(e,p.name);return}const O=f===r.tuple?0:f===r.tuple1?1:f===r.tuple2?2:-1;if(O>=0)return spliceMember(e,O,r,checkColumn,o);if(f===r.$param)return spliceMember(e,O,r,checkParam);r.paramsRef.has(f)?updateParameterNode(e,r.paramsRef.get(f)):r.columnRef.has(f)?updateColumnNode(l,f,r,e):has$1(r.params,f)&&updateParameterNode(l,f)}};function spliceMember(e,r,o,l,p){const{property:f,computed:O}=e;let _;if(!O)_=f.name;else if(is(Literal$1,f))_=f.value;else try{walk(f,o,visitors,e),_=o.param(f)}catch{o.error(e,ERROR_MEMBER)}return l(e,_,r,o,p),!1}const opVisitors={...visitors,VariableDeclarator:NO("Variable declaration in operator call"),Identifier(e,r,o){handleIdentifier(e,r,o)&&r.error(e,ERROR_VARIABLE_OP)},CallExpression(e,r){const o=functionName(e.callee);hasFunction(o)?updateFunctionNode(e,o,r):r.error(e,ERROR_FUNCTION,ERROR_FUNCTION_NOTE)}};function parseFunction(e,r){e.generator&&NO("Generator functions")(e,r),e.async&&NO("Async functions")(e,r);const{params:o}=e,l=o.length,p=O=>(_,S)=>r.columnRef.set(_,[S,O]),f=(O,_)=>r.paramsRef.set(O,_);l&&(r.join?(parseRef(r,o[0],"tuple1",p(1)),l>1&&parseRef(r,o[1],"tuple2",p(2)),l>2&&parseRef(r,o[2],"$param",f)):(parseRef(r,o[0],"tuple",p(0)),l>1&&parseRef(r,o[1],"$param",f))),r.root=e.body}function parseRef(e,r,o,l){is(Identifier$1,r)?(e.scope.add(r.name),e[o]=r.name):is(ObjectPattern,r)&&r.properties.forEach(p=>{const f=is(Identifier$1,p.key)?p.key.name:is(Literal$1,p.key)?p.key.value:e.error(p,ERROR_ARGUMENT);is(Identifier$1,p.value)||e.error(p.value,ERROR_DESTRUCTURE),l(p.value.name,f)})}function parseOperator$1(e,r,o,l){const p=[],f=[],O=r.param[0]||0,_=O+(r.param[1]||0);return l.forEach((S,v)=>{v<O?(walk(S,e,opVisitors),p.push(e.field(S))):v<_?(walk(S,e,opVisitors),f.push(e.param(S))):e.error(S,ERROR_OP_PARAMETER)}),{name:o,fields:p,params:f,...e.spec.window||{}}}function functionName(e){return is(Identifier$1,e)?e.name:is(MemberExpression,e)?isMath(e)?rewriteMath(e.property.name):e.property.name:null}function isMath(e){return is(Identifier$1,e.object)&&e.object.name==="Math"}function rewriteMath(e){return e==="max"?"greatest":e==="min"?"least":e}function handleIdentifier(e,r,o){const{name:l}=e;if(!(is(MemberExpression,o)&&o.property===e)){if(!(is(Property,o)&&o.key===e))if(r.paramsRef.has(l))updateParameterNode(e,r.paramsRef.get(l));else if(r.columnRef.has(l))updateColumnNode(e,l,r,o);else if(has$1(r.params,l))updateParameterNode(e,l);else if(has$1(constants,l))updateConstantNode(e,l);else return!0}}function checkColumn(e,r,o,l,p){const f=o===0?l.table:o>0?l.join[o-1]:null,O=f&&f.column(r);f&&!O&&l.error(e,ERROR_COLUMN),l.aggronly&&!l.$op&&l.error(e,ERROR_AGGRONLY),rewrite(e,r,o,O,p)}function updateColumnNode(e,r,o,l){const[p,f]=o.columnRef.get(r);checkColumn(e,p,f,o,l)}function checkParam(e,r,o,l){l.params&&!has$1(l.params,r)&&l.error(e,ERROR_PARAM),updateParameterNode(e,r)}function updateParameterNode(e,r){e.type=Parameter,e.name=r}function updateConstantNode(e,r){e.type=Constant,e.name=r,e.raw=constants[r]}function updateFunctionNode(e,r,o){if(r===ROW_OBJECT){const l=o.table;l||o.error(e,ERROR_ROW_OBJECT),rowObjectExpression(e,e.arguments.length?e.arguments.map(p=>{const f=o.param(p),O=isNumber$2(f)?l.columnName(f):f;return l.column(O)||o.error(p,ERROR_COLUMN),O}):l.columnNames())}else e.callee={type:Function$1,name:r}}function handleDeclaration(e,r){is(Identifier$1,e)?r.scope.add(e.name):is(ArrayPattern,e)?e.elements.forEach(o=>handleDeclaration(o,r)):is(ObjectPattern,e)?e.properties.forEach(o=>handleDeclaration(o.value,r)):r.error(e.id,ERROR_DECLARATION)}const ANNOTATE={[Column$1]:1,[Op]:1};function parse$7(e,r={}){const o=r.generate||codegen$1,l=r.compiler||compile$1,p=getParams(r),f={},O={},_=[],S=[];let v=0,s=-1;const d=r.join?l.join:r.index==1?l.expr2:l.expr,g={op(I){const j=opKey(I);return O[j]||(I.id=++s,O[j]=I)},field(I){const j=o(I);return f[j]||(f[j]=++v)},param(I){return is(Literal$1,I)?I.value:l.param(o(I),p)},value(I,j){_.push(I);const L=j.escape||(r.ast?clean(j):d(o(j),p));S.push(L),ANNOTATE[j.type]&&L!==j&&isObject$2(L)&&(L.field=j.name)},error(I,j,L=""){const G=I.start-6,J=I.end-6,Q=String(g.spec).slice(G,J);error$1(`${j}: "${Q}"${L}`)}};Object.assign(g,r,{params:p});for(const[I,j]of entries(e))g.value(I+"",j.escape?parseEscape(g,j,p):parseExpression(g,j));if(r.ast)return{names:_,exprs:S};const P=[];for(const I in f)P[f[I]]=l.expr(I,p);const R=Object.values(O);return R.forEach(I=>I.fields=I.fields.map(j=>P[j])),{names:_,exprs:S,ops:R}}function opKey(e){let r=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const o=e.frame.map(l=>Number.isFinite(l)?Math.abs(l):-1);r+=`[${o},${!!e.peers}]`}return r}function getParams(e){return(e.table?getTableParams(e.table):e.join?{...getTableParams(e.join[1]),...getTableParams(e.join[0])}:{})||{}}function getTableParams(e){return e&&isFunction$2(e.params)?e.params():{}}const Expr="Expr",ExprList="ExprList",ExprNumber="ExprNumber",ExprObject="ExprObject",JoinKeys="JoinKeys",JoinValues="JoinValues",Options="Options",OrderbyKeys="OrderKeys",SelectionList="SelectionList",TableRef="TableRef",TableRefList="TableRefList",Descending="Descending",Query$1="Query",Selection="Selection",Verb$1="Verb",Window$1="Window";function wrap$1(e,r){return e&&e.expr?new Wrapper({...e,...r}):new Wrapper(r,e)}class Wrapper{constructor(r,o){this.expr=o,Object.assign(this,r)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...isFunction$2(this.expr)?{func:!0}:{}}}}function desc(e){return wrap$1(e,{desc:!0})}function field$1(e,r,o=0){const l=o?{field:!0,table:o}:{field:!0};return wrap$1(e,r?{expr:r,...l}:l)}function rolling(e,r,o){return wrap$1(e,{window:{frame:r||[-1/0,0],peers:!!o}})}function func(e){const r=o=>o;return r.toString=()=>e,r}function getTable(e,r){return r=r&&isFunction$2(r.query)?r.query():r,r&&isFunction$2(r.evaluate)?r.evaluate(null,e):e(r)}function isSelection(e){return isObject$2(e)&&(isArray$2(e.all)||isArray$2(e.matches)||isArray$2(e.not)||isArray$2(e.range))}function toObject(e){return e&&isFunction$2(e.toObject)?e.toObject():isFunction$2(e)?{expr:String(e),func:!0}:isArray$2(e)?e.map(toObject):isObject$2(e)?map$1(e,r=>toObject(r)):e}function fromObject(e){return isArray$2(e)?e.map(fromObject):isObject$2(e)?isArray$2(e.verbs)?Query.from(e):isArray$2(e.all)?all():isArray$2(e.range)?range$2(...e.range):isArray$2(e.match)?matches(RegExp(...e.match)):isArray$2(e.not)?not(e.not.map(toObject)):fromExprObject(e):e}function fromExprObject(e){let r=e,o=e.expr;if(o!=null){if(e.field===!0?r=o=field$1(o):e.func===!0&&(r=o=func(o)),isObject$2(e.window)){const{frame:l,peers:p}=e.window;r=o=rolling(o,l,p)}e.desc===!0&&(r=desc(o))}return e===r?map$1(e,l=>fromObject(l)):r}function joinKeys(e){return isArray$2(e)?e.map(parseJoinKeys):e}function parseJoinKeys(e){const r=[];return toArray(e).forEach(o=>{isNumber$2(o)?r.push(o):isString$1(o)?r.push(field$1(o,null)):isObject$2(o)&&o.expr||isFunction$2(o)?r.push(o):error$1(`Invalid key value: ${o+""}`)}),r}function joinValues(e){return isArray$2(e)?e.map(parseJoinValues):e}function parseJoinValues(e,r){return r<2?toArray(e):e}function orderbyKeys(e){const r=[];return e.forEach(o=>{const l=o.expr!=null?o.expr:o;if(isObject$2(l)&&!isFunction$2(l))for(const p in l)r.push(l[p]);else o=isNumber$2(l)?l:isString$1(l)?field$1(o):isFunction$2(l)?o:error$1(`Invalid orderby field: ${o+""}`),r.push(o)}),r}const Methods$2={[Expr]:astExpr,[ExprList]:astExprList,[ExprNumber]:astExprNumber,[ExprObject]:astExprObject,[JoinKeys]:astJoinKeys,[JoinValues]:astJoinValues,[OrderbyKeys]:astExprList,[SelectionList]:astSelectionList};function toAST(e,r,o){return r===TableRef?astTableRef(e):r===TableRefList?e.map(astTableRef):ast(toObject(e),r,o)}function ast(e,r,o){return r===Options?e&&astOptions(e,o):Methods$2[r](e)}function astOptions(e,r={}){const o={};for(const l in e){const p=e[l];o[l]=r[l]?ast(p,r[l]):p}return o}function astParse(e,r){return parse$7({expr:e},{...r,ast:!0}).exprs[0]}function astColumn(e){return{type:Column$1,name:e}}function astColumnIndex(e){return{type:Column$1,index:e}}function astExprObject(e,r){if(isString$1(e))return astParse(e,r);if(e.expr){let o;if(e.field===!0?o=astColumn(e.expr):e.func===!0&&(o=astExprObject(e.expr,r)),o)return e.desc&&(o={type:Descending,expr:o}),e.window&&(o={type:Window$1,expr:o,...e.window}),o}return Object.keys(e).map(o=>({...astExprObject(e[o],r),as:o}))}function astSelection(e){const r=Selection;return e.all?{type:r,operator:"all"}:e.not?{type:r,operator:"not",arguments:astExprList(e.not)}:e.range?{type:r,operator:"range",arguments:astExprList(e.range)}:e.matches?{type:r,operator:"matches",arguments:e.matches}:error$1("Invalid input")}function astSelectionList(e){return toArray(e).map(astSelectionItem).flat()}function astSelectionItem(e){return isSelection(e)?astSelection(e):isNumber$2(e)?astColumnIndex(e):isString$1(e)?astColumn(e):isObject$2(e)?Object.keys(e).map(r=>({type:Column$1,name:r,as:e[r]})):error$1("Invalid input")}function astExpr(e){return isSelection(e)?astSelection(e):isNumber$2(e)?astColumnIndex(e):isString$1(e)?astColumn(e):isObject$2(e)?astExprObject(e):error$1("Invalid input")}function astExprList(e){return toArray(e).map(astExpr).flat()}function astExprNumber(e){return isNumber$2(e)?e:astExprObject(e)}function astJoinKeys(e){return isArray$2(e)?e.map(astExprList):astExprObject(e,{join:!0})}function astJoinValues(e){return isArray$2(e)?e.map((r,o)=>o<2?astExprList(r):astExprObject(r,{join:!0})):astExprObject(e,{join:!0})}function astTableRef(e){return e&&isFunction$2(e.toAST)?e.toAST():e}class Verb{constructor(r,o=[],l=[]){this.verb=r,this.schema=o,o.forEach((p,f)=>{const O=p.type,_=l[f],S=O===JoinKeys?joinKeys(_):O===JoinValues?joinValues(_):O===OrderbyKeys?orderbyKeys(_):_;this[p.name]=S!==void 0?S:p.default})}static from(r){const o=Verbs[r.verb],l=(o.schema||[]).map(({name:p})=>fromObject(r[p]));return o(...l)}evaluate(r,o){const l=this.schema.map(({name:p,type:f})=>{const O=this[p];return f===TableRef?getTable(o,O):f===TableRefList?O.map(_=>getTable(o,_)):O});return r[this.verb](...l)}toObject(){const r={verb:this.verb};return this.schema.forEach(({name:o})=>{r[o]=toObject(this[o])}),r}toAST(){const r={type:Verb$1,verb:this.verb};return this.schema.forEach(({name:o,type:l,props:p})=>{r[o]=toAST(this[o],l,p)}),r}}function createVerb(e,r){return Object.assign((...o)=>new Verb(e,r,o),{schema:r})}const Verbs={count:createVerb("count",[{name:"options",type:Options}]),derive:createVerb("derive",[{name:"values",type:ExprObject},{name:"options",type:Options,props:{before:SelectionList,after:SelectionList}}]),filter:createVerb("filter",[{name:"criteria",type:ExprObject}]),groupby:createVerb("groupby",[{name:"keys",type:ExprList}]),orderby:createVerb("orderby",[{name:"keys",type:OrderbyKeys}]),relocate:createVerb("relocate",[{name:"columns",type:SelectionList},{name:"options",type:Options,props:{before:SelectionList,after:SelectionList}}]),rename:createVerb("rename",[{name:"columns",type:SelectionList}]),rollup:createVerb("rollup",[{name:"values",type:ExprObject}]),sample:createVerb("sample",[{name:"size",type:ExprNumber},{name:"options",type:Options,props:{weight:Expr}}]),select:createVerb("select",[{name:"columns",type:SelectionList}]),ungroup:createVerb("ungroup"),unorder:createVerb("unorder"),reify:createVerb("reify"),dedupe:createVerb("dedupe",[{name:"keys",type:ExprList,default:[]}]),impute:createVerb("impute",[{name:"values",type:ExprObject},{name:"options",type:Options,props:{expand:ExprList}}]),fold:createVerb("fold",[{name:"values",type:ExprList},{name:"options",type:Options}]),pivot:createVerb("pivot",[{name:"keys",type:ExprList},{name:"values",type:ExprList},{name:"options",type:Options}]),spread:createVerb("spread",[{name:"values",type:ExprList},{name:"options",type:Options}]),unroll:createVerb("unroll",[{name:"values",type:ExprList},{name:"options",type:Options,props:{drop:ExprList}}]),lookup:createVerb("lookup",[{name:"table",type:TableRef},{name:"on",type:JoinKeys},{name:"values",type:ExprList}]),join:createVerb("join",[{name:"table",type:TableRef},{name:"on",type:JoinKeys},{name:"values",type:JoinValues},{name:"options",type:Options}]),cross:createVerb("cross",[{name:"table",type:TableRef},{name:"values",type:JoinValues},{name:"options",type:Options}]),semijoin:createVerb("semijoin",[{name:"table",type:TableRef},{name:"on",type:JoinKeys}]),antijoin:createVerb("antijoin",[{name:"table",type:TableRef},{name:"on",type:JoinKeys}]),concat:createVerb("concat",[{name:"tables",type:TableRefList}]),union:createVerb("union",[{name:"tables",type:TableRefList}]),intersect:createVerb("intersect",[{name:"tables",type:TableRefList}]),except:createVerb("except",[{name:"tables",type:TableRefList}])};class Query extends Transformable{constructor(r,o,l){super(o),this._verbs=r||[],this._table=l}static from({verbs:r,table:o,params:l}){return new Query(r.map(Verb.from),l,o)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(r){return arguments.length?(this._params={...this._params,...r},this):this._params}evaluate(r,o){r=r||o(this._table);for(const l of this._verbs)r=l.evaluate(r.params(this._params),o);return r}toObject(){return serialize(this,"toObject")}toJSON(){return this.toObject()}toAST(){return serialize(this,"toAST",{type:Query$1})}}function serialize(e,r,o){return{...o,verbs:e._verbs.map(l=>l[r]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function append(e,r){return new Query(e._verbs.concat(r),e._params,e._table)}for(const e in Verbs){const r=Verbs[e];Query.prototype["__"+e]=function(o,...l){return append(o,r(...l))}}function unroll(e,r,...o){const l=["_","$"],p=l.slice(0,o.length);return p.push('"use strict"; const '+o.map((f,O)=>f.map((_,S)=>`${l[O]}${S} = ${l[O]}[${S}]`).join(", ")).join(", ")+`; return (${e}) => ${r};`),Function(...p)(...o)}function __dedupe(e,r=[]){return e.groupby(r.length?r:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function _select(e,r){const o=columnSet();return r.forEach((l,p)=>{const f=isString$1(l)?l:p;if(f){const O=e.column(p)||error$1(`Unrecognized column: ${p}`);o.add(f,O)}}),e.create(o)}function __relocate(e,r,{before:o,after:l}={}){const p=o!=null,f=l!=null;p||f||error$1("relocate requires a before or after option."),p&&f&&error$1("relocate accepts only one of the before or after options."),r=resolve$1(e,r);const O=[...resolve$1(e,p?o:l).keys()],_=p?O[0]:O.pop(),S=new Map;return e.columnNames().forEach(v=>{const s=!r.has(v);if(v===_){f&&s&&S.set(v,v);for(const[d,g]of r)S.set(d,g);if(f)return}s&&S.set(v,v)}),_select(e,S)}function concat(e,r=l=>l,o=""){const l=e.length;if(!l)return"";let p=r(e[0],0);for(let f=1;f<l;++f)p+=o+r(e[f],f);return p}function ascending$2(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function min$1(e,r=0,o=e.length){let l=o?e[r++]:NULL$1;for(let p=r;p<o;++p)l>e[p]&&(l=e[p]);return l}function max$1(e,r=0,o=e.length){let l=o?e[r++]:NULL$1;for(let p=r;p<o;++p)l<e[p]&&(l=e[p]);return l}function toNumeric(e){return isBigInt(e)?e:+e}function quantile(e,r){const o=e.length;if(!o)return NULL$1;if((r=+r)<=0||o<2)return toNumeric(e[0]);if(r>=1)return toNumeric(e[o-1]);const l=(o-1)*r,p=Math.floor(l),f=toNumeric(e[p]);return isBigInt(f)?f:f+(toNumeric(e[p+1])-f)*(l-p)}class ValueList{constructor(r){this._values=r||[],this._sorted=null,this._start=0}values(r){return this._start&&(this._values=this._values.slice(this._start),this._start=0),r?this._values.slice():this._values}add(r){this._values.push(r),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:min$1(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:max$1(this._values,this._start)}quantile(r){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(ascending$2)),quantile(this._sorted,r)}}const update$7=(e,r,o)=>unroll(r,"{"+concat(e,(l,p)=>`_${p}.${o}(${r});`)+"}",e);function fieldReducer(e,r){const{ops:o,output:l}=expand$1(e,r),p=e[0].fields,f=p.length,O=f===0?FieldReducer:f===1?Field1Reducer:f===2?Field2Reducer:error$1("Unsupported field count: "+f);return new O(p,o,l,r)}function expand$1(e,r){const o={},l=[];function p(O,_=[]){const S=O+":"+_;if(o[S])return o[S];const v=getAggregate(O),s=v.create(..._);return r<0&&v.stream&&v.stream.forEach(d=>p(d,[])),v.req&&v.req.forEach(d=>p(d,[])),o[S]=s,l.push(s),s}const f=e.map(O=>{const _=p(O.name,O.params);return _.output=O.id,_});return{ops:l,output:f}}class FieldReducer extends Reducer{constructor(r,o,l,p){super(l),this._op=o,this._fields=r,this._stream=!!p}init(){const r={count:0,valid:0,stream:this._stream};return this._op.forEach(o=>o.init(r)),r.values&&(r.list=new ValueList),r}write(r,o,l){const p=this._outputs,f=p.length;for(let O=0;O<f;++O)o[p[O].output][l]=p[O].value(r);return 1}_add(){}_rem(){}add(r){++r.count}rem(r){--r.count}}class Field1Reducer extends FieldReducer{constructor(r,o,l,p){super(r,o,l,p);const f=["state","v1","v2"];this._add=update$7(o,f,"add"),this._rem=update$7(o,f,"rem")}add(r,o,l){const p=this._fields[0](o,l);++r.count,isValid$1(p)&&(++r.valid,r.list&&r.list.add(p),this._add(r,p))}rem(r,o,l){const p=this._fields[0](o,l);--r.count,isValid$1(p)&&(--r.valid,r.list&&r.list.rem(),this._rem(r,p))}}class Field2Reducer extends FieldReducer{constructor(r,o,l,p){super(r,o,l,p);const f=["state","v1","v2"];this._add=update$7(o,f,"add"),this._rem=update$7(o,f,"rem")}add(r,o,l){const p=this._fields[0](o,l),f=this._fields[1](o,l);++r.count,isValid$1(p)&&isValid$1(f)&&(++r.valid,r.list&&r.list.add([p,f]),this._add(r,p,f))}rem(r,o,l){const p=this._fields[0](o,l),f=this._fields[1](o,l);--r.count,isValid$1(p)&&isValid$1(f)&&(--r.valid,r.list&&r.list.rem(),this._rem(r,p,f))}}function aggregateGet(e,r,o){if(r.length){const l=e.data(),{keys:p}=e.groups()||{},f=aggregate(e,r),O=p?(_,S)=>f[_][p[S]]:_=>f[_][0];o=o.map(_=>S=>_(S,l,O))}return o}function aggregate(e,r,o){if(!r.length)return o;const l=reducers(r),p=e.groups(),f=p?p.size:1;return o=o||repeat$1(r.length,()=>Array(f)),f>1?l.forEach(O=>{const _=reduceGroups(e,O,p);for(let S=0;S<f;++S)O.write(_[S],o,S)}):l.forEach(O=>{const _=reduceFlat(e,O);O.write(_,o,0)}),o}function reducers(e,r){const o=[],l={};for(const p of e){const f=p.fields.map(O=>O+"").join(",");(l[f]||(l[f]=[])).push(p)}for(const p in l)o.push(fieldReducer(l[p],r));return o}function reduceFlat(e,r){const o=r.init(),l=e.totalRows(),p=e.data(),f=e.mask();if(e.isOrdered()){const O=e.indices();for(let _=0;_<l;++_)r.add(o,O[_],p)}else if(f)for(let O=f.next(0);O>=0;O=f.next(O+1))r.add(o,O,p);else for(let O=0;O<l;++O)r.add(o,O,p);return o}function reduceGroups(e,r,o){const{keys:l,size:p}=o,f=repeat$1(p,()=>r.init()),O=e.data();if(e.isOrdered()){const _=e.indices(),S=_.length;for(let v=0;v<S;++v){const s=_[v];r.add(f[l[s]],s,O)}}else if(e.isFiltered()){const _=e.mask();for(let S=_.next(0);S>=0;S=_.next(S+1))r.add(f[l[S]],S,O)}else{const _=e.totalRows();for(let S=0;S<_;++S)r.add(f[l[S]],S,O)}return f}function groupOutput(e,r){const{get:o,names:l,rows:p,size:f}=r,O=l.length;for(let _=0;_<O;++_){const S=e.add(l[_],Array(f)),v=o[_];for(let s=0;s<f;++s)S[s]=v(p[s])}}function bisector(e){return{left(r,o,l,p){for(l==null&&(l=0),p==null&&(p=r.length);l<p;){const f=l+p>>>1;e(r[f],o)<0?l=f+1:p=f}return l},right(r,o,l,p){for(l==null&&(l=0),p==null&&(p=r.length);l<p;){const f=l+p>>>1;e(r[f],o)>0?p=f:l=f+1}return l}}}const bisect$1=bisector(ascending$2);function windowState(e,r,o,l,p){let f,O,_,S,v;const s=I=>O[I-1]===O[I],d=l.length,g=p.length,P=l.length?unroll(["w","r","k"],"{"+concat(l,(I,j)=>`r[_${j}.id][k]=_${j}.value(w,_${j}.get);`)+"}",l):()=>{},R={i0:0,i1:0,index:0,size:0,peer:s,init(I,j,L,G){R.index=R.i0=R.i1=0,R.size=j.length,f=I,O=j,S=L,v=G,_=p?p.map(J=>J.init()):null;for(let J=0;J<d;++J)l[J].init();return R},value(I,j){return j(f[I],e)},step(I){const[j,L]=r,G=R.size,J=R.i0,Q=R.i1;R.i0=j!=null?Math.max(0,I-Math.abs(j)):0,R.i1=L!=null?Math.min(G,I+Math.abs(L)+1):G,R.index=I,o&&(R.i0>0&&s(R.i0)&&(R.i0=bisect$1.left(O,O[R.i0])),R.i1<G&&s(R.i1)&&(R.i1=bisect$1.right(O,O[R.i1-1])));for(let W=0;W<g;++W){const Z=p[W],te=_[W];for(let ee=J;ee<R.i0;++ee)Z.rem(te,f[ee],e);for(let ee=Q;ee<R.i1;++ee)Z.add(te,f[ee],e);Z.write(te,S,v)}return P(R,S,v),S}};return R}const frameValue=e=>(e.frame||[null,null]).map(r=>Number.isFinite(r)?Math.abs(r):null),peersValue=e=>!!e.peers;function windowOp(e){const{id:r,name:o,fields:l=[],params:p=[]}=e,f=getWindow(o).create(...p);return l.length&&(f.get=l[0]),f.id=r,f}function window$1(e,r,o,l={},p){const f=e.data(),O=windowStates(p,f),_=O.length,S=unroll(["r","d","op"],"{"+concat(r,(v,s)=>`_${s}[r] = $${s}(r, d, op);`)+"}",r,o);e.partitions().forEach((v,s)=>{const d=v.length,g=windowPeers(e,v);for(let R=0;R<_;++R)O[R].init(v,g,l,s);const P=R=>l[R][s];for(let R=0;R<d;++R){for(let I=0;I<_;++I)O[I].step(R);S(v[R],f,P)}})}function windowStates(e,r){const o={};return e.forEach(l=>{const p=frameValue(l),f=peersValue(l),O=`${p},${f}`,{aggOps:_,winOps:S}=o[O]||(o[O]={frame:p,peers:f,aggOps:[],winOps:[]});hasAggregate(l.name)?_.push(l):S.push(windowOp(l))}),Object.values(o).map(l=>windowState(r,l.frame,l.peers,l.winOps,reducers(l.aggOps,l.frame[0]!=null?-1:1)))}function windowPeers(e,r){if(e.isOrdered()){const o=e.comparator(),l=e.data(),p=r.length,f=new Uint32Array(p);for(let O=1,_=0;O<p;++O)f[O]=o(r[O-1],r[O],l)?++_:_;return f}else return r}function isWindowed(e){return hasWindow(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function _derive(e,{names:r,exprs:o,ops:l},p={}){const f=e.totalRows(),O=columnSet(p.drop?null:e),_=r.map(g=>O.add(g,Array(f))),[S,v]=segmentOps(l),s=e.isGrouped()?e.groups().size:1,d=aggregate(e,S,repeat$1(l.length,()=>Array(s)));return v.length?window$1(e,_,o,d,v):output$4(e,_,o,d),e.create(O)}function segmentOps(e){const r=[],o=[],l=e.length;for(let p=0;p<l;++p){const f=e[p];f.id=p,(isWindowed(f)?o:r).push(f)}return[r,o]}function output$4(e,r,o,l){const p=e.mask(),f=e.data(),{keys:O}=e.groups()||{},_=O?(v,s)=>l[v][O[s]]:v=>l[v][0],S=r.length;for(let v=0;v<S;++v){const s=o[v],d=r[v];if(p)for(let g=p.next(0);g>=0;g=p.next(g+1))d[g]=s(g,f,_);else{const g=e.totalRows();for(let P=0;P<g;++P)d[P]=s(P,f,_)}}}function __derive(e,r,o={}){const l=_derive(e,parse$7(r,{table:e}),o);return o.drop||o.before==null&&o.after==null?l:__relocate(l,Object.keys(r).filter(p=>!e.column(p)),o)}function __except(e,r){if(r.length===0)return e;const o=e.columnNames();return r.reduce((l,p)=>l.antijoin(p.select(o)),e).dedupe()}const ONE=2147483648,ALL$1=4294967295;class BitSet{constructor(r){this._size=r,this._bits=new Uint32Array(Math.ceil(r/32))}get length(){return this._size}count(){const r=this._bits.length;let o=0;for(let l=0;l<r;++l)for(let p=this._bits[l];p;++o)p&=p-1;return o}get(r){return this._bits[r>>5]&ONE>>>r}set(r){this._bits[r>>5]|=ONE>>>r}clear(r){this._bits[r>>5]&=~(ONE>>>r)}scan(r){for(let o=this.next(0);o>=0;o=this.next(o+1))r(o)}next(r){const o=this._bits,l=o.length;let p=r>>5,f=o[p]&ALL$1>>>r;for(;p<l;f=o[++p])if(f!==0)return(p<<5)+Math.clz32(f);return-1}nth(r){let o=this.next(0);for(;r--&&o>=0;)o=this.next(o+1);return o}not(){const r=this._bits,o=r.length;for(let p=0;p<o;++p)r[p]=~r[p];const l=this._size%32;return l&&(r[o-1]&=ONE>>l-1),this}and(r){if(r){const o=this._bits,l=r._bits,p=o.length;for(let f=0;f<p;++f)o[f]&=l[f]}return this}or(r){if(r){const o=this._bits,l=r._bits,p=o.length;for(let f=0;f<p;++f)o[f]|=l[f]}return this}}function _filter(e,r){const o=e.totalRows(),l=e.mask(),p=e.data(),f=new BitSet(o);if(l)for(let O=l.next(0);O>=0;O=l.next(O+1))r(O,p)&&f.set(O);else for(let O=0;O<o;++O)r(O,p)&&f.set(O);return e.create({filter:f})}function __filter(e,r){const o=parse$7({p:r},{table:e});let l=o.exprs[0];if(o.ops.length){const{data:p}=_derive(e,o,{drop:!0}).column("p");l=f=>p[f]}return _filter(e,l)}function _unroll(e,{names:r=[],exprs:o=[],ops:l=[]},p={}){if(!r.length)return e;const f=p.limit>0?+p.limit:1/0,O=p.index?p.index===!0?"index":p.index+"":null,_=new Set(p.drop),S=aggregateGet(e,l,o),v=columnSet(),s=new Set(r),d=[],g=[],P=[];e.columnNames().forEach(Q=>{if(!_.has(Q)){const W=v.add(Q,[]);s.has(Q)||(d.push(e.column(Q)),g.push(W))}}),r.forEach(Q=>{_.has(Q)||(v.has(Q)||v.add(Q,[]),P.push(v.data[Q]))});const R=O?v.add(O,[]):null;let I=0;const j=d.length,L=P.length,G=(Q,W)=>{for(let Z=0;Z<j;++Z)g[Z].length=I+W,g[Z].fill(d[Z].get(Q),I,I+W)},J=R?(Q,W)=>{for(let Z=0;Z<W;++Z)R[Q+Z]=Z}:()=>{};if(L===1){const Q=S[0],W=P[0];e.scan((Z,te)=>{const ee=toArray(Q(Z,te)),ie=Math.min(ee.length,f);G(Z,ie);for(let oe=0;oe<ie;++oe)W[I+oe]=ee[oe];J(I,ie),I+=ie})}else e.scan((Q,W)=>{let Z=0;const te=S.map(ee=>{const ie=toArray(ee(Q,W));return Z=Math.min(Math.max(Z,ie.length),f),ie});G(Q,Z);for(let ee=0;ee<L;++ee){const ie=P[ee],oe=te[ee];for(let se=0;se<Z;++se)ie[I+se]=oe[se]}J(I,Z),I+=Z});return e.create(v.new())}function _fold(e,{names:r=[],exprs:o=[],ops:l=[]},p={}){if(r.length===0)return e;const[f="key",O="value"]=p.as||[],_=aggregateGet(e,l,o);return _unroll(e,{names:[f,O],exprs:[()=>r,(S,v)=>_.map(s=>s(S,v))]},{...p,drop:r})}function parse$6(e,r,o,l={window:!1}){const p=new Map,f=O=>{O=isNumber$2(O)?r.columnName(O):O,isString$1(O)?p.set(O,field$1(O)):isFunction$2(O)?resolve$1(r,O).forEach(f):isObject$2(O)?assign(p,O):error$1(`Invalid ${e} value: ${O+""}`)};return toArray(o).forEach(f),l.preparse&&l.preparse(p),parse$7(p,{table:r,...l})}function __fold(e,r,o){return _fold(e,parse$6("fold",e,r),o)}function _impute(e,r,o,l){const p=o&&o.length;return impute(p?expand(e,o,l):e,r,p)}function impute(e,{names:r,exprs:o,ops:l},p){const f=aggregateGet(e,l,o),O=p?null:columnSet(e),_=e.totalRows();return r.forEach((S,v)=>{const s=e.column(S),d=p?s.data:O.add(S,Array(_)),g=f[v];e.scan(P=>{const R=s.get(P);d[P]=isValid$1(R)?R:g(P)})}),p?e:e.create(O)}function expand(e,r,o){const l=e.groups(),p=e.data(),f=(l?l.names:[]).concat(r),O=(l?l.get:[]).concat(r.map(R=>e.getter(R))),_=new Set,S=keyFunction(O);e.scan((R,I)=>_.add(S(R,I)));const v=e.columnNames(),s=columnSet(),d=v.map(R=>s.add(R,[]));v.forEach((R,I)=>{const j=p[R],L=d[I];e.scan(G=>L.push(j.get(G)))});const g=keyFunction(O.map((R,I)=>j=>j[I])),P=unroll("v","{"+d.map((R,I)=>`_${I}.push(v[$${I}]);`).join("")+"}",d,v.map(R=>f.indexOf(R)));if(l){let R=l.keys.length;const I=o.reduce((L,G)=>L*G.length,l.size),j=new Uint32Array(I+(R-_.size));j.set(l.keys),enumerate(l,o,(L,G)=>{_.has(g(L))||(P(L),j[R++]=G[0])}),s.groupby({...l,keys:j})}else enumerate(l,o,R=>{_.has(g(R))||P(R)});return e.create(s.new())}function enumerate(e,r,o){const l=e?e.get.length:0,p=e?1:0,f=p+r.length,O=new Int32Array(f),_=new Int32Array(f),S=[];if(e){const{get:s,rows:d,size:g}=e;O[0]=g,S.push((P,R)=>{const I=d[R];for(let j=0;j<l;++j)P[j]=s[j](I)})}r.forEach((s,d)=>{const g=d+l;O[d+p]=s.length,S.push((P,R)=>P[g]=s[R])});const v=Array(l+r.length);for(let s=0;s<f;++s)S[s](v,0);o(v,_);for(let s=f-1;s>=0;){const d=++_[s];d<O[s]?(S[s](v,d),o(v,_),s=f-1):(_[s]=0,S[s](v,0),--s)}}function _rollup(e,{names:r,exprs:o,ops:l}){const p=columnSet(),f=e.groups();return f&&groupOutput(p,f),output$3(r,o,f,aggregate(e,l),p),e.create(p.new())}function output$3(e,r,o,l=[],p){if(!r.length)return;const f=o?o.size:1,O=(S,v)=>l[S][v],_=e.length;for(let S=0;S<_;++S){const v=r[S];if(v.field!=null)p.add(e[S],l[v.field]);else if(f>1){const s=p.add(e[S],Array(f));for(let d=0;d<f;++d)s[d]=v(d,null,O)}else p.add(e[S],[v(0,null,O)])}}function __impute(e,r,o={}){if(r=parse$7(r,{table:e}),r.names.forEach(l=>e.column(l)?0:error$1(`Invalid impute column ${toString$2(l)}`)),o.expand){const l={preparse:preparse$1,aggronly:!0},p=parse$6("impute",e,o.expand,l),f=_rollup(e.ungroup(),p);return _impute(e,r,p.names,p.names.map(O=>f.get(O,0)))}else return _impute(e,r)}function preparse$1(e){e.forEach((r,o)=>r.field?e.set(o,array_agg_distinct(r+"")):0)}function __intersect(e,r){const o=e.columnNames();return r.length?r.reduce((l,p)=>l.semijoin(p.select(o)),e).dedupe():e.reify([])}function rowLookup(e,r){const o=new Map;return e.scan((l,p)=>{const f=r(l,p);f!=null&&f===f&&o.set(f,l)}),o}function indexLookup(e,r,o){const l=new Map,p=e.length;for(let f=0;f<p;++f){const O=e[f],_=o(O,r);_!=null&&_===_&&(l.has(_)?l.get(_).push(f):l.set(_,[f]))}return l}function emitter(e,r){const o=["i","a","j","b"];return unroll(o,"{"+concat(e,(l,p)=>`_${p}.push($${p}(${o}));`)+"}",e,r)}function _join(e,r,o,{names:l,exprs:p},f={}){const O=e.data(),_=e.indices(!1),S=_.length,v=new Int32Array(S),s=r.data(),d=r.indices(!1),g=d.length,P=new Int32Array(g),R=l.length,I=columnSet(),j=Array(R),L=Array(R);for(let Q=0;Q<l.length;++Q)j[Q]=I.add(l[Q],[]),L[Q]=p[Q];const G=emitter(j,L);if((isArray$2(o)?hashJoin:loopJoin)(G,o,O,s,_,d,v,P,S,g),f.left)for(let Q=0;Q<S;++Q)v[Q]||G(_[Q],O,-1,s);if(f.right)for(let Q=0;Q<g;++Q)P[Q]||G(-1,O,d[Q],s);return e.create(I.new())}function loopJoin(e,r,o,l,p,f,O,_,S,v){for(let s=0;s<S;++s){const d=p[s];for(let g=0;g<v;++g){const P=f[g];r(d,o,P,l)&&(e(d,o,P,l),O[s]=1,_[g]=1)}}}function hashJoin(e,[r,o],l,p,f,O,_,S,v,s){let d,g,P,R,I,j,L,G,J=e;v>=s?(d=l,g=r,P=_,R=f,I=p,j=o,L=S,G=O):(d=p,g=o,P=S,R=O,I=l,j=r,L=_,G=f,J=(Z,te,ee,ie)=>e(ee,ie,Z,te));const Q=indexLookup(G,I,j),W=R.length;for(let Z=0;Z<W;++Z){const te=R[Z],ee=Q.get(g(te,d));if(ee){const ie=ee.length;for(let oe=0;oe<ie;++oe){const se=ee[oe];J(te,d,G[se],I),L[se]=1}P[Z]=1}}}function parseKey(e,r,o){const l=new Map;toArray(o).forEach((f,O)=>{f=isNumber$2(f)?r.columnName(f):f,isString$1(f)?l.set(O,field$1(f)):isFunction$2(f)||isObject$2(f)&&f.expr?l.set(O,f):error$1(`Invalid ${e} key value: ${f+""}`)});const p=parse$7(l,{table:r,aggregate:!1,window:!1});return keyFunction(p.exprs,!0)}function intersect$3(e,r){const o=new Set(r);return e.filter(l=>o.has(l))}function inferKeys(e,r,o){if(o)isString$1(o)?o=[o,o]:isArray$2(o)&&o.length===1&&(o=[o[0],o[0]]);else{const l=intersect$3(e.columnNames(),r.columnNames());l.length||error$1("Natural join requires shared column names."),o=[l,l]}return o}function keyPredicate(e,r,o,l){return o.length!==l.length&&error$1("Mismatched number of join keys"),[parseKey("join",e,o),parseKey("join",r,l)]}const OPT_L={aggregate:!1,window:!1},OPT_R={...OPT_L,index:1};function __join(e,r,o,l,p={}){o=inferKeys(e,r,o);const f={join:[e,r]};let O;if(isArray$2(o)){const[_,S]=o.map(toArray);O=keyPredicate(e,r,_,S),l||(l=inferValues(e,_,S,p))}else O=parse$7({on:o},f).exprs[0],l||(l=[all(),all()]);return _join(e,r,O,parseValues$1(e,r,l,f,p&&p.suffix),p)}function inferValues(e,r,o,l){const p=[];r.forEach((O,_)=>isString$1(O)&&O===o[_]?p.push(O):0);const f=not(p);if(l.left&&l.right){const O=new Set(p);return[e.columnNames().map(_=>{const S=`[${toString$2(_)}]`;return O.has(_)?{[_]:`(a, b) => a${S} == null ? b${S} : a${S}`}:_}),f]}return l.right?[f,all()]:[all(),f]}function parseValues$1(e,r,o,l,p=[]){if(isArray$2(o)){let f,O,_,S=o.length;f=O=_={names:[],exprs:[]},S--&&(f=parse$6("join",e,o[0],l)),S--&&(O=parse$6("join",r,o[1],OPT_R)),S--&&(_=parse$7(o[2],l));const v=new Set,s=new Set(f.names);return O.names.forEach(d=>{s.has(d)&&v.add(d)}),v.size&&(p[0]!==""&&rekey(f.names,v,p[0]||"_1"),p[1]!==""&&rekey(O.names,v,p[1]||"_2")),{names:f.names.concat(O.names,_.names),exprs:f.exprs.concat(O.exprs,_.exprs)}}else return parse$7(o,l)}function rekey(e,r,o){e.forEach((l,p)=>r.has(l)?e[p]=l+o:0)}function _join_filter(e,r,o,l={}){const p=new BitSet(e.totalRows());return(isArray$2(o)?hashSemiJoin:loopSemiJoin)(p,e,r,o),l.anti&&p.not().and(e.mask()),e.create({filter:p})}function hashSemiJoin(e,r,o,[l,p]){const f=rowLookup(o,p);r.scan((O,_)=>{f.get(l(O,_))>=0&&e.set(O)})}function loopSemiJoin(e,r,o,l){const p=r.numRows(),f=o.numRows(),O=r.data(),_=o.data();if(r.isFiltered()||o.isFiltered()){const S=r.indices(!1),v=o.indices(!1);for(let s=0;s<p;++s){const d=S[s];for(let g=0;g<f;++g)if(l(d,O,v[g],_)){e.set(d);break}}}else for(let S=0;S<p;++S)for(let v=0;v<f;++v)if(l(S,O,v,_)){e.set(S);break}}function __semijoin(e,r,o,l){o=inferKeys(e,r,o);const p=isArray$2(o)?keyPredicate(e,r,...o.map(toArray)):parse$7({on:o},{join:[e,r]}).exprs[0];return _join_filter(e,r,p,l)}function _lookup(e,r,[o,l],{names:p,exprs:f,ops:O}){const _=columnSet(e),S=e.totalRows();p.forEach(g=>_.add(g,Array(S).fill(NULL$1)));const v=rowLookup(r,l),s=unroll(["lr","rr","data"],"{"+concat(p,(g,P)=>`_[${P}][lr] = $[${P}](rr, data);`)+"}",p.map(g=>_.data[g]),aggregateGet(r,O,f)),d=r.data();return e.scan((g,P)=>{const R=v.get(o(g,P));R>=0&&s(g,R,d)}),e.create(_)}function __lookup(e,r,o,l){return o=inferKeys(e,r,o),_lookup(e,r,[parseKey("lookup",e,o[0]),parseKey("lookup",r,o[1])],parse$6("lookup",r,l))}const opt=(e,r)=>e??r;function _pivot(e,r,o,l={}){const{keys:p,keyColumn:f}=pivotKeys$1(e,r,l),O=opt(l.valueSeparator,"_"),_=o.names.length>1?(v,s)=>s+O+p[v]:v=>p[v],S=p.map(v=>aggregate(e,o.ops.map(s=>{if(s.name==="count"){const g=P=>v===f[P]?1:NaN;return g.toString=()=>v+":1",{...s,name:"sum",fields:[g]}}const d=s.fields.map(g=>{const P=(R,I)=>v===f[R]?g(R,I):NaN;return P.toString=()=>v+":"+g,P});return{...s,fields:d}})));return e.create(output$2(o,_,e.groups(),S))}function pivotKeys$1(e,r,o){const l=o.limit>0?+o.limit:1/0,p=opt(o.sort,!0),f=opt(o.keySeparator,"_"),O=aggregateGet(e,r.ops,r.exprs),_=O.length===1?O[0]:(d,g)=>O.map(P=>P(d,g)).join(f),S=Array(e.totalRows());e.scan((d,g)=>S[d]=_(d,g));const v=aggregate(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[d=>S[d]],params:[]}])[0][0],s=p?v.sort():v;return{keys:Number.isFinite(l)?s.slice(0,l):s,keyColumn:S}}function output$2({names:e,exprs:r},o,l,p){const f=l?l.size:1,O=columnSet(),_=p.length,S=e.length;let v;const s=(d,g)=>v[d][g];l&&groupOutput(O,l);for(let d=0;d<S;++d){const g=r[d];if(g.field!=null)for(let P=0;P<_;++P)O.add(o(P,e[d]),p[P][g.field]);else if(f>1)for(let P=0;P<_;++P){v=p[P];const R=O.add(o(P,e[d]),Array(f));for(let I=0;I<f;++I)R[I]=g(I,null,s)}else for(let P=0;P<_;++P)v=p[P],O.add(o(P,e[d]),[g(0,null,s)])}return O.new()}function __pivot(e,r,o,l){return _pivot(e,parse$6("fold",e,r),parse$6("fold",e,o,{preparse,aggronly:!0}),l)}function preparse(e){e.forEach((r,o)=>r.field?e.set(o,any(r+"")):0)}function __rename(e,r){const o=new Map;return e.columnNames(l=>(o.set(l,l),0)),_select(e,resolve$1(e,r,o))}function __rollup(e,r){return _rollup(e,parse$7(r,{table:e,aggronly:!0,window:!1}))}function sample(e,r,o,l){return(r?l?sampleRW:sampleRU:l?sampleNW:sampleNU)(e.length,e,o,l)}function sampleRU(e,r,o){const l=o.length;for(let p=0;p<e;++p)r[p]=o[l*random$1()|0];return r}function sampleRW(e,r,o,l){const p=o.length,f=new Float64Array(p);let O=0;for(let S=0;S<p;++S)f[S]=O+=l(o[S]);const _=bisector(ascending$2).right;for(let S=0;S<e;++S)r[S]=o[_(f,O*random$1())];return r}function sampleNU(e,r,o){const l=o.length;if(e>=l)return o;for(let p=0;p<e;++p)r[p]=o[p];for(let p=e;p<l;++p){const f=p*random$1();f<e&&(r[f|0]=o[p])}return r}function sampleNW(e,r,o,l){const p=o.length;if(e>=p)return o;const f=new Float32Array(p),O=new Uint32Array(p);for(let _=0;_<p;++_)O[_]=_,f[_]=-Math.log(random$1())/l(o[_]);O.sort((_,S)=>f[_]-f[S]);for(let _=0;_<e;++_)r[_]=o[O[_]];return r}function _shuffle(e,r=0,o=e.length){let l=o-(r=+r);for(;l;){const p=random$1()*l--|0,f=e[l+r];e[l+r]=e[p+r],e[p+r]=f}return e}function _sample(e,r,o,l={}){const{replace:p,shuffle:f}=l,O=e.partitions(!1);let _=0;r=O.map((s,d)=>{let g=r(d);return _+=g=p?g:Math.min(s.length,g),g});const S=new Uint32Array(_);let v=0;return O.forEach((s,d)=>{const g=r[d],P=S.subarray(v,v+=g);!p&&g===s.length?P.set(s):sample(P,p,s,o)}),f!==!1&&(O.length>1||!p)&&_shuffle(S),e.reify(S)}function __sample(e,r,o={}){return _sample(e,parseSize(e,r),parseWeight(e,o.weight),o)}const get$4=e=>r=>e.get(r)||0;function parseSize(e,r){return isNumber$2(r)?()=>r:get$4(_rollup(e,parse$7({size:r},{table:e,window:!1})).column("size"))}function parseWeight(e,r){return r==null?null:(r=isNumber$2(r)?e.columnName(r):r,get$4(isString$1(r)?e.column(r):_derive(e,parse$7({w:r},{table:e}),{drop:!0}).column("w")))}function __select(e,r){return _select(e,resolve$1(e,r))}function _spread(e,{names:r,exprs:o,ops:l=[]},p={}){if(r.length===0)return e;const f=r.length===1&&p.as||[],O=p.drop==null?!0:!!p.drop,_=p.limit==null?f.length||1/0:Math.max(1,+p.limit||1),S=aggregateGet(e,l,o),v=columnSet(),s=r.reduce((g,P,R)=>g.set(P,R),new Map),d=(g,P)=>{const R=spread(e,S[g],_),I=R.length;for(let j=0;j<I;++j)v.add(f[j]||`${P}_${j+1}`,R[j])};return e.columnNames().forEach(g=>{s.has(g)?(O||v.add(g,e.column(g)),d(s.get(g),g),s.delete(g)):v.add(g,e.column(g))}),s.forEach(d),e.create(v)}function spread(e,r,o){const l=e.totalRows(),p=[];return e.scan((f,O)=>{const _=toArray(r(f,O)),S=Math.min(_.length,o);for(;p.length<S;)p.push(Array(l).fill(NULL$1));for(let v=0;v<S;++v)p[v][f]=_[v]}),p}function __spread(e,r,o){return _spread(e,parse$6("spread",e,r),o)}function __union(e,r){return e.concat(r).dedupe()}function __unroll(e,r,o){return _unroll(e,parse$6("unroll",e,r),o&&o.drop?{...o,drop:parse$6("unroll",e,o.drop).names}:o)}function _groupby(e,r){return e.create({groups:createGroups(e,r)})}function createGroups(e,{names:r=[],exprs:o=[],ops:l=[]}){const p=r.length;if(p===0)return null;if(p===1&&!e.isFiltered()&&o[0].field){const P=e.column(o[0].field);if(P.groups)return P.groups(r)}let f=aggregateGet(e,l,o);const O=keyFunction(f),_=e.totalRows(),S=new Uint32Array(_),v={},s=[],d=e.data(),g=e.mask();if(g)for(let P=g.next(0);P>=0;P=g.next(P+1)){const R=O(P,d)+"",I=v[R];S[P]=I??(v[R]=s.push(P)-1)}else for(let P=0;P<_;++P){const R=O(P,d)+"",I=v[R];S[P]=I??(v[R]=s.push(P)-1)}return l.length||(f=f.map(P=>R=>P(R,d))),{keys:S,get:f,names:r,rows:s,size:s.length}}function __groupby(e,r){return _groupby(e,parse$6("groupby",e,r))}function _orderby(e,r){return e.create({order:r})}const _compare$1=(e,r,o,l)=>`((u = ${e}) < (v = ${r}) || u == null) && v != null ? ${o}
    : (u > v || v == null) && u != null ? ${l}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${o}
    : v !== v && u === u ? ${l} : `;function parse$5(e,r){const o=[],l=[],p=[];let f=null,O="0",_="0";e.isGrouped()&&(f=e.groups().keys,O="ka",_="kb");const{ops:S}=parse$7(r,{table:e,value:(P,R)=>{if(o.push(P),R.escape){const I=j=>`fn[${p.length}](${j}, data)`;l.push([I("a"),I("b")]),p.push(R.escape)}else l.push([codegen$1(R,{index:"a",op:O}),codegen$1(R,{index:"b",op:_})])},window:!1}),v=aggregate(e,S),s=(P,R)=>v[P][R],d=o.length;let g="return (a, b) => {"+(s&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let P=0;P<d;++P){const R=r.get(o[P]).desc?-1:1,[I,j]=l[P];g+=_compare$1(I,j,-R,R)}return g+="0;};",Function("op","keys","fn","data",g)(s,f,p,e.data())}function __orderby(e,r){return _orderby(e,parseValues(e,r))}function parseValues(e,r){let o=-1;const l=new Map,p=f=>l.set(++o+"",f);return r.forEach(f=>{const O=f.expr!=null?f.expr:f;if(isObject$2(O)&&!isFunction$2(O))for(const _ in O)p(O[_]);else p(isNumber$2(O)?field$1(f,e.columnName(O)):isString$1(O)?field$1(f):isFunction$2(O)?f:error$1(`Invalid orderby field: ${f+""}`))}),parse$5(e,l)}function __concat(e,r){const o=e.numRows(),l=o+r.reduce((O,_)=>O+_.numRows(),0);if(o===l)return e;const p=[e,...r],f=columnSet();return e.columnNames().forEach(O=>{const _=Array(l);let S=0;p.forEach(v=>{const s=v.column(O)||{get:()=>NULL$1};v.scan(d=>_[S++]=s.get(d))}),f.add(O,_)}),e.create(f.new())}function __reduce(e,r){const o=columnSet(),l=e.groups(),{get:p,names:f=[],rows:O,size:_=1}=l||{},S=new Uint32Array(_+1);f.forEach(g=>o.add(g,null));const v=l?reduceGroups(e,r,l):[reduceFlat(e,r)];r.outputs().map(g=>o.add(g,[]));const s=S.length-1;let d=0;for(let g=0;g<s;++g)d+=S[g+1]=r.write(v[g],o.data,S[g]);if(l){const g=e.data();f.forEach((P,R)=>{const I=o.data[P]=Array(d),j=p[R];for(let L=0,G=0;L<_;++L)I.fill(j(O[L],g),G,G+=S[L+1])})}return e.create(o.new())}function __ungroup(e){return e.isGrouped()?e.create({groups:null}):e}function __unorder(e){return e.isOrdered()?e.create({order:null}):e}const verbs={__antijoin:(e,r,o)=>__semijoin(e,r,o,{anti:!0}),__count:(e,r={})=>__rollup(e,{[r.as||"count"]:count()}),__cross:(e,r,o,l)=>__join(e,r,()=>!0,o,{...l,left:!0,right:!0}),__concat,__dedupe,__derive,__except,__filter,__fold,__impute,__intersect,__join,__lookup,__pivot,__relocate,__rename,__rollup,__sample,__select,__semijoin,__spread,__union,__unroll,__groupby,__orderby,__ungroup,__unorder,__reduce};Object.assign(ColumnTable.prototype,verbs);function table(e,r){return ColumnTable.new(e,r)}function from(e,r){return ColumnTable.from(e,r)}function escape$1(e){return wrap$1(e,{escape:!0,toString(){error$1("Escaped values can not be serialized.")}})}ColumnTable.prototype;function filterTable(e,r){return e.ungroup().filter(`d => ${r.replace(/datum\./gi,"d.")}`).reify()}function makeIndexSortFn(e,r){return(o,l)=>{let p=r.indexOf(o[e])-r.indexOf(l[e]);return p!=0?p:0}}function makeAscSortFn(e){return(r,o)=>asc(r[e],o[e])}function makeDescSortFn(e){return(r,o)=>desc$1(r[e],o[e])}function accessor(e,r,o){return e.fields=r||[],e.fname=o,e}function accessorName(e){return e==null?null:e.fname}function accessorFields(e){return e==null?null:e.fields}function getter$1(e){return e.length===1?get1(e[0]):getN(e)}const get1=e=>function(r){return r[e]},getN=e=>{const r=e.length;return function(o){for(let l=0;l<r;++l)o=o[e[l]];return o}};function error(e){throw Error(e)}function splitAccessPath(e){const r=[],o=e.length;let l=null,p=0,f="",O,_,S;e=e+"";function v(){r.push(f+e.substring(O,_)),f="",O=_+1}for(O=_=0;_<o;++_)if(S=e[_],S==="\\")f+=e.substring(O,_++),O=_;else if(S===l)v(),l=null,p=-1;else{if(l)continue;O===p&&S==='"'||O===p&&S==="'"?(O=_+1,l=S):S==="."&&!p?_>O?v():O=_+1:S==="["?(_>O&&v(),p=O=_+1):S==="]"&&(p||error("Access path missing open bracket: "+e),p>0&&v(),p=0,O=_+1)}return p&&error("Access path missing closing bracket: "+e),l&&error("Access path missing closing quote: "+e),_>O&&(_++,v()),r}function field(e,r,o){const l=splitAccessPath(e);return e=l.length===1?l[0]:e,accessor((o&&o.get||getter$1)(l),[e],r||e)}const id=field("id"),identity$1=accessor(e=>e,[],"identity"),zero=accessor(()=>0,[],"zero"),one=accessor(()=>1,[],"one"),truthy=accessor(()=>!0,[],"true"),falsy=accessor(()=>!1,[],"false");function log$1$1(e,r,o){const l=[r].concat([].slice.call(o));console[e].apply(console,l)}const None$2=0,Error$1=1,Warn=2,Info=3,Debug=4;function logger(e,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:log$1$1,l=e||None$2;return{level(p){return arguments.length?(l=+p,this):l},error(){return l>=Error$1&&o(r||"error","ERROR",arguments),this},warn(){return l>=Warn&&o(r||"warn","WARN",arguments),this},info(){return l>=Info&&o(r||"log","INFO",arguments),this},debug(){return l>=Debug&&o(r||"log","DEBUG",arguments),this}}}var isArray=Array.isArray;function isObject(e){return e===Object(e)}function peek(e){return e[e.length-1]}function toNumber(e){return e==null||e===""?null:+e}const exp$1=e=>r=>e*Math.exp(r),log$2=e=>r=>Math.log(e*r),symlog=e=>r=>Math.sign(r)*Math.log1p(Math.abs(r/e)),symexp=e=>r=>Math.sign(r)*Math.expm1(Math.abs(r))*e,pow$1=e=>r=>r<0?-Math.pow(-r,e):Math.pow(r,e);function pan(e,r,o,l){const p=o(e[0]),f=o(peek(e)),O=(f-p)*r;return[l(p-O),l(f-O)]}function panLinear(e,r){return pan(e,r,toNumber,identity$1)}function panLog(e,r){var o=Math.sign(e[0]);return pan(e,r,log$2(o),exp$1(o))}function panPow(e,r,o){return pan(e,r,pow$1(o),pow$1(1/o))}function panSymlog(e,r,o){return pan(e,r,symlog(o),symexp(o))}function zoom(e,r,o,l,p){const f=l(e[0]),O=l(peek(e)),_=r!=null?l(r):(f+O)/2;return[p(_+(f-_)*o),p(_+(O-_)*o)]}function zoomLinear(e,r,o){return zoom(e,r,o,toNumber,identity$1)}function zoomLog(e,r,o){const l=Math.sign(e[0]);return zoom(e,r,o,log$2(l),exp$1(l))}function zoomPow(e,r,o,l){return zoom(e,r,o,pow$1(l),pow$1(1/l))}function zoomSymlog(e,r,o,l){return zoom(e,r,o,symlog(l),symexp(l))}function quarter(e){return 1+~~(new Date(e).getMonth()/3)}function utcquarter(e){return 1+~~(new Date(e).getUTCMonth()/3)}function array$2(e){return e!=null?isArray(e)?e:[e]:[]}function clampRange(e,r,o){let l=e[0],p=e[1],f;return p<l&&(f=p,p=l,l=f),f=p-l,f>=o-r?[r,o]:[l=Math.min(Math.max(l,r),o-f),l+f]}function isFunction(e){return typeof e=="function"}const DESCENDING="descending";function compare$1(e,r,o){o=o||{},r=array$2(r)||[];const l=[],p=[],f={},O=o.comparator||comparator;return array$2(e).forEach((_,S)=>{_!=null&&(l.push(r[S]===DESCENDING?-1:1),p.push(_=isFunction(_)?_:field(_,null,o)),(accessorFields(_)||[]).forEach(v=>f[v]=1))}),p.length===0?null:accessor(O(p,l),Object.keys(f))}const ascending$1=(e,r)=>(e<r||e==null)&&r!=null?-1:(e>r||r==null)&&e!=null?1:(r=r instanceof Date?+r:r,(e=e instanceof Date?+e:e)!==e&&r===r?-1:r!==r&&e===e?1:0),comparator=(e,r)=>e.length===1?compare1(e[0],r[0]):compareN(e,r,e.length),compare1=(e,r)=>function(o,l){return ascending$1(e(o),e(l))*r},compareN=(e,r,o)=>(r.push(0),function(l,p){let f,O=0,_=-1;for(;O===0&&++_<o;)f=e[_],O=ascending$1(f(l),f(p));return O*r[_]});function constant$1(e){return isFunction(e)?e:()=>e}function debounce(e,r){let o;return l=>{o&&clearTimeout(o),o=setTimeout(()=>(r(l),o=null),e)}}function extend(e){for(let r,o,l=1,p=arguments.length;l<p;++l){r=arguments[l];for(o in r)e[o]=r[o]}return e}function extent(e,r){let o=0,l,p,f,O;if(e&&(l=e.length))if(r==null){for(p=e[o];o<l&&(p==null||p!==p);p=e[++o]);for(f=O=p;o<l;++o)p=e[o],p!=null&&(p<f&&(f=p),p>O&&(O=p))}else{for(p=r(e[o]);o<l&&(p==null||p!==p);p=r(e[++o]));for(f=O=p;o<l;++o)p=r(e[o]),p!=null&&(p<f&&(f=p),p>O&&(O=p))}return[f,O]}function extentIndex(e,r){const o=e.length;let l=-1,p,f,O,_,S;if(r==null){for(;++l<o;)if(f=e[l],f!=null&&f>=f){p=O=f;break}if(l===o)return[-1,-1];for(_=S=l;++l<o;)f=e[l],f!=null&&(p>f&&(p=f,_=l),O<f&&(O=f,S=l))}else{for(;++l<o;)if(f=r(e[l],l,e),f!=null&&f>=f){p=O=f;break}if(l===o)return[-1,-1];for(_=S=l;++l<o;)f=r(e[l],l,e),f!=null&&(p>f&&(p=f,_=l),O<f&&(O=f,S=l))}return[_,S]}const hop=Object.prototype.hasOwnProperty;function has(e,r){return hop.call(e,r)}const NULL={};function fastmap(e){let r={},o;function l(f){return has(r,f)&&r[f]!==NULL}const p={size:0,empty:0,object:r,has:l,get(f){return l(f)?r[f]:void 0},set(f,O){return l(f)||(++p.size,r[f]===NULL&&--p.empty),r[f]=O,this},delete(f){return l(f)&&(--p.size,++p.empty,r[f]=NULL),this},clear(){p.size=p.empty=0,p.object=r={}},test(f){return arguments.length?(o=f,p):o},clean(){const f={};let O=0;for(const _ in r){const S=r[_];S!==NULL&&(!o||!o(S))&&(f[_]=S,++O)}p.size=O,p.empty=0,p.object=r=f}};return e&&Object.keys(e).forEach(f=>{p.set(f,e[f])}),p}function flush(e,r,o,l,p,f){if(!o&&o!==0)return f;const O=+o;let _=e[0],S=peek(e),v;S<_&&(v=_,_=S,S=v),v=Math.abs(r-_);const s=Math.abs(S-r);return v<s&&v<=O?l:s<=O?p:f}function inherits(e,r,o){const l=e.prototype=Object.create(r.prototype);return Object.defineProperty(l,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),extend(l,o)}function inrange(e,r,o,l){let p=r[0],f=r[r.length-1],O;return p>f&&(O=p,p=f,f=O),o=o===void 0||o,l=l===void 0||l,(o?p<=e:p<e)&&(l?e<=f:e<f)}function isBoolean$1(e){return typeof e=="boolean"}function isDate$1(e){return Object.prototype.toString.call(e)==="[object Date]"}function isIterable(e){return e&&isFunction(e[Symbol.iterator])}function isNumber$1(e){return typeof e=="number"}function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function isString(e){return typeof e=="string"}function key(e,r,o){e&&(e=r?array$2(e).map(_=>_.replace(/\\(.)/g,"$1")):array$2(e));const l=e&&e.length,p=o&&o.get||getter$1,f=_=>p(r?[_]:splitAccessPath(_));let O;if(!l)O=function(){return""};else if(l===1){const _=f(e[0]);O=function(S){return""+_(S)}}else{const _=e.map(f);O=function(S){let v=""+_[0](S),s=0;for(;++s<l;)v+="|"+_[s](S);return v}}return accessor(O,e,"key")}function lerp(e,r){const o=e[0],l=peek(e),p=+r;return p?p===1?l:o+p*(l-o):o}const DEFAULT_MAX_SIZE=1e4;function lruCache(e){e=+e||DEFAULT_MAX_SIZE;let r,o,l;const p=()=>{r={},o={},l=0},f=(O,_)=>(++l>e&&(o=r,r={},l=1),r[O]=_);return p(),{clear:p,has:O=>has(r,O)||has(o,O),get:O=>has(r,O)?r[O]:has(o,O)?f(O,o[O]):void 0,set:(O,_)=>has(r,O)?r[O]=_:f(O,_)}}function merge$2(e,r,o,l){const p=r.length,f=o.length;if(!f)return r;if(!p)return o;const O=l||new r.constructor(p+f);let _=0,S=0,v=0;for(;_<p&&S<f;++v)O[v]=e(r[_],o[S])>0?o[S++]:r[_++];for(;_<p;++_,++v)O[v]=r[_];for(;S<f;++S,++v)O[v]=o[S];return O}function repeat(e,r){let o="";for(;--r>=0;)o+=e;return o}function pad(e,r,o,l){const p=o||" ",f=e+"",O=r-f.length;return O<=0?f:l==="left"?repeat(p,O)+f:l==="center"?repeat(p,~~(O/2))+f+repeat(p,Math.ceil(O/2)):f+repeat(p,O)}function span(e){return e&&peek(e)-e[0]||0}function $(e){return isArray(e)?"["+e.map($)+"]":isObject(e)||isString(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function toBoolean(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const defaultParser=e=>isNumber$1(e)||isDate$1(e)?e:Date.parse(e);function toDate(e,r){return r=r||defaultParser,e==null||e===""?null:r(e)}function toString(e){return e==null||e===""?null:e+""}function toSet(e){const r={},o=e.length;for(let l=0;l<o;++l)r[e[l]]=!0;return r}function truncate$1(e,r,o,l){const p=l??"…",f=e+"",O=f.length,_=Math.max(0,r-p.length);return O<=r?f:o==="left"?p+f.slice(O-_):o==="center"?f.slice(0,Math.ceil(_/2))+p+f.slice(O-~~(_/2)):f.slice(0,_)+p}function visitArray(e,r,o){if(e)if(r){const l=e.length;for(let p=0;p<l;++p){const f=r(e[p]);f&&o(f,p,e)}}else e.forEach(o)}function identity(e){return e}function transform$1(e){if(e==null)return identity;var r,o,l=e.scale[0],p=e.scale[1],f=e.translate[0],O=e.translate[1];return function(_,S){S||(r=o=0);var v=2,s=_.length,d=new Array(s);for(d[0]=(r+=_[0])*l+f,d[1]=(o+=_[1])*p+O;v<s;)d[v]=_[v],++v;return d}}function reverse$1(e,r){for(var o,l=e.length,p=l-r;p<--l;)o=e[p],e[p++]=e[l],e[l]=o}function feature(e,r){return typeof r=="string"&&(r=e.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(o){return feature$1(e,o)})}:feature$1(e,r)}function feature$1(e,r){var o=r.id,l=r.bbox,p=r.properties==null?{}:r.properties,f=object(e,r);return o==null&&l==null?{type:"Feature",properties:p,geometry:f}:l==null?{type:"Feature",id:o,properties:p,geometry:f}:{type:"Feature",id:o,bbox:l,properties:p,geometry:f}}function object(e,r){var o=transform$1(e.transform),l=e.arcs;function p(s,d){d.length&&d.pop();for(var g=l[s<0?~s:s],P=0,R=g.length;P<R;++P)d.push(o(g[P],P));s<0&&reverse$1(d,R)}function f(s){return o(s)}function O(s){for(var d=[],g=0,P=s.length;g<P;++g)p(s[g],d);return d.length<2&&d.push(d[0]),d}function _(s){for(var d=O(s);d.length<4;)d.push(d[0]);return d}function S(s){return s.map(_)}function v(s){var d=s.type,g;switch(d){case"GeometryCollection":return{type:d,geometries:s.geometries.map(v)};case"Point":g=f(s.coordinates);break;case"MultiPoint":g=s.coordinates.map(f);break;case"LineString":g=O(s.arcs);break;case"MultiLineString":g=s.arcs.map(O);break;case"Polygon":g=S(s.arcs);break;case"MultiPolygon":g=s.arcs.map(S);break;default:return null}return{type:d,coordinates:g}}return v(r)}function stitch(e,r){var o={},l={},p={},f=[],O=-1;r.forEach(function(v,s){var d=e.arcs[v<0?~v:v],g;d.length<3&&!d[1][0]&&!d[1][1]&&(g=r[++O],r[O]=v,r[s]=g)}),r.forEach(function(v){var s=_(v),d=s[0],g=s[1],P,R;if(P=p[d])if(delete p[P.end],P.push(v),P.end=g,R=l[g]){delete l[R.start];var I=R===P?P:P.concat(R);l[I.start=P.start]=p[I.end=R.end]=I}else l[P.start]=p[P.end]=P;else if(P=l[g])if(delete l[P.start],P.unshift(v),P.start=d,R=p[d]){delete p[R.end];var j=R===P?P:R.concat(P);l[j.start=R.start]=p[j.end=P.end]=j}else l[P.start]=p[P.end]=P;else P=[v],l[P.start=d]=p[P.end=g]=P});function _(v){var s=e.arcs[v<0?~v:v],d=s[0],g;return e.transform?(g=[0,0],s.forEach(function(P){g[0]+=P[0],g[1]+=P[1]})):g=s[s.length-1],v<0?[g,d]:[d,g]}function S(v,s){for(var d in v){var g=v[d];delete s[g.start],delete g.start,delete g.end,g.forEach(function(P){o[P<0?~P:P]=1}),f.push(g)}}return S(p,l),S(l,p),r.forEach(function(v){o[v<0?~v:v]||f.push([v])}),f}function mesh(e){return object(e,meshArcs.apply(this,arguments))}function meshArcs(e,r,o){var l,p,f;if(arguments.length>1)l=extractArcs(e,r,o);else for(p=0,l=new Array(f=e.arcs.length);p<f;++p)l[p]=p;return{type:"MultiLineString",arcs:stitch(e,l)}}function extractArcs(e,r,o){var l=[],p=[],f;function O(d){var g=d<0?~d:d;(p[g]||(p[g]=[])).push({i:d,g:f})}function _(d){d.forEach(O)}function S(d){d.forEach(_)}function v(d){d.forEach(S)}function s(d){switch(f=d,d.type){case"GeometryCollection":d.geometries.forEach(s);break;case"LineString":_(d.arcs);break;case"MultiLineString":case"Polygon":S(d.arcs);break;case"MultiPolygon":v(d.arcs);break}}return s(r),p.forEach(o==null?function(d){l.push(d[0].i)}:function(d){o(d[0].g,d[d.length-1].g)&&l.push(d[0].i)}),l}const YEAR="year",QUARTER="quarter",MONTH="month",WEEK="week",DATE="date",DAY="day",DAYOFYEAR="dayofyear",HOURS="hours",MINUTES="minutes",SECONDS="seconds",MILLISECONDS="milliseconds",TIME_UNITS=[YEAR,QUARTER,MONTH,WEEK,DATE,DAY,DAYOFYEAR,HOURS,MINUTES,SECONDS,MILLISECONDS],UNITS=TIME_UNITS.reduce((e,r,o)=>(e[r]=1+o,e),{});function timeUnits(e){const r=array$2(e).slice(),o={};return r.length||error("Missing time unit."),r.forEach(p=>{has(UNITS,p)?o[p]=1:error(`Invalid time unit: ${p}.`)}),(o[WEEK]||o[DAY]?1:0)+(o[QUARTER]||o[MONTH]||o[DATE]?1:0)+(o[DAYOFYEAR]?1:0)>1&&error(`Incompatible time units: ${e}`),r.sort((p,f)=>UNITS[p]-UNITS[f]),r}const defaultSpecifiers={[YEAR]:"%Y ",[QUARTER]:"Q%q ",[MONTH]:"%b ",[DATE]:"%d ",[WEEK]:"W%U ",[DAY]:"%a ",[DAYOFYEAR]:"%j ",[HOURS]:"%H:00",[MINUTES]:"00:%M",[SECONDS]:":%S",[MILLISECONDS]:".%L",[`${YEAR}-${MONTH}`]:"%Y-%m ",[`${YEAR}-${MONTH}-${DATE}`]:"%Y-%m-%d ",[`${HOURS}-${MINUTES}`]:"%H:%M"};function timeUnitSpecifier(e,r){const o=extend({},defaultSpecifiers,r),l=timeUnits(e),p=l.length;let f="",O=0,_,S;for(O=0;O<p;)for(_=l.length;_>O;--_)if(S=l.slice(O,_).join("-"),o[S]!=null){f+=o[S],O=_;break}return f.trim()}const t0=new Date;function localYear(e){return t0.setFullYear(e),t0.setMonth(0),t0.setDate(1),t0.setHours(0,0,0,0),t0}function dayofyear(e){return localDayOfYear(new Date(e))}function week(e){return localWeekNum(new Date(e))}function localDayOfYear(e){return timeDay.count(localYear(e.getFullYear())-1,e)}function localWeekNum(e){return timeSunday.count(localYear(e.getFullYear())-1,e)}function localFirst(e){return localYear(e).getDay()}function localDate(e,r,o,l,p,f,O){if(0<=e&&e<100){const _=new Date(-1,r,o,l,p,f,O);return _.setFullYear(e),_}return new Date(e,r,o,l,p,f,O)}function utcdayofyear(e){return utcDayOfYear(new Date(e))}function utcweek(e){return utcWeekNum(new Date(e))}function utcDayOfYear(e){const r=Date.UTC(e.getUTCFullYear(),0,1);return utcDay.count(r-1,e)}function utcWeekNum(e){const r=Date.UTC(e.getUTCFullYear(),0,1);return utcSunday.count(r-1,e)}function utcFirst(e){return t0.setTime(Date.UTC(e,0,1)),t0.getUTCDay()}function utcDate(e,r,o,l,p,f,O){if(0<=e&&e<100){const _=new Date(Date.UTC(-1,r,o,l,p,f,O));return _.setUTCFullYear(o.y),_}return new Date(Date.UTC(e,r,o,l,p,f,O))}function floor(e,r,o,l,p){const f=r||1,O=peek(e),_=(L,G,J)=>(J=J||L,getUnit(o[J],l[J],L===O&&f,G)),S=new Date,v=toSet(e),s=v[YEAR]?_(YEAR):constant$1(2012),d=v[MONTH]?_(MONTH):v[QUARTER]?_(QUARTER):zero,g=v[WEEK]&&v[DAY]?_(DAY,1,WEEK+DAY):v[WEEK]?_(WEEK,1):v[DAY]?_(DAY,1):v[DATE]?_(DATE,1):v[DAYOFYEAR]?_(DAYOFYEAR,1):one,P=v[HOURS]?_(HOURS):zero,R=v[MINUTES]?_(MINUTES):zero,I=v[SECONDS]?_(SECONDS):zero,j=v[MILLISECONDS]?_(MILLISECONDS):zero;return function(L){S.setTime(+L);const G=s(S);return p(G,d(S),g(S,G),P(S),R(S),I(S),j(S))}}function getUnit(e,r,o,l){const p=o<=1?e:l?(f,O)=>l+o*Math.floor((e(f,O)-l)/o):(f,O)=>o*Math.floor(e(f,O)/o);return r?(f,O)=>r(p(f,O),O):p}function weekday(e,r,o){return r+e*7-(o+6)%7}const localGet={[YEAR]:e=>e.getFullYear(),[QUARTER]:e=>Math.floor(e.getMonth()/3),[MONTH]:e=>e.getMonth(),[DATE]:e=>e.getDate(),[HOURS]:e=>e.getHours(),[MINUTES]:e=>e.getMinutes(),[SECONDS]:e=>e.getSeconds(),[MILLISECONDS]:e=>e.getMilliseconds(),[DAYOFYEAR]:e=>localDayOfYear(e),[WEEK]:e=>localWeekNum(e),[WEEK+DAY]:(e,r)=>weekday(localWeekNum(e),e.getDay(),localFirst(r)),[DAY]:(e,r)=>weekday(1,e.getDay(),localFirst(r))},localInv={[QUARTER]:e=>3*e,[WEEK]:(e,r)=>weekday(e,0,localFirst(r))};function timeFloor(e,r){return floor(e,r||1,localGet,localInv,localDate)}const utcGet={[YEAR]:e=>e.getUTCFullYear(),[QUARTER]:e=>Math.floor(e.getUTCMonth()/3),[MONTH]:e=>e.getUTCMonth(),[DATE]:e=>e.getUTCDate(),[HOURS]:e=>e.getUTCHours(),[MINUTES]:e=>e.getUTCMinutes(),[SECONDS]:e=>e.getUTCSeconds(),[MILLISECONDS]:e=>e.getUTCMilliseconds(),[DAYOFYEAR]:e=>utcDayOfYear(e),[WEEK]:e=>utcWeekNum(e),[DAY]:(e,r)=>weekday(1,e.getUTCDay(),utcFirst(r)),[WEEK+DAY]:(e,r)=>weekday(utcWeekNum(e),e.getUTCDay(),utcFirst(r))},utcInv={[QUARTER]:e=>3*e,[WEEK]:(e,r)=>weekday(e,0,utcFirst(r))};function utcFloor(e,r){return floor(e,r||1,utcGet,utcInv,utcDate)}const timeIntervals={[YEAR]:timeYear,[QUARTER]:timeMonth.every(3),[MONTH]:timeMonth,[WEEK]:timeSunday,[DATE]:timeDay,[DAY]:timeDay,[DAYOFYEAR]:timeDay,[HOURS]:timeHour,[MINUTES]:timeMinute,[SECONDS]:second,[MILLISECONDS]:millisecond},utcIntervals={[YEAR]:utcYear,[QUARTER]:utcMonth.every(3),[MONTH]:utcMonth,[WEEK]:utcSunday,[DATE]:utcDay,[DAY]:utcDay,[DAYOFYEAR]:utcDay,[HOURS]:utcHour,[MINUTES]:utcMinute,[SECONDS]:second,[MILLISECONDS]:millisecond};function timeInterval(e){return timeIntervals[e]}function utcInterval(e){return utcIntervals[e]}function offset$3(e,r,o){return e?e.offset(r,o):void 0}function timeOffset(e,r,o){return offset$3(timeInterval(e),r,o)}function utcOffset(e,r,o){return offset$3(utcInterval(e),r,o)}function sequence$1(e,r,o,l){return e?e.range(r,o,l):void 0}function timeSequence(e,r,o,l){return sequence$1(timeInterval(e),r,o,l)}function utcSequence(e,r,o,l){return sequence$1(utcInterval(e),r,o,l)}const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,Milli=[YEAR,MONTH,DATE,HOURS,MINUTES,SECONDS,MILLISECONDS],Seconds=Milli.slice(0,-1),Minutes=Seconds.slice(0,-1),Hours=Minutes.slice(0,-1),Day=Hours.slice(0,-1),Week=[YEAR,WEEK],Month=[YEAR,MONTH],Year=[YEAR],intervals=[[Seconds,1,durationSecond],[Seconds,5,5*durationSecond],[Seconds,15,15*durationSecond],[Seconds,30,30*durationSecond],[Minutes,1,durationMinute],[Minutes,5,5*durationMinute],[Minutes,15,15*durationMinute],[Minutes,30,30*durationMinute],[Hours,1,durationHour],[Hours,3,3*durationHour],[Hours,6,6*durationHour],[Hours,12,12*durationHour],[Day,1,durationDay],[Week,1,durationWeek],[Month,1,durationMonth],[Month,3,3*durationMonth],[Year,1,durationYear]];function bin$1(e){const r=e.extent,o=e.maxbins||40,l=Math.abs(span(r))/o;let p=bisector$1(_=>_[2]).right(intervals,l),f,O;return p===intervals.length?(f=Year,O=tickStep(r[0]/durationYear,r[1]/durationYear,o)):p?(p=intervals[l/intervals[p-1][2]<intervals[p][2]/l?p-1:p],f=p[0],O=p[1]):(f=Milli,O=Math.max(tickStep(r[0],r[1],o),1)),{units:f,step:O}}function memoize(e){const r={};return o=>r[o]||(r[o]=e(o))}function trimZeroes(e,r){return o=>{const l=e(o),p=l.indexOf(r);if(p<0)return l;let f=rightmostDigit(l,p);const O=f<l.length?l.slice(f):"";for(;--f>p;)if(l[f]!=="0"){++f;break}return l.slice(0,f)+O}}function rightmostDigit(e,r){let o=e.lastIndexOf("e"),l;if(o>0)return o;for(o=e.length;--o>r;)if(l=e.charCodeAt(o),l>=48&&l<=57)return o+1}function numberLocale(e){const r=memoize(e.format),o=e.formatPrefix;return{format:r,formatPrefix:o,formatFloat(l){const p=formatSpecifier(l||",");if(p.precision==null){switch(p.precision=12,p.type){case"%":p.precision-=2;break;case"e":p.precision-=1;break}return trimZeroes(r(p),r(".1f")(1)[1])}else return r(p)},formatSpan(l,p,f,O){O=formatSpecifier(O??",f");const _=tickStep(l,p,f),S=Math.max(Math.abs(l),Math.abs(p));let v;if(O.precision==null)switch(O.type){case"s":return isNaN(v=precisionPrefix(_,S))||(O.precision=v),o(O,S);case"":case"e":case"g":case"p":case"r":{isNaN(v=precisionRound(_,S))||(O.precision=v-(O.type==="e"));break}case"f":case"%":{isNaN(v=precisionFixed(_))||(O.precision=v-(O.type==="%")*2);break}}return r(O)}}}let defaultNumberLocale;resetNumberFormatDefaultLocale();function resetNumberFormatDefaultLocale(){return defaultNumberLocale=numberLocale({format:format$3,formatPrefix})}function numberFormatLocale(e){return numberLocale(formatLocale$1(e))}function numberFormatDefaultLocale(e){return arguments.length?defaultNumberLocale=numberFormatLocale(e):defaultNumberLocale}function timeMultiFormat(e,r,o){o=o||{},isObject(o)||error(`Invalid time multi-format specifier: ${o}`);const l=r(SECONDS),p=r(MINUTES),f=r(HOURS),O=r(DATE),_=r(WEEK),S=r(MONTH),v=r(QUARTER),s=r(YEAR),d=e(o[MILLISECONDS]||".%L"),g=e(o[SECONDS]||":%S"),P=e(o[MINUTES]||"%I:%M"),R=e(o[HOURS]||"%I %p"),I=e(o[DATE]||o[DAY]||"%a %d"),j=e(o[WEEK]||"%b %d"),L=e(o[MONTH]||"%B"),G=e(o[QUARTER]||"%B"),J=e(o[YEAR]||"%Y");return Q=>(l(Q)<Q?d:p(Q)<Q?g:f(Q)<Q?P:O(Q)<Q?R:S(Q)<Q?_(Q)<Q?I:j:s(Q)<Q?v(Q)<Q?L:G:J)(Q)}function timeLocale(e){const r=memoize(e.format),o=memoize(e.utcFormat);return{timeFormat:l=>isString(l)?r(l):timeMultiFormat(r,timeInterval,l),utcFormat:l=>isString(l)?o(l):timeMultiFormat(o,utcInterval,l),timeParse:memoize(e.parse),utcParse:memoize(e.utcParse)}}let defaultTimeLocale;resetTimeFormatDefaultLocale();function resetTimeFormatDefaultLocale(){return defaultTimeLocale=timeLocale({format:timeFormat$1,parse:timeParse$1,utcFormat:utcFormat$1,utcParse:utcParse$1})}function timeFormatLocale(e){return timeLocale(formatLocale(e))}function timeFormatDefaultLocale(e){return arguments.length?defaultTimeLocale=timeFormatLocale(e):defaultTimeLocale}const createLocale=(e,r)=>extend({},e,r);function locale(e,r){const o=e?numberFormatLocale(e):numberFormatDefaultLocale(),l=r?timeFormatLocale(r):timeFormatDefaultLocale();return createLocale(o,l)}function defaultLocale(e,r){const o=arguments.length;return o&&o!==2&&error("defaultLocale expects either zero or two arguments."),o?createLocale(numberFormatDefaultLocale(e),timeFormatDefaultLocale(r)):createLocale(numberFormatDefaultLocale(),timeFormatDefaultLocale())}const protocol_re=/^(data:|([A-Za-z]+:)?\/\/)/,allowed_re=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whitespace_re=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,fileProtocol="file://";function loaderFactory(e,r){return o=>({options:o||{},sanitize,load,fileAccess:!!r,file:fileLoader(r),http:httpLoader(e)})}async function load(e,r){const o=await this.sanitize(e,r),l=o.href;return o.localFile?this.file(l):this.http(l,r)}async function sanitize(e,r){r=extend({},this.options,r);const o=this.fileAccess,l={href:null};let p,f,O;const _=allowed_re.test(e.replace(whitespace_re,""));(e==null||typeof e!="string"||!_)&&error("Sanitize failure, invalid URI: "+$(e));const S=protocol_re.test(e);return(O=r.baseURL)&&!S&&(!e.startsWith("/")&&!O.endsWith("/")&&(e="/"+e),e=O+e),f=(p=e.startsWith(fileProtocol))||r.mode==="file"||r.mode!=="http"&&!S&&o,p?e=e.slice(fileProtocol.length):e.startsWith("//")&&(r.defaultProtocol==="file"?(e=e.slice(2),f=!0):e=(r.defaultProtocol||"http")+":"+e),Object.defineProperty(l,"localFile",{value:!!f}),l.href=e,r.target&&(l.target=r.target+""),r.rel&&(l.rel=r.rel+""),r.context==="image"&&r.crossOrigin&&(l.crossOrigin=r.crossOrigin+""),l}function fileLoader(e){return e?r=>new Promise((o,l)=>{e.readFile(r,(p,f)=>{p?l(p):o(f)})}):fileReject}async function fileReject(){error("No file system access.")}function httpLoader(e){return e?async function(r,o){const l=extend({},this.options.http,o),p=o&&o.response,f=await e(r,l);return f.ok?isFunction(f[p])?f[p]():f.text():error(f.status+""+f.statusText)}:httpReject}async function httpReject(){error("No HTTP fetch method available.")}const isValid=e=>e!=null&&e===e,isBoolean=e=>e==="true"||e==="false"||e===!0||e===!1,isDate=e=>!Number.isNaN(Date.parse(e)),isNumber=e=>!Number.isNaN(+e)&&!(e instanceof Date),isInteger=e=>isNumber(e)&&Number.isInteger(+e),typeParsers={boolean:toBoolean,integer:toNumber,number:toNumber,date:toDate,string:toString,unknown:identity$1},typeTests=[isBoolean,isInteger,isNumber,isDate],typeList=["boolean","integer","number","date"];function inferType(e,r){if(!e||!e.length)return"unknown";const o=e.length,l=typeTests.length,p=typeTests.map((f,O)=>O+1);for(let f=0,O=0,_,S;f<o;++f)for(S=r?e[f][r]:e[f],_=0;_<l;++_)if(p[_]&&isValid(S)&&!typeTests[_](S)&&(p[_]=0,++O,O===typeTests.length))return"string";return typeList[p.reduce((f,O)=>f===0?O:f,0)-1]}function inferTypes(e,r){return r.reduce((o,l)=>(o[l]=inferType(e,l),o),{})}function delimitedFormat(e){const r=function(o,l){const p={delimiter:e};return dsv(o,l?extend(l,p):p)};return r.responseType="text",r}function dsv(e,r){return r.header&&(e=r.header.map($).join(r.delimiter)+`
`+e),dsvFormat(r.delimiter).parse(e+"")}dsv.responseType="text";function isBuffer(e){return typeof Buffer=="function"&&isFunction(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function json(e,r){const o=r&&r.property?field(r.property):identity$1;return isObject(e)&&!isBuffer(e)?parseJSON(o(e),r):o(JSON.parse(e))}json.responseType="json";function parseJSON(e,r){return!isArray(e)&&isIterable(e)&&(e=[...e]),r&&r.copy?JSON.parse(JSON.stringify(e)):e}const filters={interior:(e,r)=>e!==r,exterior:(e,r)=>e===r};function topojson(e,r){let o,l,p,f;return e=json(e,r),r&&r.feature?(o=feature,p=r.feature):r&&r.mesh?(o=mesh,p=r.mesh,f=filters[r.filter]):error("Missing TopoJSON feature or mesh parameter."),l=(l=e.objects[p])?o(e,l,f):error("Invalid TopoJSON object: "+p),l&&l.features||[l]}topojson.responseType="json";const format$2={dsv,csv:delimitedFormat(","),tsv:delimitedFormat("	"),json,topojson};function formats$1(e,r){return arguments.length>1?(format$2[e]=r,this):has(format$2,e)?format$2[e]:null}function responseType(e){const r=formats$1(e);return r&&r.responseType||"text"}function read(e,r,o,l){r=r||{};const p=formats$1(r.type||"json");return p||error("Unknown data format type: "+r.type),e=p(e,r),r.parse&&parse$4(e,r.parse,o,l),has(e,"columns")&&delete e.columns,e}function parse$4(e,r,o,l){if(!e.length)return;const p=timeFormatDefaultLocale();o=o||p.timeParse,l=l||p.utcParse;let f=e.columns||Object.keys(e[0]),O,_,S,v,s,d;r==="auto"&&(r=inferTypes(e,f)),f=Object.keys(r);const g=f.map(P=>{const R=r[P];let I,j;if(R&&(R.startsWith("date:")||R.startsWith("utc:")))return I=R.split(/:(.+)?/,2),j=I[1],(j[0]==="'"&&j[j.length-1]==="'"||j[0]==='"'&&j[j.length-1]==='"')&&(j=j.slice(1,-1)),(I[0]==="utc"?l:o)(j);if(!typeParsers[R])throw Error("Illegal format pattern: "+P+":"+R);return typeParsers[R]});for(S=0,s=e.length,d=f.length;S<s;++S)for(O=e[S],v=0;v<d;++v)_=f[v],O[_]=g[v](O[_])}const loader=loaderFactory(typeof fetch<"u"&&fetch,null);function UniqueList(e){const r=e||identity$1,o=[],l={};return o.add=p=>{const f=r(p);return l[f]||(l[f]=1,o.push(p)),o},o.remove=p=>{const f=r(p);if(l[f]){l[f]=0;const O=o.indexOf(p);O>=0&&o.splice(O,1)}return o},o}async function asyncCallback(e,r){try{await r(e)}catch(o){e.error(o)}}const TUPLE_ID_KEY=Symbol("vega_id");let TUPLE_ID=1;function isTuple(e){return!!(e&&tupleid(e))}function tupleid(e){return e[TUPLE_ID_KEY]}function setid(e,r){return e[TUPLE_ID_KEY]=r,e}function ingest$1(e){const r=e===Object(e)?e:{data:e};return tupleid(r)?r:setid(r,TUPLE_ID++)}function derive(e){return rederive(e,ingest$1({}))}function rederive(e,r){for(const o in e)r[o]=e[o];return r}function replace$1(e,r){return setid(r,tupleid(e))}function stableCompare(e,r){return e?r?(o,l)=>e(o,l)||tupleid(r(o))-tupleid(r(l)):(o,l)=>e(o,l)||tupleid(o)-tupleid(l):null}function isChangeSet(e){return e&&e.constructor===changeset}function changeset(){const e=[],r=[],o=[],l=[],p=[];let f=null,O=!1;return{constructor:changeset,insert(_){const S=array$2(_),v=S.length;for(let s=0;s<v;++s)e.push(S[s]);return this},remove(_){const S=isFunction(_)?l:r,v=array$2(_),s=v.length;for(let d=0;d<s;++d)S.push(v[d]);return this},modify(_,S,v){const s={field:S,value:constant$1(v)};return isFunction(_)?(s.filter=_,p.push(s)):(s.tuple=_,o.push(s)),this},encode(_,S){return isFunction(_)?p.push({filter:_,field:S}):o.push({tuple:_,field:S}),this},clean(_){return f=_,this},reflow(){return O=!0,this},pulse(_,S){const v={},s={};let d,g,P,R,I,j;for(d=0,g=S.length;d<g;++d)v[tupleid(S[d])]=1;for(d=0,g=r.length;d<g;++d)I=r[d],v[tupleid(I)]=-1;for(d=0,g=l.length;d<g;++d)R=l[d],S.forEach(G=>{R(G)&&(v[tupleid(G)]=-1)});for(d=0,g=e.length;d<g;++d)I=e[d],j=tupleid(I),v[j]?v[j]=1:_.add.push(ingest$1(e[d]));for(d=0,g=S.length;d<g;++d)I=S[d],v[tupleid(I)]<0&&_.rem.push(I);function L(G,J,Q){Q?G[J]=Q(G):_.encode=J,O||(s[tupleid(G)]=G)}for(d=0,g=o.length;d<g;++d)P=o[d],I=P.tuple,R=P.field,j=v[tupleid(I)],j>0&&(L(I,R,P.value),_.modifies(R));for(d=0,g=p.length;d<g;++d)P=p[d],R=P.filter,S.forEach(G=>{R(G)&&v[tupleid(G)]>0&&L(G,P.field,P.value)}),_.modifies(P.field);if(O)_.mod=r.length||l.length?S.filter(G=>v[tupleid(G)]>0):S.slice();else for(j in s)_.mod.push(s[j]);return(f||f==null&&(r.length||l.length))&&_.clean(!0),_}}}const CACHE="_:mod:_";function Parameters(){Object.defineProperty(this,CACHE,{writable:!0,value:{}})}Parameters.prototype={set(e,r,o,l){const p=this,f=p[e],O=p[CACHE];return r!=null&&r>=0?(f[r]!==o||l)&&(f[r]=o,O[r+":"+e]=-1,O[e]=-1):(f!==o||l)&&(p[e]=o,O[e]=isArray(o)?1+o.length:-1),p},modified(e,r){const o=this[CACHE];if(arguments.length){if(isArray(e)){for(let l=0;l<e.length;++l)if(o[e[l]])return!0;return!1}}else{for(const l in o)if(o[l])return!0;return!1}return r!=null&&r>=0?r+1<o[e]||!!o[r+":"+e]:!!o[e]},clear(){return this[CACHE]={},this}};let OP_ID=0;const PULSE="pulse",NO_PARAMS=new Parameters,SKIP$1$1=1,MODIFIED=2;function Operator(e,r,o,l){this.id=++OP_ID,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,r&&(this._update=r),o&&this.parameters(o,l)}function flag(e){return function(r){const o=this.flags;return arguments.length===0?!!(o&e):(this.flags=r?o|e:o&~e,this)}}Operator.prototype={targets(){return this._targets||(this._targets=UniqueList(id))},set(e){return this.value!==e?(this.value=e,1):0},skip:flag(SKIP$1$1),modified:flag(MODIFIED),parameters(e,r,o){r=r!==!1;const l=this._argval=this._argval||new Parameters,p=this._argops=this._argops||[],f=[];let O,_,S,v;const s=(d,g,P)=>{P instanceof Operator?(P!==this&&(r&&P.targets().add(this),f.push(P)),p.push({op:P,name:d,index:g})):l.set(d,g,P)};for(O in e)if(_=e[O],O===PULSE)array$2(_).forEach(d=>{d instanceof Operator?d!==this&&(d.targets().add(this),f.push(d)):error("Pulse parameters must be operator instances.")}),this.source=_;else if(isArray(_))for(l.set(O,-1,Array(S=_.length)),v=0;v<S;++v)s(O,v,_[v]);else s(O,-1,_);return this.marshall().clear(),o&&(p.initonly=!0),f},marshall(e){const r=this._argval||NO_PARAMS,o=this._argops;let l,p,f,O;if(o){const _=o.length;for(p=0;p<_;++p)l=o[p],f=l.op,O=f.modified()&&f.stamp===e,r.set(l.name,l.index,f.value,O);if(o.initonly){for(p=0;p<_;++p)l=o[p],l.op.targets().remove(this);this._argops=null,this._update=null}}return r},detach(){const e=this._argops;let r,o,l,p;if(e)for(r=0,o=e.length;r<o;++r)l=e[r],p=l.op,p._targets&&p._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const r=this._update;if(r){const o=this.marshall(e.stamp),l=r.call(this,o,e);if(o.clear(),l!==this.value)this.value=l;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let r;return this.skip()?(this.skip(!1),r=0):r=this.evaluate(e),this.pulse=r||e}};function add$2(e,r,o,l){let p=1,f;return e instanceof Operator?f=e:e&&e.prototype instanceof Operator?f=new e:isFunction(e)?f=new Operator(null,e):(p=0,f=new Operator(e,r)),this.rank(f),p&&(l=o,o=r),o&&this.connect(f,f.parameters(o,l)),this.touch(f),f}function connect(e,r){const o=e.rank,l=r.length;for(let p=0;p<l;++p)if(o<r[p].rank){this.rerank(e);return}}let STREAM_ID=0;function EventStream(e,r,o){this.id=++STREAM_ID,this.value=null,o&&(this.receive=o),e&&(this._filter=e),r&&(this._apply=r)}function stream(e,r,o){return new EventStream(e,r,o)}EventStream.prototype={_filter:truthy,_apply:identity$1,targets(){return this._targets||(this._targets=UniqueList(id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const r=this.value=this._apply(e),o=this._targets,l=o?o.length:0;for(let p=0;p<l;++p)o[p].receive(r);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const r=stream(e);return this.targets().add(r),r},apply(e){const r=stream(null,e);return this.targets().add(r),r},merge(){const e=stream();this.targets().add(e);for(let r=0,o=arguments.length;r<o;++r)arguments[r].targets().add(e);return e},throttle(e){let r=-1;return this.filter(()=>{const o=Date.now();return o-r>e?(r=o,1):0})},debounce(e){const r=stream();return this.targets().add(stream(null,null,debounce(e,o=>{const l=o.dataflow;r.receive(o),l&&l.run&&l.run()}))),r},between(e,r){let o=!1;return e.targets().add(stream(null,null,()=>o=!0)),r.targets().add(stream(null,null,()=>o=!1)),this.filter(()=>o)},detach(){this._filter=truthy,this._targets=null}};function events$1(e,r,o,l){const p=this,f=stream(o,l),O=function(v){v.dataflow=p;try{f.receive(v)}catch(s){p.error(s)}finally{p.run()}};let _;typeof e=="string"&&typeof document<"u"?_=document.querySelectorAll(e):_=array$2(e);const S=_.length;for(let v=0;v<S;++v)_[v].addEventListener(r,O);return f}function parse$3(e,r){const o=this.locale();return read(e,r,o.timeParse,o.utcParse)}function ingest(e,r,o){return r=this.parse(r,o),this.pulse(e,this.changeset().insert(r))}async function request(e,r){const o=this;let l=0,p;try{p=await o.loader().load(e,{context:"dataflow",response:responseType(r&&r.type)});try{p=o.parse(p,r)}catch(f){l=-2,o.warn("Data ingestion failed",e,f)}}catch(f){l=-1,o.warn("Loading failed",e,f)}return{data:p,status:l}}async function preload(e,r,o){const l=this,p=l._pending||loadPending(l);p.requests+=1;const f=await l.request(r,o);return l.pulse(e,l.changeset().remove(truthy).insert(f.data||[])),p.done(),f}function loadPending(e){let r;const o=new Promise(l=>r=l);return o.requests=0,o.done=()=>{--o.requests===0&&(e._pending=null,r(e))},e._pending=o}const SKIP$2={skip:!0};function on(e,r,o,l,p){return(e instanceof Operator?onOperator:onStream)(this,e,r,o,l,p),this}function onStream(e,r,o,l,p,f){const O=extend({},f,SKIP$2);let _,S;isFunction(o)||(o=constant$1(o)),l===void 0?_=v=>e.touch(o(v)):isFunction(l)?(S=new Operator(null,l,p,!1),_=v=>{S.evaluate(v);const s=o(v),d=S.value;isChangeSet(d)?e.pulse(s,d,f):e.update(s,d,O)}):_=v=>e.update(o(v),l,O),r.apply(_)}function onOperator(e,r,o,l,p,f){if(l===void 0)r.targets().add(o);else{const O=f||{},_=new Operator(null,updater(o,l),p,!1);_.modified(O.force),_.rank=r.rank,r.targets().add(_),o&&(_.skip(!0),_.value=o.value,_.targets().add(o),e.connect(o,[_]))}}function updater(e,r){return r=isFunction(r)?r:constant$1(r),e?function(o,l){const p=r(o,l);return e.skip()||(e.skip(p!==this.value).value=p),p}:r}function rank(e){e.rank=++this._rank}function rerank(e){const r=[e];let o,l,p;for(;r.length;)if(this.rank(o=r.pop()),l=o._targets)for(p=l.length;--p>=0;)r.push(o=l[p]),o===e&&error("Cycle detected in dataflow graph.")}const StopPropagation={},ADD=1,REM=2,MOD$1=4,ADD_REM=ADD|REM,ADD_MOD=ADD|MOD$1,ALL=ADD|REM|MOD$1,REFLOW=8,SOURCE=16,NO_SOURCE=32,NO_FIELDS=64;function Pulse(e,r,o){this.dataflow=e,this.stamp=r??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=o||null}function materialize(e,r){const o=[];return visitArray(e,r,l=>o.push(l)),o}function filter$1(e,r){const o={};return e.visit(r,l=>{o[tupleid(l)]=1}),l=>o[tupleid(l)]?null:l}function addFilter(e,r){return e?(o,l)=>e(o,l)&&r(o,l):r}Pulse.prototype={StopPropagation,ADD,REM,MOD:MOD$1,ADD_REM,ADD_MOD,ALL,REFLOW,SOURCE,NO_SOURCE,NO_FIELDS,fork(e){return new Pulse(this.dataflow).init(this,e)},clone(){const e=this.fork(ALL);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(ALL|SOURCE)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Pulse(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,r){const o=this;return o.stamp=e.stamp,o.encode=e.encode,e.fields&&!(r&NO_FIELDS)&&(o.fields=e.fields),r&ADD?(o.addF=e.addF,o.add=e.add):(o.addF=null,o.add=[]),r&REM?(o.remF=e.remF,o.rem=e.rem):(o.remF=null,o.rem=[]),r&MOD$1?(o.modF=e.modF,o.mod=e.mod):(o.modF=null,o.mod=[]),r&NO_SOURCE?(o.srcF=null,o.source=null):(o.srcF=e.srcF,o.source=e.source,e.cleans&&(o.cleans=e.cleans)),o},runAfter(e){this.dataflow.runAfter(e)},changed(e){const r=e||ALL;return r&ADD&&this.add.length||r&REM&&this.rem.length||r&MOD$1&&this.mod.length},reflow(e){if(e)return this.fork(ALL).reflow();const r=this.add.length,o=this.source&&this.source.length;return o&&o!==r&&(this.mod=this.source,r&&this.filter(MOD$1,filter$1(this,ADD))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const r=this.fields||(this.fields={});return isArray(e)?e.forEach(o=>r[o]=!0):r[e]=!0,this},modified(e,r){const o=this.fields;return(r||this.mod.length)&&o?arguments.length?isArray(e)?e.some(l=>o[l]):o[e]:!!o:!1},filter(e,r){const o=this;return e&ADD&&(o.addF=addFilter(o.addF,r)),e&REM&&(o.remF=addFilter(o.remF,r)),e&MOD$1&&(o.modF=addFilter(o.modF,r)),e&SOURCE&&(o.srcF=addFilter(o.srcF,r)),o},materialize(e){e=e||ALL;const r=this;return e&ADD&&r.addF&&(r.add=materialize(r.add,r.addF),r.addF=null),e&REM&&r.remF&&(r.rem=materialize(r.rem,r.remF),r.remF=null),e&MOD$1&&r.modF&&(r.mod=materialize(r.mod,r.modF),r.modF=null),e&SOURCE&&r.srcF&&(r.source=r.source.filter(r.srcF),r.srcF=null),r},visit(e,r){const o=this,l=r;if(e&SOURCE)return visitArray(o.source,o.srcF,l),o;e&ADD&&visitArray(o.add,o.addF,l),e&REM&&visitArray(o.rem,o.remF,l),e&MOD$1&&visitArray(o.mod,o.modF,l);const p=o.source;if(e&REFLOW&&p){const f=o.add.length+o.mod.length;f===p.length||(f?visitArray(p,filter$1(o,ADD_MOD),l):visitArray(p,o.srcF,l))}return o}};function MultiPulse(e,r,o,l){const p=this;let f=0;this.dataflow=e,this.stamp=r,this.fields=null,this.encode=l||null,this.pulses=o;for(const O of o)if(O.stamp===r){if(O.fields){const _=p.fields||(p.fields={});for(const S in O.fields)_[S]=1}O.changed(p.ADD)&&(f|=p.ADD),O.changed(p.REM)&&(f|=p.REM),O.changed(p.MOD)&&(f|=p.MOD)}this.changes=f}inherits(MultiPulse,Pulse,{fork(e){const r=new Pulse(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&r.ADD&&this.visit(r.ADD,o=>r.add.push(o)),e&r.REM&&this.visit(r.REM,o=>r.rem.push(o)),e&r.MOD&&this.visit(r.MOD,o=>r.mod.push(o))),r},changed(e){return this.changes&e},modified(e){const r=this,o=r.fields;return o&&r.changes&r.MOD?isArray(e)?e.some(l=>o[l]):o[e]:0},filter(){error("MultiPulse does not support filtering.")},materialize(){error("MultiPulse does not support materialization.")},visit(e,r){const o=this,l=o.pulses,p=l.length;let f=0;if(e&o.SOURCE)for(;f<p;++f)l[f].visit(e,r);else for(;f<p;++f)l[f].stamp===o.stamp&&l[f].visit(e,r);return o}});async function evaluate(e,r,o){const l=this,p=[];if(l._pulse)return reentrant(l);if(l._pending&&await l._pending,r&&await asyncCallback(l,r),!l._touched.length)return l.debug("Dataflow invoked, but nothing to do."),l;const f=++l._clock;l._pulse=new Pulse(l,f,e),l._touched.forEach(s=>l._enqueue(s,!0)),l._touched=UniqueList(id);let O=0,_,S,v;try{for(;l._heap.size()>0;){if(_=l._heap.pop(),_.rank!==_.qrank){l._enqueue(_,!0);continue}S=_.run(l._getPulse(_,e)),S.then?S=await S:S.async&&(p.push(S.async),S=StopPropagation),S!==StopPropagation&&_._targets&&_._targets.forEach(s=>l._enqueue(s)),++O}}catch(s){l._heap.clear(),v=s}if(l._input={},l._pulse=null,l.debug(`Pulse ${f}: ${O} operators`),v&&(l._postrun=[],l.error(v)),l._postrun.length){const s=l._postrun.sort((d,g)=>g.priority-d.priority);l._postrun=[];for(let d=0;d<s.length;++d)await asyncCallback(l,s[d].callback)}return o&&await asyncCallback(l,o),p.length&&Promise.all(p).then(s=>l.runAsync(null,()=>{s.forEach(d=>{try{d(l)}catch(g){l.error(g)}})})),l}async function runAsync(e,r,o){for(;this._running;)await this._running;const l=()=>this._running=null;return(this._running=this.evaluate(e,r,o)).then(l,l),this._running}function run(e,r,o){return this._pulse?reentrant(this):(this.evaluate(e,r,o),this)}function runAfter(e,r,o){if(this._pulse||r)this._postrun.push({priority:o||0,callback:e});else try{e(this)}catch(l){this.error(l)}}function reentrant(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function enqueue(e,r){const o=e.stamp<this._clock;o&&(e.stamp=this._clock),(o||r)&&(e.qrank=e.rank,this._heap.push(e))}function getPulse(e,r){const o=e.source,l=this._clock;return o&&isArray(o)?new MultiPulse(this,l,o.map(p=>p.pulse),r):this._input[e.id]||singlePulse(this._pulse,o&&o.pulse)}function singlePulse(e,r){return r&&r.stamp===e.stamp?r:(e=e.fork(),r&&r!==StopPropagation&&(e.source=r.source),e)}const NO_OPT={skip:!1,force:!1};function touch(e,r){const o=r||NO_OPT;return this._pulse?this._enqueue(e):this._touched.add(e),o.skip&&e.skip(!0),this}function update$6(e,r,o){const l=o||NO_OPT;return(e.set(r)||l.force)&&this.touch(e,l),this}function pulse(e,r,o){this.touch(e,o||NO_OPT);const l=new Pulse(this,this._clock+(this._pulse?0:1)),p=e.pulse&&e.pulse.source||[];return l.target=e,this._input[e.id]=r.pulse(l,p),this}function Heap(e){let r=[];return{clear:()=>r=[],size:()=>r.length,peek:()=>r[0],push:o=>(r.push(o),siftdown(r,0,r.length-1,e)),pop:()=>{const o=r.pop();let l;return r.length?(l=r[0],r[0]=o,siftup(r,0,e)):l=o,l}}}function siftdown(e,r,o,l){let p,f;const O=e[o];for(;o>r;){if(f=o-1>>1,p=e[f],l(O,p)<0){e[o]=p,o=f;continue}break}return e[o]=O}function siftup(e,r,o){const l=r,p=e.length,f=e[r];let O=(r<<1)+1,_;for(;O<p;)_=O+1,_<p&&o(e[O],e[_])>=0&&(O=_),e[r]=e[O],r=O,O=(r<<1)+1;return e[r]=f,siftdown(e,l,r,o)}function Dataflow(){this.logger(logger()),this.logLevel(Error$1),this._clock=0,this._rank=0,this._locale=defaultLocale();try{this._loader=loader()}catch{}this._touched=UniqueList(id),this._input={},this._pulse=null,this._heap=Heap((e,r)=>e.qrank-r.qrank),this._postrun=[]}function logMethod(e){return function(){return this._log[e].apply(this,arguments)}}Dataflow.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:logMethod("error"),warn:logMethod("warn"),info:logMethod("info"),debug:logMethod("debug"),logLevel:logMethod("level"),cleanThreshold:1e4,add:add$2,connect,rank,rerank,pulse,touch,update:update$6,changeset,ingest,parse:parse$3,preload,request,events:events$1,on,evaluate,run,runAsync,runAfter,_enqueue:enqueue,_getPulse:getPulse};function Transform(e,r){Operator.call(this,e,null,r)}inherits(Transform,Operator,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let r;return this.skip()?this.skip(!1):r=this.evaluate(e),r=r||e,r.then?r=r.then(o=>this.pulse=o):r!==e.StopPropagation&&(this.pulse=r),r},evaluate(e){const r=this.marshall(e.stamp),o=this.transform(r,e);return r.clear(),o},transform(){}});const transforms={};function*numbers$1(e,r){if(r==null)for(let o of e)o!=null&&o!==""&&(o=+o)>=o&&(yield o);else{let o=-1;for(let l of e)l=r(l,++o,e),l!=null&&l!==""&&(l=+l)>=l&&(yield l)}}function quantiles(e,r,o){const l=Float64Array.from(numbers$1(e,o));return l.sort(ascending$3),r.map(p=>quantileSorted(l,p))}function quartiles(e,r){return quantiles(e,[.25,.5,.75],r)}function estimateBandwidth(e,r){const o=e.length,l=deviation(e,r),p=quartiles(e,r),f=(p[2]-p[0])/1.34;return 1.06*(Math.min(l,f)||l||Math.abs(p[0])||1)*Math.pow(o,-.2)}function bin(e){const r=e.maxbins||20,o=e.base||10,l=Math.log(o),p=e.divide||[5,2];let f=e.extent[0],O=e.extent[1],_,S,v,s,d,g;const P=e.span||O-f||Math.abs(f)||1;if(e.step)_=e.step;else if(e.steps){for(s=P/r,d=0,g=e.steps.length;d<g&&e.steps[d]<s;++d);_=e.steps[Math.max(0,d-1)]}else{for(S=Math.ceil(Math.log(r)/l),v=e.minstep||0,_=Math.max(v,Math.pow(o,Math.round(Math.log(P)/l)-S));Math.ceil(P/_)>r;)_*=o;for(d=0,g=p.length;d<g;++d)s=_/p[d],s>=v&&P/s<=r&&(_=s)}s=Math.log(_);const R=s>=0?0:~~(-s/l)+1,I=Math.pow(o,-R-1);return(e.nice||e.nice===void 0)&&(s=Math.floor(f/_+I)*_,f=f<s?s-_:s,O=Math.ceil(O/_)*_),{start:f,stop:O===f?f+_:O,step:_}}var random=Math.random;function bootstrapCI(e,r,o,l){if(!e.length)return[void 0,void 0];const p=Float64Array.from(numbers$1(e,l)),f=p.length,O=r;let _,S,v,s;for(v=0,s=Array(O);v<O;++v){for(_=0,S=0;S<f;++S)_+=p[~~(random()*f)];s[v]=_/f}return s.sort(ascending$3),[quantile$2(s,o/2),quantile$2(s,1-o/2)]}function dotbin(e,r,o,l){l=l||(g=>g);const p=e.length,f=new Float64Array(p);let O=0,_=1,S=l(e[0]),v=S,s=S+r,d;for(;_<p;++_){if(d=l(e[_]),d>=s){for(v=(S+v)/2;O<_;++O)f[O]=v;s=d+r,S=d}v=d}for(v=(S+v)/2;O<_;++O)f[O]=v;return o?smoothing(f,r+r/4):f}function smoothing(e,r){const o=e.length;let l=0,p=1,f,O;for(;e[l]===e[p];)++p;for(;p<o;){for(f=p+1;e[p]===e[f];)++f;if(e[p]-e[p-1]<r){for(O=p+(l+f-p-p>>1);O<p;)e[O++]=e[p];for(;O>p;)e[O--]=e[l]}l=p,p=f}return e}const SQRT2PI=Math.sqrt(2*Math.PI),SQRT2=Math.SQRT2;let nextSample=NaN;function sampleNormal(e,r){e=e||0,r=r??1;let o=0,l=0,p,f;if(nextSample===nextSample)o=nextSample,nextSample=NaN;else{do o=random()*2-1,l=random()*2-1,p=o*o+l*l;while(p===0||p>1);f=Math.sqrt(-2*Math.log(p)/p),o*=f,nextSample=l*f}return e+o*r}function densityNormal(e,r,o){o=o??1;const l=(e-(r||0))/o;return Math.exp(-.5*l*l)/(o*SQRT2PI)}function cumulativeNormal(e,r,o){r=r||0,o=o??1;const l=(e-r)/o,p=Math.abs(l);let f;if(p>37)f=0;else{const O=Math.exp(-p*p/2);let _;p<7.07106781186547?(_=.0352624965998911*p+.700383064443688,_=_*p+6.37396220353165,_=_*p+33.912866078383,_=_*p+112.079291497871,_=_*p+221.213596169931,_=_*p+220.206867912376,f=O*_,_=.0883883476483184*p+1.75566716318264,_=_*p+16.064177579207,_=_*p+86.7807322029461,_=_*p+296.564248779674,_=_*p+637.333633378831,_=_*p+793.826512519948,_=_*p+440.413735824752,f=f/_):(_=p+.65,_=p+4/_,_=p+3/_,_=p+2/_,_=p+1/_,f=O/_/2.506628274631)}return l>0?1-f:f}function quantileNormal(e,r,o){return e<0||e>1?NaN:(r||0)+(o??1)*SQRT2*erfinv(2*e-1)}function erfinv(e){let r=-Math.log((1-e)*(1+e)),o;return r<6.25?(r-=3.125,o=-364441206401782e-35,o=-16850591381820166e-35+o*r,o=128584807152564e-32+o*r,o=11157877678025181e-33+o*r,o=-1333171662854621e-31+o*r,o=20972767875968562e-33+o*r,o=6637638134358324e-30+o*r,o=-4054566272975207e-29+o*r,o=-8151934197605472e-29+o*r,o=26335093153082323e-28+o*r,o=-12975133253453532e-27+o*r,o=-5415412054294628e-26+o*r,o=10512122733215323e-25+o*r,o=-4112633980346984e-24+o*r,o=-29070369957882005e-24+o*r,o=42347877827932404e-23+o*r,o=-13654692000834679e-22+o*r,o=-13882523362786469e-21+o*r,o=.00018673420803405714+o*r,o=-.000740702534166267+o*r,o=-.006033670871430149+o*r,o=.24015818242558962+o*r,o=1.6536545626831027+o*r):r<16?(r=Math.sqrt(r)-3.25,o=22137376921775787e-25,o=9075656193888539e-23+o*r,o=-27517406297064545e-23+o*r,o=18239629214389228e-24+o*r,o=15027403968909828e-22+o*r,o=-4013867526981546e-21+o*r,o=29234449089955446e-22+o*r,o=12475304481671779e-21+o*r,o=-47318229009055734e-21+o*r,o=6828485145957318e-20+o*r,o=24031110387097894e-21+o*r,o=-.0003550375203628475+o*r,o=.0009532893797373805+o*r,o=-.0016882755560235047+o*r,o=.002491442096107851+o*r,o=-.003751208507569241+o*r,o=.005370914553590064+o*r,o=1.0052589676941592+o*r,o=3.0838856104922208+o*r):Number.isFinite(r)?(r=Math.sqrt(r)-5,o=-27109920616438573e-27,o=-2555641816996525e-25+o*r,o=15076572693500548e-25+o*r,o=-3789465440126737e-24+o*r,o=761570120807834e-23+o*r,o=-1496002662714924e-23+o*r,o=2914795345090108e-23+o*r,o=-6771199775845234e-23+o*r,o=22900482228026655e-23+o*r,o=-99298272942317e-20+o*r,o=4526062597223154e-21+o*r,o=-1968177810553167e-20+o*r,o=7599527703001776e-20+o*r,o=-.00021503011930044477+o*r,o=-.00013871931833623122+o*r,o=1.0103004648645344+o*r,o=4.849906401408584+o*r):o=1/0,o*e}function gaussian(e,r){let o,l;const p={mean(f){return arguments.length?(o=f||0,p):o},stdev(f){return arguments.length?(l=f??1,p):l},sample:()=>sampleNormal(o,l),pdf:f=>densityNormal(f,o,l),cdf:f=>cumulativeNormal(f,o,l),icdf:f=>quantileNormal(f,o,l)};return p.mean(e).stdev(r)}function kde(e,r){const o=gaussian();let l=0;const p={data(f){return arguments.length?(e=f,l=f?f.length:0,p.bandwidth(r)):e},bandwidth(f){return arguments.length?(r=f,!r&&e&&(r=estimateBandwidth(e)),p):r},sample(){return e[~~(random()*l)]+r*o.sample()},pdf(f){let O=0,_=0;for(;_<l;++_)O+=o.pdf((f-e[_])/r);return O/r/l},cdf(f){let O=0,_=0;for(;_<l;++_)O+=o.cdf((f-e[_])/r);return O/l},icdf(){throw Error("KDE icdf not supported.")}};return p.data(e)}function sampleLogNormal(e,r){return e=e||0,r=r??1,Math.exp(e+sampleNormal()*r)}function densityLogNormal(e,r,o){if(e<=0)return 0;r=r||0,o=o??1;const l=(Math.log(e)-r)/o;return Math.exp(-.5*l*l)/(o*SQRT2PI*e)}function cumulativeLogNormal(e,r,o){return cumulativeNormal(Math.log(e),r,o)}function quantileLogNormal(e,r,o){return Math.exp(quantileNormal(e,r,o))}function lognormal(e,r){let o,l;const p={mean(f){return arguments.length?(o=f||0,p):o},stdev(f){return arguments.length?(l=f??1,p):l},sample:()=>sampleLogNormal(o,l),pdf:f=>densityLogNormal(f,o,l),cdf:f=>cumulativeLogNormal(f,o,l),icdf:f=>quantileLogNormal(f,o,l)};return p.mean(e).stdev(r)}function mixture$1(e,r){let o=0,l;function p(O){const _=[];let S=0,v;for(v=0;v<o;++v)S+=_[v]=O[v]==null?1:+O[v];for(v=0;v<o;++v)_[v]/=S;return _}const f={weights(O){return arguments.length?(l=p(r=O||[]),f):r},distributions(O){return arguments.length?(O?(o=O.length,e=O):(o=0,e=[]),f.weights(r)):e},sample(){const O=random();let _=e[o-1],S=l[0],v=0;for(;v<o-1;S+=l[++v])if(O<S){_=e[v];break}return _.sample()},pdf(O){let _=0,S=0;for(;S<o;++S)_+=l[S]*e[S].pdf(O);return _},cdf(O){let _=0,S=0;for(;S<o;++S)_+=l[S]*e[S].cdf(O);return _},icdf(){throw Error("Mixture icdf not supported.")}};return f.distributions(e).weights(r)}function sampleUniform(e,r){return r==null&&(r=e??1,e=0),e+(r-e)*random()}function densityUniform(e,r,o){return o==null&&(o=r??1,r=0),e>=r&&e<=o?1/(o-r):0}function cumulativeUniform(e,r,o){return o==null&&(o=r??1,r=0),e<r?0:e>o?1:(e-r)/(o-r)}function quantileUniform(e,r,o){return o==null&&(o=r??1,r=0),e>=0&&e<=1?r+e*(o-r):NaN}function uniform(e,r){let o,l;const p={min(f){return arguments.length?(o=f||0,p):o},max(f){return arguments.length?(l=f??1,p):l},sample:()=>sampleUniform(o,l),pdf:f=>densityUniform(f,o,l),cdf:f=>cumulativeUniform(f,o,l),icdf:f=>quantileUniform(f,o,l)};return r==null&&(r=e??1,e=0),p.min(e).max(r)}function constant(e,r,o){let l=0,p=0;for(const f of e){const O=o(f);r(f)==null||O==null||isNaN(O)||(l+=(O-l)/++p)}return{coef:[l],predict:()=>l,rSquared:0}}function ols(e,r,o,l){const p=l-e*e,f=Math.abs(p)<1e-24?0:(o-e*r)/p;return[r-f*e,f]}function points(e,r,o,l){e=e.filter(P=>{let R=r(P),I=o(P);return R!=null&&(R=+R)>=R&&I!=null&&(I=+I)>=I}),l&&e.sort((P,R)=>r(P)-r(R));const p=e.length,f=new Float64Array(p),O=new Float64Array(p);let _=0,S=0,v=0,s,d,g;for(g of e)f[_]=s=+r(g),O[_]=d=+o(g),++_,S+=(s-S)/_,v+=(d-v)/_;for(_=0;_<p;++_)f[_]-=S,O[_]-=v;return[f,O,S,v]}function visitPoints(e,r,o,l){let p=-1,f,O;for(const _ of e)f=r(_),O=o(_),f!=null&&(f=+f)>=f&&O!=null&&(O=+O)>=O&&l(f,O,++p)}function rSquared(e,r,o,l,p){let f=0,O=0;return visitPoints(e,r,o,(_,S)=>{const v=S-p(_),s=S-l;f+=v*v,O+=s*s}),1-f/O}function linear(e,r,o){let l=0,p=0,f=0,O=0,_=0;visitPoints(e,r,o,(s,d)=>{++_,l+=(s-l)/_,p+=(d-p)/_,f+=(s*d-f)/_,O+=(s*s-O)/_});const S=ols(l,p,f,O),v=s=>S[0]+S[1]*s;return{coef:S,predict:v,rSquared:rSquared(e,r,o,p,v)}}function log$1(e,r,o){let l=0,p=0,f=0,O=0,_=0;visitPoints(e,r,o,(s,d)=>{++_,s=Math.log(s),l+=(s-l)/_,p+=(d-p)/_,f+=(s*d-f)/_,O+=(s*s-O)/_});const S=ols(l,p,f,O),v=s=>S[0]+S[1]*Math.log(s);return{coef:S,predict:v,rSquared:rSquared(e,r,o,p,v)}}function exp(e,r,o){const[l,p,f,O]=points(e,r,o);let _=0,S=0,v=0,s=0,d=0,g,P,R;visitPoints(e,r,o,(G,J)=>{g=l[d++],P=Math.log(J),R=g*J,_+=(J*P-_)/d,S+=(R-S)/d,v+=(R*P-v)/d,s+=(g*R-s)/d});const[I,j]=ols(S/O,_/O,v/O,s/O),L=G=>Math.exp(I+j*(G-f));return{coef:[Math.exp(I-j*f),j],predict:L,rSquared:rSquared(e,r,o,O,L)}}function pow(e,r,o){let l=0,p=0,f=0,O=0,_=0,S=0;visitPoints(e,r,o,(d,g)=>{const P=Math.log(d),R=Math.log(g);++S,l+=(P-l)/S,p+=(R-p)/S,f+=(P*R-f)/S,O+=(P*P-O)/S,_+=(g-_)/S});const v=ols(l,p,f,O),s=d=>v[0]*Math.pow(d,v[1]);return v[0]=Math.exp(v[0]),{coef:v,predict:s,rSquared:rSquared(e,r,o,_,s)}}function quad(e,r,o){const[l,p,f,O]=points(e,r,o),_=l.length;let S=0,v=0,s=0,d=0,g=0,P,R,I,j;for(P=0;P<_;)R=l[P],I=p[P++],j=R*R,S+=(j-S)/P,v+=(j*R-v)/P,s+=(j*j-s)/P,d+=(R*I-d)/P,g+=(j*I-g)/P;const L=s-S*S,G=S*L-v*v,J=(g*S-d*v)/G,Q=(d*L-g*v)/G,W=-J*S,Z=te=>(te=te-f,J*te*te+Q*te+W+O);return{coef:[W-Q*f+J*f*f+O,Q-2*J*f,J],predict:Z,rSquared:rSquared(e,r,o,O,Z)}}function poly(e,r,o,l){if(l===0)return constant(e,r,o);if(l===1)return linear(e,r,o);if(l===2)return quad(e,r,o);const[p,f,O,_]=points(e,r,o),S=p.length,v=[],s=[],d=l+1;let g,P,R,I,j;for(g=0;g<d;++g){for(R=0,I=0;R<S;++R)I+=Math.pow(p[R],g)*f[R];for(v.push(I),j=new Float64Array(d),P=0;P<d;++P){for(R=0,I=0;R<S;++R)I+=Math.pow(p[R],g+P);j[P]=I}s.push(j)}s.push(v);const L=gaussianElimination(s),G=J=>{J-=O;let Q=_+L[0]+L[1]*J+L[2]*J*J;for(g=3;g<d;++g)Q+=L[g]*Math.pow(J,g);return Q};return{coef:uncenter(d,L,-O,_),predict:G,rSquared:rSquared(e,r,o,_,G)}}function uncenter(e,r,o,l){const p=Array(e);let f,O,_,S;for(f=0;f<e;++f)p[f]=0;for(f=e-1;f>=0;--f)for(_=r[f],S=1,p[f]+=_,O=1;O<=f;++O)S*=(f+1-O)/O,p[f-O]+=_*Math.pow(o,O)*S;return p[0]+=l,p}function gaussianElimination(e){const r=e.length-1,o=[];let l,p,f,O,_;for(l=0;l<r;++l){for(O=l,p=l+1;p<r;++p)Math.abs(e[l][p])>Math.abs(e[l][O])&&(O=p);for(f=l;f<r+1;++f)_=e[f][l],e[f][l]=e[f][O],e[f][O]=_;for(p=l+1;p<r;++p)for(f=r;f>=l;f--)e[f][p]-=e[f][l]*e[l][p]/e[l][l]}for(p=r-1;p>=0;--p){for(_=0,f=p+1;f<r;++f)_+=e[f][p]*o[f];o[p]=(e[r][p]-_)/e[p][p]}return o}const maxiters=2,epsilon$1=1e-12;function loess(e,r,o,l){const[p,f,O,_]=points(e,r,o,!0),S=p.length,v=Math.max(2,~~(l*S)),s=new Float64Array(S),d=new Float64Array(S),g=new Float64Array(S).fill(1);for(let P=-1;++P<=maxiters;){const R=[0,v-1];for(let j=0;j<S;++j){const L=p[j],G=R[0],J=R[1],Q=L-p[G]>p[J]-L?G:J;let W=0,Z=0,te=0,ee=0,ie=0;const oe=1/Math.abs(p[Q]-L||1);for(let de=G;de<=J;++de){const pe=p[de],fe=f[de],he=tricube(Math.abs(L-pe)*oe)*g[de],ge=pe*he;W+=he,Z+=ge,te+=fe*he,ee+=fe*ge,ie+=pe*ge}const[se,le]=ols(Z/W,te/W,ee/W,ie/W);s[j]=se+le*L,d[j]=Math.abs(f[j]-s[j]),updateInterval(p,j+1,R)}if(P===maxiters)break;const I=median(d);if(Math.abs(I)<epsilon$1)break;for(let j=0,L,G;j<S;++j)L=d[j]/(6*I),g[j]=L>=1?epsilon$1:(G=1-L*L)*G}return output$1(p,s,O,_)}function tricube(e){return(e=1-e*e*e)*e*e}function updateInterval(e,r,o){const l=e[r];let p=o[0],f=o[1]+1;if(!(f>=e.length))for(;r>p&&e[f]-l<=l-e[p];)o[0]=++p,o[1]=f,++f}function output$1(e,r,o,l){const p=e.length,f=[];let O=0,_=0,S=[],v;for(;O<p;++O)v=e[O]+o,S[0]===v?S[1]+=(r[O]-S[1])/++_:(_=0,S[1]+=l,S=[v,r[O]],f.push(S));return S[1]+=l,f}const MIN_RADIANS=.5*Math.PI/180;function sampleCurve(e,r,o,l){o=o||25,l=Math.max(o,l||200);const p=I=>[I,e(I)],f=r[0],O=r[1],_=O-f,S=_/l,v=[p(f)],s=[];if(o===l){for(let I=1;I<l;++I)v.push(p(f+I/o*_));return v.push(p(O)),v}else{s.push(p(O));for(let I=o;--I>0;)s.push(p(f+I/o*_))}let d=v[0],g=s[s.length-1];const P=1/_,R=scaleY(d[1],s);for(;g;){const I=p((d[0]+g[0])/2);I[0]-d[0]>=S&&angleDelta(d,I,g,P,R)>MIN_RADIANS?s.push(I):(d=g,v.push(g),s.pop()),g=s[s.length-1]}return v}function scaleY(e,r){let o=e,l=e;const p=r.length;for(let f=0;f<p;++f){const O=r[f][1];O<o&&(o=O),O>l&&(l=O)}return 1/(l-o)}function angleDelta(e,r,o,l,p){const f=Math.atan2(p*(o[1]-e[1]),l*(o[0]-e[0])),O=Math.atan2(p*(r[1]-e[1]),l*(r[0]-e[0]));return Math.abs(f-O)}function multikey(e){return r=>{const o=e.length;let l=1,p=String(e[0](r));for(;l<o;++l)p+="|"+e[l](r);return p}}function groupkey(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:multikey(e)}function measureName(e,r,o){return o||e+(r?"_"+r:"")}const noop$1=()=>{},base_op={init:noop$1,add:noop$1,rem:noop$1,idx:0},AggregateOps={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,r)=>e.sum+=+r,rem:(e,r)=>e.sum-=r},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,r)=>e.product*=r,rem:(e,r)=>e.product/=r},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,r)=>(e.mean_d=r-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,r)=>(e.mean_d=r-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,r)=>e.dev+=e.mean_d*(r-e.mean),rem:(e,r)=>e.dev-=e.mean_d*(r-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,r)=>{(r<e.min||e.min===void 0)&&(e.min=r)},rem:(e,r)=>{r<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,r)=>{(r>e.max||e.max===void 0)&&(e.max=r)},rem:(e,r)=>{r>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,r,o)=>{r<e.min&&(e.argmin=o)},rem:(e,r)=>{r<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,r,o)=>{r>e.max&&(e.argmax=o)},rem:(e,r)=>{r>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,r)=>{e.exp=0,e.exp_r=r},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,r)=>e.exp=e.exp_r*e.exp+r,rem:(e,r)=>e.exp=(e.exp-r/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},ValidAggregateOps=Object.keys(AggregateOps).filter(e=>e!=="__count__");function measure(e,r){return(o,l)=>extend({name:e,aggregate_param:l,out:o||e},base_op,r)}[...ValidAggregateOps,"__count__"].forEach(e=>{AggregateOps[e]=measure(e,AggregateOps[e])});function createMeasure(e,r,o){return AggregateOps[e](o,r)}function compareIndex(e,r){return e.idx-r.idx}function resolve(e){const r={};e.forEach(l=>r[l.name]=l);const o=l=>{l.req&&l.req.forEach(p=>{r[p]||o(r[p]=AggregateOps[p]())})};return e.forEach(o),Object.values(r).sort(compareIndex)}function init(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function add$1(e,r){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(o=>o.add(this,e,r)))}function rem(e,r){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(o=>o.rem(this,e,r)))}function set$2(e){return this._out.forEach(r=>e[r.out]=r.value(this)),e}function compileMeasures(e,r){const o=r||identity$1,l=resolve(e),p=e.slice().sort(compareIndex);function f(O){this._ops=l,this._out=p,this.cell=O,this.init()}return f.prototype.init=init,f.prototype.add=add$1,f.prototype.rem=rem,f.prototype.set=set$2,f.prototype.get=o,f.fields=e.map(O=>O.out),f}function TupleStore(e){this._key=e?field(e):tupleid,this.reset()}const prototype$1=TupleStore.prototype;prototype$1.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};prototype$1.add=function(e){this._add.push(e)};prototype$1.rem=function(e){this._rem.push(e)};prototype$1.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,r=this._rem,o=this._key,l=e.length,p=r.length,f=Array(l-p),O={};let _,S,v;for(_=0;_<p;++_)O[o(r[_])]=1;for(_=0,S=0;_<l;++_)O[o(v=e[_])]?O[o(v)]=0:f[S++]=v;return this._rem=[],this._add=f};prototype$1.distinct=function(e){const r=this.values(),o={};let l=r.length,p=0,f;for(;--l>=0;)f=e(r[l])+"",has(o,f)||(o[f]=1,++p);return p};prototype$1.extent=function(e){if(this._get!==e||!this._ext){const r=this.values(),o=extentIndex(r,e);this._ext=[r[o[0]],r[o[1]]],this._get=e}return this._ext};prototype$1.argmin=function(e){return this.extent(e)[0]||{}};prototype$1.argmax=function(e){return this.extent(e)[1]||{}};prototype$1.min=function(e){const r=this.extent(e)[0];return r!=null?e(r):void 0};prototype$1.max=function(e){const r=this.extent(e)[1];return r!=null?e(r):void 0};prototype$1.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=quartiles(this.values(),e),this._get=e),this._q};prototype$1.q1=function(e){return this.quartile(e)[0]};prototype$1.q2=function(e){return this.quartile(e)[1]};prototype$1.q3=function(e){return this.quartile(e)[2]};prototype$1.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=bootstrapCI(this.values(),1e3,.05,e),this._get=e),this._ci};prototype$1.ci0=function(e){return this.ci(e)[0]};prototype$1.ci1=function(e){return this.ci(e)[1]};function Aggregate(e){Transform.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Aggregate.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ValidAggregateOps},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};inherits(Aggregate,Transform,{transform(e,r){const o=this,l=r.fork(r.NO_SOURCE|r.NO_FIELDS),p=e.modified();return o.stamp=l.stamp,o.value&&(p||r.modified(o._inputs,!0))?(o._prev=o.value,o.value=p?o.init(e):Object.create(null),r.visit(r.SOURCE,f=>o.add(f))):(o.value=o.value||o.init(e),r.visit(r.REM,f=>o.rem(f)),r.visit(r.ADD,f=>o.add(f))),l.modifies(o._outputs),o._drop=e.drop!==!1,e.cross&&o._dims.length>1&&(o._drop=!1,o.cross()),r.clean()&&o._drop&&l.clean(!0).runAfter(()=>this.clean()),o.changes(l)},cross(){const e=this,r=e.value,o=e._dnames,l=o.map(()=>({})),p=o.length;function f(_){let S,v,s,d;for(S in _)for(s=_[S].tuple,v=0;v<p;++v)l[v][d=s[o[v]]]=d}f(e._prev),f(r);function O(_,S,v){const s=o[v],d=l[v++];for(const g in d){const P=_?_+"|"+g:g;S[s]=d[g],v<p?O(P,S,v):r[P]||e.cell(P,S)}}O("",{},0)},init(e){const r=this._inputs=[],o=this._outputs=[],l={};function p(G){const J=array$2(accessorFields(G)),Q=J.length;let W=0,Z;for(;W<Q;++W)l[Z=J[W]]||(l[Z]=1,r.push(Z))}this._dims=array$2(e.groupby),this._dnames=this._dims.map(G=>{const J=accessorName(G);return p(G),o.push(J),J}),this.cellkey=e.key?e.key:groupkey(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const f=e.fields||[null],O=e.ops||["count"],_=e.aggregate_params||[null],S=e.as||[],v=f.length,s={};let d,g,P,R,I,j,L;for(v!==O.length&&error("Unmatched number of fields and aggregate ops."),L=0;L<v;++L){if(d=f[L],g=O[L],P=_[L]||null,d==null&&g!=="count"&&error("Null aggregate field specified."),I=accessorName(d),j=measureName(g,I,S[L]),o.push(j),g==="count"){this._counts.push(j);continue}R=s[I],R||(p(d),R=s[I]=[],R.field=d,this._measures.push(R)),g!=="count"&&(this._countOnly=!1),R.push(createMeasure(g,P,j))}return this._measures=this._measures.map(G=>compileMeasures(G,G.field)),Object.create(null)},cellkey:groupkey(),cell(e,r){let o=this.value[e];return o?o.num===0&&this._drop&&o.stamp<this.stamp?(o.stamp=this.stamp,this._adds[this._alen++]=o):o.stamp<this.stamp&&(o.stamp=this.stamp,this._mods[this._mlen++]=o):(o=this.value[e]=this.newcell(e,r),this._adds[this._alen++]=o),o},newcell(e,r){const o={key:e,num:0,agg:null,tuple:this.newtuple(r,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const l=this._measures,p=l.length;o.agg=Array(p);for(let f=0;f<p;++f)o.agg[f]=new l[f](o)}return o.store&&(o.data=new TupleStore),o},newtuple(e,r){const o=this._dnames,l=this._dims,p=l.length,f={};for(let O=0;O<p;++O)f[o[O]]=l[O](e);return r?replace$1(r.tuple,f):ingest$1(f)},clean(){const e=this.value;for(const r in e)e[r].num===0&&delete e[r]},add(e){const r=this.cellkey(e),o=this.cell(r,e);if(o.num+=1,this._countOnly)return;o.store&&o.data.add(e);const l=o.agg;for(let p=0,f=l.length;p<f;++p)l[p].add(l[p].get(e),e)},rem(e){const r=this.cellkey(e),o=this.cell(r,e);if(o.num-=1,this._countOnly)return;o.store&&o.data.rem(e);const l=o.agg;for(let p=0,f=l.length;p<f;++p)l[p].rem(l[p].get(e),e)},celltuple(e){const r=e.tuple,o=this._counts;e.store&&e.data.values();for(let l=0,p=o.length;l<p;++l)r[o[l]]=e.num;if(!this._countOnly){const l=e.agg;for(let p=0,f=l.length;p<f;++p)l[p].set(r)}return r},changes(e){const r=this._adds,o=this._mods,l=this._prev,p=this._drop,f=e.add,O=e.rem,_=e.mod;let S,v,s,d;if(l)for(v in l)S=l[v],(!p||S.num)&&O.push(S.tuple);for(s=0,d=this._alen;s<d;++s)f.push(this.celltuple(r[s])),r[s]=null;for(s=0,d=this._mlen;s<d;++s)S=o[s],(S.num===0&&p?O:_).push(this.celltuple(S)),o[s]=null;return this._alen=this._mlen=0,this._prev=null,e}});const EPSILON$1=1e-14;function Bin(e){Transform.call(this,null,e)}Bin.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};inherits(Bin,Transform,{transform(e,r){const o=e.interval!==!1,l=this._bins(e),p=l.start,f=l.step,O=e.as||["bin0","bin1"],_=O[0],S=O[1];let v;return e.modified()?(r=r.reflow(!0),v=r.SOURCE):v=r.modified(accessorFields(e.field))?r.ADD_MOD:r.ADD,r.visit(v,o?s=>{const d=l(s);s[_]=d,s[S]=d==null?null:p+f*(1+(d-p)/f)}:s=>s[_]=l(s)),r.modifies(o?O:_)},_bins(e){if(this.value&&!e.modified())return this.value;const r=e.field,o=bin(e),l=o.step;let p=o.start,f=p+Math.ceil((o.stop-p)/l)*l,O,_;(O=e.anchor)!=null&&(_=O-(p+l*Math.floor((O-p)/l)),p+=_,f+=_);const S=function(v){let s=toNumber(r(v));return s==null?null:s<p?-1/0:s>f?1/0:(s=Math.max(p,Math.min(s,f-l)),p+l*Math.floor(EPSILON$1+(s-p)/l))};return S.start=p,S.stop=o.stop,S.step=l,this.value=accessor(S,accessorFields(r),e.name||"bin_"+accessorName(r))}});function SortedList(e,r,o){const l=e;let p=r||[],f=o||[],O={},_=0;return{add:S=>f.push(S),remove:S=>O[l(S)]=++_,size:()=>p.length,data:(S,v)=>(_&&(p=p.filter(s=>!O[l(s)]),O={},_=0),v&&S&&p.sort(S),f.length&&(p=S?merge$2(S,p,f.sort(S)):p.concat(f),f=[]),p)}}function Collect(e){Transform.call(this,[],e)}Collect.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};inherits(Collect,Transform,{transform(e,r){const o=r.fork(r.ALL),l=SortedList(tupleid,this.value,o.materialize(o.ADD).add),p=e.sort,f=r.changed()||p&&(e.modified("sort")||r.modified(p.fields));return o.visit(o.REM,l.remove),this.modified(f),this.value=o.source=l.data(stableCompare(p),f),r.source&&r.source.root&&(this.value.root=r.source.root),o}});function Compare(e){Operator.call(this,null,update$5,e)}inherits(Compare,Operator);function update$5(e){return this.value&&!e.modified()?this.value:compare$1(e.fields,e.orders)}function CountPattern(e){Transform.call(this,null,e)}CountPattern.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function tokenize(e,r,o){switch(r){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(o)}inherits(CountPattern,Transform,{transform(e,r){const o=d=>g=>{for(var P=tokenize(_(g),e.case,f)||[],R,I=0,j=P.length;I<j;++I)O.test(R=P[I])||d(R)},l=this._parameterCheck(e,r),p=this._counts,f=this._match,O=this._stop,_=e.field,S=e.as||["text","count"],v=o(d=>p[d]=1+(p[d]||0)),s=o(d=>p[d]-=1);return l?r.visit(r.SOURCE,v):(r.visit(r.ADD,v),r.visit(r.REM,s)),this._finish(r,S)},_parameterCheck(e,r){let o=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),o=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),o=!0),(e.modified("field")||r.modified(e.field.fields))&&(o=!0),o&&(this._counts={}),o},_finish(e,r){const o=this._counts,l=this._tuples||(this._tuples={}),p=r[0],f=r[1],O=e.fork(e.NO_SOURCE|e.NO_FIELDS);let _,S,v;for(_ in o)S=l[_],v=o[_]||0,!S&&v?(l[_]=S=ingest$1({}),S[p]=_,S[f]=v,O.add.push(S)):v===0?(S&&O.rem.push(S),o[_]=null,l[_]=null):S[f]!==v&&(S[f]=v,O.mod.push(S));return O.modifies(r)}});function Cross(e){Transform.call(this,null,e)}Cross.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};inherits(Cross,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE),l=e.as||["a","b"],p=l[0],f=l[1],O=!this.value||r.changed(r.ADD_REM)||e.modified("as")||e.modified("filter");let _=this.value;return O?(_&&(o.rem=_),_=r.materialize(r.SOURCE).source,o.add=this.value=cross(_,p,f,e.filter||truthy)):o.mod=_,o.source=this.value,o.modifies(l)}});function cross(e,r,o,l){for(var p=[],f={},O=e.length,_=0,S,v;_<O;++_)for(f[r]=v=e[_],S=0;S<O;++S)f[o]=e[S],l(f)&&(p.push(ingest$1(f)),f={},f[r]=v);return p}const Distributions={kde,mixture:mixture$1,normal:gaussian,lognormal,uniform},DISTRIBUTIONS="distributions",FUNCTION="function",FIELD="field";function parse$2(e,r){const o=e[FUNCTION];has(Distributions,o)||error("Unknown distribution function: "+o);const l=Distributions[o]();for(const p in e)p===FIELD?l.data((e.from||r()).map(e[p])):p===DISTRIBUTIONS?l[p](e[p].map(f=>parse$2(f,r))):typeof l[p]===FUNCTION&&l[p](e[p]);return l}function Density(e){Transform.call(this,null,e)}const distributions=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],mixture={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:distributions},{name:"weights",type:"number",array:!0}]};Density.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:distributions.concat(mixture)},{name:"as",type:"string",array:!0,default:["value","density"]}]};inherits(Density,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=parse$2(e.distribution,source(r)),p=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;let O=e.method||"pdf";O!=="pdf"&&O!=="cdf"&&error("Invalid density method: "+O),!e.extent&&!l.data&&error("Missing density extent parameter."),O=l[O];const _=e.as||["value","density"],S=e.extent||extent(l.data()),v=sampleCurve(O,S,p,f).map(s=>{const d={};return d[_[0]]=s[0],d[_[1]]=s[1],ingest$1(d)});this.value&&(o.rem=this.value),this.value=o.add=o.source=v}return o}});function source(e){return()=>e.materialize(e.SOURCE).source}function fieldNames(e,r){return e?e.map((o,l)=>r[l]||accessorName(o)):null}function partition$1$1(e,r,o){const l=[],p=d=>d(S);let f,O,_,S,v,s;if(r==null)l.push(e.map(o));else for(f={},O=0,_=e.length;O<_;++O)S=e[O],v=r.map(p),s=f[v],s||(f[v]=s=[],s.dims=v,l.push(s)),s.push(o(S));return l}const Output$5="bin";function DotBin(e){Transform.call(this,null,e)}DotBin.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Output$5}]};const autostep=(e,r)=>span(extent(e,r))/30;inherits(DotBin,Transform,{transform(e,r){if(this.value&&!(e.modified()||r.changed()))return r;const o=r.materialize(r.SOURCE).source,l=partition$1$1(r.source,e.groupby,identity$1),p=e.smooth||!1,f=e.field,O=e.step||autostep(o,f),_=stableCompare((R,I)=>f(R)-f(I)),S=e.as||Output$5,v=l.length;let s=1/0,d=-1/0,g=0,P;for(;g<v;++g){const R=l[g].sort(_);P=-1;for(const I of dotbin(R,O,p,f))I<s&&(s=I),I>d&&(d=I),R[++P][S]=I}return this.value={start:s,stop:d,step:O},r.reflow(!0).modifies(S)}});function Expression(e){Operator.call(this,null,update$4,e),this.modified(!0)}inherits(Expression,Operator);function update$4(e){const r=e.expr;return this.value&&!e.modified("expr")?this.value:accessor(o=>r(o,e),accessorFields(r),accessorName(r))}function Extent(e){Transform.call(this,[void 0,void 0],e)}Extent.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};inherits(Extent,Transform,{transform(e,r){const o=this.value,l=e.field,p=r.changed()||r.modified(l.fields)||e.modified("field");let f=o[0],O=o[1];if((p||f==null)&&(f=1/0,O=-1/0),r.visit(p?r.SOURCE:r.ADD,_=>{const S=toNumber(l(_));S!=null&&(S<f&&(f=S),S>O&&(O=S))}),!Number.isFinite(f)||!Number.isFinite(O)){let _=accessorName(l);_&&(_=` for field "${_}"`),r.dataflow.warn(`Infinite extent${_}: [${f}, ${O}]`),f=O=void 0}this.value=[f,O]}});function Subflow(e,r){Operator.call(this,e),this.parent=r,this.count=0}inherits(Subflow,Operator,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Facet(e){Transform.call(this,{},e),this._keys=fastmap();const r=this._targets=[];r.active=0,r.forEach=o=>{for(let l=0,p=r.active;l<p;++l)o(r[l],l,r)}}inherits(Facet,Transform,{activate(e){this._targets[this._targets.active++]=e},subflow(e,r,o,l){const p=this.value;let f=has(p,e)&&p[e],O,_;return f?f.value.stamp<o.stamp&&(f.init(o),this.activate(f)):(_=l||(_=this._group[e])&&_.tuple,O=o.dataflow,f=new Subflow(o.fork(o.NO_SOURCE),this),O.add(f).connect(r(O,e,_)),p[e]=f,this.activate(f)),f},clean(){const e=this.value;let r=0;for(const o in e)if(e[o].count===0){const l=e[o].detachSubflow;l&&l(),delete e[o],++r}if(r){const o=this._targets.filter(l=>l&&l.count>0);this.initTargets(o)}},initTargets(e){const r=this._targets,o=r.length,l=e?e.length:0;let p=0;for(;p<l;++p)r[p]=e[p];for(;p<o&&r[p]!=null;++p)r[p]=null;r.active=l},transform(e,r){const o=r.dataflow,l=e.key,p=e.subflow,f=this._keys,O=e.modified("key"),_=S=>this.subflow(S,p,r);return this._group=e.group||{},this.initTargets(),r.visit(r.REM,S=>{const v=tupleid(S),s=f.get(v);s!==void 0&&(f.delete(v),_(s).rem(S))}),r.visit(r.ADD,S=>{const v=l(S);f.set(tupleid(S),v),_(v).add(S)}),O||r.modified(l.fields)?r.visit(r.MOD,S=>{const v=tupleid(S),s=f.get(v),d=l(S);s===d?_(d).mod(S):(f.set(v,d),_(s).rem(S),_(d).add(S))}):r.changed(r.MOD)&&r.visit(r.MOD,S=>{_(f.get(tupleid(S))).mod(S)}),O&&r.visit(r.REFLOW,S=>{const v=tupleid(S),s=f.get(v),d=l(S);s!==d&&(f.set(v,d),_(s).rem(S),_(d).add(S))}),r.clean()?o.runAfter(()=>{this.clean(),f.clean()}):f.empty>o.cleanThreshold&&o.runAfter(f.clean),r}});function Field(e){Operator.call(this,null,update$3,e)}inherits(Field,Operator);function update$3(e){return this.value&&!e.modified()?this.value:isArray(e.name)?array$2(e.name).map(r=>field(r)):field(e.name,e.as)}function Filter(e){Transform.call(this,fastmap(),e)}Filter.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};inherits(Filter,Transform,{transform(e,r){const o=r.dataflow,l=this.value,p=r.fork(),f=p.add,O=p.rem,_=p.mod,S=e.expr;let v=!0;r.visit(r.REM,d=>{const g=tupleid(d);l.has(g)?l.delete(g):O.push(d)}),r.visit(r.ADD,d=>{S(d,e)?f.push(d):l.set(tupleid(d),1)});function s(d){const g=tupleid(d),P=S(d,e),R=l.get(g);P&&R?(l.delete(g),f.push(d)):!P&&!R?(l.set(g,1),O.push(d)):v&&P&&!R&&_.push(d)}return r.visit(r.MOD,s),e.modified()&&(v=!1,r.visit(r.REFLOW,s)),l.empty>o.cleanThreshold&&o.runAfter(l.clean),p}});function Flatten(e){Transform.call(this,[],e)}Flatten.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};inherits(Flatten,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE),l=e.fields,p=fieldNames(l,e.as||[]),f=e.index||null,O=p.length;return o.rem=this.value,r.visit(r.SOURCE,_=>{const S=l.map(R=>R(_)),v=S.reduce((R,I)=>Math.max(R,I.length),0);let s=0,d,g,P;for(;s<v;++s){for(g=derive(_),d=0;d<O;++d)g[p[d]]=(P=S[d][s])==null?null:P;f&&(g[f]=s),o.add.push(g)}}),this.value=o.source=o.add,f&&o.modifies(f),o.modifies(p)}});function Fold(e){Transform.call(this,[],e)}Fold.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};inherits(Fold,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE),l=e.fields,p=l.map(accessorName),f=e.as||["key","value"],O=f[0],_=f[1],S=l.length;return o.rem=this.value,r.visit(r.SOURCE,v=>{for(let s=0,d;s<S;++s)d=derive(v),d[O]=p[s],d[_]=l[s](v),o.add.push(d)}),this.value=o.source=o.add,o.modifies(f)}});function Formula(e){Transform.call(this,null,e)}Formula.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};inherits(Formula,Transform,{transform(e,r){const o=e.expr,l=e.as,p=e.modified(),f=e.initonly?r.ADD:p?r.SOURCE:r.modified(o.fields)||r.modified(l)?r.ADD_MOD:r.ADD;return p&&(r=r.materialize().reflow(!0)),e.initonly||r.modifies(l),r.visit(f,O=>O[l]=o(O,e))}});function Generate(e){Transform.call(this,[],e)}inherits(Generate,Transform,{transform(e,r){const o=r.fork(r.ALL),l=e.generator;let p=this.value,f=e.size-p.length,O,_,S;if(f>0){for(O=[];--f>=0;)O.push(S=ingest$1(l(e))),p.push(S);o.add=o.add.length?o.materialize(o.ADD).add.concat(O):O}else _=p.slice(0,-f),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(_):_,p=p.slice(-f);return o.source=this.value=p,o}});const Methods$1={value:"value",median,mean,min:min$3,max:max$4},Empty$1=[];function Impute(e){Transform.call(this,[],e)}Impute.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function getValue(e){var r=e.method||Methods$1.value,o;if(Methods$1[r]==null)error("Unrecognized imputation method: "+r);else return r===Methods$1.value?(o=e.value!==void 0?e.value:0,()=>o):Methods$1[r]}function getField$1(e){const r=e.field;return o=>o?r(o):NaN}inherits(Impute,Transform,{transform(e,r){var o=r.fork(r.ALL),l=getValue(e),p=getField$1(e),f=accessorName(e.field),O=accessorName(e.key),_=(e.groupby||[]).map(accessorName),S=partition$3(r.source,e.groupby,e.key,e.keyvals),v=[],s=this.value,d=S.domain.length,g,P,R,I,j,L,G,J,Q,W;for(j=0,J=S.length;j<J;++j)for(g=S[j],R=g.values,P=NaN,G=0;G<d;++G)if(g[G]==null){for(I=S.domain[G],W={_impute:!0},L=0,Q=R.length;L<Q;++L)W[_[L]]=R[L];W[O]=I,W[f]=Number.isNaN(P)?P=l(g,p):P,v.push(ingest$1(W))}return v.length&&(o.add=o.materialize(o.ADD).add.concat(v)),s.length&&(o.rem=o.materialize(o.REM).rem.concat(s)),this.value=v,o}});function partition$3(e,r,o,l){var p=L=>L(j),f=[],O=l?l.slice():[],_={},S={},v,s,d,g,P,R,I,j;for(O.forEach((L,G)=>_[L]=G+1),g=0,I=e.length;g<I;++g)j=e[g],R=o(j),P=_[R]||(_[R]=O.push(R)),s=(v=r?r.map(p):Empty$1)+"",(d=S[s])||(d=S[s]=[],f.push(d),d.values=v),d[P-1]=j;return f.domain=O,f}function JoinAggregate(e){Aggregate.call(this,e)}JoinAggregate.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:ValidAggregateOps},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};inherits(JoinAggregate,Aggregate,{transform(e,r){const o=this,l=e.modified();let p;return o.value&&(l||r.modified(o._inputs,!0))?(p=o.value=l?o.init(e):{},r.visit(r.SOURCE,f=>o.add(f))):(p=o.value=o.value||this.init(e),r.visit(r.REM,f=>o.rem(f)),r.visit(r.ADD,f=>o.add(f))),o.changes(),r.visit(r.SOURCE,f=>{extend(f,p[o.cellkey(f)].tuple)}),r.reflow(l).modifies(this._outputs)},changes(){const e=this._adds,r=this._mods;let o,l;for(o=0,l=this._alen;o<l;++o)this.celltuple(e[o]),e[o]=null;for(o=0,l=this._mlen;o<l;++o)this.celltuple(r[o]),r[o]=null;this._alen=this._mlen=0}});function KDE(e){Transform.call(this,null,e)}KDE.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};inherits(KDE,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=r.materialize(r.SOURCE).source,p=partition$1$1(l,e.groupby,e.field),f=(e.groupby||[]).map(accessorName),O=e.bandwidth,_=e.cumulative?"cdf":"pdf",S=e.as||["value","density"],v=[];let s=e.extent,d=e.steps||e.minsteps||25,g=e.steps||e.maxsteps||200;_!=="pdf"&&_!=="cdf"&&error("Invalid density method: "+_),e.resolve==="shared"&&(s||(s=extent(l,e.field)),d=g=e.steps||g),p.forEach(P=>{const R=kde(P,O)[_],I=e.counts?P.length:1,j=s||extent(P);sampleCurve(R,j,d,g).forEach(L=>{const G={};for(let J=0;J<f.length;++J)G[f[J]]=P.dims[J];G[S[0]]=L[0],G[S[1]]=L[1]*I,v.push(ingest$1(G))})}),this.value&&(o.rem=this.value),this.value=o.add=o.source=v}return o}});function Key(e){Operator.call(this,null,update$2,e)}inherits(Key,Operator);function update$2(e){return this.value&&!e.modified()?this.value:key(e.fields,e.flat)}function Load(e){Transform.call(this,[],e),this._pending=null}inherits(Load,Transform,{transform(e,r){const o=r.dataflow;return this._pending?output(this,r,this._pending):stop$1(e)?r.StopPropagation:e.values?output(this,r,o.parse(e.values,e.format)):e.async?{async:o.request(e.url,e.format).then(p=>(this._pending=array$2(p.data),f=>f.touch(this)))}:o.request(e.url,e.format).then(l=>output(this,r,array$2(l.data)))}});function stop$1(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function output(e,r,o){o.forEach(ingest$1);const l=r.fork(r.NO_FIELDS&r.NO_SOURCE);return l.rem=e.value,e.value=l.source=l.add=o,e._pending=null,l.rem.length&&l.clean(!0),l}function Lookup(e){Transform.call(this,{},e)}Lookup.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};inherits(Lookup,Transform,{transform(e,r){const o=e.fields,l=e.index,p=e.values,f=e.default==null?null:e.default,O=e.modified(),_=o.length;let S=O?r.SOURCE:r.ADD,v=r,s=e.as,d,g,P;return p?(g=p.length,_>1&&!s&&error('Multi-field lookup requires explicit "as" parameter.'),s&&s.length!==_*g&&error('The "as" parameter has too few output field names.'),s=s||p.map(accessorName),d=function(R){for(var I=0,j=0,L,G;I<_;++I)if(G=l.get(o[I](R)),G==null)for(L=0;L<g;++L,++j)R[s[j]]=f;else for(L=0;L<g;++L,++j)R[s[j]]=p[L](G)}):(s||error("Missing output field names."),d=function(R){for(var I=0,j;I<_;++I)j=l.get(o[I](R)),R[s[I]]=j??f}),O?v=r.reflow(!0):(P=o.some(R=>r.modified(R.fields)),S|=P?r.MOD:0),r.visit(S,d),v.modifies(s)}});function MultiExtent(e){Operator.call(this,null,update$1,e)}inherits(MultiExtent,Operator);function update$1(e){if(this.value&&!e.modified())return this.value;const r=e.extents,o=r.length;let l=1/0,p=-1/0,f,O;for(f=0;f<o;++f)O=r[f],O[0]<l&&(l=O[0]),O[1]>p&&(p=O[1]);return[l,p]}function MultiValues(e){Operator.call(this,null,update,e)}inherits(MultiValues,Operator);function update(e){return this.value&&!e.modified()?this.value:e.values.reduce((r,o)=>r.concat(o),[])}function Params$1(e){Transform.call(this,null,e)}inherits(Params$1,Transform,{transform(e,r){return this.modified(e.modified()),this.value=e,r.fork(r.NO_SOURCE|r.NO_FIELDS)}});function Pivot(e){Aggregate.call(this,e)}Pivot.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ValidAggregateOps,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};inherits(Pivot,Aggregate,{_transform:Aggregate.prototype.transform,transform(e,r){return this._transform(aggregateParams(e,r),r)}});function aggregateParams(e,r){const o=e.field,l=e.value,p=(e.op==="count"?"__count__":e.op)||"sum",f=accessorFields(o).concat(accessorFields(l)),O=pivotKeys(o,e.limit||0,r);return r.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:O.map(()=>p),fields:O.map(_=>get$3(_,o,l,f)),as:O.map(_=>_+""),modified:e.modified.bind(e)}}function get$3(e,r,o,l){return accessor(p=>r(p)===e?o(p):NaN,l,e+"")}function pivotKeys(e,r,o){const l={},p=[];return o.visit(o.SOURCE,f=>{const O=e(f);l[O]||(l[O]=1,p.push(O))}),p.sort(ascending$1),r?p.slice(0,r):p}function PreFacet(e){Facet.call(this,e)}inherits(PreFacet,Facet,{transform(e,r){const o=e.subflow,l=e.field,p=f=>this.subflow(tupleid(f),o,r,f);return(e.modified("field")||l&&r.modified(accessorFields(l)))&&error("PreFacet does not support field modification."),this.initTargets(),l?(r.visit(r.MOD,f=>{const O=p(f);l(f).forEach(_=>O.mod(_))}),r.visit(r.ADD,f=>{const O=p(f);l(f).forEach(_=>O.add(ingest$1(_)))}),r.visit(r.REM,f=>{const O=p(f);l(f).forEach(_=>O.rem(_))})):(r.visit(r.MOD,f=>p(f).mod(f)),r.visit(r.ADD,f=>p(f).add(f)),r.visit(r.REM,f=>p(f).rem(f))),r.clean()&&r.runAfter(()=>this.clean()),r}});function Project(e){Transform.call(this,null,e)}Project.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};inherits(Project,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE),l=e.fields,p=fieldNames(e.fields,e.as||[]),f=l?(_,S)=>project(_,S,l,p):rederive;let O;return this.value?O=this.value:(r=r.addAll(),O=this.value={}),r.visit(r.REM,_=>{const S=tupleid(_);o.rem.push(O[S]),O[S]=null}),r.visit(r.ADD,_=>{const S=f(_,ingest$1({}));O[tupleid(_)]=S,o.add.push(S)}),r.visit(r.MOD,_=>{o.mod.push(f(_,O[tupleid(_)]))}),o}});function project(e,r,o,l){for(let p=0,f=o.length;p<f;++p)r[l[p]]=o[p](e);return r}function Proxy$1(e){Transform.call(this,null,e)}inherits(Proxy$1,Transform,{transform(e,r){return this.value=e.value,e.modified("value")?r.fork(r.NO_SOURCE|r.NO_FIELDS):r.StopPropagation}});function Quantile$1(e){Transform.call(this,null,e)}Quantile$1.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const EPSILON=1e-14;inherits(Quantile$1,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=e.as||["prob","value"];if(this.value&&!e.modified()&&!r.changed())return o.source=this.value,o;const p=r.materialize(r.SOURCE).source,f=partition$1$1(p,e.groupby,e.field),O=(e.groupby||[]).map(accessorName),_=[],S=e.step||.01,v=e.probs||range$4(S/2,1-EPSILON,S),s=v.length;return f.forEach(d=>{const g=quantiles(d,v);for(let P=0;P<s;++P){const R={};for(let I=0;I<O.length;++I)R[O[I]]=d.dims[I];R[l[0]]=v[P],R[l[1]]=g[P],_.push(ingest$1(R))}}),this.value&&(o.rem=this.value),this.value=o.add=o.source=_,o}});function Relay(e){Transform.call(this,null,e)}inherits(Relay,Transform,{transform(e,r){let o,l;return this.value?l=this.value:(o=r=r.addAll(),l=this.value={}),e.derive&&(o=r.fork(r.NO_SOURCE),r.visit(r.REM,p=>{const f=tupleid(p);o.rem.push(l[f]),l[f]=null}),r.visit(r.ADD,p=>{const f=derive(p);l[tupleid(p)]=f,o.add.push(f)}),r.visit(r.MOD,p=>{const f=l[tupleid(p)];for(const O in p)f[O]=p[O],o.modifies(O);o.mod.push(f)})),o}});function Sample(e){Transform.call(this,[],e),this.count=0}Sample.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};inherits(Sample,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE),l=e.modified("size"),p=e.size,f=this.value.reduce((s,d)=>(s[tupleid(d)]=1,s),{});let O=this.value,_=this.count,S=0;function v(s){let d,g;O.length<p?O.push(s):(g=~~((_+1)*random()),g<O.length&&g>=S&&(d=O[g],f[tupleid(d)]&&o.rem.push(d),O[g]=s)),++_}if(r.rem.length&&(r.visit(r.REM,s=>{const d=tupleid(s);f[d]&&(f[d]=-1,o.rem.push(s)),--_}),O=O.filter(s=>f[tupleid(s)]!==-1)),(r.rem.length||l)&&O.length<p&&r.source&&(S=_=O.length,r.visit(r.SOURCE,s=>{f[tupleid(s)]||v(s)}),S=-1),l&&O.length>p){const s=O.length-p;for(let d=0;d<s;++d)f[tupleid(O[d])]=-1,o.rem.push(O[d]);O=O.slice(s)}return r.mod.length&&r.visit(r.MOD,s=>{f[tupleid(s)]&&o.mod.push(s)}),r.add.length&&r.visit(r.ADD,v),(r.add.length||S<0)&&(o.add=O.filter(s=>!f[tupleid(s)])),this.count=_,this.value=o.source=O,o}});function Sequence(e){Transform.call(this,null,e)}Sequence.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};inherits(Sequence,Transform,{transform(e,r){if(this.value&&!e.modified())return;const o=r.materialize().fork(r.MOD),l=e.as||"data";return o.rem=this.value?r.rem.concat(this.value):r.rem,this.value=range$4(e.start,e.stop,e.step||1).map(p=>{const f={};return f[l]=p,ingest$1(f)}),o.add=r.add.concat(this.value),o}});function Sieve(e){Transform.call(this,null,e),this.modified(!0)}inherits(Sieve,Transform,{transform(e,r){return this.value=r.source,r.changed()?r.fork(r.NO_SOURCE|r.NO_FIELDS):r.StopPropagation}});function TimeUnit(e){Transform.call(this,null,e)}const OUTPUT=["unit0","unit1"];TimeUnit.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:OUTPUT}]};inherits(TimeUnit,Transform,{transform(e,r){const o=e.field,l=e.interval!==!1,p=e.timezone==="utc",f=this._floor(e,r),O=(p?utcInterval:timeInterval)(f.unit).offset,_=e.as||OUTPUT,S=_[0],v=_[1],s=f.step;let d=f.start||1/0,g=f.stop||-1/0,P=r.ADD;return(e.modified()||r.changed(r.REM)||r.modified(accessorFields(o)))&&(r=r.reflow(!0),P=r.SOURCE,d=1/0,g=-1/0),r.visit(P,R=>{const I=o(R);let j,L;I==null?(R[S]=null,l&&(R[v]=null)):(R[S]=j=L=f(I),l&&(R[v]=L=O(j,s)),j<d&&(d=j),L>g&&(g=L))}),f.start=d,f.stop=g,r.modifies(l?_:S)},_floor(e,r){const o=e.timezone==="utc",{units:l,step:p}=e.units?{units:e.units,step:e.step||1}:bin$1({extent:e.extent||extent(r.materialize(r.SOURCE).source,e.field),maxbins:e.maxbins}),f=timeUnits(l),O=this.value||{},_=(o?utcFloor:timeFloor)(f,p);return _.unit=peek(f),_.units=f,_.step=p,_.start=O.start,_.stop=O.stop,this.value=_}});function TupleIndex(e){Transform.call(this,fastmap(),e)}inherits(TupleIndex,Transform,{transform(e,r){const o=r.dataflow,l=e.field,p=this.value,f=_=>p.set(l(_),_);let O=!0;return e.modified("field")||r.modified(l.fields)?(p.clear(),r.visit(r.SOURCE,f)):r.changed()?(r.visit(r.REM,_=>p.delete(l(_))),r.visit(r.ADD,f)):O=!1,this.modified(O),p.empty>o.cleanThreshold&&o.runAfter(p.clean),r.fork()}});function Values(e){Transform.call(this,null,e)}inherits(Values,Transform,{transform(e,r){(!this.value||e.modified("field")||e.modified("sort")||r.changed()||e.sort&&r.modified(e.sort.fields))&&(this.value=(e.sort?r.source.slice().sort(stableCompare(e.sort)):r.source).map(e.field))}});function WindowOp(e,r,o,l){const p=WindowOps[e](r,o);return{init:p.init||zero,update:function(f,O){O[l]=p.next(f)}}}const WindowOps={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:r=>{const o=r.index,l=r.data;return o&&r.compare(l[o-1],l[o])?e=o+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:r=>{const o=r.index,l=r.data;return o&&r.compare(l[o-1],l[o])?++e:e}}},percent_rank:function(){const e=WindowOps.rank(),r=e.next;return{init:e.init,next:o=>(r(o)-1)/(o.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:r=>{const o=r.data,l=r.compare;let p=r.index;if(e<p){for(;p+1<o.length&&!l(o[p],o[p+1]);)++p;e=p}return(1+e)/o.length}}},ntile:function(e,r){r=+r,r>0||error("ntile num must be greater than zero.");const o=WindowOps.cume_dist(),l=o.next;return{init:o.init,next:p=>Math.ceil(r*l(p))}},lag:function(e,r){return r=+r||1,{next:o=>{const l=o.index-r;return l>=0?e(o.data[l]):null}}},lead:function(e,r){return r=+r||1,{next:o=>{const l=o.index+r,p=o.data;return l<p.length?e(p[l]):null}}},first_value:function(e){return{next:r=>e(r.data[r.i0])}},last_value:function(e){return{next:r=>e(r.data[r.i1-1])}},nth_value:function(e,r){return r=+r,r>0||error("nth_value nth must be greater than zero."),{next:o=>{const l=o.i0+(r-1);return l<o.i1?e(o.data[l]):null}}},prev_value:function(e){let r;return{init:()=>r=null,next:o=>{const l=e(o.data[o.index]);return l!=null?r=l:r}}},next_value:function(e){let r,o;return{init:()=>(r=null,o=-1),next:l=>{const p=l.data;return l.index<=o?r:(o=find(e,p,l.index))<0?(o=p.length,r=null):r=e(p[o])}}}};function find(e,r,o){for(let l=r.length;o<l;++o)if(e(r[o])!=null)return o;return-1}const ValidWindowOps=Object.keys(WindowOps);function WindowState(e){const r=array$2(e.ops),o=array$2(e.fields),l=array$2(e.params),p=array$2(e.aggregate_params),f=array$2(e.as),O=this.outputs=[],_=this.windows=[],S={},v={},s=[],d=[];let g=!0;function P(R){array$2(accessorFields(R)).forEach(I=>S[I]=1)}P(e.sort),r.forEach((R,I)=>{const j=o[I],L=l[I],G=p[I]||null,J=accessorName(j),Q=measureName(R,J,f[I]);if(P(j),O.push(Q),has(WindowOps,R))_.push(WindowOp(R,j,L,Q));else{if(j==null&&R!=="count"&&error("Null aggregate field specified."),R==="count"){s.push(Q);return}g=!1;let W=v[J];W||(W=v[J]=[],W.field=j,d.push(W)),W.push(createMeasure(R,G,Q))}}),(s.length||d.length)&&(this.cell=cell(d,s,g)),this.inputs=Object.keys(S)}const prototype=WindowState.prototype;prototype.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};prototype.update=function(e,r){const o=this.cell,l=this.windows,p=e.data,f=l&&l.length;let O;if(o){for(O=e.p0;O<e.i0;++O)o.rem(p[O]);for(O=e.p1;O<e.i1;++O)o.add(p[O]);o.set(r)}for(O=0;O<f;++O)l[O].update(e,r)};function cell(e,r,o){e=e.map(S=>compileMeasures(S,S.field));const l={num:0,agg:null,store:!1,count:r};if(!o)for(var p=e.length,f=l.agg=Array(p),O=0;O<p;++O)f[O]=new e[O](l);if(l.store)var _=l.data=new TupleStore;return l.add=function(S){if(l.num+=1,!o){_&&_.add(S);for(let v=0;v<p;++v)f[v].add(f[v].get(S),S)}},l.rem=function(S){if(l.num-=1,!o){_&&_.rem(S);for(let v=0;v<p;++v)f[v].rem(f[v].get(S),S)}},l.set=function(S){let v,s;for(_&&_.values(),v=0,s=r.length;v<s;++v)S[r[v]]=l.num;if(!o)for(v=0,s=f.length;v<s;++v)f[v].set(S)},l.init=function(){l.num=0,_&&_.reset();for(let S=0;S<p;++S)f[S].init()},l}function Window(e){Transform.call(this,{},e),this._mlen=0,this._mods=[]}Window.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ValidWindowOps.concat(ValidAggregateOps)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};inherits(Window,Transform,{transform(e,r){this.stamp=r.stamp;const o=e.modified(),l=stableCompare(e.sort),p=groupkey(e.groupby),f=_=>this.group(p(_));let O=this.state;(!O||o)&&(O=this.state=new WindowState(e)),o||r.modified(O.inputs)?(this.value={},r.visit(r.SOURCE,_=>f(_).add(_))):(r.visit(r.REM,_=>f(_).remove(_)),r.visit(r.ADD,_=>f(_).add(_)));for(let _=0,S=this._mlen;_<S;++_)processPartition(this._mods[_],O,l,e);return this._mlen=0,this._mods=[],r.reflow(o).modifies(O.outputs)},group(e){let r=this.value[e];return r||(r=this.value[e]=SortedList(tupleid),r.stamp=-1),r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r),r}});function processPartition(e,r,o,l){const p=l.sort,f=p&&!l.ignorePeers,O=l.frame||[null,0],_=e.data(o),S=_.length,v=f?bisector$1(p):null,s={i0:0,i1:0,p0:0,p1:0,index:0,data:_,compare:p||constant$1(-1)};r.init();for(let d=0;d<S;++d)setWindow(s,O,d,S),f&&adjustRange(s,v),r.update(s,_[d])}function setWindow(e,r,o,l){e.p0=e.i0,e.p1=e.i1,e.i0=r[0]==null?0:Math.max(0,o-Math.abs(r[0])),e.i1=r[1]==null?l:Math.min(l,o+Math.abs(r[1])+1),e.index=o}function adjustRange(e,r){const o=e.i0,l=e.i1-1,p=e.compare,f=e.data,O=f.length-1;o>0&&!p(f[o],f[o-1])&&(e.i0=r.left(f,f[o])),l<O&&!p(f[l],f[l+1])&&(e.i1=r.right(f,f[l]))}const tx=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Aggregate,bin:Bin,collect:Collect,compare:Compare,countpattern:CountPattern,cross:Cross,density:Density,dotbin:DotBin,expression:Expression,extent:Extent,facet:Facet,field:Field,filter:Filter,flatten:Flatten,fold:Fold,formula:Formula,generate:Generate,impute:Impute,joinaggregate:JoinAggregate,kde:KDE,key:Key,load:Load,lookup:Lookup,multiextent:MultiExtent,multivalues:MultiValues,params:Params$1,pivot:Pivot,prefacet:PreFacet,project:Project,proxy:Proxy$1,quantile:Quantile$1,relay:Relay,sample:Sample,sequence:Sequence,sieve:Sieve,subflow:Subflow,timeunit:TimeUnit,tupleindex:TupleIndex,values:Values,window:Window},Symbol.toStringTag,{value:"Module"}));function domCanvas(e,r){if(typeof document<"u"&&document.createElement){const o=document.createElement("canvas");if(o&&o.getContext)return o.width=e,o.height=r,o}return null}const domImage=()=>typeof Image<"u"?Image:null;function bandSpace(e,r,o){const l=e-r+o*2;return e?l>0?l:1:0}const Identity="identity",Linear="linear",Log="log",Pow="pow",Sqrt="sqrt",Symlog="symlog",Time="time",UTC="utc",Sequential="sequential",Diverging="diverging",Quantile="quantile",Quantize="quantize",Threshold="threshold",Ordinal="ordinal",Point="point",Band="band",BinOrdinal="bin-ordinal",Continuous="continuous",Discrete="discrete",Discretizing="discretizing",Interpolating="interpolating",Temporal="temporal";function invertRange(e){return function(r){let o=r[0],l=r[1],p;return l<o&&(p=o,o=l,l=p),[e.invert(o),e.invert(l)]}}function invertRangeExtent(e){return function(r){const o=e.range();let l=r[0],p=r[1],f=-1,O,_,S,v;for(p<l&&(_=l,l=p,p=_),S=0,v=o.length;S<v;++S)o[S]>=l&&o[S]<=p&&(f<0&&(f=S),O=S);if(!(f<0))return l=e.invertExtent(o[f]),p=e.invertExtent(o[O]),[l[0]===void 0?l[1]:l[0],p[1]===void 0?p[0]:p[1]]}}function band(){const e=ordinal().unknown(void 0),r=e.domain,o=e.range;let l=[0,1],p,f,O=!1,_=0,S=0,v=.5;delete e.unknown;function s(){const d=r().length,g=l[1]<l[0],P=l[1-g],R=bandSpace(d,_,S);let I=l[g-0];p=(P-I)/(R||1),O&&(p=Math.floor(p)),I+=(P-I-p*(d-_))*v,f=p*(1-_),O&&(I=Math.round(I),f=Math.round(f));const j=range$4(d).map(L=>I+p*L);return o(g?j.reverse():j)}return e.domain=function(d){return arguments.length?(r(d),s()):r()},e.range=function(d){return arguments.length?(l=[+d[0],+d[1]],s()):l.slice()},e.rangeRound=function(d){return l=[+d[0],+d[1]],O=!0,s()},e.bandwidth=function(){return f},e.step=function(){return p},e.round=function(d){return arguments.length?(O=!!d,s()):O},e.padding=function(d){return arguments.length?(S=Math.max(0,Math.min(1,d)),_=S,s()):_},e.paddingInner=function(d){return arguments.length?(_=Math.max(0,Math.min(1,d)),s()):_},e.paddingOuter=function(d){return arguments.length?(S=Math.max(0,Math.min(1,d)),s()):S},e.align=function(d){return arguments.length?(v=Math.max(0,Math.min(1,d)),s()):v},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const g=l[1]<l[0],P=g?o().reverse():o(),R=P.length-1;let I=+d[0],j=+d[1],L,G,J;if(!(I!==I||j!==j)&&(j<I&&(J=I,I=j,j=J),!(j<P[0]||I>l[1-g])))return L=Math.max(0,bisectRight$1(P,I)-1),G=I===j?L:bisectRight$1(P,j)-1,I-P[L]>f+1e-10&&++L,g&&(J=L,L=R-G,G=R-J),L>G?void 0:r().slice(L,G+1)},e.invert=function(d){const g=e.invertRange([d,d]);return g&&g[0]},e.copy=function(){return band().domain(r()).range(l).round(O).paddingInner(_).paddingOuter(S).align(v)},s()}function pointish(e){const r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return pointish(r())},e}function point$1(){return pointish(band().paddingInner(1))}var map=Array.prototype.map;function numbers(e){return map.call(e,toNumber)}const slice$1=Array.prototype.slice;function scaleBinOrdinal(){let e=[],r=[];function o(l){return l==null||l!==l?void 0:r[(bisect$2(e,l)-1)%r.length]}return o.domain=function(l){return arguments.length?(e=numbers(l),o):e.slice()},o.range=function(l){return arguments.length?(r=slice$1.call(l),o):r.slice()},o.tickFormat=function(l,p){return tickFormat$1(e[0],peek(e),l??10,p)},o.copy=function(){return scaleBinOrdinal().domain(o.domain()).range(o.range())},o}const scales=new Map,VEGA_SCALE=Symbol("vega_scale");function registerScale(e){return e[VEGA_SCALE]=!0,e}function isRegisteredScale(e){return e&&e[VEGA_SCALE]===!0}function create$2(e,r,o){const l=function(){const f=r();return f.invertRange||(f.invertRange=f.invert?invertRange(f):f.invertExtent?invertRangeExtent(f):void 0),f.type=e,registerScale(f)};return l.metadata=toSet(array$2(o)),l}function scale$4(e,r,o){return arguments.length>1?(scales.set(e,create$2(e,r,o)),this):isValidScaleType(e)?scales.get(e):void 0}scale$4(Identity,identity$2);scale$4(Linear,linear$1,Continuous);scale$4(Log,log$3,[Continuous,Log]);scale$4(Pow,pow$2,Continuous);scale$4(Sqrt,sqrt$2,Continuous);scale$4(Symlog,symlog$1,Continuous);scale$4(Time,time$1,[Continuous,Temporal]);scale$4(UTC,utcTime,[Continuous,Temporal]);scale$4(Sequential,sequential,[Continuous,Interpolating]);scale$4(`${Sequential}-${Linear}`,sequential,[Continuous,Interpolating]);scale$4(`${Sequential}-${Log}`,sequentialLog,[Continuous,Interpolating,Log]);scale$4(`${Sequential}-${Pow}`,sequentialPow,[Continuous,Interpolating]);scale$4(`${Sequential}-${Sqrt}`,sequentialSqrt,[Continuous,Interpolating]);scale$4(`${Sequential}-${Symlog}`,sequentialSymlog,[Continuous,Interpolating]);scale$4(`${Diverging}-${Linear}`,diverging,[Continuous,Interpolating]);scale$4(`${Diverging}-${Log}`,divergingLog,[Continuous,Interpolating,Log]);scale$4(`${Diverging}-${Pow}`,divergingPow,[Continuous,Interpolating]);scale$4(`${Diverging}-${Sqrt}`,divergingSqrt,[Continuous,Interpolating]);scale$4(`${Diverging}-${Symlog}`,divergingSymlog,[Continuous,Interpolating]);scale$4(Quantile,quantile$1,[Discretizing,Quantile]);scale$4(Quantize,quantize$1,Discretizing);scale$4(Threshold,threshold,Discretizing);scale$4(BinOrdinal,scaleBinOrdinal,[Discrete,Discretizing]);scale$4(Ordinal,ordinal,Discrete);scale$4(Band,band,Discrete);scale$4(Point,point$1,Discrete);function isValidScaleType(e){return scales.has(e)}function hasType(e,r){const o=scales.get(e);return o&&o.metadata[r]}function isContinuous(e){return hasType(e,Continuous)}function isDiscrete(e){return hasType(e,Discrete)}function isDiscretizing(e){return hasType(e,Discretizing)}function isLogarithmic(e){return hasType(e,Log)}function isTemporal(e){return hasType(e,Temporal)}function isInterpolating(e){return hasType(e,Interpolating)}const scaleProps=["clamp","base","constant","exponent"];function interpolateRange(e,r){const o=r[0],l=peek(r)-o;return function(p){return e(o+p*l)}}function interpolateColors(e,r,o){return piecewise(interpolate(r||"rgb",o),e)}function quantizeInterpolator(e,r){const o=new Array(r),l=r+1;for(let p=0;p<r;)o[p]=e(++p/l);return o}function scaleFraction(e,r,o){const l=o-r;let p,f,O;return!l||!Number.isFinite(l)?constant$1(.5):(p=(f=e.type).indexOf("-"),f=p<0?f:f.slice(p+1),O=scale$4(f)().domain([r,o]).range([0,1]),scaleProps.forEach(_=>e[_]?O[_](e[_]()):0),O)}function interpolate(e,r){const o=$$1[method(e)];return r!=null&&o&&o.gamma?o.gamma(r):o}function method(e){return"interpolate"+e.toLowerCase().split("-").map(r=>r[0].toUpperCase()+r.slice(1)).join("")}const continuous={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},discrete={accent:schemeAccent,category10:schemeCategory10,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:schemeDark2,observable10:schemeObservable10,paired:schemePaired,pastel1:schemePastel1,pastel2:schemePastel2,set1:schemeSet1,set2:schemeSet2,set3:schemeSet3,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function colors(e){if(isArray(e))return e;const r=e.length/6|0,o=new Array(r);for(let l=0;l<r;)o[l]="#"+e.slice(l*6,++l*6);return o}function apply(e,r){for(const o in e)scheme(o,r(e[o]))}const schemes={};apply(discrete,colors);apply(continuous,e=>interpolateColors(colors(e)));function scheme(e,r){return e=e&&e.toLowerCase(),arguments.length>1?(schemes[e]=r,this):schemes[e]}const SymbolLegend="symbol",DiscreteLegend="discrete",GradientLegend="gradient",defaultFormatter=e=>isArray(e)?e.map(r=>String(r)):String(e),ascending=(e,r)=>e[1]-r[1],descending=(e,r)=>r[1]-e[1];function tickCount(e,r,o){let l;return isNumber$1(r)&&(e.bins&&(r=Math.max(r,e.bins.length)),o!=null&&(r=Math.min(r,Math.floor(span(e.domain())/o||1)+1))),isObject(r)&&(l=r.step,r=r.interval),isString(r)&&(r=e.type===Time?timeInterval(r):e.type==UTC?utcInterval(r):error("Only time and utc scales accept interval strings."),l&&(r=r.every(l))),r}function validTicks(e,r,o){let l=e.range(),p=l[0],f=peek(l),O=ascending;if(p>f&&(l=f,f=p,p=l,O=descending),p=Math.floor(p),f=Math.ceil(f),r=r.map(_=>[_,e(_)]).filter(_=>p<=_[1]&&_[1]<=f).sort(O).map(_=>_[0]),o>0&&r.length>1){const _=[r[0],peek(r)];for(;r.length>o&&r.length>=3;)r=r.filter((S,v)=>!(v%2));r.length<3&&(r=_)}return r}function tickValues(e,r){return e.bins?validTicks(e,e.bins,r):e.ticks?e.ticks(r):e.domain()}function tickFormat(e,r,o,l,p,f){const O=r.type;let _=defaultFormatter;if(O===Time||p===Time)_=e.timeFormat(l);else if(O===UTC||p===UTC)_=e.utcFormat(l);else if(isLogarithmic(O)){const S=e.formatFloat(l);if(f||r.bins)_=S;else{const v=tickLog(r,o,!1);_=s=>v(s)?S(s):""}}else if(r.tickFormat){const S=r.domain();_=e.formatSpan(S[0],S[S.length-1],o,l)}else l&&(_=e.format(l));return _}function tickLog(e,r,o){const l=tickValues(e,r),p=e.base(),f=Math.log(p),O=Math.max(1,p*r/l.length),_=S=>{let v=S/Math.pow(p,Math.round(Math.log(S)/f));return v*p<p-.5&&(v*=p),v<=O};return o?l.filter(_):_}const symbols$1={[Quantile]:"quantiles",[Quantize]:"thresholds",[Threshold]:"domain"},formats={[Quantile]:"quantiles",[Quantize]:"domain"};function labelValues(e,r){return e.bins?binValues(e.bins):e.type===Log?tickLog(e,r,!0):symbols$1[e.type]?thresholdValues(e[symbols$1[e.type]]()):tickValues(e,r)}function thresholdFormat(e,r,o){const l=r[formats[r.type]](),p=l.length;let f=p>1?l[1]-l[0]:l[0],O;for(O=1;O<p;++O)f=Math.min(f,l[O]-l[O-1]);return e.formatSpan(0,f,3*10,o)}function thresholdValues(e){const r=[-1/0].concat(e);return r.max=1/0,r}function binValues(e){const r=e.slice(0,-1);return r.max=peek(e),r}const isDiscreteRange=e=>symbols$1[e.type]||e.bins;function labelFormat(e,r,o,l,p,f,O){const _=formats[r.type]&&f!==Time&&f!==UTC?thresholdFormat(e,r,p):tickFormat(e,r,o,p,f,O);return l===SymbolLegend&&isDiscreteRange(r)?formatRange(_):l===DiscreteLegend?formatDiscrete(_):formatPoint(_)}const formatRange=e=>(r,o,l)=>{const p=get$2(l[o+1],get$2(l.max,1/0)),f=formatValue$1(r,e),O=formatValue$1(p,e);return f&&O?f+" – "+O:O?"< "+O:"≥ "+f},get$2=(e,r)=>e??r,formatDiscrete=e=>(r,o)=>o?e(r):null,formatPoint=e=>r=>e(r),formatValue$1=(e,r)=>Number.isFinite(e)?r(e):null;function labelFraction(e){const r=e.domain(),o=r.length-1;let l=+r[0],p=+peek(r),f=p-l;if(e.type===Threshold){const O=o?f/o:.1;l-=O,p+=O,f=p-l}return O=>(O-l)/f}function format$1(e,r,o,l){const p=l||r.type;return isString(o)&&isTemporal(p)&&(o=o.replace(/%a/g,"%A").replace(/%b/g,"%B")),!o&&p===Time?e.timeFormat("%A, %d %B %Y, %X"):!o&&p===UTC?e.utcFormat("%A, %d %B %Y, %X UTC"):labelFormat(e,r,5,null,o,l,!0)}function domainCaption(e,r,o){o=o||{};const l=Math.max(3,o.maxlen||7),p=format$1(e,r,o.format,o.formatType);if(isDiscretizing(r.type)){const f=labelValues(r).slice(1).map(p),O=f.length;return`${O} boundar${O===1?"y":"ies"}: ${f.join(", ")}`}else if(isDiscrete(r.type)){const f=r.domain(),O=f.length,_=O>l?f.slice(0,l-2).map(p).join(", ")+", ending with "+f.slice(-1).map(p):f.map(p).join(", ");return`${O} value${O===1?"":"s"}: ${_}`}else{const f=r.domain();return`values from ${p(f[0])} to ${p(peek(f))}`}}let gradient_id=0;const patternPrefix="p_";function isGradient(e){return e&&e.gradient}function gradientRef(e,r,o){const l=e.gradient;let p=e.id,f=l==="radial"?patternPrefix:"";return p||(p=e.id="gradient_"+gradient_id++,l==="radial"?(e.x1=get$1(e.x1,.5),e.y1=get$1(e.y1,.5),e.r1=get$1(e.r1,0),e.x2=get$1(e.x2,.5),e.y2=get$1(e.y2,.5),e.r2=get$1(e.r2,.5),f=patternPrefix):(e.x1=get$1(e.x1,0),e.y1=get$1(e.y1,0),e.x2=get$1(e.x2,1),e.y2=get$1(e.y2,0))),r[p]=e,"url("+(o||"")+"#"+f+p+")"}function get$1(e,r){return e??r}function Gradient(e,r){var o=[],l;return l={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:r?r[0]:1,y2:r?r[1]:0,stops:o,stop:function(p,f){return o.push({offset:p,color:f}),l}}}const lookup$3={basis:{curve:curveBasis},"basis-closed":{curve:curveBasisClosed},"basis-open":{curve:curveBasisOpen},bundle:{curve:curveBundle,tension:"beta",value:.85},cardinal:{curve:curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:curveLinear},"linear-closed":{curve:curveLinearClosed},monotone:{horizontal:monotoneY,vertical:monotoneX},natural:{curve:curveNatural},step:{curve:curveStep},"step-after":{curve:stepAfter},"step-before":{curve:stepBefore}};function curves(e,r,o){var l=has(lookup$3,e)&&lookup$3[e],p=null;return l&&(p=l.curve||l[r||"vertical"],l.tension&&o!=null&&(p=p[l.tension](o))),p}const paramCounts={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},commandPattern=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,numberPattern=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,spacePattern=/^((\s+,?\s*)|(,\s*))/,flagPattern=/^[01]/;function parse$1(e){const r=[];return(e.match(commandPattern)||[]).forEach(l=>{let p=l[0];const f=p.toLowerCase(),O=paramCounts[f],_=parseParams(f,O,l.slice(1).trim()),S=_.length;if(S<O||S&&S%O!==0)throw Error("Invalid SVG path, incorrect parameter count");if(r.push([p,..._.slice(0,O)]),S!==O){f==="m"&&(p=p==="M"?"L":"l");for(let v=O;v<S;v+=O)r.push([p,..._.slice(v,v+O)])}}),r}function parseParams(e,r,o){const l=[];for(let p=0;r&&p<o.length;)for(let f=0;f<r;++f){const O=e==="a"&&(f===3||f===4)?flagPattern:numberPattern,_=o.slice(p).match(O);if(_===null)throw Error("Invalid SVG path, incorrect parameter type");p+=_[0].length,l.push(+_[0]);const S=o.slice(p).match(spacePattern);S!==null&&(p+=S[0].length)}return l}const DegToRad=Math.PI/180,Epsilon=1e-14,HalfPi=Math.PI/2,Tau=Math.PI*2,HalfSqrt3=Math.sqrt(3)/2;var segmentCache={},bezierCache={},join$1=[].join;function segments(e,r,o,l,p,f,O,_,S){const v=join$1.call(arguments);if(segmentCache[v])return segmentCache[v];const s=O*DegToRad,d=Math.sin(s),g=Math.cos(s);o=Math.abs(o),l=Math.abs(l);const P=g*(_-e)*.5+d*(S-r)*.5,R=g*(S-r)*.5-d*(_-e)*.5;let I=P*P/(o*o)+R*R/(l*l);I>1&&(I=Math.sqrt(I),o*=I,l*=I);const j=g/o,L=d/o,G=-d/l,J=g/l,Q=j*_+L*S,W=G*_+J*S,Z=j*e+L*r,te=G*e+J*r;let ie=1/((Z-Q)*(Z-Q)+(te-W)*(te-W))-.25;ie<0&&(ie=0);let oe=Math.sqrt(ie);f==p&&(oe=-oe);const se=.5*(Q+Z)-oe*(te-W),le=.5*(W+te)+oe*(Z-Q),de=Math.atan2(W-le,Q-se);let fe=Math.atan2(te-le,Z-se)-de;fe<0&&f===1?fe+=Tau:fe>0&&f===0&&(fe-=Tau);const he=Math.ceil(Math.abs(fe/(HalfPi+.001))),ge=[];for(let me=0;me<he;++me){const ye=de+me*fe/he,ve=de+(me+1)*fe/he;ge[me]=[se,le,ye,ve,o,l,d,g]}return segmentCache[v]=ge}function bezier(e){const r=join$1.call(e);if(bezierCache[r])return bezierCache[r];var o=e[0],l=e[1],p=e[2],f=e[3],O=e[4],_=e[5],S=e[6],v=e[7];const s=v*O,d=-S*_,g=S*O,P=v*_,R=Math.cos(p),I=Math.sin(p),j=Math.cos(f),L=Math.sin(f),G=.5*(f-p),J=Math.sin(G*.5),Q=8/3*J*J/Math.sin(G),W=o+R-Q*I,Z=l+I+Q*R,te=o+j,ee=l+L,ie=te+Q*L,oe=ee-Q*j;return bezierCache[r]=[s*W+d*Z,g*W+P*Z,s*ie+d*oe,g*ie+P*oe,s*te+d*ee,g*te+P*ee]}const temp=["l",0,0,0,0,0,0,0];function scale$1$1(e,r,o){const l=temp[0]=e[0];if(l==="a"||l==="A")temp[1]=r*e[1],temp[2]=o*e[2],temp[3]=e[3],temp[4]=e[4],temp[5]=e[5],temp[6]=r*e[6],temp[7]=o*e[7];else if(l==="h"||l==="H")temp[1]=r*e[1];else if(l==="v"||l==="V")temp[1]=o*e[1];else for(var p=1,f=e.length;p<f;++p)temp[p]=(p%2==1?r:o)*e[p];return temp}function pathRender(e,r,o,l,p,f){var O,_=null,S=0,v=0,s=0,d=0,g,P,R,I,j=0,L=0;o==null&&(o=0),l==null&&(l=0),p==null&&(p=1),f==null&&(f=p),e.beginPath&&e.beginPath();for(var G=0,J=r.length;G<J;++G){switch(O=r[G],(p!==1||f!==1)&&(O=scale$1$1(O,p,f)),O[0]){case"l":S+=O[1],v+=O[2],e.lineTo(S+o,v+l);break;case"L":S=O[1],v=O[2],e.lineTo(S+o,v+l);break;case"h":S+=O[1],e.lineTo(S+o,v+l);break;case"H":S=O[1],e.lineTo(S+o,v+l);break;case"v":v+=O[1],e.lineTo(S+o,v+l);break;case"V":v=O[1],e.lineTo(S+o,v+l);break;case"m":S+=O[1],v+=O[2],j=S,L=v,e.moveTo(S+o,v+l);break;case"M":S=O[1],v=O[2],j=S,L=v,e.moveTo(S+o,v+l);break;case"c":g=S+O[5],P=v+O[6],s=S+O[3],d=v+O[4],e.bezierCurveTo(S+O[1]+o,v+O[2]+l,s+o,d+l,g+o,P+l),S=g,v=P;break;case"C":S=O[5],v=O[6],s=O[3],d=O[4],e.bezierCurveTo(O[1]+o,O[2]+l,s+o,d+l,S+o,v+l);break;case"s":g=S+O[3],P=v+O[4],s=2*S-s,d=2*v-d,e.bezierCurveTo(s+o,d+l,S+O[1]+o,v+O[2]+l,g+o,P+l),s=S+O[1],d=v+O[2],S=g,v=P;break;case"S":g=O[3],P=O[4],s=2*S-s,d=2*v-d,e.bezierCurveTo(s+o,d+l,O[1]+o,O[2]+l,g+o,P+l),S=g,v=P,s=O[1],d=O[2];break;case"q":g=S+O[3],P=v+O[4],s=S+O[1],d=v+O[2],e.quadraticCurveTo(s+o,d+l,g+o,P+l),S=g,v=P;break;case"Q":g=O[3],P=O[4],e.quadraticCurveTo(O[1]+o,O[2]+l,g+o,P+l),S=g,v=P,s=O[1],d=O[2];break;case"t":g=S+O[1],P=v+O[2],_[0].match(/[QqTt]/)===null?(s=S,d=v):_[0]==="t"?(s=2*S-R,d=2*v-I):_[0]==="q"&&(s=2*S-s,d=2*v-d),R=s,I=d,e.quadraticCurveTo(s+o,d+l,g+o,P+l),S=g,v=P,s=S+O[1],d=v+O[2];break;case"T":g=O[1],P=O[2],s=2*S-s,d=2*v-d,e.quadraticCurveTo(s+o,d+l,g+o,P+l),S=g,v=P;break;case"a":drawArc(e,S+o,v+l,[O[1],O[2],O[3],O[4],O[5],O[6]+S+o,O[7]+v+l]),S+=O[6],v+=O[7];break;case"A":drawArc(e,S+o,v+l,[O[1],O[2],O[3],O[4],O[5],O[6]+o,O[7]+l]),S=O[6],v=O[7];break;case"z":case"Z":S=j,v=L,e.closePath();break}_=O}}function drawArc(e,r,o,l){const p=segments(l[5],l[6],l[0],l[1],l[3],l[4],l[2],r,o);for(let f=0;f<p.length;++f){const O=bezier(p[f]);e.bezierCurveTo(O[0],O[1],O[2],O[3],O[4],O[5])}}const Tan30=.5773502691896257,builtins={circle:{draw:function(e,r){const o=Math.sqrt(r)/2;e.moveTo(o,0),e.arc(0,0,o,0,Tau)}},cross:{draw:function(e,r){var o=Math.sqrt(r)/2,l=o/2.5;e.moveTo(-o,-l),e.lineTo(-o,l),e.lineTo(-l,l),e.lineTo(-l,o),e.lineTo(l,o),e.lineTo(l,l),e.lineTo(o,l),e.lineTo(o,-l),e.lineTo(l,-l),e.lineTo(l,-o),e.lineTo(-l,-o),e.lineTo(-l,-l),e.closePath()}},diamond:{draw:function(e,r){const o=Math.sqrt(r)/2;e.moveTo(-o,0),e.lineTo(0,-o),e.lineTo(o,0),e.lineTo(0,o),e.closePath()}},square:{draw:function(e,r){var o=Math.sqrt(r),l=-o/2;e.rect(l,l,o,o)}},arrow:{draw:function(e,r){var o=Math.sqrt(r)/2,l=o/7,p=o/2.5,f=o/8;e.moveTo(-l,o),e.lineTo(l,o),e.lineTo(l,-f),e.lineTo(p,-f),e.lineTo(0,-o),e.lineTo(-p,-f),e.lineTo(-l,-f),e.closePath()}},wedge:{draw:function(e,r){var o=Math.sqrt(r)/2,l=HalfSqrt3*o,p=l-o*Tan30,f=o/4;e.moveTo(0,-l-p),e.lineTo(-f,l-p),e.lineTo(f,l-p),e.closePath()}},triangle:{draw:function(e,r){var o=Math.sqrt(r)/2,l=HalfSqrt3*o,p=l-o*Tan30;e.moveTo(0,-l-p),e.lineTo(-o,l-p),e.lineTo(o,l-p),e.closePath()}},"triangle-up":{draw:function(e,r){var o=Math.sqrt(r)/2,l=HalfSqrt3*o;e.moveTo(0,-l),e.lineTo(-o,l),e.lineTo(o,l),e.closePath()}},"triangle-down":{draw:function(e,r){var o=Math.sqrt(r)/2,l=HalfSqrt3*o;e.moveTo(0,l),e.lineTo(-o,-l),e.lineTo(o,-l),e.closePath()}},"triangle-right":{draw:function(e,r){var o=Math.sqrt(r)/2,l=HalfSqrt3*o;e.moveTo(l,0),e.lineTo(-l,-o),e.lineTo(-l,o),e.closePath()}},"triangle-left":{draw:function(e,r){var o=Math.sqrt(r)/2,l=HalfSqrt3*o;e.moveTo(-l,0),e.lineTo(l,-o),e.lineTo(l,o),e.closePath()}},stroke:{draw:function(e,r){const o=Math.sqrt(r)/2;e.moveTo(-o,0),e.lineTo(o,0)}}};function symbols(e){return has(builtins,e)?builtins[e]:customSymbol(e)}var custom={};function customSymbol(e){if(!has(custom,e)){const r=parse$1(e);custom[e]={draw:function(o,l){pathRender(o,r,0,0,Math.sqrt(l)/2)}}}return custom[e]}const C=.448084975506;function rectangleX(e){return e.x}function rectangleY(e){return e.y}function rectangleWidth(e){return e.width}function rectangleHeight(e){return e.height}function number$2(e){return typeof e=="function"?e:()=>+e}function clamp(e,r,o){return Math.max(r,Math.min(e,o))}function vg_rect(){var e=rectangleX,r=rectangleY,o=rectangleWidth,l=rectangleHeight,p=number$2(0),f=p,O=p,_=p,S=null;function v(s,d,g){var P,R=d??+e.call(this,s),I=g??+r.call(this,s),j=+o.call(this,s),L=+l.call(this,s),G=Math.min(j,L)/2,J=clamp(+p.call(this,s),0,G),Q=clamp(+f.call(this,s),0,G),W=clamp(+O.call(this,s),0,G),Z=clamp(+_.call(this,s),0,G);if(S||(S=P=path$4()),J<=0&&Q<=0&&W<=0&&Z<=0)S.rect(R,I,j,L);else{var te=R+j,ee=I+L;S.moveTo(R+J,I),S.lineTo(te-Q,I),S.bezierCurveTo(te-C*Q,I,te,I+C*Q,te,I+Q),S.lineTo(te,ee-Z),S.bezierCurveTo(te,ee-C*Z,te-C*Z,ee,te-Z,ee),S.lineTo(R+W,ee),S.bezierCurveTo(R+C*W,ee,R,ee-C*W,R,ee-W),S.lineTo(R,I+J),S.bezierCurveTo(R,I+C*J,R+C*J,I,R+J,I),S.closePath()}if(P)return S=null,P+""||null}return v.x=function(s){return arguments.length?(e=number$2(s),v):e},v.y=function(s){return arguments.length?(r=number$2(s),v):r},v.width=function(s){return arguments.length?(o=number$2(s),v):o},v.height=function(s){return arguments.length?(l=number$2(s),v):l},v.cornerRadius=function(s,d,g,P){return arguments.length?(p=number$2(s),f=d!=null?number$2(d):p,_=g!=null?number$2(g):p,O=P!=null?number$2(P):f,v):p},v.context=function(s){return arguments.length?(S=s??null,v):S},v}function vg_trail(){var e,r,o,l,p=null,f,O,_,S;function v(d,g,P){const R=P/2;if(f){var I=_-g,j=d-O;if(I||j){var L=Math.hypot(I,j),G=(I/=L)*S,J=(j/=L)*S,Q=Math.atan2(j,I);p.moveTo(O-G,_-J),p.lineTo(d-I*R,g-j*R),p.arc(d,g,R,Q-Math.PI,Q),p.lineTo(O+G,_+J),p.arc(O,_,S,Q,Q+Math.PI)}else p.arc(d,g,R,0,Tau);p.closePath()}else f=1;O=d,_=g,S=R}function s(d){var g,P=d.length,R,I=!1,j;for(p==null&&(p=j=path$4()),g=0;g<=P;++g)!(g<P&&l(R=d[g],g,d))===I&&(I=!I)&&(f=0),I&&v(+e(R,g,d),+r(R,g,d),+o(R,g,d));if(j)return p=null,j+""||null}return s.x=function(d){return arguments.length?(e=d,s):e},s.y=function(d){return arguments.length?(r=d,s):r},s.size=function(d){return arguments.length?(o=d,s):o},s.defined=function(d){return arguments.length?(l=d,s):l},s.context=function(d){return arguments.length?(d==null?p=null:p=d,s):p},s}function value$1(e,r){return e??r}const x=e=>e.x||0,y=e=>e.y||0,w=e=>e.width||0,h=e=>e.height||0,xw=e=>(e.x||0)+(e.width||0),yh=e=>(e.y||0)+(e.height||0),sa=e=>e.startAngle||0,ea=e=>e.endAngle||0,pa=e=>e.padAngle||0,ir=e=>e.innerRadius||0,or=e=>e.outerRadius||0,cr=e=>e.cornerRadius||0,tl=e=>value$1(e.cornerRadiusTopLeft,e.cornerRadius)||0,tr=e=>value$1(e.cornerRadiusTopRight,e.cornerRadius)||0,br=e=>value$1(e.cornerRadiusBottomRight,e.cornerRadius)||0,bl=e=>value$1(e.cornerRadiusBottomLeft,e.cornerRadius)||0,sz=e=>value$1(e.size,64),ts=e=>e.size||1,def=e=>e.defined!==!1,type=e=>symbols(e.shape||"circle"),arcShape=arc$2$1().startAngle(sa).endAngle(ea).padAngle(pa).innerRadius(ir).outerRadius(or).cornerRadius(cr),areavShape=area$2$1().x(x).y1(y).y0(yh).defined(def),areahShape=area$2$1().y(y).x1(x).x0(xw).defined(def),lineShape=line$2$1().x(x).y(y).defined(def),rectShape=vg_rect().x(x).y(y).width(w).height(h).cornerRadius(tl,tr,br,bl),symbolShape=Symbol$1().type(type).size(sz),trailShape=vg_trail().x(x).y(y).defined(def).size(ts);function hasCornerRadius(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function arc$1(e,r){return arcShape.context(e)(r)}function area$1(e,r){const o=r[0],l=o.interpolate||"linear";return(o.orient==="horizontal"?areahShape:areavShape).curve(curves(l,o.orient,o.tension)).context(e)(r)}function line$1(e,r){const o=r[0],l=o.interpolate||"linear";return lineShape.curve(curves(l,o.orient,o.tension)).context(e)(r)}function rectangle(e,r,o,l){return rectShape.context(e)(r,o,l)}function shape$1(e,r){return(r.mark.shape||r.shape).context(e)(r)}function symbol$1(e,r){return symbolShape.context(e)(r)}function trail$1(e,r){return trailShape.context(e)(r)}var clip_id=1;function clip$1(e,r,o){var l=r.clip,p=e._defs,f=r.clip_id||(r.clip_id="clip"+clip_id++),O=p.clipping[f]||(p.clipping[f]={id:f});return isFunction(l)?O.path=l(null):hasCornerRadius(o)?O.path=rectangle(null,o,0,0):(O.width=o.width||0,O.height=o.height||0),"url(#"+f+")"}function Bounds(e){this.clear(),e&&this.union(e)}Bounds.prototype={clone(){return new Bounds(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,r,o,l){return o<e?(this.x2=e,this.x1=o):(this.x1=e,this.x2=o),l<r?(this.y2=r,this.y1=l):(this.y1=r,this.y2=l),this},add(e,r){return e<this.x1&&(this.x1=e),r<this.y1&&(this.y1=r),e>this.x2&&(this.x2=e),r>this.y2&&(this.y2=r),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,r){return this.x1+=e,this.x2+=e,this.y1+=r,this.y2+=r,this},rotate(e,r,o){const l=this.rotatedPoints(e,r,o);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints(e,r,o){var{x1:l,y1:p,x2:f,y2:O}=this,_=Math.cos(e),S=Math.sin(e),v=r-r*_+o*S,s=o-r*S-o*_;return[_*l-S*p+v,S*l+_*p+s,_*l-S*O+v,S*l+_*O+s,_*f-S*p+v,S*f+_*p+s,_*f-S*O+v,S*f+_*O+s]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,r){return!(e<this.x1||e>this.x2||r<this.y1||r>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Item(e){this.mark=e,this.bounds=this.bounds||new Bounds}function GroupItem(e){Item.call(this,e),this.items=this.items||[]}inherits(GroupItem,Item);class ResourceLoader{constructor(r){this._pending=0,this._loader=r||loader()}pending(){return this._pending}sanitizeURL(r){const o=this;return increment(o),o._loader.sanitize(r,{context:"href"}).then(l=>(decrement(o),l)).catch(()=>(decrement(o),null))}loadImage(r){const o=this,l=domImage();return increment(o),o._loader.sanitize(r,{context:"image"}).then(p=>{const f=p.href;if(!f||!l)throw{url:f};const O=new l,_=has(p,"crossOrigin")?p.crossOrigin:"anonymous";return _!=null&&(O.crossOrigin=_),O.onload=()=>decrement(o),O.onerror=()=>decrement(o),O.src=f,O}).catch(p=>(decrement(o),{complete:!1,width:0,height:0,src:p&&p.url||""}))}ready(){const r=this;return new Promise(o=>{function l(p){r.pending()?setTimeout(()=>{l(!0)},10):o(p)}l(!1)})}}function increment(e){e._pending+=1}function decrement(e){e._pending-=1}function boundStroke(e,r,o){if(r.stroke&&r.opacity!==0&&r.strokeOpacity!==0){const l=r.strokeWidth!=null?+r.strokeWidth:1;e.expand(l+(o?miterAdjustment(r,l):0))}return e}function miterAdjustment(e,r){return e.strokeJoin&&e.strokeJoin!=="miter"?0:r}const circleThreshold=Tau-1e-8;let bounds,lx,ly,rot,ma,mb,mc,md;const add=(e,r)=>bounds.add(e,r),addL=(e,r)=>add(lx=e,ly=r),addX=e=>add(e,bounds.y1),addY=e=>add(bounds.x1,e),px=(e,r)=>ma*e+mc*r,py=(e,r)=>mb*e+md*r,addp=(e,r)=>add(px(e,r),py(e,r)),addpL=(e,r)=>addL(px(e,r),py(e,r));function boundContext(e,r){return bounds=e,r?(rot=r*DegToRad,ma=md=Math.cos(rot),mb=Math.sin(rot),mc=-mb):(ma=md=1,rot=mb=mc=0),context$1}const context$1={beginPath(){},closePath(){},moveTo:addpL,lineTo:addpL,rect(e,r,o,l){rot?(addp(e+o,r),addp(e+o,r+l),addp(e,r+l),addpL(e,r)):(add(e+o,r+l),addL(e,r))},quadraticCurveTo(e,r,o,l){const p=px(e,r),f=py(e,r),O=px(o,l),_=py(o,l);quadExtrema(lx,p,O,addX),quadExtrema(ly,f,_,addY),addL(O,_)},bezierCurveTo(e,r,o,l,p,f){const O=px(e,r),_=py(e,r),S=px(o,l),v=py(o,l),s=px(p,f),d=py(p,f);cubicExtrema(lx,O,S,s,addX),cubicExtrema(ly,_,v,d,addY),addL(s,d)},arc(e,r,o,l,p,f){if(l+=rot,p+=rot,lx=o*Math.cos(p)+e,ly=o*Math.sin(p)+r,Math.abs(p-l)>circleThreshold)add(e-o,r-o),add(e+o,r+o);else{const O=v=>add(o*Math.cos(v)+e,o*Math.sin(v)+r);let _,S;if(O(l),O(p),p!==l)if(l=l%Tau,l<0&&(l+=Tau),p=p%Tau,p<0&&(p+=Tau),p<l&&(f=!f,_=l,l=p,p=_),f)for(p-=Tau,_=l-l%HalfPi,S=0;S<4&&_>p;++S,_-=HalfPi)O(_);else for(_=l-l%HalfPi+HalfPi,S=0;S<4&&_<p;++S,_=_+HalfPi)O(_)}}};function quadExtrema(e,r,o,l){const p=(e-r)/(e+o-2*r);0<p&&p<1&&l(e+(r-e)*p)}function cubicExtrema(e,r,o,l,p){const f=l-e+3*r-3*o,O=e+o-2*r,_=e-r;let S=0,v=0,s;Math.abs(f)>Epsilon?(s=O*O+_*f,s>=0&&(s=Math.sqrt(s),S=(-O+s)/f,v=(-O-s)/f)):S=.5*_/O,0<S&&S<1&&p(cubic(S,e,r,o,l)),0<v&&v<1&&p(cubic(v,e,r,o,l))}function cubic(e,r,o,l,p){const f=1-e,O=f*f,_=e*e;return O*f*r+3*O*e*o+3*f*_*l+_*e*p}var context$2=(context$2=domCanvas(1,1))?context$2.getContext("2d"):null;const b=new Bounds;function intersectPath(e){return function(r,o){if(!context$2)return!0;e(context$2,r),b.clear().union(r.bounds).intersect(o).round();const{x1:l,y1:p,x2:f,y2:O}=b;for(let _=p;_<=O;++_)for(let S=l;S<=f;++S)if(context$2.isPointInPath(S,_))return!0;return!1}}function intersectPoint(e,r){return r.contains(e.x||0,e.y||0)}function intersectRect(e,r){const o=e.x||0,l=e.y||0,p=e.width||0,f=e.height||0;return r.intersects(b.set(o,l,o+p,l+f))}function intersectRule(e,r){const o=e.x||0,l=e.y||0,p=e.x2!=null?e.x2:o,f=e.y2!=null?e.y2:l;return intersectBoxLine(r,o,l,p,f)}function intersectBoxLine(e,r,o,l,p){const{x1:f,y1:O,x2:_,y2:S}=e,v=l-r,s=p-o;let d=0,g=1,P,R,I,j;for(j=0;j<4;++j){if(j===0&&(P=-v,R=-(f-r)),j===1&&(P=v,R=_-r),j===2&&(P=-s,R=-(O-o)),j===3&&(P=s,R=S-o),Math.abs(P)<1e-10&&R<0)return!1;if(I=R/P,P<0){if(I>g)return!1;I>d&&(d=I)}else if(P>0){if(I<d)return!1;I<g&&(g=I)}}return!0}function blend(e,r){e.globalCompositeOperation=r.blend||"source-over"}function value(e,r){return e??r}function addStops(e,r){const o=r.length;for(let l=0;l<o;++l)e.addColorStop(r[l].offset,r[l].color);return e}function gradient(e,r,o){const l=o.width(),p=o.height();let f;if(r.gradient==="radial")f=e.createRadialGradient(o.x1+value(r.x1,.5)*l,o.y1+value(r.y1,.5)*p,Math.max(l,p)*value(r.r1,0),o.x1+value(r.x2,.5)*l,o.y1+value(r.y2,.5)*p,Math.max(l,p)*value(r.r2,.5));else{const O=value(r.x1,0),_=value(r.y1,0),S=value(r.x2,1),v=value(r.y2,0);if(O===S||_===v||l===p)f=e.createLinearGradient(o.x1+O*l,o.y1+_*p,o.x1+S*l,o.y1+v*p);else{const s=domCanvas(Math.ceil(l),Math.ceil(p)),d=s.getContext("2d");return d.scale(l,p),d.fillStyle=addStops(d.createLinearGradient(O,_,S,v),r.stops),d.fillRect(0,0,l,p),e.createPattern(s,"no-repeat")}}return addStops(f,r.stops)}function color(e,r,o){return isGradient(o)?gradient(e,o,r.bounds):o}function fill(e,r,o){return o*=r.fillOpacity==null?1:r.fillOpacity,o>0?(e.globalAlpha=o,e.fillStyle=color(e,r,r.fill),!0):!1}var Empty=[];function stroke(e,r,o){var l=(l=r.strokeWidth)!=null?l:1;return l<=0?!1:(o*=r.strokeOpacity==null?1:r.strokeOpacity,o>0?(e.globalAlpha=o,e.strokeStyle=color(e,r,r.stroke),e.lineWidth=l,e.lineCap=r.strokeCap||"butt",e.lineJoin=r.strokeJoin||"miter",e.miterLimit=r.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(r.strokeDash||Empty),e.lineDashOffset=r.strokeDashOffset||0),!0):!1)}function compare(e,r){return e.zindex-r.zindex||e.index-r.index}function zorder(e){if(!e.zdirty)return e.zitems;var r=e.items,o=[],l,p,f;for(p=0,f=r.length;p<f;++p)l=r[p],l.index=p,l.zindex&&o.push(l);return e.zdirty=!1,e.zitems=o.sort(compare)}function visit(e,r){var o=e.items,l,p;if(!o||!o.length)return;const f=zorder(e);if(f&&f.length){for(l=0,p=o.length;l<p;++l)o[l].zindex||r(o[l]);o=f}for(l=0,p=o.length;l<p;++l)r(o[l])}function pickVisit(e,r){var o=e.items,l,p;if(!o||!o.length)return null;const f=zorder(e);for(f&&f.length&&(o=f),p=o.length;--p>=0;)if(l=r(o[p]))return l;if(o===f){for(o=e.items,p=o.length;--p>=0;)if(!o[p].zindex&&(l=r(o[p])))return l}return null}function drawAll(e){return function(r,o,l){visit(o,p=>{(!l||l.intersects(p.bounds))&&drawPath(e,r,p,p)})}}function drawOne(e){return function(r,o,l){o.items.length&&(!l||l.intersects(o.bounds))&&drawPath(e,r,o.items[0],o.items)}}function drawPath(e,r,o,l){var p=o.opacity==null?1:o.opacity;p!==0&&(e(r,l)||(blend(r,o),o.fill&&fill(r,o,p)&&r.fill(),o.stroke&&stroke(r,o,p)&&r.stroke()))}function pick$1(e){return e=e||truthy,function(r,o,l,p,f,O){return l*=r.pixelRatio,p*=r.pixelRatio,pickVisit(o,_=>{const S=_.bounds;if(!(S&&!S.contains(f,O)||!S)&&e(r,_,l,p,f,O))return _})}}function hitPath(e,r){return function(o,l,p,f){var O=Array.isArray(l)?l[0]:l,_=r??O.fill,S=O.stroke&&o.isPointInStroke,v,s;return S&&(v=O.strokeWidth,s=O.strokeCap,o.lineWidth=v??1,o.lineCap=s??"butt"),e(o,l)?!1:_&&o.isPointInPath(p,f)||S&&o.isPointInStroke(p,f)}}function pickPath(e){return pick$1(hitPath(e))}function translate$1(e,r){return"translate("+e+","+r+")"}function rotate(e){return"rotate("+e+")"}function scale$3(e,r){return"scale("+e+","+r+")"}function translateItem(e){return translate$1(e.x||0,e.y||0)}function rotateItem(e){return translate$1(e.x||0,e.y||0)+(e.angle?" "+rotate(e.angle):"")}function transformItem(e){return translate$1(e.x||0,e.y||0)+(e.angle?" "+rotate(e.angle):"")+(e.scaleX||e.scaleY?" "+scale$3(e.scaleX||1,e.scaleY||1):"")}function markItemPath(e,r,o){function l(O,_){O("transform",rotateItem(_)),O("d",r(null,_))}function p(O,_){return r(boundContext(O,_.angle),_),boundStroke(O,_).translate(_.x||0,_.y||0)}function f(O,_){var S=_.x||0,v=_.y||0,s=_.angle||0;O.translate(S,v),s&&O.rotate(s*=DegToRad),O.beginPath(),r(O,_),s&&O.rotate(-s),O.translate(-S,-v)}return{type:e,tag:"path",nested:!1,attr:l,bound:p,draw:drawAll(f),pick:pickPath(f),isect:o||intersectPath(f)}}var arc$2=markItemPath("arc",arc$1);function pickArea(e,r){for(var o=e[0].orient==="horizontal"?r[1]:r[0],l=e[0].orient==="horizontal"?"y":"x",p=e.length,f=1/0,O,_;--p>=0;)e[p].defined!==!1&&(_=Math.abs(e[p][l]-o),_<f&&(f=_,O=e[p]));return O}function pickLine(e,r){for(var o=Math.pow(e[0].strokeWidth||1,2),l=e.length,p,f,O;--l>=0;)if(e[l].defined!==!1&&(p=e[l].x-r[0],f=e[l].y-r[1],O=p*p+f*f,O<o))return e[l];return null}function pickTrail(e,r){for(var o=e.length,l,p,f;--o>=0;)if(e[o].defined!==!1&&(l=e[o].x-r[0],p=e[o].y-r[1],f=l*l+p*p,l=e[o].size||1,f<l*l))return e[o];return null}function markMultiItemPath(e,r,o){function l(S,v){var s=v.mark.items;s.length&&S("d",r(null,s))}function p(S,v){var s=v.items;return s.length===0?S:(r(boundContext(S),s),boundStroke(S,s[0]))}function f(S,v){S.beginPath(),r(S,v)}const O=hitPath(f);function _(S,v,s,d,g,P){var R=v.items,I=v.bounds;return!R||!R.length||I&&!I.contains(g,P)?null:(s*=S.pixelRatio,d*=S.pixelRatio,O(S,R,s,d)?R[0]:null)}return{type:e,tag:"path",nested:!0,attr:l,bound:p,draw:drawOne(f),pick:_,isect:intersectPoint,tip:o}}var area$2=markMultiItemPath("area",area$1,pickArea);function clip(e,r){var o=r.clip;e.save(),isFunction(o)?(e.beginPath(),o(e),e.clip()):clipGroup(e,r.group)}function clipGroup(e,r){e.beginPath(),hasCornerRadius(r)?rectangle(e,r,0,0):e.rect(0,0,r.width||0,r.height||0),e.clip()}function offset$1(e){const r=value(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&r>.5&&r<1.5?.5-Math.abs(r-1):0}function attr$5(e,r){e("transform",translateItem(r))}function emitRectangle(e,r){const o=offset$1(r);e("d",rectangle(null,r,o,o))}function background$1(e,r){e("class","background"),e("aria-hidden",!0),emitRectangle(e,r)}function foreground(e,r){e("class","foreground"),e("aria-hidden",!0),r.strokeForeground?emitRectangle(e,r):e("d","")}function content(e,r,o){const l=r.clip?clip$1(o,r,r):null;e("clip-path",l)}function bound$5(e,r){if(!r.clip&&r.items){const o=r.items,l=o.length;for(let p=0;p<l;++p)e.union(o[p].bounds)}return(r.clip||r.width||r.height)&&!r.noBound&&e.add(0,0).add(r.width||0,r.height||0),boundStroke(e,r),e.translate(r.x||0,r.y||0)}function rectanglePath(e,r,o,l){const p=offset$1(r);e.beginPath(),rectangle(e,r,(o||0)+p,(l||0)+p)}const hitBackground=hitPath(rectanglePath),hitForeground=hitPath(rectanglePath,!1),hitCorner=hitPath(rectanglePath,!0);function draw$4(e,r,o,l){visit(r,p=>{const f=p.x||0,O=p.y||0,_=p.strokeForeground,S=p.opacity==null?1:p.opacity;(p.stroke||p.fill)&&S&&(rectanglePath(e,p,f,O),blend(e,p),p.fill&&fill(e,p,S)&&e.fill(),p.stroke&&!_&&stroke(e,p,S)&&e.stroke()),e.save(),e.translate(f,O),p.clip&&clipGroup(e,p),o&&o.translate(-f,-O),visit(p,v=>{(v.marktype==="group"||l==null||l.includes(v.marktype))&&this.draw(e,v,o,l)}),o&&o.translate(f,O),e.restore(),_&&p.stroke&&S&&(rectanglePath(e,p,f,O),blend(e,p),stroke(e,p,S)&&e.stroke())})}function pick(e,r,o,l,p,f){if(r.bounds&&!r.bounds.contains(p,f)||!r.items)return null;const O=o*e.pixelRatio,_=l*e.pixelRatio;return pickVisit(r,S=>{let v,s,d;const g=S.bounds;if(g&&!g.contains(p,f))return;s=S.x||0,d=S.y||0;const P=s+(S.width||0),R=d+(S.height||0),I=S.clip;if(I&&(p<s||p>P||f<d||f>R))return;if(e.save(),e.translate(s,d),s=p-s,d=f-d,I&&hasCornerRadius(S)&&!hitCorner(e,S,O,_))return e.restore(),null;const j=S.strokeForeground,L=r.interactive!==!1;return L&&j&&S.stroke&&hitForeground(e,S,O,_)?(e.restore(),S):(v=pickVisit(S,G=>pickMark(G,s,d)?this.pick(G,o,l,s,d):null),!v&&L&&(S.fill||!j&&S.stroke)&&hitBackground(e,S,O,_)&&(v=S),e.restore(),v||null)})}function pickMark(e,r,o){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(r,o)}var group={type:"group",tag:"g",nested:!1,attr:attr$5,bound:bound$5,draw:draw$4,pick,isect:intersectRect,content,background:background$1,foreground},metadata={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function getImage(e,r){var o=e.image;return(!o||e.url&&e.url!==o.url)&&(o={complete:!1,width:0,height:0},r.loadImage(e.url).then(l=>{e.image=l,e.image.url=e.url})),o}function imageWidth(e,r){return e.width!=null?e.width:!r||!r.width?0:e.aspect!==!1&&e.height?e.height*r.width/r.height:r.width}function imageHeight(e,r){return e.height!=null?e.height:!r||!r.height?0:e.aspect!==!1&&e.width?e.width*r.height/r.width:r.height}function imageXOffset(e,r){return e==="center"?r/2:e==="right"?r:0}function imageYOffset(e,r){return e==="middle"?r/2:e==="bottom"?r:0}function attr$4(e,r,o){const l=getImage(r,o),p=imageWidth(r,l),f=imageHeight(r,l),O=(r.x||0)-imageXOffset(r.align,p),_=(r.y||0)-imageYOffset(r.baseline,f),S=!l.src&&l.toDataURL?l.toDataURL():l.src||"";e("href",S,metadata["xmlns:xlink"],"xlink:href"),e("transform",translate$1(O,_)),e("width",p),e("height",f),e("preserveAspectRatio",r.aspect===!1?"none":"xMidYMid")}function bound$4(e,r){const o=r.image,l=imageWidth(r,o),p=imageHeight(r,o),f=(r.x||0)-imageXOffset(r.align,l),O=(r.y||0)-imageYOffset(r.baseline,p);return e.set(f,O,f+l,O+p)}function draw$3(e,r,o){visit(r,l=>{if(o&&!o.intersects(l.bounds))return;const p=getImage(l,this);let f=imageWidth(l,p),O=imageHeight(l,p);if(f===0||O===0)return;let _=(l.x||0)-imageXOffset(l.align,f),S=(l.y||0)-imageYOffset(l.baseline,O),v,s,d,g;l.aspect!==!1&&(s=p.width/p.height,d=l.width/l.height,s===s&&d===d&&s!==d&&(d<s?(g=f/s,S+=(O-g)/2,O=g):(g=O*s,_+=(f-g)/2,f=g))),(p.complete||p.toDataURL)&&(blend(e,l),e.globalAlpha=(v=l.opacity)!=null?v:1,e.imageSmoothingEnabled=l.smooth!==!1,e.drawImage(p,_,S,f,O))})}var image={type:"image",tag:"image",nested:!1,attr:attr$4,bound:bound$4,draw:draw$3,pick:pick$1(),isect:truthy,get:getImage,xOffset:imageXOffset,yOffset:imageYOffset},line$2=markMultiItemPath("line",line$1,pickLine);function attr$3(e,r){var o=r.scaleX||1,l=r.scaleY||1;(o!==1||l!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",transformItem(r)),e("d",r.path)}function path$1(e,r){var o=r.path;if(o==null)return!0;var l=r.x||0,p=r.y||0,f=r.scaleX||1,O=r.scaleY||1,_=(r.angle||0)*DegToRad,S=r.pathCache;(!S||S.path!==o)&&((r.pathCache=S=parse$1(o)).path=o),_&&e.rotate&&e.translate?(e.translate(l,p),e.rotate(_),pathRender(e,S,0,0,f,O),e.rotate(-_),e.translate(-l,-p)):pathRender(e,S,l,p,f,O)}function bound$3(e,r){return path$1(boundContext(e,r.angle),r)?e.set(0,0,0,0):boundStroke(e,r,!0)}var path$2={type:"path",tag:"path",nested:!1,attr:attr$3,bound:bound$3,draw:drawAll(path$1),pick:pickPath(path$1),isect:intersectPath(path$1)};function attr$2(e,r){e("d",rectangle(null,r))}function bound$2(e,r){var o,l;return boundStroke(e.set(o=r.x||0,l=r.y||0,o+r.width||0,l+r.height||0),r)}function draw$2(e,r){e.beginPath(),rectangle(e,r)}var rect={type:"rect",tag:"path",nested:!1,attr:attr$2,bound:bound$2,draw:drawAll(draw$2),pick:pickPath(draw$2),isect:intersectRect};function attr$1(e,r){e("transform",translateItem(r)),e("x2",r.x2!=null?r.x2-(r.x||0):0),e("y2",r.y2!=null?r.y2-(r.y||0):0)}function bound$1(e,r){var o,l;return boundStroke(e.set(o=r.x||0,l=r.y||0,r.x2!=null?r.x2:o,r.y2!=null?r.y2:l),r)}function path(e,r,o){var l,p,f,O;return r.stroke&&stroke(e,r,o)?(l=r.x||0,p=r.y||0,f=r.x2!=null?r.x2:l,O=r.y2!=null?r.y2:p,e.beginPath(),e.moveTo(l,p),e.lineTo(f,O),!0):!1}function draw$1(e,r,o){visit(r,l=>{if(!(o&&!o.intersects(l.bounds))){var p=l.opacity==null?1:l.opacity;p&&path(e,l,p)&&(blend(e,l),e.stroke())}})}function hit$1(e,r,o,l){return e.isPointInStroke?path(e,r,1)&&e.isPointInStroke(o,l):!1}var rule={type:"rule",tag:"line",nested:!1,attr:attr$1,bound:bound$1,draw:draw$1,pick:pick$1(hit$1),isect:intersectRule},shape=markItemPath("shape",shape$1),symbol=markItemPath("symbol",symbol$1,intersectPoint);const widthCache=lruCache();var textMetrics={height:fontSize,measureWidth,estimateWidth,width:estimateWidth,canvas:useCanvas};useCanvas(!0);function useCanvas(e){textMetrics.width=e&&context$2?measureWidth:estimateWidth}function estimateWidth(e,r){return _estimateWidth(textValue(e,r),fontSize(e))}function _estimateWidth(e,r){return~~(.8*e.length*r)}function measureWidth(e,r){return fontSize(e)<=0||!(r=textValue(e,r))?0:_measureWidth(r,font(e))}function _measureWidth(e,r){const o=`(${r}) ${e}`;let l=widthCache.get(o);return l===void 0&&(context$2.font=r,l=context$2.measureText(e).width,widthCache.set(o,l)),l}function fontSize(e){return e.fontSize!=null?+e.fontSize||0:11}function lineHeight(e){return e.lineHeight!=null?e.lineHeight:fontSize(e)+2}function lineArray(e){return isArray(e)?e.length>1?e:e[0]:e}function textLines(e){return lineArray(e.lineBreak&&e.text&&!isArray(e.text)?e.text.split(e.lineBreak):e.text)}function multiLineOffset(e){const r=textLines(e);return(isArray(r)?r.length-1:0)*lineHeight(e)}function textValue(e,r){const o=r==null?"":(r+"").trim();return e.limit>0&&o.length?truncate(e,o):o}function widthGetter(e){if(textMetrics.width===measureWidth){const r=font(e);return o=>_measureWidth(o,r)}else if(textMetrics.width===estimateWidth){const r=fontSize(e);return o=>_estimateWidth(o,r)}else return r=>textMetrics.width(e,r)}function truncate(e,r){var o=+e.limit,l=widthGetter(e);if(l(r)<o)return r;var p=e.ellipsis||"…",f=e.dir==="rtl",O=0,_=r.length,S;if(o-=l(p),f){for(;O<_;)S=O+_>>>1,l(r.slice(S))>o?O=S+1:_=S;return p+r.slice(O)}else{for(;O<_;)S=1+(O+_>>>1),l(r.slice(0,S))<o?O=S:_=S-1;return r.slice(0,O)+p}}function fontFamily(e,r){var o=e.font;return(r&&o?String(o).replace(/"/g,"'"):o)||"sans-serif"}function font(e,r){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+fontSize(e)+"px "+fontFamily(e,r)}function offset$2(e){var r=e.baseline,o=fontSize(e);return Math.round(r==="top"?.79*o:r==="middle"?.3*o:r==="bottom"?-.21*o:r==="line-top"?.29*o+.5*lineHeight(e):r==="line-bottom"?.29*o-.5*lineHeight(e):0)}const textAlign={left:"start",center:"middle",right:"end"},tempBounds$1=new Bounds;function anchorPoint(e){var r=e.x||0,o=e.y||0,l=e.radius||0,p;return l&&(p=(e.theta||0)-HalfPi,r+=l*Math.cos(p),o+=l*Math.sin(p)),tempBounds$1.x1=r,tempBounds$1.y1=o,tempBounds$1}function attr(e,r){var o=r.dx||0,l=(r.dy||0)+offset$2(r),p=anchorPoint(r),f=p.x1,O=p.y1,_=r.angle||0,S;e("text-anchor",textAlign[r.align]||"start"),_?(S=translate$1(f,O)+" "+rotate(_),(o||l)&&(S+=" "+translate$1(o,l))):S=translate$1(f+o,O+l),e("transform",S)}function bound(e,r,o){var l=textMetrics.height(r),p=r.align,f=anchorPoint(r),O=f.x1,_=f.y1,S=r.dx||0,v=(r.dy||0)+offset$2(r)-Math.round(.8*l),s=textLines(r),d;if(isArray(s)?(l+=lineHeight(r)*(s.length-1),d=s.reduce((g,P)=>Math.max(g,textMetrics.width(r,P)),0)):d=textMetrics.width(r,s),p==="center"?S-=d/2:p==="right"&&(S-=d),e.set(S+=O,v+=_,S+d,v+l),r.angle&&!o)e.rotate(r.angle*DegToRad,O,_);else if(o===2)return e.rotatedPoints(r.angle*DegToRad,O,_);return e}function draw$5(e,r,o){visit(r,l=>{var p=l.opacity==null?1:l.opacity,f,O,_,S,v,s,d;if(!(o&&!o.intersects(l.bounds)||p===0||l.fontSize<=0||l.text==null||l.text.length===0)){if(e.font=font(l),e.textAlign=l.align||"left",f=anchorPoint(l),O=f.x1,_=f.y1,l.angle&&(e.save(),e.translate(O,_),e.rotate(l.angle*DegToRad),O=_=0),O+=l.dx||0,_+=(l.dy||0)+offset$2(l),s=textLines(l),blend(e,l),isArray(s))for(v=lineHeight(l),S=0;S<s.length;++S)d=textValue(l,s[S]),l.fill&&fill(e,l,p)&&e.fillText(d,O,_),l.stroke&&stroke(e,l,p)&&e.strokeText(d,O,_),_+=v;else d=textValue(l,s),l.fill&&fill(e,l,p)&&e.fillText(d,O,_),l.stroke&&stroke(e,l,p)&&e.strokeText(d,O,_);l.angle&&e.restore()}})}function hit(e,r,o,l,p,f){if(r.fontSize<=0)return!1;if(!r.angle)return!0;var O=anchorPoint(r),_=O.x1,S=O.y1,v=bound(tempBounds$1,r,1),s=-r.angle*DegToRad,d=Math.cos(s),g=Math.sin(s),P=d*p-g*f+(_-d*_+g*S),R=g*p+d*f+(S-g*_-d*S);return v.contains(P,R)}function intersectText(e,r){const o=bound(tempBounds$1,e,2);return intersectBoxLine(r,o[0],o[1],o[2],o[3])||intersectBoxLine(r,o[0],o[1],o[4],o[5])||intersectBoxLine(r,o[4],o[5],o[6],o[7])||intersectBoxLine(r,o[2],o[3],o[6],o[7])}var text={type:"text",tag:"text",nested:!1,attr,bound,draw:draw$5,pick:pick$1(hit),isect:intersectText},trail=markMultiItemPath("trail",trail$1,pickTrail),Marks={arc:arc$2,area:area$2,group,image,line:line$2,path:path$2,rect,rule,shape,symbol,text,trail};function boundItem$1(e,r,o){var l=Marks[e.mark.marktype],p=r||l.bound;return l.nested&&(e=e.mark),p(e.bounds||(e.bounds=new Bounds),e,o)}var DUMMY={mark:null};function boundMark(e,r,o){var l=Marks[e.marktype],p=l.bound,f=e.items,O=f&&f.length,_,S,v,s;if(l.nested)return O?v=f[0]:(DUMMY.mark=e,v=DUMMY),s=boundItem$1(v,p,o),r=r&&r.union(s)||s,r;if(r=r||e.bounds&&e.bounds.clear()||new Bounds,O)for(_=0,S=f.length;_<S;++_)r.union(boundItem$1(f[_],p,o));return e.bounds=r}const keys=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function sceneToJSON(e,r){return JSON.stringify(e,keys,r)}function sceneFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return initialize$1(r)}function initialize$1(e){var r=e.marktype,o=e.items,l,p,f;if(o)for(p=0,f=o.length;p<f;++p)l=r?"mark":"group",o[p][l]=e,o[p].zindex&&(o[p][l].zdirty=!0),(r||l)==="group"&&initialize$1(o[p]);return r&&boundMark(e),e}class Scenegraph{constructor(r){arguments.length?this.root=sceneFromJSON(r):(this.root=createMark({marktype:"group",name:"root",role:"frame"}),this.root.items=[new GroupItem(this.root)])}toJSON(r){return sceneToJSON(this.root,r||0)}mark(r,o,l){o=o||this.root.items[0];const p=createMark(r,o);return o.items[l]=p,p.zindex&&(p.group.zdirty=!0),p}}function createMark(e,r){const o={bounds:new Bounds,clip:!!e.clip,group:r,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(o.aria=e.aria),e.description&&(o.description=e.description),o}function domCreate(e,r,o){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?o?e.createElementNS(o,r):e.createElement(r):null}function domFind(e,r){r=r.toLowerCase();for(var o=e.childNodes,l=0,p=o.length;l<p;++l)if(o[l].tagName.toLowerCase()===r)return o[l]}function domChild(e,r,o,l){var p=e.childNodes[r],f;return(!p||p.tagName.toLowerCase()!==o.toLowerCase())&&(f=p||null,p=domCreate(e.ownerDocument,o,l),e.insertBefore(p,f)),p}function domClear(e,r){for(var o=e.childNodes,l=o.length;l>r;)e.removeChild(o[--l]);return e}function cssClass(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function point(e,r){const o=r.getBoundingClientRect();return[e.clientX-o.left-(r.clientLeft||0),e.clientY-o.top-(r.clientTop||0)]}function resolveItem(e,r,o,l){var p=e&&e.mark,f,O;if(p&&(f=Marks[p.marktype]).tip){for(O=point(r,o),O[0]-=l[0],O[1]-=l[1];e=e.mark.group;)O[0]-=e.x||0,O[1]-=e.y||0;e=f.tip(p.items,O)}return e}class Handler{constructor(r,o){this._active=null,this._handlers={},this._loader=r||loader(),this._tooltip=o||defaultTooltip$1}initialize(r,o,l){return this._el=r,this._obj=l||null,this.origin(o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()}scene(r){return arguments.length?(this._scene=r,this):this._scene}on(){}off(){}_handlerIndex(r,o,l){for(let p=r?r.length:0;--p>=0;)if(r[p].type===o&&(!l||r[p].handler===l))return p;return-1}handlers(r){const o=this._handlers,l=[];if(r)l.push(...o[this.eventName(r)]);else for(const p in o)l.push(...o[p]);return l}eventName(r){const o=r.indexOf(".");return o<0?r:r.slice(0,o)}handleHref(r,o,l){this._loader.sanitize(l,{context:"href"}).then(p=>{const f=new MouseEvent(r.type,r),O=domCreate(null,"a");for(const _ in p)O.setAttribute(_,p[_]);O.dispatchEvent(f)}).catch(()=>{})}handleTooltip(r,o,l){if(o&&o.tooltip!=null){o=resolveItem(o,r,this.canvas(),this._origin);const p=l&&o&&o.tooltip||null;this._tooltip.call(this._obj,this,r,o,p)}}getItemBoundingClientRect(r){const o=this.canvas();if(!o)return;const l=o.getBoundingClientRect(),p=this._origin,f=r.bounds,O=f.width(),_=f.height();let S=f.x1+p[0]+l.left,v=f.y1+p[1]+l.top;for(;r.mark&&(r=r.mark.group);)S+=r.x||0,v+=r.y||0;return{x:S,y:v,width:O,height:_,left:S,top:v,right:S+O,bottom:v+_}}}function defaultTooltip$1(e,r,o,l){e.element().setAttribute("title",l||"")}class Renderer{constructor(r){this._el=null,this._bgcolor=null,this._loader=new ResourceLoader(r)}initialize(r,o,l,p,f){return this._el=r,this.resize(o,l,p,f)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(r){return arguments.length===0?this._bgcolor:(this._bgcolor=r,this)}resize(r,o,l,p){return this._width=r,this._height=o,this._origin=l||[0,0],this._scale=p||1,this}dirty(){}render(r,o){const l=this;return l._call=function(){l._render(r,o)},l._call(),l._call=null,l}_render(){}renderAsync(r,o){const l=this.render(r,o);return this._ready?this._ready.then(()=>l):Promise.resolve(l)}_load(r,o){var l=this,p=l._loader[r](o);if(!l._ready){const f=l._call;l._ready=l._loader.ready().then(O=>{O&&f(),l._ready=null})}return p}sanitizeURL(r){return this._load("sanitizeURL",r)}loadImage(r){return this._load("loadImage",r)}}const KeyDownEvent="keydown",KeyPressEvent="keypress",KeyUpEvent="keyup",DragEnterEvent="dragenter",DragLeaveEvent="dragleave",DragOverEvent="dragover",PointerDownEvent="pointerdown",PointerUpEvent="pointerup",PointerMoveEvent="pointermove",PointerOutEvent="pointerout",PointerOverEvent="pointerover",MouseDownEvent="mousedown",MouseUpEvent="mouseup",MouseMoveEvent="mousemove",MouseOutEvent="mouseout",MouseOverEvent="mouseover",ClickEvent="click",DoubleClickEvent="dblclick",WheelEvent="wheel",MouseWheelEvent="mousewheel",TouchStartEvent="touchstart",TouchMoveEvent="touchmove",TouchEndEvent="touchend",Events=[KeyDownEvent,KeyPressEvent,KeyUpEvent,DragEnterEvent,DragLeaveEvent,DragOverEvent,PointerDownEvent,PointerUpEvent,PointerMoveEvent,PointerOutEvent,PointerOverEvent,MouseDownEvent,MouseUpEvent,MouseMoveEvent,MouseOutEvent,MouseOverEvent,ClickEvent,DoubleClickEvent,WheelEvent,MouseWheelEvent,TouchStartEvent,TouchMoveEvent,TouchEndEvent],TooltipShowEvent=PointerMoveEvent,TooltipHideEvent=MouseOutEvent,HrefEvent=ClickEvent;class CanvasHandler extends Handler{constructor(r,o){super(r,o),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=Events,this.pointermove=move([PointerMoveEvent,MouseMoveEvent],[PointerOverEvent,MouseOverEvent],[PointerOutEvent,MouseOutEvent]),this.dragover=move([DragOverEvent],[DragEnterEvent],[DragLeaveEvent]),this.pointerout=inactive([PointerOutEvent,MouseOutEvent]),this.dragleave=inactive([DragLeaveEvent])}initialize(r,o,l){return this._canvas=r&&domFind(r,"canvas"),[ClickEvent,MouseDownEvent,PointerDownEvent,PointerMoveEvent,PointerOutEvent,DragLeaveEvent].forEach(p=>eventListenerCheck(this,p)),super.initialize(r,o,l)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(r){this.fire(MouseWheelEvent,r)}pointerdown(r){this._down=this._active,this.fire(PointerDownEvent,r)}mousedown(r){this._down=this._active,this.fire(MouseDownEvent,r)}click(r){this._down===this._active&&(this.fire(ClickEvent,r),this._down=null)}touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(TouchStartEvent,r,!0)}touchmove(r){this.fire(TouchMoveEvent,r,!0)}touchend(r){this.fire(TouchEndEvent,r,!0),this._touch=null}fire(r,o,l){const p=l?this._touch:this._active,f=this._handlers[r];if(o.vegaType=r,r===HrefEvent&&p&&p.href?this.handleHref(o,p,p.href):(r===TooltipShowEvent||r===TooltipHideEvent)&&this.handleTooltip(o,p,r!==TooltipHideEvent),f)for(let O=0,_=f.length;O<_;++O)f[O].handler.call(this._obj,o,p)}on(r,o){const l=this.eventName(r),p=this._handlers;return this._handlerIndex(p[l],r,o)<0&&(eventListenerCheck(this,r),(p[l]||(p[l]=[])).push({type:r,handler:o})),this}off(r,o){const l=this.eventName(r),p=this._handlers[l],f=this._handlerIndex(p,r,o);return f>=0&&p.splice(f,1),this}pickEvent(r){const o=point(r,this._canvas),l=this._origin;return this.pick(this._scene,o[0],o[1],o[0]-l[0],o[1]-l[1])}pick(r,o,l,p,f){const O=this.context();return Marks[r.marktype].pick.call(this,O,r,o,l,p,f)}}const eventBundle=e=>e===TouchStartEvent||e===TouchMoveEvent||e===TouchEndEvent?[TouchStartEvent,TouchMoveEvent,TouchEndEvent]:[e];function eventListenerCheck(e,r){eventBundle(r).forEach(o=>addEventListener(e,o))}function addEventListener(e,r){const o=e.canvas();o&&!e._events[r]&&(e._events[r]=1,o.addEventListener(r,e[r]?l=>e[r](l):l=>e.fire(r,l)))}function fireAll(e,r,o){r.forEach(l=>e.fire(l,o))}function move(e,r,o){return function(l){const p=this._active,f=this.pickEvent(l);f===p?fireAll(this,e,l):((!p||!p.exit)&&fireAll(this,o,l),this._active=f,fireAll(this,r,l),fireAll(this,e,l))}}function inactive(e){return function(r){fireAll(this,e,r),this._active=null}}function devicePixelRatio(){return typeof window<"u"&&window.devicePixelRatio||1}function resize(e,r,o,l,p,f){const O=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,_=e.getContext("2d"),S=O?devicePixelRatio():p;e.width=r*S,e.height=o*S;for(const v in f)_[v]=f[v];return O&&S!==1&&(e.style.width=r+"px",e.style.height=o+"px"),_.pixelRatio=S,_.setTransform(S,0,0,S,S*l[0],S*l[1]),e}class CanvasRenderer extends Renderer{constructor(r){super(r),this._options={},this._redraw=!1,this._dirty=new Bounds,this._tempb=new Bounds}initialize(r,o,l,p,f,O){return this._options=O||{},this._canvas=this._options.externalContext?null:domCanvas(1,1,this._options.type),r&&this._canvas&&(domClear(r,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(r,o,l,p,f)}resize(r,o,l,p){if(super.resize(r,o,l,p),this._canvas)resize(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const f=this._options.externalContext;f||error("CanvasRenderer is missing a valid canvas or context"),f.scale(this._scale,this._scale),f.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(r){const o=this._tempb.clear().union(r.bounds);let l=r.mark.group;for(;l;)o.translate(l.x||0,l.y||0),l=l.mark.group;this._dirty.union(o)}_render(r,o){const l=this.context(),p=this._origin,f=this._width,O=this._height,_=this._dirty,S=viewBounds(p,f,O);l.save();const v=this._redraw||_.empty()?(this._redraw=!1,S.expand(1)):clipToBounds(l,S.intersect(_),p);return this.clear(-p[0],-p[1],f,O),this.draw(l,r,v,o),l.restore(),_.clear(),this}draw(r,o,l,p){if(o.marktype!=="group"&&p!=null&&!p.includes(o.marktype))return;const f=Marks[o.marktype];o.clip&&clip(r,o),f.draw.call(this,r,o,l,p),o.clip&&r.restore()}clear(r,o,l,p){const f=this._options,O=this.context();f.type!=="pdf"&&!f.externalContext&&O.clearRect(r,o,l,p),this._bgcolor!=null&&(O.fillStyle=this._bgcolor,O.fillRect(r,o,l,p))}}const viewBounds=(e,r,o)=>new Bounds().set(0,0,r,o).translate(-e[0],-e[1]);function clipToBounds(e,r,o){return r.expand(1).round(),e.pixelRatio%1&&r.scale(e.pixelRatio).round().scale(1/e.pixelRatio),r.translate(-(o[0]%1),-(o[1]%1)),e.beginPath(),e.rect(r.x1,r.y1,r.width(),r.height()),e.clip(),r}class SVGHandler extends Handler{constructor(r,o){super(r,o);const l=this;l._hrefHandler=listener(l,(p,f)=>{f&&f.href&&l.handleHref(p,f,f.href)}),l._tooltipHandler=listener(l,(p,f)=>{l.handleTooltip(p,f,p.type!==TooltipHideEvent)})}initialize(r,o,l){let p=this._svg;return p&&(p.removeEventListener(HrefEvent,this._hrefHandler),p.removeEventListener(TooltipShowEvent,this._tooltipHandler),p.removeEventListener(TooltipHideEvent,this._tooltipHandler)),this._svg=p=r&&domFind(r,"svg"),p&&(p.addEventListener(HrefEvent,this._hrefHandler),p.addEventListener(TooltipShowEvent,this._tooltipHandler),p.addEventListener(TooltipHideEvent,this._tooltipHandler)),super.initialize(r,o,l)}canvas(){return this._svg}on(r,o){const l=this.eventName(r),p=this._handlers;if(this._handlerIndex(p[l],r,o)<0){const O={type:r,handler:o,listener:listener(this,o)};(p[l]||(p[l]=[])).push(O),this._svg&&this._svg.addEventListener(l,O.listener)}return this}off(r,o){const l=this.eventName(r),p=this._handlers[l],f=this._handlerIndex(p,r,o);return f>=0&&(this._svg&&this._svg.removeEventListener(l,p[f].listener),p.splice(f,1)),this}}const listener=(e,r)=>o=>{let l=o.target.__data__;l=Array.isArray(l)?l[0]:l,o.vegaType=o.type,r.call(e._obj,o,l)},ARIA_HIDDEN="aria-hidden",ARIA_LABEL="aria-label",ARIA_ROLE="role",ARIA_ROLEDESCRIPTION="aria-roledescription",GRAPHICS_OBJECT="graphics-object",GRAPHICS_SYMBOL="graphics-symbol",bundle=(e,r,o)=>({[ARIA_ROLE]:e,[ARIA_ROLEDESCRIPTION]:r,[ARIA_LABEL]:o||void 0}),AriaIgnore=toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),AriaGuides={axis:{desc:"axis",caption:axisCaption},legend:{desc:"legend",caption:legendCaption},"title-text":{desc:"title",caption:e=>`Title text '${titleCaption(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${titleCaption(e)}'`}},AriaEncode={ariaRole:ARIA_ROLE,ariaRoleDescription:ARIA_ROLEDESCRIPTION,description:ARIA_LABEL};function ariaItemAttributes(e,r){const o=r.aria===!1;if(e(ARIA_HIDDEN,o||void 0),o||r.description==null)for(const l in AriaEncode)e(AriaEncode[l],void 0);else{const l=r.mark.marktype;e(ARIA_LABEL,r.description),e(ARIA_ROLE,r.ariaRole||(l==="group"?GRAPHICS_OBJECT:GRAPHICS_SYMBOL)),e(ARIA_ROLEDESCRIPTION,r.ariaRoleDescription||`${l} mark`)}}function ariaMarkAttributes(e){return e.aria===!1?{[ARIA_HIDDEN]:!0}:AriaIgnore[e.role]?null:AriaGuides[e.role]?ariaGuide(e,AriaGuides[e.role]):ariaMark(e)}function ariaMark(e){const r=e.marktype,o=r==="group"||r==="text"||e.items.some(l=>l.description!=null&&l.aria!==!1);return bundle(o?GRAPHICS_OBJECT:GRAPHICS_SYMBOL,`${r} mark container`,e.description)}function ariaGuide(e,r){try{const o=e.items[0],l=r.caption||(()=>"");return bundle(r.role||GRAPHICS_SYMBOL,r.desc,o.description||l(o))}catch{return null}}function titleCaption(e){return array$2(e.text).join(" ")}function axisCaption(e){const r=e.datum,o=e.orient,l=r.title?extractTitle(e):null,p=e.context,f=p.scales[r.scale].value,O=p.dataflow.locale(),_=f.type;return`${o==="left"||o==="right"?"Y":"X"}-axis`+(l?` titled '${l}'`:"")+` for a ${isDiscrete(_)?"discrete":_} scale with ${domainCaption(O,f,e)}`}function legendCaption(e){const r=e.datum,o=r.title?extractTitle(e):null,l=`${r.type||""} legend`.trim(),p=r.scales,f=Object.keys(p),O=e.context,_=O.scales[p[f[0]]].value,S=O.dataflow.locale();return capitalize(l)+(o?` titled '${o}'`:"")+` for ${channelCaption(f)} with ${domainCaption(S,_,e)}`}function extractTitle(e){try{return array$2(peek(e.items).items[0].text).join(" ")}catch{return null}}function channelCaption(e){return e=e.map(r=>r+(r==="fill"||r==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+peek(e)}function capitalize(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const innerText=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),attrText=e=>innerText(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function markup(){let e="",r="",o="";const l=[],p=()=>r=o="",f=S=>{r&&(e+=`${r}>${o}`,p()),l.push(S)},O=(S,v)=>(v!=null&&(r+=` ${S}="${attrText(v)}"`),_),_={open(S){f(S),r="<"+S;for(var v=arguments.length,s=new Array(v>1?v-1:0),d=1;d<v;d++)s[d-1]=arguments[d];for(const g of s)for(const P in g)O(P,g[P]);return _},close(){const S=l.pop();return r?e+=r+(o?`>${o}</${S}>`:"/>"):e+=`</${S}>`,p(),_},attr:O,text:S=>(o+=innerText(S),_),toString:()=>e};return _}const serializeXML=e=>_serialize(markup(),e)+"";function _serialize(e,r){if(e.open(r.tagName),r.hasAttributes()){const o=r.attributes,l=o.length;for(let p=0;p<l;++p)e.attr(o[p].name,o[p].value)}if(r.hasChildNodes()){const o=r.childNodes;for(const l of o)l.nodeType===3?e.text(l.nodeValue):_serialize(e,l)}return e.close()}const stylesAttr={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},stylesCss={blend:"mix-blend-mode"},rootAttributes={fill:"none","stroke-miterlimit":10},RootIndex=0,xmlns="http://www.w3.org/2000/xmlns/",svgns=metadata.xmlns;class SVGRenderer extends Renderer{constructor(r){super(r),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(r,o,l,p,f){return this._defs={},this._clearDefs(),r&&(this._svg=domChild(r,0,"svg",svgns),this._svg.setAttributeNS(xmlns,"xmlns",svgns),this._svg.setAttributeNS(xmlns,"xmlns:xlink",metadata["xmlns:xlink"]),this._svg.setAttribute("version",metadata.version),this._svg.setAttribute("class","marks"),domClear(r,1),this._root=domChild(this._svg,RootIndex,"g",svgns),setAttributes(this._root,rootAttributes),domClear(this._svg,RootIndex+1)),this.background(this._bgcolor),super.initialize(r,o,l,p,f)}background(r){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",r),super.background(...arguments)}resize(r,o,l,p){return super.resize(r,o,l,p),this._svg&&(setAttributes(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const r=this._svg,o=this._bgcolor;if(!r)return null;let l;o&&(r.removeAttribute("style"),l=domChild(r,RootIndex,"rect",svgns),setAttributes(l,{width:this._width,height:this._height,fill:o}));const p=serializeXML(r);return o&&(r.removeChild(l),this._svg.style.setProperty("background-color",o)),p}_render(r,o){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r,void 0,o),domClear(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))}isDirty(r){return this._dirtyAll||!r._svg||!r._svg.ownerSVGElement||r.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||!this._dirtyID)return!0;const o=++this._dirtyID;let l,p,f,O,_,S,v;for(_=0,S=r.length;_<S;++_)if(l=r[_],p=l.mark,p.marktype!==f&&(f=p.marktype,O=Marks[f]),p.zdirty&&p.dirty!==o&&(this._dirtyAll=!1,dirtyParents(l,o),p.items.forEach(s=>{s.dirty=o})),!p.zdirty){if(l.exit){O.nested&&p.items.length?(v=p.items[0],v._svg&&this._update(O,v._svg,v)):l._svg&&(v=l._svg.parentNode,v&&v.removeChild(l._svg)),l._svg=null;continue}l=O.nested?p.items[0]:l,l._update!==o&&(!l._svg||!l._svg.ownerSVGElement?(this._dirtyAll=!1,dirtyParents(l,o)):this._update(O,l._svg,l),l._update=o)}return!this._dirtyAll}mark(r,o,l,p){if(!this.isDirty(o))return o._svg;const f=this._svg,O=o.marktype,_=Marks[O],S=o.interactive===!1?"none":null,v=_.tag==="g",s=bind$1(o,r,l,"g",f);if(O!=="group"&&p!=null&&!p.includes(O))return domClear(s,0),o._svg;s.setAttribute("class",cssClass(o));const d=ariaMarkAttributes(o);for(const I in d)setAttribute(s,I,d[I]);v||setAttribute(s,"pointer-events",S),setAttribute(s,"clip-path",o.clip?clip$1(this,o,o.group):null);let g=null,P=0;const R=I=>{const j=this.isDirty(I),L=bind$1(I,s,g,_.tag,f);j&&(this._update(_,L,I),v&&recurse(this,L,I,p)),g=L,++P};return _.nested?o.items.length&&R(o.items[0]):visit(o,R),domClear(s,P),s}_update(r,o,l){element$1=o,values=o.__values__,ariaItemAttributes(emit,l),r.attr(emit,l,this);const p=mark_extras[r.type];p&&p.call(this,r,o,l),element$1&&this.style(element$1,l)}style(r,o){if(o!=null){for(const l in stylesAttr){let p=l==="font"?fontFamily(o):o[l];if(p===values[l])continue;const f=stylesAttr[l];p==null?r.removeAttribute(f):(isGradient(p)&&(p=gradientRef(p,this._defs.gradient,href())),r.setAttribute(f,p+"")),values[l]=p}for(const l in stylesCss)setStyle(r,stylesCss[l],o[l])}}defs(){const r=this._svg,o=this._defs;let l=o.el,p=0;for(const f in o.gradient)l||(o.el=l=domChild(r,RootIndex+1,"defs",svgns)),p=updateGradient(l,o.gradient[f],p);for(const f in o.clipping)l||(o.el=l=domChild(r,RootIndex+1,"defs",svgns)),p=updateClipping(l,o.clipping[f],p);l&&(p===0?(r.removeChild(l),o.el=null):domClear(l,p))}_clearDefs(){const r=this._defs;r.gradient={},r.clipping={}}}function dirtyParents(e,r){for(;e&&e.dirty!==r;e=e.mark.group)if(e.dirty=r,e.mark&&e.mark.dirty!==r)e.mark.dirty=r;else return}function updateGradient(e,r,o){let l,p,f;if(r.gradient==="radial"){let O=domChild(e,o++,"pattern",svgns);setAttributes(O,{id:patternPrefix+r.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),O=domChild(O,0,"rect",svgns),setAttributes(O,{width:1,height:1,fill:`url(${href()}#${r.id})`}),e=domChild(e,o++,"radialGradient",svgns),setAttributes(e,{id:r.id,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})}else e=domChild(e,o++,"linearGradient",svgns),setAttributes(e,{id:r.id,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(l=0,p=r.stops.length;l<p;++l)f=domChild(e,l,"stop",svgns),f.setAttribute("offset",r.stops[l].offset),f.setAttribute("stop-color",r.stops[l].color);return domClear(e,l),o}function updateClipping(e,r,o){let l;return e=domChild(e,o,"clipPath",svgns),e.setAttribute("id",r.id),r.path?(l=domChild(e,0,"path",svgns),l.setAttribute("d",r.path)):(l=domChild(e,0,"rect",svgns),setAttributes(l,{x:0,y:0,width:r.width,height:r.height})),domClear(e,1),o+1}function recurse(e,r,o,l){r=r.lastChild.previousSibling;let p,f=0;visit(o,O=>{p=e.mark(r,O,p,l),++f}),domClear(r,1+f)}function bind$1(e,r,o,l,p){let f=e._svg,O;if(!f&&(O=r.ownerDocument,f=domCreate(O,l,svgns),e._svg=f,e.mark&&(f.__data__=e,f.__values__={fill:"default"},l==="g"))){const _=domCreate(O,"path",svgns);f.appendChild(_),_.__data__=e;const S=domCreate(O,"g",svgns);f.appendChild(S),S.__data__=e;const v=domCreate(O,"path",svgns);f.appendChild(v),v.__data__=e,v.__values__={fill:"default"}}return(f.ownerSVGElement!==p||siblingCheck(f,o))&&r.insertBefore(f,o?o.nextSibling:r.firstChild),f}function siblingCheck(e,r){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=r}let element$1=null,values=null;const mark_extras={group(e,r,o){const l=element$1=r.childNodes[2];values=l.__values__,e.foreground(emit,o,this),values=r.__values__,element$1=r.childNodes[1],e.content(emit,o,this);const p=element$1=r.childNodes[0];e.background(emit,o,this);const f=o.mark.interactive===!1?"none":null;if(f!==values.events&&(setAttribute(l,"pointer-events",f),setAttribute(p,"pointer-events",f),values.events=f),o.strokeForeground&&o.stroke){const O=o.fill;setAttribute(l,"display",null),this.style(p,o),setAttribute(p,"stroke",null),O&&(o.fill=null),values=l.__values__,this.style(l,o),O&&(o.fill=O),element$1=null}else setAttribute(l,"display","none")},image(e,r,o){o.smooth===!1?(setStyle(r,"image-rendering","optimizeSpeed"),setStyle(r,"image-rendering","pixelated")):setStyle(r,"image-rendering",null)},text(e,r,o){const l=textLines(o);let p,f,O,_;isArray(l)?(f=l.map(S=>textValue(o,S)),p=f.join(`
`),p!==values.text&&(domClear(r,0),O=r.ownerDocument,_=lineHeight(o),f.forEach((S,v)=>{const s=domCreate(O,"tspan",svgns);s.__data__=o,s.textContent=S,v&&(s.setAttribute("x",0),s.setAttribute("dy",_)),r.appendChild(s)}),values.text=p)):(f=textValue(o,l),f!==values.text&&(r.textContent=f,values.text=f)),setAttribute(r,"font-family",fontFamily(o)),setAttribute(r,"font-size",fontSize(o)+"px"),setAttribute(r,"font-style",o.fontStyle),setAttribute(r,"font-variant",o.fontVariant),setAttribute(r,"font-weight",o.fontWeight)}};function emit(e,r,o){r!==values[e]&&(o?setAttributeNS(element$1,e,r,o):setAttribute(element$1,e,r),values[e]=r)}function setStyle(e,r,o){o!==values[r]&&(o==null?e.style.removeProperty(r):e.style.setProperty(r,o+""),values[r]=o)}function setAttributes(e,r){for(const o in r)setAttribute(e,o,r[o])}function setAttribute(e,r,o){o!=null?e.setAttribute(r,o):e.removeAttribute(r)}function setAttributeNS(e,r,o,l){o!=null?e.setAttributeNS(l,r,o):e.removeAttributeNS(l,r)}function href(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class SVGStringRenderer extends Renderer{constructor(r){super(r),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(r){const o=markup();o.open("svg",extend({},metadata,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const l=this._bgcolor;return l&&l!=="transparent"&&l!=="none"&&o.open("rect",{width:this._width,height:this._height,fill:l}).close(),o.open("g",rootAttributes,{transform:"translate("+this._origin+")"}),this.mark(o,r),o.close(),this.defs(o),this._text=o.close()+"",this}mark(r,o){const l=Marks[o.marktype],p=l.tag,f=[ariaItemAttributes,l.attr];r.open("g",{class:cssClass(o),"clip-path":o.clip?clip$1(this,o,o.group):null},ariaMarkAttributes(o),{"pointer-events":p!=="g"&&o.interactive===!1?"none":null});const O=_=>{const S=this.href(_);if(S&&r.open("a",S),r.open(p,this.attr(o,_,f,p!=="g"?p:null)),p==="text"){const v=textLines(_);if(isArray(v)){const s={x:0,dy:lineHeight(_)};for(let d=0;d<v.length;++d)r.open("tspan",d?s:null).text(textValue(_,v[d])).close()}else r.text(textValue(_,v))}else if(p==="g"){const v=_.strokeForeground,s=_.fill,d=_.stroke;v&&d&&(_.stroke=null),r.open("path",this.attr(o,_,l.background,"bgrect")).close(),r.open("g",this.attr(o,_,l.content)),visit(_,g=>this.mark(r,g)),r.close(),v&&d?(s&&(_.fill=null),_.stroke=d,r.open("path",this.attr(o,_,l.foreground,"bgrect")).close(),s&&(_.fill=s)):r.open("path",this.attr(o,_,l.foreground,"bgfore")).close()}r.close(),S&&r.close()};return l.nested?o.items&&o.items.length&&O(o.items[0]):visit(o,O),r.close()}href(r){const o=r.href;let l;if(o){if(l=this._hrefs&&this._hrefs[o])return l;this.sanitizeURL(o).then(p=>{p["xlink:href"]=p.href,p.href=null,(this._hrefs||(this._hrefs={}))[o]=p})}return null}attr(r,o,l,p){const f={},O=(_,S,v,s)=>{f[s||_]=S};return Array.isArray(l)?l.forEach(_=>_(O,o,this)):l(O,o,this),p&&style(f,o,r,p,this._defs),f}defs(r){const o=this._defs.gradient,l=this._defs.clipping;if(Object.keys(o).length+Object.keys(l).length!==0){r.open("defs");for(const f in o){const O=o[f],_=O.stops;O.gradient==="radial"?(r.open("pattern",{id:patternPrefix+f,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+f+")"}).close(),r.close(),r.open("radialGradient",{id:f,fx:O.x1,fy:O.y1,fr:O.r1,cx:O.x2,cy:O.y2,r:O.r2})):r.open("linearGradient",{id:f,x1:O.x1,x2:O.x2,y1:O.y1,y2:O.y2});for(let S=0;S<_.length;++S)r.open("stop",{offset:_[S].offset,"stop-color":_[S].color}).close();r.close()}for(const f in l){const O=l[f];r.open("clipPath",{id:f}),O.path?r.open("path",{d:O.path}).close():r.open("rect",{x:0,y:0,width:O.width,height:O.height}).close(),r.close()}r.close()}}}function style(e,r,o,l,p){let f;if(r==null||(l==="bgrect"&&o.interactive===!1&&(e["pointer-events"]="none"),l==="bgfore"&&(o.interactive===!1&&(e["pointer-events"]="none"),e.display="none",r.fill!==null)))return e;l==="image"&&r.smooth===!1&&(f=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),l==="text"&&(e["font-family"]=fontFamily(r),e["font-size"]=fontSize(r)+"px",e["font-style"]=r.fontStyle,e["font-variant"]=r.fontVariant,e["font-weight"]=r.fontWeight);for(const O in stylesAttr){let _=r[O];const S=stylesAttr[O];_==="transparent"&&(S==="fill"||S==="stroke")||_!=null&&(isGradient(_)&&(_=gradientRef(_,p.gradient,"")),e[S]=_)}for(const O in stylesCss){const _=r[O];_!=null&&(f=f||[],f.push(`${stylesCss[O]}: ${_};`))}return f&&(e.style=f.join(" ")),e}const OPTS={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class HybridRenderer extends Renderer{constructor(r){super(r),this._svgRenderer=new SVGRenderer(r),this._canvasRenderer=new CanvasRenderer(r)}initialize(r,o,l,p,f){this._root_el=domChild(r,0,"div");const O=domChild(this._root_el,0,"div"),_=domChild(this._root_el,1,"div");return this._root_el.style.position="relative",O.style.height="100%",_.style.position="absolute",_.style.top="0",_.style.left="0",_.style.height="100%",_.style.width="100%",this._svgEl=_,this._canvasEl=O,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,o,l,p,f),this._svgRenderer.initialize(this._svgEl,o,l,p,f),super.initialize(r,o,l,p,f)}dirty(r){return OPTS.svgMarkTypes.includes(r.mark.marktype)?this._svgRenderer.dirty(r):this._canvasRenderer.dirty(r),this}_render(r,o){const p=(o??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(f=>!OPTS.svgMarkTypes.includes(f));this._svgRenderer.render(r,OPTS.svgMarkTypes),this._canvasRenderer.render(r,p)}resize(r,o,l,p){return super.resize(r,o,l,p),this._svgRenderer.resize(r,o,l,p),this._canvasRenderer.resize(r,o,l,p),this}background(r){return this._canvasRenderer.background(r),this}}class HybridHandler extends CanvasHandler{constructor(r,o){super(r,o)}initialize(r,o,l){const p=domChild(domChild(r,0,"div"),0,"div");return super.initialize(p,o,l)}}const Canvas="canvas",Hybrid="hybrid",PNG="png",SVG="svg",None$1="none",RenderType={Canvas,PNG,SVG,Hybrid,None:None$1},modules={};modules[Canvas]=modules[PNG]={renderer:CanvasRenderer,headless:CanvasRenderer,handler:CanvasHandler};modules[SVG]={renderer:SVGRenderer,headless:SVGStringRenderer,handler:SVGHandler};modules[Hybrid]={renderer:HybridRenderer,headless:HybridRenderer,handler:HybridHandler};modules[None$1]={};function renderModule(e,r){return e=String(e||"").toLowerCase(),arguments.length>1?(modules[e]=r,this):modules[e]}function intersect$2(e,r,o){const l=[],p=new Bounds().union(r),f=e.marktype;return f?intersectMark(e,p,o,l):f==="group"?intersectGroup(e,p,o,l):error("Intersect scene must be mark node or group item.")}function intersectMark(e,r,o,l){if(visitMark(e,r,o)){const p=e.items,f=e.marktype,O=p.length;let _=0;if(f==="group")for(;_<O;++_)intersectGroup(p[_],r,o,l);else for(const S=Marks[f].isect;_<O;++_){const v=p[_];intersectItem(v,r,S)&&l.push(v)}}return l}function visitMark(e,r,o){return e.bounds&&r.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!o||o(e)))}function intersectGroup(e,r,o,l){o&&o(e.mark)&&intersectItem(e,r,Marks.group.isect)&&l.push(e);const p=e.items,f=p&&p.length;if(f){const O=e.x||0,_=e.y||0;r.translate(-O,-_);for(let S=0;S<f;++S)intersectMark(p[S],r,o,l);r.translate(O,_)}return l}function intersectItem(e,r,o){const l=e.bounds;return r.encloses(l)||r.intersects(l)&&o(e,r)}const clipBounds=new Bounds;function boundClip(e){const r=e.clip;if(isFunction(r))r(boundContext(clipBounds.clear()));else if(r)clipBounds.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(clipBounds)}const Top="top",Left$1="left",Right$1="right",Bottom="bottom",TopLeft="top-left",TopRight="top-right",BottomLeft="bottom-left",BottomRight="bottom-right",Start$1="start",Middle="middle",End$1="end",X="x",Y="y",Group="group",AxisRole="axis",TitleRole="title",FrameRole="frame",ScopeRole="scope",LegendRole="legend",RowHeader="row-header",RowFooter="row-footer",RowTitle="row-title",ColHeader="column-header",ColFooter="column-footer",ColTitle="column-title",Padding$1="padding",Symbols="symbol",Fit="fit",FitX="fit-x",FitY="fit-y",Pad="pad",None="none",All="all",Each="each",Flush="flush",Column="column",Row="row";function Bound(e){Transform.call(this,null,e)}inherits(Bound,Transform,{transform(e,r){const o=r.dataflow,l=e.mark,p=l.marktype,f=Marks[p],O=f.bound;let _=l.bounds,S;if(f.nested)l.items.length&&o.dirty(l.items[0]),_=boundItem(l,O),l.items.forEach(v=>{v.bounds.clear().union(_)});else if(p===Group||e.modified())switch(r.visit(r.MOD,v=>o.dirty(v)),_.clear(),l.items.forEach(v=>_.union(boundItem(v,O))),l.role){case AxisRole:case LegendRole:case TitleRole:r.reflow()}else S=r.changed(r.REM),r.visit(r.ADD,v=>{_.union(boundItem(v,O))}),r.visit(r.MOD,v=>{S=S||_.alignsWith(v.bounds),o.dirty(v),_.union(boundItem(v,O))}),S&&(_.clear(),l.items.forEach(v=>_.union(v.bounds)));return boundClip(l),r.modifies("bounds")}});function boundItem(e,r,o){return r(e.bounds.clear(),e,o)}const COUNTER_NAME=":vega_identifier:";function Identifier(e){Transform.call(this,0,e)}Identifier.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};inherits(Identifier,Transform,{transform(e,r){const o=getCounter(r.dataflow),l=e.as;let p=o.value;return r.visit(r.ADD,f=>f[l]=f[l]||++p),o.set(this.value=p),r}});function getCounter(e){return e._signals[COUNTER_NAME]||(e._signals[COUNTER_NAME]=e.add(0))}function Mark(e){Transform.call(this,null,e)}inherits(Mark,Transform,{transform(e,r){let o=this.value;o||(o=r.dataflow.scenegraph().mark(e.markdef,lookup$1$1(e),e.index),o.group.context=e.context,e.context.group||(e.context.group=o.group),o.source=this.source,o.clip=e.clip,o.interactive=e.interactive,this.value=o);const l=o.marktype===Group?GroupItem:Item;return r.visit(r.ADD,p=>l.call(p,o)),(e.modified("clip")||e.modified("interactive"))&&(o.clip=e.clip,o.interactive=!!e.interactive,o.zdirty=!0,r.reflow()),o.items=r.source,r}});function lookup$1$1(e){const r=e.groups,o=e.parent;return r&&r.size===1?r.get(Object.keys(r.object)[0]):r&&o?r.lookup(o):null}function Overlap(e){Transform.call(this,null,e)}const methods={parity:e=>e.filter((r,o)=>o%2?r.opacity=0:1),greedy:(e,r)=>{let o;return e.filter((l,p)=>!p||!intersect$1(o.bounds,l.bounds,r)?(o=l,1):l.opacity=0)}},intersect$1=(e,r,o)=>o>Math.max(r.x1-e.x2,e.x1-r.x2,r.y1-e.y2,e.y1-r.y2),hasOverlap=(e,r)=>{for(var o=1,l=e.length,p=e[0].bounds,f;o<l;p=f,++o)if(intersect$1(p,f=e[o].bounds,r))return!0},hasBounds=e=>{const r=e.bounds;return r.width()>1&&r.height()>1},boundTest=(e,r,o)=>{var l=e.range(),p=new Bounds;return r===Top||r===Bottom?p.set(l[0],-1/0,l[1],1/0):p.set(-1/0,l[0],1/0,l[1]),p.expand(o||1),f=>p.encloses(f.bounds)},reset=e=>(e.forEach(r=>r.opacity=1),e),reflow=(e,r)=>e.reflow(r.modified()).modifies("opacity");inherits(Overlap,Transform,{transform(e,r){const o=methods[e.method]||methods.parity,l=e.separation||0;let p=r.materialize(r.SOURCE).source,f,O;if(!p||!p.length)return;if(!e.method)return e.modified("method")&&(reset(p),r=reflow(r,e)),r;if(p=p.filter(hasBounds),!p.length)return;if(e.sort&&(p=p.slice().sort(e.sort)),f=reset(p),r=reflow(r,e),f.length>=3&&hasOverlap(f,l)){do f=o(f,l);while(f.length>=3&&hasOverlap(f,l));f.length<3&&!peek(p).opacity&&(f.length>1&&(peek(f).opacity=0),peek(p).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(O=boundTest(e.boundScale,e.boundOrient,+e.boundTolerance),p.forEach(S=>{O(S)||(S.opacity=0)}));const _=f[0].mark.bounds.clear();return p.forEach(S=>{S.opacity&&_.union(S.bounds)}),r}});function Render(e){Transform.call(this,null,e)}inherits(Render,Transform,{transform(e,r){const o=r.dataflow;if(r.visit(r.ALL,l=>o.dirty(l)),r.fields&&r.fields.zindex){const l=r.source&&r.source[0];l&&(l.mark.zdirty=!0)}}});const tempBounds=new Bounds;function set$1(e,r,o){return e[r]===o?0:(e[r]=o,1)}function isYAxis(e){var r=e.items[0].orient;return r===Left$1||r===Right$1}function axisIndices(e){let r=+e.grid;return[e.ticks?r++:-1,e.labels?r++:-1,r+ +e.domain]}function axisLayout(e,r,o,l){var p=r.items[0],f=p.datum,O=p.translate!=null?p.translate:.5,_=p.orient,S=axisIndices(f),v=p.range,s=p.offset,d=p.position,g=p.minExtent,P=p.maxExtent,R=f.title&&p.items[S[2]].items[0],I=p.titlePadding,j=p.bounds,L=R&&multiLineOffset(R),G=0,J=0,Q,W;switch(tempBounds.clear().union(j),j.clear(),(Q=S[0])>-1&&j.union(p.items[Q].bounds),(Q=S[1])>-1&&j.union(p.items[Q].bounds),_){case Top:G=d||0,J=-s,W=Math.max(g,Math.min(P,-j.y1)),j.add(0,-W).add(v,0),R&&axisTitleLayout(e,R,W,I,L,0,-1,j);break;case Left$1:G=-s,J=d||0,W=Math.max(g,Math.min(P,-j.x1)),j.add(-W,0).add(0,v),R&&axisTitleLayout(e,R,W,I,L,1,-1,j);break;case Right$1:G=o+s,J=d||0,W=Math.max(g,Math.min(P,j.x2)),j.add(0,0).add(W,v),R&&axisTitleLayout(e,R,W,I,L,1,1,j);break;case Bottom:G=d||0,J=l+s,W=Math.max(g,Math.min(P,j.y2)),j.add(0,0).add(v,W),R&&axisTitleLayout(e,R,W,I,0,0,1,j);break;default:G=p.x,J=p.y}return boundStroke(j.translate(G,J),p),set$1(p,"x",G+O)|set$1(p,"y",J+O)&&(p.bounds=tempBounds,e.dirty(p),p.bounds=j,e.dirty(p)),p.mark.bounds.clear().union(j)}function axisTitleLayout(e,r,o,l,p,f,O,_){const S=r.bounds;if(r.auto){const v=O*(o+p+l);let s=0,d=0;e.dirty(r),f?s=(r.x||0)-(r.x=v):d=(r.y||0)-(r.y=v),r.mark.bounds.clear().union(S.translate(-s,-d)),e.dirty(r)}_.union(S)}const min=(e,r)=>Math.floor(Math.min(e,r)),max=(e,r)=>Math.ceil(Math.max(e,r));function gridLayoutGroups(e){var r=e.items,o=r.length,l=0,p,f;const O={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;l<o;++l)if(p=r[l],f=p.items,p.marktype===Group)switch(p.role){case AxisRole:case LegendRole:case TitleRole:break;case RowHeader:O.rowheaders.push(...f);break;case RowFooter:O.rowfooters.push(...f);break;case ColHeader:O.colheaders.push(...f);break;case ColFooter:O.colfooters.push(...f);break;case RowTitle:O.rowtitle=f[0];break;case ColTitle:O.coltitle=f[0];break;default:O.marks.push(...f)}return O}function bboxFlush(e){return new Bounds().set(0,0,e.width||0,e.height||0)}function bboxFull(e){const r=e.bounds.clone();return r.empty()?r.set(0,0,0,0):r.translate(-(e.x||0),-(e.y||0))}function get(e,r,o){const l=isObject(e)?e[r]:e;return l??(o!==void 0?o:0)}function offsetValue(e){return e<0?Math.ceil(-e):0}function gridLayout(e,r,o){var l=!o.nodirty,p=o.bounds===Flush?bboxFlush:bboxFull,f=tempBounds.set(0,0,0,0),O=get(o.align,Column),_=get(o.align,Row),S=get(o.padding,Column),v=get(o.padding,Row),s=o.columns||r.length,d=s<=0?1:Math.ceil(r.length/s),g=r.length,P=Array(g),R=Array(s),I=0,j=Array(g),L=Array(d),G=0,J=Array(g),Q=Array(g),W=Array(g),Z,te,ee,ie,oe,se,le,de,pe,fe,he;for(te=0;te<s;++te)R[te]=0;for(te=0;te<d;++te)L[te]=0;for(te=0;te<g;++te)se=r[te],oe=W[te]=p(se),se.x=se.x||0,J[te]=0,se.y=se.y||0,Q[te]=0,ee=te%s,ie=~~(te/s),I=Math.max(I,le=Math.ceil(oe.x2)),G=Math.max(G,de=Math.ceil(oe.y2)),R[ee]=Math.max(R[ee],le),L[ie]=Math.max(L[ie],de),P[te]=S+offsetValue(oe.x1),j[te]=v+offsetValue(oe.y1),l&&e.dirty(r[te]);for(te=0;te<g;++te)te%s===0&&(P[te]=0),te<s&&(j[te]=0);if(O===Each)for(ee=1;ee<s;++ee){for(he=0,te=ee;te<g;te+=s)he<P[te]&&(he=P[te]);for(te=ee;te<g;te+=s)P[te]=he+R[ee-1]}else if(O===All){for(he=0,te=0;te<g;++te)te%s&&he<P[te]&&(he=P[te]);for(te=0;te<g;++te)te%s&&(P[te]=he+I)}else for(O=!1,ee=1;ee<s;++ee)for(te=ee;te<g;te+=s)P[te]+=R[ee-1];if(_===Each)for(ie=1;ie<d;++ie){for(he=0,te=ie*s,Z=te+s;te<Z;++te)he<j[te]&&(he=j[te]);for(te=ie*s;te<Z;++te)j[te]=he+L[ie-1]}else if(_===All){for(he=0,te=s;te<g;++te)he<j[te]&&(he=j[te]);for(te=s;te<g;++te)j[te]=he+G}else for(_=!1,ie=1;ie<d;++ie)for(te=ie*s,Z=te+s;te<Z;++te)j[te]+=L[ie-1];for(pe=0,te=0;te<g;++te)pe=P[te]+(te%s?pe:0),J[te]+=pe-r[te].x;for(ee=0;ee<s;++ee)for(fe=0,te=ee;te<g;te+=s)fe+=j[te],Q[te]+=fe-r[te].y;if(O&&get(o.center,Column)&&d>1)for(te=0;te<g;++te)oe=O===All?I:R[te%s],pe=oe-W[te].x2-r[te].x-J[te],pe>0&&(J[te]+=pe/2);if(_&&get(o.center,Row)&&s!==1)for(te=0;te<g;++te)oe=_===All?G:L[~~(te/s)],fe=oe-W[te].y2-r[te].y-Q[te],fe>0&&(Q[te]+=fe/2);for(te=0;te<g;++te)f.union(W[te].translate(J[te],Q[te]));switch(pe=get(o.anchor,X),fe=get(o.anchor,Y),get(o.anchor,Column)){case End$1:pe-=f.width();break;case Middle:pe-=f.width()/2}switch(get(o.anchor,Row)){case End$1:fe-=f.height();break;case Middle:fe-=f.height()/2}for(pe=Math.round(pe),fe=Math.round(fe),f.clear(),te=0;te<g;++te)r[te].mark.bounds.clear();for(te=0;te<g;++te)se=r[te],se.x+=J[te]+=pe,se.y+=Q[te]+=fe,f.union(se.mark.bounds.union(se.bounds.translate(J[te],Q[te]))),l&&e.dirty(se);return f}function trellisLayout(e,r,o){var l=gridLayoutGroups(r),p=l.marks,f=o.bounds===Flush?boundFlush:boundFull,O=o.offset,_=o.columns||p.length,S=_<=0?1:Math.ceil(p.length/_),v=S*_,s,d,g,P,R,I,j;const L=gridLayout(e,p,o);L.empty()&&L.set(0,0,0,0),l.rowheaders&&(I=get(o.headerBand,Row,null),s=layoutHeaders(e,l.rowheaders,p,_,S,-get(O,"rowHeader"),min,0,f,"x1",0,_,1,I)),l.colheaders&&(I=get(o.headerBand,Column,null),d=layoutHeaders(e,l.colheaders,p,_,_,-get(O,"columnHeader"),min,1,f,"y1",0,1,_,I)),l.rowfooters&&(I=get(o.footerBand,Row,null),g=layoutHeaders(e,l.rowfooters,p,_,S,get(O,"rowFooter"),max,0,f,"x2",_-1,_,1,I)),l.colfooters&&(I=get(o.footerBand,Column,null),P=layoutHeaders(e,l.colfooters,p,_,_,get(O,"columnFooter"),max,1,f,"y2",v-_,1,_,I)),l.rowtitle&&(R=get(o.titleAnchor,Row),j=get(O,"rowTitle"),j=R===End$1?g+j:s-j,I=get(o.titleBand,Row,.5),layoutTitle(e,l.rowtitle,j,0,L,I)),l.coltitle&&(R=get(o.titleAnchor,Column),j=get(O,"columnTitle"),j=R===End$1?P+j:d-j,I=get(o.titleBand,Column,.5),layoutTitle(e,l.coltitle,j,1,L,I))}function boundFlush(e,r){return r==="x1"?e.x||0:r==="y1"?e.y||0:r==="x2"?(e.x||0)+(e.width||0):r==="y2"?(e.y||0)+(e.height||0):void 0}function boundFull(e,r){return e.bounds[r]}function layoutHeaders(e,r,o,l,p,f,O,_,S,v,s,d,g,P){var R=o.length,I=0,j=0,L,G,J,Q,W,Z,te,ee,ie;if(!R)return I;for(L=s;L<R;L+=d)o[L]&&(I=O(I,S(o[L],v)));if(!r.length)return I;for(r.length>p&&(e.warn("Grid headers exceed limit: "+p),r=r.slice(0,p)),I+=f,G=0,Q=r.length;G<Q;++G)e.dirty(r[G]),r[G].mark.bounds.clear();for(L=s,G=0,Q=r.length;G<Q;++G,L+=d){for(Z=r[G],W=Z.mark.bounds,J=L;J>=0&&(te=o[J])==null;J-=g);_?(ee=P==null?te.x:Math.round(te.bounds.x1+P*te.bounds.width()),ie=I):(ee=I,ie=P==null?te.y:Math.round(te.bounds.y1+P*te.bounds.height())),W.union(Z.bounds.translate(ee-(Z.x||0),ie-(Z.y||0))),Z.x=ee,Z.y=ie,e.dirty(Z),j=O(j,W[v])}return j}function layoutTitle(e,r,o,l,p,f){if(r){e.dirty(r);var O=o,_=o;l?O=Math.round(p.x1+f*p.width()):_=Math.round(p.y1+f*p.height()),r.bounds.translate(O-(r.x||0),_-(r.y||0)),r.mark.bounds.clear().union(r.bounds),r.x=O,r.y=_,e.dirty(r)}}function lookup$2(e,r){const o=e[r]||{};return(l,p)=>o[l]!=null?o[l]:e[l]!=null?e[l]:p}function offsets(e,r){let o=-1/0;return e.forEach(l=>{l.offset!=null&&(o=Math.max(o,l.offset))}),o>-1/0?o:r}function legendParams(e,r,o,l,p,f,O){const _=lookup$2(o,r),S=offsets(e,_("offset",0)),v=_("anchor",Start$1),s=v===End$1?1:v===Middle?.5:0,d={align:Each,bounds:_("bounds",Flush),columns:_("direction")==="vertical"?1:e.length,padding:_("margin",8),center:_("center"),nodirty:!0};switch(r){case Left$1:d.anchor={x:Math.floor(l.x1)-S,column:End$1,y:s*(O||l.height()+2*l.y1),row:v};break;case Right$1:d.anchor={x:Math.ceil(l.x2)+S,y:s*(O||l.height()+2*l.y1),row:v};break;case Top:d.anchor={y:Math.floor(p.y1)-S,row:End$1,x:s*(f||p.width()+2*p.x1),column:v};break;case Bottom:d.anchor={y:Math.ceil(p.y2)+S,x:s*(f||p.width()+2*p.x1),column:v};break;case TopLeft:d.anchor={x:S,y:S};break;case TopRight:d.anchor={x:f-S,y:S,column:End$1};break;case BottomLeft:d.anchor={x:S,y:O-S,row:End$1};break;case BottomRight:d.anchor={x:f-S,y:O-S,column:End$1,row:End$1};break}return d}function legendLayout(e,r){var o=r.items[0],l=o.datum,p=o.orient,f=o.bounds,O=o.x,_=o.y,S,v;return o._bounds?o._bounds.clear().union(f):o._bounds=f.clone(),f.clear(),legendGroupLayout(e,o,o.items[0].items[0]),f=legendBounds(o,f),S=2*o.padding,v=2*o.padding,f.empty()||(S=Math.ceil(f.width()+S),v=Math.ceil(f.height()+v)),l.type===Symbols&&legendEntryLayout(o.items[0].items[0].items[0].items),p!==None&&(o.x=O=0,o.y=_=0),o.width=S,o.height=v,boundStroke(f.set(O,_,O+S,_+v),o),o.mark.bounds.clear().union(f),o}function legendBounds(e,r){return e.items.forEach(o=>r.union(o.bounds)),r.x1=e.padding,r.y1=e.padding,r}function legendGroupLayout(e,r,o){var l=r.padding,p=l-o.x,f=l-o.y;if(!r.datum.title)(p||f)&&translate(e,o,p,f);else{var O=r.items[1].items[0],_=O.anchor,S=r.titlePadding||0,v=l-O.x,s=l-O.y;switch(O.orient){case Left$1:p+=Math.ceil(O.bounds.width())+S;break;case Right$1:case Bottom:break;default:f+=O.bounds.height()+S}switch((p||f)&&translate(e,o,p,f),O.orient){case Left$1:s+=legendTitleOffset(r,o,O,_,1,1);break;case Right$1:v+=legendTitleOffset(r,o,O,End$1,0,0)+S,s+=legendTitleOffset(r,o,O,_,1,1);break;case Bottom:v+=legendTitleOffset(r,o,O,_,0,0),s+=legendTitleOffset(r,o,O,End$1,-1,0,1)+S;break;default:v+=legendTitleOffset(r,o,O,_,0,0)}(v||s)&&translate(e,O,v,s),(v=Math.round(O.bounds.x1-l))<0&&(translate(e,o,-v,0),translate(e,O,-v,0))}}function legendTitleOffset(e,r,o,l,p,f,O){const _=e.datum.type!=="symbol",S=o.datum.vgrad,v=_&&(f||!S)&&!O?r.items[0]:r,s=v.bounds[p?"y2":"x2"]-e.padding,d=S&&f?s:0,g=S&&f?0:s,P=p<=0?0:multiLineOffset(o);return Math.round(l===Start$1?d:l===End$1?g-P:.5*(s-P))}function translate(e,r,o,l){r.x+=o,r.y+=l,r.bounds.translate(o,l),r.mark.bounds.translate(o,l),e.dirty(r)}function legendEntryLayout(e){const r=e.reduce((o,l)=>(o[l.column]=Math.max(l.bounds.x2-l.x,o[l.column]||0),o),{});e.forEach(o=>{o.width=r[o.column],o.height=o.bounds.y2-o.y})}function titleLayout(e,r,o,l,p){var f=r.items[0],O=f.frame,_=f.orient,S=f.anchor,v=f.offset,s=f.padding,d=f.items[0].items[0],g=f.items[1]&&f.items[1].items[0],P=_===Left$1||_===Right$1?l:o,R=0,I=0,j=0,L=0,G=0,J;if(O!==Group?_===Left$1?(R=p.y2,P=p.y1):_===Right$1?(R=p.y1,P=p.y2):(R=p.x1,P=p.x2):_===Left$1&&(R=l,P=0),J=S===Start$1?R:S===End$1?P:(R+P)/2,g&&g.text){switch(_){case Top:case Bottom:G=d.bounds.height()+s;break;case Left$1:L=d.bounds.width()+s;break;case Right$1:L=-d.bounds.width()-s;break}tempBounds.clear().union(g.bounds),tempBounds.translate(L-(g.x||0),G-(g.y||0)),set$1(g,"x",L)|set$1(g,"y",G)&&(e.dirty(g),g.bounds.clear().union(tempBounds),g.mark.bounds.clear().union(tempBounds),e.dirty(g)),tempBounds.clear().union(g.bounds)}else tempBounds.clear();switch(tempBounds.union(d.bounds),_){case Top:I=J,j=p.y1-tempBounds.height()-v;break;case Left$1:I=p.x1-tempBounds.width()-v,j=J;break;case Right$1:I=p.x2+tempBounds.width()+v,j=J;break;case Bottom:I=J,j=p.y2+v;break;default:I=f.x,j=f.y}return set$1(f,"x",I)|set$1(f,"y",j)&&(tempBounds.translate(I,j),e.dirty(f),f.bounds.clear().union(tempBounds),r.bounds.clear().union(tempBounds),e.dirty(f)),f.bounds}function ViewLayout(e){Transform.call(this,null,e)}inherits(ViewLayout,Transform,{transform(e,r){const o=r.dataflow;return e.mark.items.forEach(l=>{e.layout&&trellisLayout(o,l,e.layout),layoutGroup(o,l,e)}),shouldReflow(e.mark.group)?r.reflow():r}});function shouldReflow(e){return e&&e.mark.role!=="legend-entry"}function layoutGroup(e,r,o){var l=r.items,p=Math.max(0,r.width||0),f=Math.max(0,r.height||0),O=new Bounds().set(0,0,p,f),_=O.clone(),S=O.clone(),v=[],s,d,g,P,R,I;for(R=0,I=l.length;R<I;++R)switch(d=l[R],d.role){case AxisRole:P=isYAxis(d)?_:S,P.union(axisLayout(e,d,p,f));break;case TitleRole:s=d;break;case LegendRole:v.push(legendLayout(e,d));break;case FrameRole:case ScopeRole:case RowHeader:case RowFooter:case RowTitle:case ColHeader:case ColFooter:case ColTitle:_.union(d.bounds),S.union(d.bounds);break;default:O.union(d.bounds)}if(v.length){const j={};v.forEach(L=>{g=L.orient||Right$1,g!==None&&(j[g]||(j[g]=[])).push(L)});for(const L in j){const G=j[L];gridLayout(e,G,legendParams(G,L,o.legends,_,S,p,f))}v.forEach(L=>{const G=L.bounds;if(G.equals(L._bounds)||(L.bounds=L._bounds,e.dirty(L),L.bounds=G,e.dirty(L)),o.autosize&&(o.autosize.type===Fit||o.autosize.type===FitX||o.autosize.type===FitY))switch(L.orient){case Left$1:case Right$1:O.add(G.x1,0).add(G.x2,0);break;case Top:case Bottom:O.add(0,G.y1).add(0,G.y2)}else O.union(G)})}O.union(_).union(S),s&&O.union(titleLayout(e,s,p,f,O)),r.clip&&O.set(0,0,r.width||0,r.height||0),viewSizeLayout(e,r,O,o)}function viewSizeLayout(e,r,o,l){const p=l.autosize||{},f=p.type;if(e._autosize<1||!f)return;let O=e._width,_=e._height,S=Math.max(0,r.width||0),v=Math.max(0,Math.ceil(-o.x1)),s=Math.max(0,r.height||0),d=Math.max(0,Math.ceil(-o.y1));const g=Math.max(0,Math.ceil(o.x2-S)),P=Math.max(0,Math.ceil(o.y2-s));if(p.contains===Padding$1){const R=e.padding();O-=R.left+R.right,_-=R.top+R.bottom}f===None?(v=0,d=0,S=O,s=_):f===Fit?(S=Math.max(0,O-v-g),s=Math.max(0,_-d-P)):f===FitX?(S=Math.max(0,O-v-g),_=s+d+P):f===FitY?(O=S+v+g,s=Math.max(0,_-d-P)):f===Pad&&(O=S+v+g,_=s+d+P),e._resizeView(O,_,S,s,[v,d],p.resize)}const vtx=Object.freeze(Object.defineProperty({__proto__:null,bound:Bound,identifier:Identifier,mark:Mark,overlap:Overlap,render:Render,viewlayout:ViewLayout},Symbol.toStringTag,{value:"Module"}));function AxisTicks(e){Transform.call(this,null,e)}inherits(AxisTicks,Transform,{transform(e,r){if(this.value&&!e.modified())return r.StopPropagation;var o=r.dataflow.locale(),l=r.fork(r.NO_SOURCE|r.NO_FIELDS),p=this.value,f=e.scale,O=e.count==null?e.values?e.values.length:10:e.count,_=tickCount(f,O,e.minstep),S=e.format||tickFormat(o,f,_,e.formatSpecifier,e.formatType,!!e.values),v=e.values?validTicks(f,e.values,_):tickValues(f,_);return p&&(l.rem=p),p=v.map((s,d)=>ingest$1({index:d/(v.length-1||1),value:s,label:S(s)})),e.extra&&p.length&&p.push(ingest$1({index:-1,extra:{value:p[0].value},label:""})),l.source=p,l.add=p,this.value=p,l}});function DataJoin(e){Transform.call(this,null,e)}function defaultItemCreate(){return ingest$1({})}function newMap(e){const r=fastmap().test(o=>o.exit);return r.lookup=o=>r.get(e(o)),r}inherits(DataJoin,Transform,{transform(e,r){var o=r.dataflow,l=r.fork(r.NO_SOURCE|r.NO_FIELDS),p=e.item||defaultItemCreate,f=e.key||tupleid,O=this.value;return isArray(l.encode)&&(l.encode=null),O&&(e.modified("key")||r.modified(f))&&error("DataJoin does not support modified key function or fields."),O||(r=r.addAll(),this.value=O=newMap(f)),r.visit(r.ADD,_=>{const S=f(_);let v=O.get(S);v?v.exit?(O.empty--,l.add.push(v)):l.mod.push(v):(v=p(_),O.set(S,v),l.add.push(v)),v.datum=_,v.exit=!1}),r.visit(r.MOD,_=>{const S=f(_),v=O.get(S);v&&(v.datum=_,l.mod.push(v))}),r.visit(r.REM,_=>{const S=f(_),v=O.get(S);_===v.datum&&!v.exit&&(l.rem.push(v),v.exit=!0,++O.empty)}),r.changed(r.ADD_MOD)&&l.modifies("datum"),(r.clean()||e.clean&&O.empty>o.cleanThreshold)&&o.runAfter(O.clean),l}});function Encode(e){Transform.call(this,null,e)}inherits(Encode,Transform,{transform(e,r){var o=r.fork(r.ADD_REM),l=e.mod||!1,p=e.encoders,f=r.encode;if(isArray(f))if(o.changed()||f.every(d=>p[d]))f=f[0],o.encode=null;else return r.StopPropagation;var O=f==="enter",_=p.update||falsy,S=p.enter||falsy,v=p.exit||falsy,s=(f&&!O?p[f]:_)||falsy;if(r.changed(r.ADD)&&(r.visit(r.ADD,d=>{S(d,e),_(d,e)}),o.modifies(S.output),o.modifies(_.output),s!==falsy&&s!==_&&(r.visit(r.ADD,d=>{s(d,e)}),o.modifies(s.output))),r.changed(r.REM)&&v!==falsy&&(r.visit(r.REM,d=>{v(d,e)}),o.modifies(v.output)),O||s!==falsy){const d=r.MOD|(e.modified()?r.REFLOW:0);O?(r.visit(d,g=>{const P=S(g,e)||l;(s(g,e)||P)&&o.mod.push(g)}),o.mod.length&&o.modifies(S.output)):r.visit(d,g=>{(s(g,e)||l)&&o.mod.push(g)}),o.mod.length&&o.modifies(s.output)}return o.changed()?o:r.StopPropagation}});function LegendEntries(e){Transform.call(this,[],e)}inherits(LegendEntries,Transform,{transform(e,r){if(this.value!=null&&!e.modified())return r.StopPropagation;var o=r.dataflow.locale(),l=r.fork(r.NO_SOURCE|r.NO_FIELDS),p=this.value,f=e.type||SymbolLegend,O=e.scale,_=+e.limit,S=tickCount(O,e.count==null?5:e.count,e.minstep),v=!!e.values||f===SymbolLegend,s=e.format||labelFormat(o,O,S,f,e.formatSpecifier,e.formatType,v),d=e.values||labelValues(O,S),g,P,R,I,j;return p&&(l.rem=p),f===SymbolLegend?(_&&d.length>_?(r.dataflow.warn("Symbol legend count exceeds limit, filtering items."),p=d.slice(0,_-1),j=!0):p=d,isFunction(R=e.size)?(!e.values&&O(p[0])===0&&(p=p.slice(1)),I=p.reduce((L,G)=>Math.max(L,R(G,e)),0)):R=constant$1(I=R||8),p=p.map((L,G)=>ingest$1({index:G,label:s(L,G,p),value:L,offset:I,size:R(L,e)})),j&&(j=d[p.length],p.push(ingest$1({index:p.length,label:`…${d.length-p.length} entries`,value:j,offset:I,size:R(j,e)})))):f===GradientLegend?(g=O.domain(),P=scaleFraction(O,g[0],peek(g)),d.length<3&&!e.values&&g[0]!==peek(g)&&(d=[g[0],peek(g)]),p=d.map((L,G)=>ingest$1({index:G,label:s(L,G,d),value:L,perc:P(L)}))):(R=d.length-1,P=labelFraction(O),p=d.map((L,G)=>ingest$1({index:G,label:s(L,G,d),value:L,perc:G?P(L):0,perc2:G===R?1:P(d[G+1])}))),l.source=p,l.add=p,this.value=p,l}});const sourceX=e=>e.source.x,sourceY=e=>e.source.y,targetX=e=>e.target.x,targetY=e=>e.target.y;function LinkPath(e){Transform.call(this,{},e)}LinkPath.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};inherits(LinkPath,Transform,{transform(e,r){var o=e.sourceX||sourceX,l=e.sourceY||sourceY,p=e.targetX||targetX,f=e.targetY||targetY,O=e.as||"path",_=e.orient||"vertical",S=e.shape||"line",v=Paths.get(S+"-"+_)||Paths.get(S);return v||error("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),r.visit(r.SOURCE,s=>{s[O]=v(o(s),l(s),p(s),f(s))}),r.reflow(e.modified()).modifies(O)}});const line=(e,r,o,l)=>"M"+e+","+r+"L"+o+","+l,lineR=(e,r,o,l)=>line(r*Math.cos(e),r*Math.sin(e),l*Math.cos(o),l*Math.sin(o)),arc=(e,r,o,l)=>{var p=o-e,f=l-r,O=Math.hypot(p,f)/2,_=180*Math.atan2(f,p)/Math.PI;return"M"+e+","+r+"A"+O+","+O+" "+_+" 0 1 "+o+","+l},arcR=(e,r,o,l)=>arc(r*Math.cos(e),r*Math.sin(e),l*Math.cos(o),l*Math.sin(o)),curve=(e,r,o,l)=>{const p=o-e,f=l-r,O=.2*(p+f),_=.2*(f-p);return"M"+e+","+r+"C"+(e+O)+","+(r+_)+" "+(o+_)+","+(l-O)+" "+o+","+l},curveR=(e,r,o,l)=>curve(r*Math.cos(e),r*Math.sin(e),l*Math.cos(o),l*Math.sin(o)),orthoX=(e,r,o,l)=>"M"+e+","+r+"V"+l+"H"+o,orthoY=(e,r,o,l)=>"M"+e+","+r+"H"+o+"V"+l,orthoR=(e,r,o,l)=>{const p=Math.cos(e),f=Math.sin(e),O=Math.cos(o),_=Math.sin(o),S=Math.abs(o-e)>Math.PI?o<=e:o>e;return"M"+r*p+","+r*f+"A"+r+","+r+" 0 0,"+(S?1:0)+" "+r*O+","+r*_+"L"+l*O+","+l*_},diagonalX=(e,r,o,l)=>{const p=(e+o)/2;return"M"+e+","+r+"C"+p+","+r+" "+p+","+l+" "+o+","+l},diagonalY=(e,r,o,l)=>{const p=(r+l)/2;return"M"+e+","+r+"C"+e+","+p+" "+o+","+p+" "+o+","+l},diagonalR=(e,r,o,l)=>{const p=Math.cos(e),f=Math.sin(e),O=Math.cos(o),_=Math.sin(o),S=(r+l)/2;return"M"+r*p+","+r*f+"C"+S*p+","+S*f+" "+S*O+","+S*_+" "+l*O+","+l*_},Paths=fastmap({line,"line-radial":lineR,arc,"arc-radial":arcR,curve,"curve-radial":curveR,"orthogonal-horizontal":orthoX,"orthogonal-vertical":orthoY,"orthogonal-radial":orthoR,"diagonal-horizontal":diagonalX,"diagonal-vertical":diagonalY,"diagonal-radial":diagonalR});function Pie(e){Transform.call(this,null,e)}Pie.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};inherits(Pie,Transform,{transform(e,r){var o=e.as||["startAngle","endAngle"],l=o[0],p=o[1],f=e.field||one,O=e.startAngle||0,_=e.endAngle!=null?e.endAngle:2*Math.PI,S=r.source,v=S.map(f),s=v.length,d=O,g=(_-O)/sum$1(v),P=range$4(s),R,I,j;for(e.sort&&P.sort((L,G)=>v[L]-v[G]),R=0;R<s;++R)j=v[P[R]],I=S[P[R]],I[l]=d,I[p]=d+=j*g;return this.value=v,r.reflow(e.modified()).modifies(o)}});const DEFAULT_COUNT=5;function includeZero(e){const r=e.type;return!e.bins&&(r===Linear||r===Pow||r===Sqrt)}function includePad(e){return isContinuous(e)&&e!==Sequential}const SKIP$1=toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Scale(e){Transform.call(this,null,e),this.modified(!0)}inherits(Scale,Transform,{transform(e,r){var o=r.dataflow,l=this.value,p=scaleKey(e);(!l||p!==l.type)&&(this.value=l=scale$4(p)());for(p in e)if(!SKIP$1[p]){if(p==="padding"&&includePad(l.type))continue;isFunction(l[p])?l[p](e[p]):o.warn("Unsupported scale property: "+p)}return configureRange(l,e,configureBins(l,e,configureDomain(l,e,o))),r.fork(r.NO_SOURCE|r.NO_FIELDS)}});function scaleKey(e){var r=e.type,o="",l;return r===Sequential?Sequential+"-"+Linear:(isContinuousColor(e)&&(l=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,o=l===2?Sequential+"-":l===3?Diverging+"-":""),(o+r||Linear).toLowerCase())}function isContinuousColor(e){const r=e.type;return isContinuous(r)&&r!==Time&&r!==UTC&&(e.scheme||e.range&&e.range.length&&e.range.every(isString))}function configureDomain(e,r,o){const l=rawDomain(e,r.domainRaw,o);if(l>-1)return l;var p=r.domain,f=e.type,O=r.zero||r.zero===void 0&&includeZero(e),_,S;if(!p)return 0;if((O||r.domainMin!=null||r.domainMax!=null||r.domainMid!=null)&&(_=(p=p.slice()).length-1||1,O&&(p[0]>0&&(p[0]=0),p[_]<0&&(p[_]=0)),r.domainMin!=null&&(p[0]=r.domainMin),r.domainMax!=null&&(p[_]=r.domainMax),r.domainMid!=null)){S=r.domainMid;const v=S>p[_]?_+1:S<p[0]?0:_;v!==_&&o.warn("Scale domainMid exceeds domain min or max.",S),p.splice(v,0,S)}return includePad(f)&&r.padding&&p[0]!==peek(p)&&(p=padDomain(f,p,r.range,r.padding,r.exponent,r.constant)),e.domain(domainCheck(f,p,o)),f===Ordinal&&e.unknown(r.domainImplicit?implicit:void 0),r.nice&&e.nice&&e.nice(r.nice!==!0&&tickCount(e,r.nice)||null),p.length}function rawDomain(e,r,o){return r?(e.domain(domainCheck(e.type,r,o)),r.length):-1}function padDomain(e,r,o,l,p,f){var O=Math.abs(peek(o)-o[0]),_=O/(O-2*l),S=e===Log?zoomLog(r,null,_):e===Sqrt?zoomPow(r,null,_,.5):e===Pow?zoomPow(r,null,_,p||1):e===Symlog?zoomSymlog(r,null,_,f||1):zoomLinear(r,null,_);return r=r.slice(),r[0]=S[0],r[r.length-1]=S[1],r}function domainCheck(e,r,o){if(isLogarithmic(e)){var l=Math.abs(r.reduce((p,f)=>p+(f<0?-1:f>0?1:0),0));l!==r.length&&o.warn("Log scale domain includes zero: "+$(r))}return r}function configureBins(e,r,o){let l=r.bins;if(l&&!isArray(l)){const p=e.domain(),f=p[0],O=peek(p),_=l.step;let S=l.start==null?f:l.start,v=l.stop==null?O:l.stop;_||error("Scale bins parameter missing step property."),S<f&&(S=_*Math.ceil(f/_)),v>O&&(v=_*Math.floor(O/_)),l=range$4(S,v+_/2,_)}return l?e.bins=l:e.bins&&delete e.bins,e.type===BinOrdinal&&(l?!r.domain&&!r.domainRaw&&(e.domain(l),o=l.length):e.bins=e.domain()),o}function configureRange(e,r,o){var l=e.type,p=r.round||!1,f=r.range;if(r.rangeStep!=null)f=configureRangeStep(l,r,o);else if(r.scheme&&(f=configureScheme(l,r,o),isFunction(f))){if(e.interpolator)return e.interpolator(f);error(`Scale type ${l} does not support interpolating color schemes.`)}if(f&&isInterpolating(l))return e.interpolator(interpolateColors(flip(f,r.reverse),r.interpolate,r.interpolateGamma));f&&r.interpolate&&e.interpolate?e.interpolate(interpolate(r.interpolate,r.interpolateGamma)):isFunction(e.round)?e.round(p):isFunction(e.rangeRound)&&e.interpolate(p?interpolateRound:interpolate$1),f&&e.range(flip(f,r.reverse))}function configureRangeStep(e,r,o){e!==Band&&e!==Point&&error("Only band and point scales support rangeStep.");var l=(r.paddingOuter!=null?r.paddingOuter:r.padding)||0,p=e===Point?1:(r.paddingInner!=null?r.paddingInner:r.padding)||0;return[0,r.rangeStep*bandSpace(o,p,l)]}function configureScheme(e,r,o){var l=r.schemeExtent,p,f;return isArray(r.scheme)?f=interpolateColors(r.scheme,r.interpolate,r.interpolateGamma):(p=r.scheme.toLowerCase(),f=scheme(p),f||error(`Unrecognized scheme name: ${r.scheme}`)),o=e===Threshold?o+1:e===BinOrdinal?o-1:e===Quantile||e===Quantize?+r.schemeCount||DEFAULT_COUNT:o,isInterpolating(e)?adjustScheme(f,l,r.reverse):isFunction(f)?quantizeInterpolator(adjustScheme(f,l),o):e===Ordinal?f:f.slice(0,o)}function adjustScheme(e,r,o){return isFunction(e)&&(r||o)?interpolateRange(e,flip(r||[0,1],o)):e}function flip(e,r){return r?e.slice().reverse():e}function SortItems(e){Transform.call(this,null,e)}inherits(SortItems,Transform,{transform(e,r){const o=e.modified("sort")||r.changed(r.ADD)||r.modified(e.sort.fields)||r.modified("datum");return o&&r.source.sort(stableCompare(e.sort)),this.modified(o),r}});const Zero="zero",Center$1="center",Normalize="normalize",DefOutput=["y0","y1"];function Stack(e){Transform.call(this,null,e)}Stack.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Zero,values:[Zero,Center$1,Normalize]},{name:"as",type:"string",array:!0,length:2,default:DefOutput}]};inherits(Stack,Transform,{transform(e,r){var o=e.as||DefOutput,l=o[0],p=o[1],f=stableCompare(e.sort),O=e.field||one,_=e.offset===Center$1?stackCenter:e.offset===Normalize?stackNormalize:stackZero,S,v,s,d;for(S=partition$2(r.source,e.groupby,f,O),v=0,s=S.length,d=S.max;v<s;++v)_(S[v],d,O,l,p);return r.reflow(e.modified()).modifies(o)}});function stackCenter(e,r,o,l,p){for(var f=(r-e.sum)/2,O=e.length,_=0,S;_<O;++_)S=e[_],S[l]=f,S[p]=f+=Math.abs(o(S))}function stackNormalize(e,r,o,l,p){for(var f=1/e.sum,O=0,_=e.length,S=0,v=0,s;S<_;++S)s=e[S],s[l]=O,s[p]=O=f*(v+=Math.abs(o(s)))}function stackZero(e,r,o,l,p){for(var f=0,O=0,_=e.length,S=0,v,s;S<_;++S)s=e[S],v=+o(s),v<0?(s[l]=O,s[p]=O+=v):(s[l]=f,s[p]=f+=v)}function partition$2(e,r,o,l){var p=[],f=I=>I(s),O,_,S,v,s,d,g,P,R;if(r==null)p.push(e.slice());else for(O={},_=0,S=e.length;_<S;++_)s=e[_],d=r.map(f),g=O[d],g||(O[d]=g=[],p.push(g)),g.push(s);for(d=0,R=0,v=p.length;d<v;++d){for(g=p[d],_=0,P=0,S=g.length;_<S;++_)P+=Math.abs(l(g[_]));g.sum=P,P>R&&(R=P),o&&g.sort(o)}return p.max=R,p}const encode$1=Object.freeze(Object.defineProperty({__proto__:null,axisticks:AxisTicks,datajoin:DataJoin,encode:Encode,legendentries:LegendEntries,linkpath:LinkPath,pie:Pie,scale:Scale,sortitems:SortItems,stack:Stack},Symbol.toStringTag,{value:"Module"}));var abs=Math.abs,cos=Math.cos,sin=Math.sin,epsilon=1e-6,pi=Math.PI,halfPi=pi/2,sqrt2=sqrt(2);function asin(e){return e>1?halfPi:e<-1?-halfPi:Math.asin(e)}function sqrt(e){return e>0?Math.sqrt(e):0}function mollweideBromleyTheta(e,r){var o=e*sin(r),l=30,p;do r-=p=(r+sin(r)-o)/(1+cos(r));while(abs(p)>epsilon&&--l>0);return r/2}function mollweideBromleyRaw(e,r,o){function l(p,f){return[e*p*cos(f=mollweideBromleyTheta(o,f)),r*sin(f)]}return l.invert=function(p,f){return f=asin(f/r),[p/(e*cos(f)),asin((2*f+sin(2*f))/o)]},l}var mollweideRaw=mollweideBromleyRaw(sqrt2/halfPi,sqrt2,pi);function geoMollweide(){return projection$1(mollweideRaw).scale(169.529)}const defaultPath=geoPath(),projectionProperties=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function create$1(e,r){return function o(){const l=r();return l.type=e,l.path=geoPath().projection(l),l.copy=l.copy||function(){const p=o();return projectionProperties.forEach(f=>{l[f]&&p[f](l[f]())}),p.path.pointRadius(l.path.pointRadius()),p},registerScale(l)}}function projection(e,r){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(projections[e]=create$1(e,r),this):projections[e]||null}function getProjectionPath(e){return e&&e.path||defaultPath}const projections={albers:geoAlbers,albersusa:geoAlbersUsa,azimuthalequalarea:geoAzimuthalEqualArea,azimuthalequidistant:geoAzimuthalEquidistant,conicconformal:geoConicConformal,conicequalarea:geoConicEqualArea,conicequidistant:geoConicEquidistant,equalEarth:geoEqualEarth,equirectangular:geoEquirectangular,gnomonic:geoGnomonic,identity:geoIdentity,mercator:geoMercator,mollweide:geoMollweide,naturalEarth1:geoNaturalEarth1,orthographic:geoOrthographic,stereographic:geoStereographic,transversemercator:geoTransverseMercator};for(const e in projections)projection(e,projections[e]);function noop(){}const cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var e=1,r=1,o=_;function l(S,v){return v.map(s=>p(S,s))}function p(S,v){var s=[],d=[];return f(S,v,g=>{o(g,S,v),area(g)>0?s.push([g]):d.push(g)}),d.forEach(g=>{for(var P=0,R=s.length,I;P<R;++P)if(contains((I=s[P])[0],g)!==-1){I.push(g);return}}),{type:"MultiPolygon",value:v,coordinates:s}}function f(S,v,s){var d=[],g=[],P,R,I,j,L,G;for(P=R=-1,j=S[0]>=v,cases[j<<1].forEach(J);++P<e-1;)I=j,j=S[P+1]>=v,cases[I|j<<1].forEach(J);for(cases[j<<0].forEach(J);++R<r-1;){for(P=-1,j=S[R*e+e]>=v,L=S[R*e]>=v,cases[j<<1|L<<2].forEach(J);++P<e-1;)I=j,j=S[R*e+e+P+1]>=v,G=L,L=S[R*e+P+1]>=v,cases[I|j<<1|L<<2|G<<3].forEach(J);cases[j|L<<3].forEach(J)}for(P=-1,L=S[R*e]>=v,cases[L<<2].forEach(J);++P<e-1;)G=L,L=S[R*e+P+1]>=v,cases[L<<2|G<<3].forEach(J);cases[L<<3].forEach(J);function J(Q){var W=[Q[0][0]+P,Q[0][1]+R],Z=[Q[1][0]+P,Q[1][1]+R],te=O(W),ee=O(Z),ie,oe;(ie=g[te])?(oe=d[ee])?(delete g[ie.end],delete d[oe.start],ie===oe?(ie.ring.push(Z),s(ie.ring)):d[ie.start]=g[oe.end]={start:ie.start,end:oe.end,ring:ie.ring.concat(oe.ring)}):(delete g[ie.end],ie.ring.push(Z),g[ie.end=ee]=ie):(ie=d[ee])?(oe=g[te])?(delete d[ie.start],delete g[oe.end],ie===oe?(ie.ring.push(Z),s(ie.ring)):d[oe.start]=g[ie.end]={start:oe.start,end:ie.end,ring:oe.ring.concat(ie.ring)}):(delete d[ie.start],ie.ring.unshift(W),d[ie.start=te]=ie):d[te]=g[ee]={start:te,end:ee,ring:[W,Z]}}}function O(S){return S[0]*2+S[1]*(e+1)*4}function _(S,v,s){S.forEach(d=>{var g=d[0],P=d[1],R=g|0,I=P|0,j,L=v[I*e+R];g>0&&g<e&&R===g&&(j=v[I*e+R-1],d[0]=g+(s-j)/(L-j)-.5),P>0&&P<r&&I===P&&(j=v[(I-1)*e+R],d[1]=P+(s-j)/(L-j)-.5)})}return l.contour=p,l.size=function(S){if(!arguments.length)return[e,r];var v=Math.floor(S[0]),s=Math.floor(S[1]);return v>=0&&s>=0||error("invalid size"),e=v,r=s,l},l.smooth=function(S){return arguments.length?(o=S?_:noop,l):o===_},l}function area(e){for(var r=0,o=e.length,l=e[o-1][1]*e[0][0]-e[o-1][0]*e[0][1];++r<o;)l+=e[r-1][1]*e[r][0]-e[r-1][0]*e[r][1];return l}function contains(e,r){for(var o=-1,l=r.length,p;++o<l;)if(p=ringContains(e,r[o]))return p;return 0}function ringContains(e,r){for(var o=r[0],l=r[1],p=-1,f=0,O=e.length,_=O-1;f<O;_=f++){var S=e[f],v=S[0],s=S[1],d=e[_],g=d[0],P=d[1];if(segmentContains(S,d,r))return 0;s>l!=P>l&&o<(g-v)*(l-s)/(P-s)+v&&(p=-p)}return p}function segmentContains(e,r,o){var l;return collinear(e,r,o)&&within(e[l=+(e[0]===r[0])],o[l],r[l])}function collinear(e,r,o){return(r[0]-e[0])*(o[1]-e[1])===(o[0]-e[0])*(r[1]-e[1])}function within(e,r,o){return e<=r&&r<=o||o<=r&&r<=e}function quantize(e,r,o){return function(l){var p=extent(l),f=o?Math.min(p[0],0):p[0],O=p[1],_=O-f,S=r?tickStep(f,O,e):_/(e+1);return range$4(f+S,O,S)}}function Isocontour(e){Transform.call(this,null,e)}Isocontour.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};inherits(Isocontour,Transform,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var o=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=r.materialize(r.SOURCE).source,p=e.field||identity$1,f=contours().smooth(e.smooth!==!1),O=e.thresholds||levels(l,p,e),_=e.as===null?null:e.as||"contour",S=[];return l.forEach(v=>{const s=p(v),d=f.size([s.width,s.height])(s.values,isArray(O)?O:O(s.values));transformPaths(d,s,v,e),d.forEach(g=>{S.push(rederive(v,ingest$1(_!=null?{[_]:g}:g)))})}),this.value&&(o.rem=this.value),this.value=o.source=o.add=S,o}});function levels(e,r,o){const l=quantize(o.levels||10,o.nice,o.zero!==!1);return o.resolve!=="shared"?l:l(e.map(p=>max$4(r(p).values)))}function transformPaths(e,r,o,l){let p=l.scale||r.scale,f=l.translate||r.translate;if(isFunction(p)&&(p=p(o,l)),isFunction(f)&&(f=f(o,l)),(p===1||p==null)&&!f)return;const O=(isNumber$1(p)?p:p[0])||1,_=(isNumber$1(p)?p:p[1])||1,S=f&&f[0]||0,v=f&&f[1]||0;e.forEach(transform(r,O,_,S,v))}function transform(e,r,o,l,p){const f=e.x1||0,O=e.y1||0,_=r*o<0;function S(d){d.forEach(v)}function v(d){_&&d.reverse(),d.forEach(s)}function s(d){d[0]=(d[0]-f)*r+l,d[1]=(d[1]-O)*o+p}return function(d){return d.coordinates.forEach(S),d}}function radius(e,r,o){const l=e>=0?e:estimateBandwidth(r,o);return Math.round((Math.sqrt(4*l*l+1)-1)/2)}function number$1(e){return isFunction(e)?e:constant$1(+e)}function density2D(){var e=S=>S[0],r=S=>S[1],o=one,l=[-1,-1],p=960,f=500,O=2;function _(S,v){const s=radius(l[0],S,e)>>O,d=radius(l[1],S,r)>>O,g=s?s+2:0,P=d?d+2:0,R=2*g+(p>>O),I=2*P+(f>>O),j=new Float32Array(R*I),L=new Float32Array(R*I);let G=j;S.forEach(Q=>{const W=g+(+e(Q)>>O),Z=P+(+r(Q)>>O);W>=0&&W<R&&Z>=0&&Z<I&&(j[W+Z*R]+=+o(Q))}),s>0&&d>0?(blurX(R,I,j,L,s),blurY(R,I,L,j,d),blurX(R,I,j,L,s),blurY(R,I,L,j,d),blurX(R,I,j,L,s),blurY(R,I,L,j,d)):s>0?(blurX(R,I,j,L,s),blurX(R,I,L,j,s),blurX(R,I,j,L,s),G=L):d>0&&(blurY(R,I,j,L,d),blurY(R,I,L,j,d),blurY(R,I,j,L,d),G=L);const J=v?Math.pow(2,-2*O):1/sum$1(G);for(let Q=0,W=R*I;Q<W;++Q)G[Q]*=J;return{values:G,scale:1<<O,width:R,height:I,x1:g,y1:P,x2:g+(p>>O),y2:P+(f>>O)}}return _.x=function(S){return arguments.length?(e=number$1(S),_):e},_.y=function(S){return arguments.length?(r=number$1(S),_):r},_.weight=function(S){return arguments.length?(o=number$1(S),_):o},_.size=function(S){if(!arguments.length)return[p,f];var v=+S[0],s=+S[1];return v>=0&&s>=0||error("invalid size"),p=v,f=s,_},_.cellSize=function(S){return arguments.length?((S=+S)>=1||error("invalid cell size"),O=Math.floor(Math.log(S)/Math.LN2),_):1<<O},_.bandwidth=function(S){return arguments.length?(S=array$2(S),S.length===1&&(S=[+S[0],+S[0]]),S.length!==2&&error("invalid bandwidth"),l=S,_):l},_}function blurX(e,r,o,l,p){const f=(p<<1)+1;for(let O=0;O<r;++O)for(let _=0,S=0;_<e+p;++_)_<e&&(S+=o[_+O*e]),_>=p&&(_>=f&&(S-=o[_-f+O*e]),l[_-p+O*e]=S/Math.min(_+1,e-1+f-_,f))}function blurY(e,r,o,l,p){const f=(p<<1)+1;for(let O=0;O<e;++O)for(let _=0,S=0;_<r+p;++_)_<r&&(S+=o[O+_*e]),_>=p&&(_>=f&&(S-=o[O+(_-f)*e]),l[O+(_-p)*e]=S/Math.min(_+1,r-1+f-_,f))}function KDE2D(e){Transform.call(this,null,e)}KDE2D.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const PARAMS=["x","y","weight","size","cellSize","bandwidth"];function params(e,r){return PARAMS.forEach(o=>r[o]!=null?e[o](r[o]):0),e}inherits(KDE2D,Transform,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var o=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=r.materialize(r.SOURCE).source,p=partition$1(l,e.groupby),f=(e.groupby||[]).map(accessorName),O=params(density2D(),e),_=e.as||"grid",S=[];function v(s,d){for(let g=0;g<f.length;++g)s[f[g]]=d[g];return s}return S=p.map(s=>ingest$1(v({[_]:O(s,e.counts)},s.dims))),this.value&&(o.rem=this.value),this.value=o.source=o.add=S,o}});function partition$1(e,r){var o=[],l=s=>s(_),p,f,O,_,S,v;if(r==null)o.push(e);else for(p={},f=0,O=e.length;f<O;++f)_=e[f],S=r.map(l),v=p[S],v||(p[S]=v=[],v.dims=S,o.push(v)),v.push(_);return o}function Contour(e){Transform.call(this,null,e)}Contour.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};inherits(Contour,Transform,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var o=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=contours().smooth(e.smooth!==!1),p=e.values,f=e.thresholds||quantize(e.count||10,e.nice,!!p),O=e.size,_,S;return p||(p=r.materialize(r.SOURCE).source,_=params(density2D(),e)(p,!0),S=transform(_,_.scale||1,_.scale||1,0,0),O=[_.width,_.height],p=_.values),f=isArray(f)?f:f(p),p=l.size(O)(p,f),S&&p.forEach(S),this.value&&(o.rem=this.value),this.value=o.source=o.add=(p||[]).map(ingest$1),o}});const Feature="Feature",FeatureCollection="FeatureCollection",MultiPoint="MultiPoint";function GeoJSON(e){Transform.call(this,null,e)}GeoJSON.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};inherits(GeoJSON,Transform,{transform(e,r){var o=this._features,l=this._points,p=e.fields,f=p&&p[0],O=p&&p[1],_=e.geojson||!p&&identity$1,S=r.ADD,v;v=e.modified()||r.changed(r.REM)||r.modified(accessorFields(_))||f&&r.modified(accessorFields(f))||O&&r.modified(accessorFields(O)),(!this.value||v)&&(S=r.SOURCE,this._features=o=[],this._points=l=[]),_&&r.visit(S,s=>o.push(_(s))),f&&O&&(r.visit(S,s=>{var d=f(s),g=O(s);d!=null&&g!=null&&(d=+d)===d&&(g=+g)===g&&l.push([d,g])}),o=o.concat({type:Feature,geometry:{type:MultiPoint,coordinates:l}})),this.value={type:FeatureCollection,features:o}}});function GeoPath(e){Transform.call(this,null,e)}GeoPath.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};inherits(GeoPath,Transform,{transform(e,r){var o=r.fork(r.ALL),l=this.value,p=e.field||identity$1,f=e.as||"path",O=o.SOURCE;!l||e.modified()?(this.value=l=getProjectionPath(e.projection),o.materialize().reflow()):O=p===identity$1||r.modified(p.fields)?o.ADD_MOD:o.ADD;const _=initPath(l,e.pointRadius);return o.visit(O,S=>S[f]=l(p(S))),l.pointRadius(_),o.modifies(f)}});function initPath(e,r){const o=e.pointRadius();return e.context(null),r!=null&&e.pointRadius(r),o}function GeoPoint(e){Transform.call(this,null,e)}GeoPoint.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};inherits(GeoPoint,Transform,{transform(e,r){var o=e.projection,l=e.fields[0],p=e.fields[1],f=e.as||["x","y"],O=f[0],_=f[1],S;function v(s){const d=o([l(s),p(s)]);d?(s[O]=d[0],s[_]=d[1]):(s[O]=void 0,s[_]=void 0)}return e.modified()?r=r.materialize().reflow(!0).visit(r.SOURCE,v):(S=r.modified(l.fields)||r.modified(p.fields),r.visit(S?r.ADD_MOD:r.ADD,v)),r.modifies(f)}});function GeoShape(e){Transform.call(this,null,e)}GeoShape.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};inherits(GeoShape,Transform,{transform(e,r){var o=r.fork(r.ALL),l=this.value,p=e.as||"shape",f=o.ADD;return(!l||e.modified())&&(this.value=l=shapeGenerator(getProjectionPath(e.projection),e.field||field("datum"),e.pointRadius),o.materialize().reflow(),f=o.SOURCE),o.visit(f,O=>O[p]=l),o.modifies(p)}});function shapeGenerator(e,r,o){const l=o==null?p=>e(r(p)):p=>{var f=e.pointRadius(),O=e.pointRadius(o)(r(p));return e.pointRadius(f),O};return l.context=p=>(e.context(p),l),l}function Graticule(e){Transform.call(this,[],e),this.generator=graticule()}Graticule.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};inherits(Graticule,Transform,{transform(e,r){var o=this.value,l=this.generator,p;if(!o.length||e.modified())for(const f in e)isFunction(l[f])&&l[f](e[f]);return p=l(),o.length?r.mod.push(replace$1(o[0],p)):r.add.push(ingest$1(p)),o[0]=p,r}});function Heatmap(e){Transform.call(this,null,e)}Heatmap.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};inherits(Heatmap,Transform,{transform(e,r){if(!r.changed()&&!e.modified())return r.StopPropagation;var o=r.materialize(r.SOURCE).source,l=e.resolve==="shared",p=e.field||identity$1,f=opacity_(e.opacity,e),O=color_(e.color,e),_=e.as||"image",S={$x:0,$y:0,$value:0,$max:l?max$4(o.map(v=>max$4(p(v).values))):0};return o.forEach(v=>{const s=p(v),d=extend({},v,S);l||(d.$max=max$4(s.values||[])),v[_]=toCanvas(s,d,O.dep?O:constant$1(O(d)),f.dep?f:constant$1(f(d)))}),r.reflow(!0).modifies(_)}});function color_(e,r){let o;return isFunction(e)?(o=l=>rgb(e(l,r)),o.dep=dependency(e)):o=constant$1(rgb(e||"#888")),o}function opacity_(e,r){let o;return isFunction(e)?(o=l=>e(l,r),o.dep=dependency(e)):e?o=constant$1(e):(o=l=>l.$value/l.$max||0,o.dep=!0),o}function dependency(e){if(!isFunction(e))return!1;const r=toSet(accessorFields(e));return r.$x||r.$y||r.$value||r.$max}function toCanvas(e,r,o,l){const p=e.width,f=e.height,O=e.x1||0,_=e.y1||0,S=e.x2||p,v=e.y2||f,s=e.values,d=s?j=>s[j]:zero,g=domCanvas(S-O,v-_),P=g.getContext("2d"),R=P.getImageData(0,0,S-O,v-_),I=R.data;for(let j=_,L=0;j<v;++j){r.$y=j-_;for(let G=O,J=j*p;G<S;++G,L+=4){r.$x=G-O,r.$value=d(G+J);const Q=o(r);I[L+0]=Q.r,I[L+1]=Q.g,I[L+2]=Q.b,I[L+3]=~~(255*l(r))}}return P.putImageData(R,0,0),g}function Projection(e){Transform.call(this,null,e),this.modified(!0)}inherits(Projection,Transform,{transform(e,r){let o=this.value;return!o||e.modified("type")?(this.value=o=create(e.type),projectionProperties.forEach(l=>{e[l]!=null&&set(o,l,e[l])})):projectionProperties.forEach(l=>{e.modified(l)&&set(o,l,e[l])}),e.pointRadius!=null&&o.path.pointRadius(e.pointRadius),e.fit&&fit(o,e),r.fork(r.NO_SOURCE|r.NO_FIELDS)}});function fit(e,r){const o=collectGeoJSON(r.fit);r.extent?e.fitExtent(r.extent,o):r.size&&e.fitSize(r.size,o)}function create(e){const r=projection((e||"mercator").toLowerCase());return r||error("Unrecognized projection type: "+e),r()}function set(e,r,o){isFunction(e[r])&&e[r](o)}function collectGeoJSON(e){return e=array$2(e),e.length===1?e[0]:{type:FeatureCollection,features:e.reduce((r,o)=>r.concat(featurize(o)),[])}}function featurize(e){return e.type===FeatureCollection?e.features:array$2(e).filter(r=>r!=null).map(r=>r.type===Feature?r:{type:Feature,geometry:r})}const geo=Object.freeze(Object.defineProperty({__proto__:null,contour:Contour,geojson:GeoJSON,geopath:GeoPath,geopoint:GeoPoint,geoshape:GeoShape,graticule:Graticule,heatmap:Heatmap,isocontour:Isocontour,kde2d:KDE2D,projection:Projection},Symbol.toStringTag,{value:"Module"})),ForceMap={center:forceCenter,collide:forceCollide,nbody:forceManyBody,link:forceLink,x:forceX,y:forceY},Forces="forces",ForceParams=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],ForceConfig=["static","iterations"],ForceOutput=["x","y","vx","vy"];function Force(e){Transform.call(this,null,e)}Force.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ForceOutput}]};inherits(Force,Transform,{transform(e,r){var o=this.value,l=r.changed(r.ADD_REM),p=e.modified(ForceParams),f=e.iterations||300;if(o?(l&&(r.modifies("index"),o.nodes(r.source)),(p||r.changed(r.MOD))&&setup(o,e,0,r)):(this.value=o=simulation(r.source,e),o.on("tick",rerun(r.dataflow,this)),e.static||(l=!0,o.tick()),r.modifies("index")),p||l||e.modified(ForceConfig)||r.changed()&&e.restart){if(o.alpha(Math.max(o.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(o.alphaMin(),1/f)),e.static)for(o.stop();--f>=0;)o.tick();else if(o.stopped()&&o.restart(),!l)return r.StopPropagation}return this.finish(e,r)},finish(e,r){const o=r.dataflow;for(let _=this._argops,S=0,v=_.length,s;S<v;++S)if(s=_[S],!(s.name!==Forces||s.op._argval.force!=="link")){for(var l=s.op._argops,p=0,f=l.length,O;p<f;++p)if(l[p].name==="links"&&(O=l[p].op.source)){o.pulse(O,o.changeset().reflow());break}}return r.reflow(e.modified()).modifies(ForceOutput)}});function rerun(e,r){return()=>e.touch(r).run()}function simulation(e,r){const o=forceSimulation(e),l=o.stop,p=o.restart;let f=!1;return o.stopped=()=>f,o.restart=()=>(f=!1,p()),o.stop=()=>(f=!0,l()),setup(o,r,!0).on("end",()=>f=!0)}function setup(e,r,o,l){var p=array$2(r.forces),f,O,_,S;for(f=0,O=ForceParams.length;f<O;++f)_=ForceParams[f],_!==Forces&&r.modified(_)&&e[_](r[_]);for(f=0,O=p.length;f<O;++f)S=Forces+f,_=o||r.modified(Forces,f)?getForce(p[f]):l&&modified(p[f],l)?e.force(S):null,_&&e.force(S,_);for(O=e.numForces||0;f<O;++f)e.force(Forces+f,null);return e.numForces=p.length,e}function modified(e,r){var o,l;for(o in e)if(isFunction(l=e[o])&&r.modified(accessorFields(l)))return 1;return 0}function getForce(e){var r,o;has(ForceMap,e.force)||error("Unrecognized force: "+e.force),r=ForceMap[e.force]();for(o in e)isFunction(r[o])&&setForceParam(r[o],e[o],e);return r}function setForceParam(e,r,o){e(isFunction(r)?l=>r(l,o):r)}const force=Object.freeze(Object.defineProperty({__proto__:null,force:Force},Symbol.toStringTag,{value:"Module"}));function lookup$1(e,r,o){const l={};return e.each(p=>{const f=p.data;o(f)&&(l[r(f)]=p)}),e.lookup=l,e}function Nest(e){Transform.call(this,null,e)}Nest.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const children=e=>e.values;inherits(Nest,Transform,{transform(e,r){r.source||error("Nest transform requires an upstream data source.");var o=e.generate,l=e.modified(),p=r.clone(),f=this.value;return(!f||l||r.changed())&&(f&&f.each(O=>{O.children&&isTuple(O.data)&&p.rem.push(O.data)}),this.value=f=hierarchy({values:array$2(e.keys).reduce((O,_)=>(O.key(_),O),nest()).entries(p.source)},children),o&&f.each(O=>{O.children&&(O=ingest$1(O.data),p.add.push(O),p.source.push(O))}),lookup$1(f,tupleid,tupleid)),p.source.root=f,p}});function nest(){const e=[],r={entries:p=>l(o(p,0),0),key:p=>(e.push(p),r)};function o(p,f){if(f>=e.length)return p;const O=p.length,_=e[f++],S={},v={};let s=-1,d,g,P;for(;++s<O;)d=_(g=p[s])+"",(P=S[d])?P.push(g):S[d]=[g];for(d in S)v[d]=o(S[d],f);return v}function l(p,f){if(++f>e.length)return p;const O=[];for(const _ in p)O.push({key:_,values:l(p[_],f)});return O}return r}function HierarchyLayout(e){Transform.call(this,null,e)}const defaultSeparation=(e,r)=>e.parent===r.parent?1:2;inherits(HierarchyLayout,Transform,{transform(e,r){(!r.source||!r.source.root)&&error(this.constructor.name+" transform requires a backing tree data source.");const o=this.layout(e.method),l=this.fields,p=r.source.root,f=e.as||l;e.field?p.sum(e.field):p.count(),e.sort&&p.sort(stableCompare(e.sort,O=>O.data)),setParams(o,this.params,e),o.separation&&o.separation(e.separation!==!1?defaultSeparation:one);try{this.value=o(p)}catch(O){error(O)}return p.each(O=>setFields(O,l,f)),r.reflow(e.modified()).modifies(f).modifies("leaf")}});function setParams(e,r,o){for(let l,p=0,f=r.length;p<f;++p)l=r[p],l in o&&e[l](o[l])}function setFields(e,r,o){const l=e.data,p=r.length-1;for(let f=0;f<p;++f)l[o[f]]=e[r[f]];l[o[p]]=e.children?e.children.length:0}const Output$3=["x","y","r","depth","children"];function Pack(e){HierarchyLayout.call(this,e)}Pack.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Output$3.length,default:Output$3}]};inherits(Pack,HierarchyLayout,{layout:pack,params:["radius","size","padding"],fields:Output$3});const Output$2=["x0","y0","x1","y1","depth","children"];function Partition(e){HierarchyLayout.call(this,e)}Partition.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Output$2.length,default:Output$2}]};inherits(Partition,HierarchyLayout,{layout:partition$4,params:["size","round","padding"],fields:Output$2});function Stratify(e){Transform.call(this,null,e)}Stratify.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};inherits(Stratify,Transform,{transform(e,r){r.source||error("Stratify transform requires an upstream data source.");let o=this.value;const l=e.modified(),p=r.fork(r.ALL).materialize(r.SOURCE),f=!o||l||r.changed(r.ADD_REM)||r.modified(e.key.fields)||r.modified(e.parentKey.fields);return p.source=p.source.slice(),f&&(o=p.source.length?lookup$1(stratify().id(e.key).parentId(e.parentKey)(p.source),e.key,truthy):lookup$1(stratify()([{}]),e.key,e.key)),p.source.root=this.value=o,p}});const Layouts={tidy:tree$1,cluster},Output$1$1=["x","y","depth","children"];function Tree(e){HierarchyLayout.call(this,e)}Tree.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Output$1$1.length,default:Output$1$1}]};inherits(Tree,HierarchyLayout,{layout(e){const r=e||"tidy";if(has(Layouts,r))return Layouts[r]();error("Unrecognized Tree layout method: "+r)},params:["size","nodeSize"],fields:Output$1$1});function TreeLinks(e){Transform.call(this,[],e)}TreeLinks.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};inherits(TreeLinks,Transform,{transform(e,r){const o=this.value,l=r.source&&r.source.root,p=r.fork(r.NO_SOURCE),f={};return l||error("TreeLinks transform requires a tree data source."),r.changed(r.ADD_REM)?(p.rem=o,r.visit(r.SOURCE,O=>f[tupleid(O)]=1),l.each(O=>{const _=O.data,S=O.parent&&O.parent.data;S&&f[tupleid(_)]&&f[tupleid(S)]&&p.add.push(ingest$1({source:S,target:_}))}),this.value=p.add):r.changed(r.MOD)&&(r.visit(r.MOD,O=>f[tupleid(O)]=1),o.forEach(O=>{(f[tupleid(O.source)]||f[tupleid(O.target)])&&p.mod.push(O)})),p}});const Tiles={binary:treemapBinary,dice:treemapDice,slice:treemapSlice,slicedice:treemapSliceDice,squarify:treemapSquarify,resquarify:treemapResquarify},Output$4=["x0","y0","x1","y1","depth","children"];function Treemap(e){HierarchyLayout.call(this,e)}Treemap.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Output$4.length,default:Output$4}]};inherits(Treemap,HierarchyLayout,{layout(){const e=treemap();return e.ratio=r=>{const o=e.tile();o.ratio&&e.tile(o.ratio(r))},e.method=r=>{has(Tiles,r)?e.tile(Tiles[r]):error("Unrecognized Treemap layout method: "+r)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Output$4});const tree=Object.freeze(Object.defineProperty({__proto__:null,nest:Nest,pack:Pack,partition:Partition,stratify:Stratify,tree:Tree,treelinks:TreeLinks,treemap:Treemap},Symbol.toStringTag,{value:"Module"})),ALPHA_MASK=4278190080;function baseBitmaps(e,r){const o=e.bitmap();return(r||[]).forEach(l=>o.set(e(l.boundary[0]),e(l.boundary[3]))),[o,void 0]}function markBitmaps(e,r,o,l,p){const f=e.width,O=e.height,_=l||p,S=domCanvas(f,O).getContext("2d"),v=domCanvas(f,O).getContext("2d"),s=_&&domCanvas(f,O).getContext("2d");o.forEach(ee=>draw(S,ee,!1)),draw(v,r,!1),_&&draw(s,r,!0);const d=getBuffer(S,f,O),g=getBuffer(v,f,O),P=_&&getBuffer(s,f,O),R=e.bitmap(),I=_&&e.bitmap();let j,L,G,J,Q,W,Z,te;for(L=0;L<O;++L)for(j=0;j<f;++j)Q=L*f+j,W=d[Q]&ALPHA_MASK,te=g[Q]&ALPHA_MASK,Z=_&&P[Q]&ALPHA_MASK,(W||Z||te)&&(G=e(j),J=e(L),!p&&(W||te)&&R.set(G,J),_&&(W||Z)&&I.set(G,J));return[R,I]}function getBuffer(e,r,o){return new Uint32Array(e.getImageData(0,0,r,o).data.buffer)}function draw(e,r,o){if(!r.length)return;const l=r[0].mark.marktype;l==="group"?r.forEach(p=>{p.items.forEach(f=>draw(e,f.items,o))}):Marks[l].draw(e,{items:o?r.map(prepare):r})}function prepare(e){const r=rederive(e,{});return r.stroke&&r.strokeOpacity!==0||r.fill&&r.fillOpacity!==0?{...r,strokeOpacity:1,stroke:"#000",fillOpacity:0}:r}const DIV=5,MOD=31,SIZE=32,RIGHT0=new Uint32Array(SIZE+1),RIGHT1=new Uint32Array(SIZE+1);RIGHT1[0]=0;RIGHT0[0]=~RIGHT1[0];for(let e=1;e<=SIZE;++e)RIGHT1[e]=RIGHT1[e-1]<<1|1,RIGHT0[e]=~RIGHT1[e];function Bitmap(e,r){const o=new Uint32Array(~~((e*r+SIZE)/SIZE));function l(f,O){o[f]|=O}function p(f,O){o[f]&=O}return{array:o,get:(f,O)=>{const _=O*e+f;return o[_>>>DIV]&1<<(_&MOD)},set:(f,O)=>{const _=O*e+f;l(_>>>DIV,1<<(_&MOD))},clear:(f,O)=>{const _=O*e+f;p(_>>>DIV,~(1<<(_&MOD)))},getRange:(f,O,_,S)=>{let v=S,s,d,g,P;for(;v>=O;--v)if(s=v*e+f,d=v*e+_,g=s>>>DIV,P=d>>>DIV,g===P){if(o[g]&RIGHT0[s&MOD]&RIGHT1[(d&MOD)+1])return!0}else{if(o[g]&RIGHT0[s&MOD]||o[P]&RIGHT1[(d&MOD)+1])return!0;for(let R=g+1;R<P;++R)if(o[R])return!0}return!1},setRange:(f,O,_,S)=>{let v,s,d,g,P;for(;O<=S;++O)if(v=O*e+f,s=O*e+_,d=v>>>DIV,g=s>>>DIV,d===g)l(d,RIGHT0[v&MOD]&RIGHT1[(s&MOD)+1]);else for(l(d,RIGHT0[v&MOD]),l(g,RIGHT1[(s&MOD)+1]),P=d+1;P<g;++P)l(P,4294967295)},clearRange:(f,O,_,S)=>{let v,s,d,g,P;for(;O<=S;++O)if(v=O*e+f,s=O*e+_,d=v>>>DIV,g=s>>>DIV,d===g)p(d,RIGHT1[v&MOD]|RIGHT0[(s&MOD)+1]);else for(p(d,RIGHT1[v&MOD]),p(g,RIGHT0[(s&MOD)+1]),P=d+1;P<g;++P)p(P,0)},outOfBounds:(f,O,_,S)=>f<0||O<0||S>=r||_>=e}}function scaler(e,r,o){const l=Math.max(1,Math.sqrt(e*r/1e6)),p=~~((e+2*o+l)/l),f=~~((r+2*o+l)/l),O=_=>~~((_+o)/l);return O.invert=_=>_*l-o,O.bitmap=()=>Bitmap(p,f),O.ratio=l,O.padding=o,O.width=e,O.height=r,O}function placeAreaLabelNaive(e,r,o,l){const p=e.width,f=e.height;return function(O){const _=O.datum.datum.items[l].items,S=_.length,v=O.datum.fontSize,s=textMetrics.width(O.datum,O.datum.text);let d=0,g,P,R,I,j,L,G;for(let J=0;J<S;++J)g=_[J].x,R=_[J].y,P=_[J].x2===void 0?g:_[J].x2,I=_[J].y2===void 0?R:_[J].y2,j=(g+P)/2,L=(R+I)/2,G=Math.abs(P-g+I-R),G>=d&&(d=G,O.x=j,O.y=L);return j=s/2,L=v/2,g=O.x-j,P=O.x+j,R=O.y-L,I=O.y+L,O.align="center",g<0&&P<=p?O.align="left":0<=g&&p<P&&(O.align="right"),O.baseline="middle",R<0&&I<=f?O.baseline="top":0<=R&&f<I&&(O.baseline="bottom"),!0}}function outOfBounds(e,r,o,l,p,f){let O=o/2;return e-O<0||e+O>p||r-(O=l/2)<0||r+O>f}function collision(e,r,o,l,p,f,O,_){const S=p*f/(l*2),v=e(r-S),s=e(r+S),d=e(o-(f=f/2)),g=e(o+f);return O.outOfBounds(v,d,s,g)||O.getRange(v,d,s,g)||_&&_.getRange(v,d,s,g)}function placeAreaLabelReducedSearch(e,r,o,l){const p=e.width,f=e.height,O=r[0],_=r[1];function S(v,s,d,g,P){const R=e.invert(v),I=e.invert(s);let j=d,L=f,G;if(!outOfBounds(R,I,g,P,p,f)&&!collision(e,R,I,P,g,j,O,_)&&!collision(e,R,I,P,g,P,O,null)){for(;L-j>=1;)G=(j+L)/2,collision(e,R,I,P,g,G,O,_)?L=G:j=G;if(j>d)return[R,I,j,!0]}}return function(v){const s=v.datum.datum.items[l].items,d=s.length,g=v.datum.fontSize,P=textMetrics.width(v.datum,v.datum.text);let R=o?g:0,I=!1,j=!1,L=0,G,J,Q,W,Z,te,ee,ie,oe,se,le,de,pe,fe,he,ge,me;for(let ye=0;ye<d;++ye){for(G=s[ye].x,Q=s[ye].y,J=s[ye].x2===void 0?G:s[ye].x2,W=s[ye].y2===void 0?Q:s[ye].y2,G>J&&(me=G,G=J,J=me),Q>W&&(me=Q,Q=W,W=me),oe=e(G),le=e(J),se=~~((oe+le)/2),de=e(Q),fe=e(W),pe=~~((de+fe)/2),ee=se;ee>=oe;--ee)for(ie=pe;ie>=de;--ie)ge=S(ee,ie,R,P,g),ge&&([v.x,v.y,R,I]=ge);for(ee=se;ee<=le;++ee)for(ie=pe;ie<=fe;++ie)ge=S(ee,ie,R,P,g),ge&&([v.x,v.y,R,I]=ge);!I&&!o&&(he=Math.abs(J-G+W-Q),Z=(G+J)/2,te=(Q+W)/2,he>=L&&!outOfBounds(Z,te,P,g,p,f)&&!collision(e,Z,te,g,P,g,O,null)&&(L=he,v.x=Z,v.y=te,j=!0))}return I||j?(Z=P/2,te=g/2,O.setRange(e(v.x-Z),e(v.y-te),e(v.x+Z),e(v.y+te)),v.align="center",v.baseline="middle",!0):!1}}const X_DIR=[-1,-1,1,1],Y_DIR=[-1,1,-1,1];function placeAreaLabelFloodFill(e,r,o,l){const p=e.width,f=e.height,O=r[0],_=r[1],S=e.bitmap();return function(v){const s=v.datum.datum.items[l].items,d=s.length,g=v.datum.fontSize,P=textMetrics.width(v.datum,v.datum.text),R=[];let I=o?g:0,j=!1,L=!1,G=0,J,Q,W,Z,te,ee,ie,oe,se,le,de,pe;for(let fe=0;fe<d;++fe){for(J=s[fe].x,W=s[fe].y,Q=s[fe].x2===void 0?J:s[fe].x2,Z=s[fe].y2===void 0?W:s[fe].y2,R.push([e((J+Q)/2),e((W+Z)/2)]);R.length;)if([ie,oe]=R.pop(),!(O.get(ie,oe)||_.get(ie,oe)||S.get(ie,oe))){S.set(ie,oe);for(let he=0;he<4;++he)te=ie+X_DIR[he],ee=oe+Y_DIR[he],S.outOfBounds(te,ee,te,ee)||R.push([te,ee]);if(te=e.invert(ie),ee=e.invert(oe),se=I,le=f,!outOfBounds(te,ee,P,g,p,f)&&!collision(e,te,ee,g,P,se,O,_)&&!collision(e,te,ee,g,P,g,O,null)){for(;le-se>=1;)de=(se+le)/2,collision(e,te,ee,g,P,de,O,_)?le=de:se=de;se>I&&(v.x=te,v.y=ee,I=se,j=!0)}}!j&&!o&&(pe=Math.abs(Q-J+Z-W),te=(J+Q)/2,ee=(W+Z)/2,pe>=G&&!outOfBounds(te,ee,P,g,p,f)&&!collision(e,te,ee,g,P,g,O,null)&&(G=pe,v.x=te,v.y=ee,L=!0))}return j||L?(te=P/2,ee=g/2,O.setRange(e(v.x-te),e(v.y-ee),e(v.x+te),e(v.y+ee)),v.align="center",v.baseline="middle",!0):!1}}const Aligns=["right","center","left"],Baselines=["bottom","middle","top"];function placeMarkLabel(e,r,o,l){const p=e.width,f=e.height,O=r[0],_=r[1],S=l.length;return function(v){const s=v.boundary,d=v.datum.fontSize;if(s[2]<0||s[5]<0||s[0]>p||s[3]>f)return!1;let g=v.textWidth??0,P,R,I,j,L,G,J,Q,W,Z,te,ee,ie,oe,se;for(let le=0;le<S;++le){if(P=(o[le]&3)-1,R=(o[le]>>>2&3)-1,I=P===0&&R===0||l[le]<0,j=P&&R?Math.SQRT1_2:1,L=l[le]<0?-1:1,G=s[1+P]+l[le]*P*j,te=s[4+R]+L*d*R/2+l[le]*R*j,Q=te-d/2,W=te+d/2,ee=e(G),oe=e(Q),se=e(W),!g)if(test$1(ee,ee,oe,se,O,_,G,G,Q,W,s,I))g=textMetrics.width(v.datum,v.datum.text);else continue;if(Z=G+L*g*P/2,G=Z-g/2,J=Z+g/2,ee=e(G),ie=e(J),test$1(ee,ie,oe,se,O,_,G,J,Q,W,s,I))return v.x=P?P*L<0?J:G:Z,v.y=R?R*L<0?W:Q:te,v.align=Aligns[P*L+1],v.baseline=Baselines[R*L+1],O.setRange(ee,oe,ie,se),!0}return!1}}function test$1(e,r,o,l,p,f,O,_,S,v,s,d){return!(p.outOfBounds(e,o,r,l)||(d&&f||p).getRange(e,o,r,l))}const TOP=0,MIDDLE=4,BOTTOM=8,LEFT=0,CENTER=1,RIGHT=2,anchorCode={"top-left":TOP+LEFT,top:TOP+CENTER,"top-right":TOP+RIGHT,left:MIDDLE+LEFT,middle:MIDDLE+CENTER,right:MIDDLE+RIGHT,"bottom-left":BOTTOM+LEFT,bottom:BOTTOM+CENTER,"bottom-right":BOTTOM+RIGHT},placeAreaLabel={naive:placeAreaLabelNaive,"reduced-search":placeAreaLabelReducedSearch,floodfill:placeAreaLabelFloodFill};function labelLayout(e,r,o,l,p,f,O,_,S,v,s){if(!e.length)return e;const d=Math.max(l.length,p.length),g=getOffsets(l,d),P=getAnchors(p,d),R=markType(e[0].datum),I=R==="group"&&e[0].datum.items[S].marktype,j=I==="area",L=markBoundary(R,I,_,S),G=v===null||v===1/0,J=j&&s==="naive";let Q=-1,W=-1;const Z=e.map(oe=>{const se=G?textMetrics.width(oe,oe.text):void 0;return Q=Math.max(Q,se),W=Math.max(W,oe.fontSize),{datum:oe,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:L(oe),textWidth:se}});v=v===null||v===1/0?Math.max(Q,W)+Math.max(...l):v;const te=scaler(r[0],r[1],v);let ee;if(!J){o&&Z.sort((le,de)=>o(le.datum,de.datum));let oe=!1;for(let le=0;le<P.length&&!oe;++le)oe=P[le]===5||g[le]<0;const se=(R&&O||j)&&e.map(le=>le.datum);ee=f.length||se?markBitmaps(te,se||[],f,oe,j):baseBitmaps(te,O&&Z)}const ie=j?placeAreaLabel[s](te,ee,O,S):placeMarkLabel(te,ee,P,g);return Z.forEach(oe=>oe.opacity=+ie(oe)),Z}function getOffsets(e,r){const o=new Float64Array(r),l=e.length;for(let p=0;p<l;++p)o[p]=e[p]||0;for(let p=l;p<r;++p)o[p]=o[l-1];return o}function getAnchors(e,r){const o=new Int8Array(r),l=e.length;for(let p=0;p<l;++p)o[p]|=anchorCode[e[p]];for(let p=l;p<r;++p)o[p]=o[l-1];return o}function markType(e){return e&&e.mark&&e.mark.marktype}function markBoundary(e,r,o,l){const p=f=>[f.x,f.x,f.x,f.y,f.y,f.y];return e?e==="line"||e==="area"?f=>p(f.datum):r==="line"?f=>{const O=f.datum.items[l].items;return p(O.length?O[o==="start"?0:O.length-1]:{x:NaN,y:NaN})}:f=>{const O=f.datum.bounds;return[O.x1,(O.x1+O.x2)/2,O.x2,O.y1,(O.y1+O.y2)/2,O.y2]}:p}const Output$1=["x","y","opacity","align","baseline"],Anchors=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Label(e){Transform.call(this,null,e)}Label.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Anchors},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Output$1.length,default:Output$1}]};inherits(Label,Transform,{transform(e,r){function o(f){const O=e[f];return isFunction(O)&&r.modified(O.fields)}const l=e.modified();if(!(l||r.changed(r.ADD_REM)||o("sort")))return;(!e.size||e.size.length!==2)&&error("Size parameter should be specified as a [width, height] array.");const p=e.as||Output$1;return labelLayout(r.materialize(r.SOURCE).source||[],e.size,e.sort,array$2(e.offset==null?1:e.offset),array$2(e.anchor||Anchors),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(f=>{const O=f.datum;O[p[0]]=f.x,O[p[1]]=f.y,O[p[2]]=f.opacity,O[p[3]]=f.align,O[p[4]]=f.baseline}),r.reflow(l).modifies(p)}});const label=Object.freeze(Object.defineProperty({__proto__:null,label:Label},Symbol.toStringTag,{value:"Module"}));function partition(e,r){var o=[],l=function(s){return s(_)},p,f,O,_,S,v;if(r==null)o.push(e);else for(p={},f=0,O=e.length;f<O;++f)_=e[f],S=r.map(l),v=p[S],v||(p[S]=v=[],v.dims=S,o.push(v)),v.push(_);return o}function Loess(e){Transform.call(this,null,e)}Loess.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};inherits(Loess,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=r.materialize(r.SOURCE).source,p=partition(l,e.groupby),f=(e.groupby||[]).map(accessorName),O=f.length,_=e.as||[accessorName(e.x),accessorName(e.y)],S=[];p.forEach(v=>{loess(v,e.x,e.y,e.bandwidth||.3).forEach(s=>{const d={};for(let g=0;g<O;++g)d[f[g]]=v.dims[g];d[_[0]]=s[0],d[_[1]]=s[1],S.push(ingest$1(d))})}),this.value&&(o.rem=this.value),this.value=o.add=o.source=S}return o}});const Methods={constant,linear,log:log$1,exp,pow,quad,poly},degreesOfFreedom=(e,r)=>e==="poly"?r:e==="quad"?2:1;function Regression(e){Transform.call(this,null,e)}Regression.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Methods)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};inherits(Regression,Transform,{transform(e,r){const o=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=r.materialize(r.SOURCE).source,p=partition(l,e.groupby),f=(e.groupby||[]).map(accessorName),O=e.method||"linear",_=e.order==null?3:e.order,S=degreesOfFreedom(O,_),v=e.as||[accessorName(e.x),accessorName(e.y)],s=Methods[O],d=[];let g=e.extent;has(Methods,O)||error("Invalid regression method: "+O),g!=null&&O==="log"&&g[0]<=0&&(r.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),p.forEach(P=>{if(P.length<=S){r.dataflow.warn("Skipping regression with more parameters than data points.");return}const I=s(P,e.x,e.y,_);if(e.params){d.push(ingest$1({keys:P.dims,coef:I.coef,rSquared:I.rSquared}));return}const j=g||extent(P,e.x),L=G=>{const J={};for(let Q=0;Q<f.length;++Q)J[f[Q]]=P.dims[Q];J[v[0]]=G[0],J[v[1]]=G[1],d.push(ingest$1(J))};O==="linear"||O==="constant"?j.forEach(G=>L([G,I.predict(G)])):sampleCurve(I.predict,j,25,200).forEach(L)}),this.value&&(o.rem=this.value),this.value=o.add=o.source=d}return o}});const reg=Object.freeze(Object.defineProperty({__proto__:null,loess:Loess,regression:Regression},Symbol.toStringTag,{value:"Module"}));function Voronoi(e){Transform.call(this,null,e)}Voronoi.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const defaultExtent=[-1e5,-1e5,1e5,1e5];inherits(Voronoi,Transform,{transform(e,r){const o=e.as||"path",l=r.source;if(!l||!l.length)return r;let p=e.size;p=p?[0,0,p[0],p[1]]:(p=e.extent)?[p[0][0],p[0][1],p[1][0],p[1][1]]:defaultExtent;const f=this.value=Delaunay.from(l,e.x,e.y).voronoi(p);for(let O=0,_=l.length;O<_;++O){const S=f.cellPolygon(O);l[O][o]=S&&!isPoint(S)?toPathString(S):null}return r.reflow(e.modified()).modifies(o)}});function toPathString(e){const r=e[0][0],o=e[0][1];let l=e.length-1;for(;e[l][0]===r&&e[l][1]===o;--l);return"M"+e.slice(0,l+1).join("L")+"Z"}function isPoint(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const voronoi=Object.freeze(Object.defineProperty({__proto__:null,voronoi:Voronoi},Symbol.toStringTag,{value:"Module"}));var cloudRadians=Math.PI/180,cw=64,ch=2048;function cloud(){var e=[256,256],r,o,l,p,f,O,_,S=archimedeanSpiral,v=[],s=Math.random,d={};d.layout=function(){for(var R=g(domCanvas()),I=zeroArray((e[0]>>5)*e[1]),j=null,L=v.length,G=-1,J=[],Q=v.map(Z=>({text:r(Z),font:o(Z),style:p(Z),weight:f(Z),rotate:O(Z),size:~~(l(Z)+1e-14),padding:_(Z),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Z})).sort((Z,te)=>te.size-Z.size);++G<L;){var W=Q[G];W.x=e[0]*(s()+.5)>>1,W.y=e[1]*(s()+.5)>>1,cloudSprite(R,W,Q,G),W.hasText&&P(I,W,j)&&(J.push(W),j?cloudBounds(j,W):j=[{x:W.x+W.x0,y:W.y+W.y0},{x:W.x+W.x1,y:W.y+W.y1}],W.x-=e[0]>>1,W.y-=e[1]>>1)}return J};function g(R){R.width=R.height=1;var I=Math.sqrt(R.getContext("2d").getImageData(0,0,1,1).data.length>>2);R.width=(cw<<5)/I,R.height=ch/I;var j=R.getContext("2d");return j.fillStyle=j.strokeStyle="red",j.textAlign="center",{context:j,ratio:I}}function P(R,I,j){for(var L=I.x,G=I.y,J=Math.hypot(e[0],e[1]),Q=S(e),W=s()<.5?1:-1,Z=-W,te,ee,ie;(te=Q(Z+=W))&&(ee=~~te[0],ie=~~te[1],!(Math.min(Math.abs(ee),Math.abs(ie))>=J));)if(I.x=L+ee,I.y=G+ie,!(I.x+I.x0<0||I.y+I.y0<0||I.x+I.x1>e[0]||I.y+I.y1>e[1])&&(!j||!cloudCollide(I,R,e[0]))&&(!j||collideRects(I,j))){for(var oe=I.sprite,se=I.width>>5,le=e[0]>>5,de=I.x-(se<<4),pe=de&127,fe=32-pe,he=I.y1-I.y0,ge=(I.y+I.y0)*le+(de>>5),me,ye=0;ye<he;ye++){me=0;for(var ve=0;ve<=se;ve++)R[ge+ve]|=me<<fe|(ve<se?(me=oe[ye*se+ve])>>>pe:0);ge+=le}return I.sprite=null,!0}return!1}return d.words=function(R){return arguments.length?(v=R,d):v},d.size=function(R){return arguments.length?(e=[+R[0],+R[1]],d):e},d.font=function(R){return arguments.length?(o=functor(R),d):o},d.fontStyle=function(R){return arguments.length?(p=functor(R),d):p},d.fontWeight=function(R){return arguments.length?(f=functor(R),d):f},d.rotate=function(R){return arguments.length?(O=functor(R),d):O},d.text=function(R){return arguments.length?(r=functor(R),d):r},d.spiral=function(R){return arguments.length?(S=spirals[R]||R,d):S},d.fontSize=function(R){return arguments.length?(l=functor(R),d):l},d.padding=function(R){return arguments.length?(_=functor(R),d):_},d.random=function(R){return arguments.length?(s=R,d):s},d}function cloudSprite(e,r,o,l){if(!r.sprite){var p=e.context,f=e.ratio;p.clearRect(0,0,(cw<<5)/f,ch/f);var O=0,_=0,S=0,v=o.length,s,d,g,P,R;for(--l;++l<v;){if(r=o[l],p.save(),p.font=r.style+" "+r.weight+" "+~~((r.size+1)/f)+"px "+r.font,s=p.measureText(r.text+"m").width*f,g=r.size<<1,r.rotate){var I=Math.sin(r.rotate*cloudRadians),j=Math.cos(r.rotate*cloudRadians),L=s*j,G=s*I,J=g*j,Q=g*I;s=Math.max(Math.abs(L+Q),Math.abs(L-Q))+31>>5<<5,g=~~Math.max(Math.abs(G+J),Math.abs(G-J))}else s=s+31>>5<<5;if(g>S&&(S=g),O+s>=cw<<5&&(O=0,_+=S,S=0),_+g>=ch)break;p.translate((O+(s>>1))/f,(_+(g>>1))/f),r.rotate&&p.rotate(r.rotate*cloudRadians),p.fillText(r.text,0,0),r.padding&&(p.lineWidth=2*r.padding,p.strokeText(r.text,0,0)),p.restore(),r.width=s,r.height=g,r.xoff=O,r.yoff=_,r.x1=s>>1,r.y1=g>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,O+=s}for(var W=p.getImageData(0,0,(cw<<5)/f,ch/f).data,Z=[];--l>=0;)if(r=o[l],!!r.hasText){for(s=r.width,d=s>>5,g=r.y1-r.y0,P=0;P<g*d;P++)Z[P]=0;if(O=r.xoff,O==null)return;_=r.yoff;var te=0,ee=-1;for(R=0;R<g;R++){for(P=0;P<s;P++){var ie=d*R+(P>>5),oe=W[(_+R)*(cw<<5)+(O+P)<<2]?1<<31-P%32:0;Z[ie]|=oe,te|=oe}te?ee=R:(r.y0++,g--,R--,_++)}r.y1=r.y0+ee,r.sprite=Z.slice(0,(r.y1-r.y0)*d)}}}function cloudCollide(e,r,o){o>>=5;for(var l=e.sprite,p=e.width>>5,f=e.x-(p<<4),O=f&127,_=32-O,S=e.y1-e.y0,v=(e.y+e.y0)*o+(f>>5),s,d=0;d<S;d++){s=0;for(var g=0;g<=p;g++)if((s<<_|(g<p?(s=l[d*p+g])>>>O:0))&r[v+g])return!0;v+=o}return!1}function cloudBounds(e,r){var o=e[0],l=e[1];r.x+r.x0<o.x&&(o.x=r.x+r.x0),r.y+r.y0<o.y&&(o.y=r.y+r.y0),r.x+r.x1>l.x&&(l.x=r.x+r.x1),r.y+r.y1>l.y&&(l.y=r.y+r.y1)}function collideRects(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function archimedeanSpiral(e){var r=e[0]/e[1];return function(o){return[r*(o*=.1)*Math.cos(o),o*Math.sin(o)]}}function rectangularSpiral(e){var r=4,o=r*e[0]/e[1],l=0,p=0;return function(f){var O=f<0?-1:1;switch(Math.sqrt(1+4*O*f)-O&3){case 0:l+=o;break;case 1:p+=r;break;case 2:l-=o;break;default:p-=r;break}return[l,p]}}function zeroArray(e){for(var r=[],o=-1;++o<e;)r[o]=0;return r}function functor(e){return typeof e=="function"?e:function(){return e}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};const Output=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Params=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Wordcloud(e){Transform.call(this,cloud(),e)}Wordcloud.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Output}]};inherits(Wordcloud,Transform,{transform(e,r){e.size&&!(e.size[0]&&e.size[1])&&error("Wordcloud size dimensions must be non-zero.");function o(R){const I=e[R];return isFunction(I)&&r.modified(I.fields)}const l=e.modified();if(!(l||r.changed(r.ADD_REM)||Params.some(o)))return;const p=r.materialize(r.SOURCE).source,f=this.value,O=e.as||Output;let _=e.fontSize||14,S;if(isFunction(_)?S=e.fontSizeRange:_=constant$1(_),S){const R=_,I=scale$4("sqrt")().domain(extent(p,R)).range(S);_=j=>I(R(j))}p.forEach(R=>{R[O[0]]=NaN,R[O[1]]=NaN,R[O[3]]=0});const v=f.words(p).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(_).random(random).layout(),s=f.size(),d=s[0]>>1,g=s[1]>>1,P=v.length;for(let R=0,I,j;R<P;++R)I=v[R],j=I.datum,j[O[0]]=I.x+d,j[O[1]]=I.y+g,j[O[2]]=I.font,j[O[3]]=I.size,j[O[4]]=I.style,j[O[5]]=I.weight,j[O[6]]=I.rotate;return r.reflow(l).modifies(O)}});const wordcloud=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:Wordcloud},Symbol.toStringTag,{value:"Module"})),array8=e=>new Uint8Array(e),array16=e=>new Uint16Array(e),array32=e=>new Uint32Array(e);function Bitmaps(){let e=8,r=[],o=array32(0),l=array$1(0,e),p=array$1(0,e);return{data:()=>r,seen:()=>o=lengthen(o,r.length),add(f){for(let O=0,_=r.length,S=f.length,v;O<S;++O)v=f[O],v._index=_++,r.push(v)},remove(f,O){const _=r.length,S=Array(_-f),v=r;let s,d,g;for(d=0;!O[d]&&d<_;++d)S[d]=r[d],v[d]=d;for(g=d;d<_;++d)s=r[d],O[d]?v[d]=-1:(v[d]=g,l[g]=l[d],p[g]=p[d],S[g]=s,s._index=g++),l[d]=0;return r=S,v},size:()=>r.length,curr:()=>l,prev:()=>p,reset:f=>p[f]=l[f],all:()=>e<257?255:e<65537?65535:4294967295,set(f,O){l[f]|=O},clear(f,O){l[f]&=~O},resize(f,O){const _=l.length;(f>_||O>e)&&(e=Math.max(O,e),l=array$1(f,e,l),p=array$1(f,e))}}}function lengthen(e,r,o){return e.length>=r?e:(o=o||new e.constructor(r),o.set(e),o)}function array$1(e,r,o){const l=(r<257?array8:r<65537?array16:array32)(e);return o&&l.set(o),l}function Dimension(e,r,o){const l=1<<r;return{one:l,zero:~l,range:o.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(p,f){const O=this,_=O.bisect(O.range,p.value),S=p.index,v=_[0],s=_[1],d=S.length;let g;for(g=0;g<v;++g)f[S[g]]|=l;for(g=s;g<d;++g)f[S[g]]|=l;return O}}}function SortedIndex(){let e=array32(0),r=[],o=0;function l(_,S,v){if(!S.length)return[];const s=o,d=S.length,g=array32(d);let P=Array(d),R,I,j;for(j=0;j<d;++j)P[j]=_(S[j]),g[j]=j;if(P=sort(P,g),s)R=r,I=e,r=Array(s+d),e=array32(s+d),merge$1(v,R,I,s,P,g,d,r,e);else{if(v>0)for(j=0;j<d;++j)g[j]+=v;r=P,e=g}return o=s+d,{index:g,value:P}}function p(_,S){const v=o;let s,d,g;for(d=0;!S[e[d]]&&d<v;++d);for(g=d;d<v;++d)S[s=e[d]]||(e[g]=s,r[g]=r[d],++g);o=v-_}function f(_){for(let S=0,v=o;S<v;++S)e[S]=_[e[S]]}function O(_,S){let v;return S?v=S.length:(S=r,v=o),[bisectLeft$1(S,_[0],0,v),bisectRight$1(S,_[1],0,v)]}return{insert:l,remove:p,bisect:O,reindex:f,index:()=>e,size:()=>o}}function sort(e,r){return e.sort.call(r,(o,l)=>{const p=e[o],f=e[l];return p<f?-1:p>f?1:0}),permute(e,r)}function merge$1(e,r,o,l,p,f,O,_,S){let v=0,s=0,d;for(d=0;v<l&&s<O;++d)r[v]<p[s]?(_[d]=r[v],S[d]=o[v++]):(_[d]=p[s],S[d]=f[s++]+e);for(;v<l;++v,++d)_[d]=r[v],S[d]=o[v];for(;s<O;++s,++d)_[d]=p[s],S[d]=f[s]+e}function CrossFilter(e){Transform.call(this,Bitmaps(),e),this._indices=null,this._dims=null}CrossFilter.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};inherits(CrossFilter,Transform,{transform(e,r){if(this._dims){var o=e.modified("fields")||e.fields.some(l=>r.modified(l.fields));return o?this.reinit(e,r):this.eval(e,r)}else return this.init(e,r)},init(e,r){const o=e.fields,l=e.query,p=this._indices={},f=this._dims=[],O=l.length;let _=0,S,v;for(;_<O;++_)S=o[_].fname,v=p[S]||(p[S]=SortedIndex()),f.push(Dimension(v,_,l[_]));return this.eval(e,r)},reinit(e,r){const o=r.materialize().fork(),l=e.fields,p=e.query,f=this._indices,O=this._dims,_=this.value,S=_.curr(),v=_.prev(),s=_.all(),d=o.rem=o.add,g=o.mod,P=p.length,R={};let I,j,L,G,J,Q,W,Z,te;if(v.set(S),r.rem.length&&(J=this.remove(e,r,o)),r.add.length&&_.add(r.add),r.mod.length)for(Q={},G=r.mod,W=0,Z=G.length;W<Z;++W)Q[G[W]._index]=1;for(W=0;W<P;++W)te=l[W],(!O[W]||e.modified("fields",W)||r.modified(te.fields))&&(L=te.fname,(I=R[L])||(f[L]=j=SortedIndex(),R[L]=I=j.insert(te,r.source,0)),O[W]=Dimension(j,W,p[W]).onAdd(I,S));for(W=0,Z=_.data().length;W<Z;++W)J[W]||(v[W]!==S[W]?d.push(W):Q[W]&&S[W]!==s&&g.push(W));return _.mask=(1<<P)-1,o},eval(e,r){const o=r.materialize().fork(),l=this._dims.length;let p=0;return r.rem.length&&(this.remove(e,r,o),p|=(1<<l)-1),e.modified("query")&&!e.modified("fields")&&(p|=this.update(e,r,o)),r.add.length&&(this.insert(e,r,o),p|=(1<<l)-1),r.mod.length&&(this.modify(r,o),p|=(1<<l)-1),this.value.mask=p,o},insert(e,r,o){const l=r.add,p=this.value,f=this._dims,O=this._indices,_=e.fields,S={},v=o.add,s=p.size()+l.length,d=f.length;let g=p.size(),P,R,I;p.resize(s,d),p.add(l);const j=p.curr(),L=p.prev(),G=p.all();for(P=0;P<d;++P)R=_[P].fname,I=S[R]||(S[R]=O[R].insert(_[P],l,g)),f[P].onAdd(I,j);for(;g<s;++g)L[g]=G,j[g]!==G&&v.push(g)},modify(e,r){const o=r.mod,l=this.value,p=l.curr(),f=l.all(),O=e.mod;let _,S,v;for(_=0,S=O.length;_<S;++_)v=O[_]._index,p[v]!==f&&o.push(v)},remove(e,r,o){const l=this._indices,p=this.value,f=p.curr(),O=p.prev(),_=p.all(),S={},v=o.rem,s=r.rem;let d,g,P,R;for(d=0,g=s.length;d<g;++d)P=s[d]._index,S[P]=1,O[P]=R=f[P],f[P]=_,R!==_&&v.push(P);for(P in l)l[P].remove(g,S);return this.reindex(r,g,S),S},reindex(e,r,o){const l=this._indices,p=this.value;e.runAfter(()=>{const f=p.remove(r,o);for(const O in l)l[O].reindex(f)})},update(e,r,o){const l=this._dims,p=e.query,f=r.stamp,O=l.length;let _=0,S,v;for(o.filters=0,v=0;v<O;++v)e.modified("query",v)&&(S=v,++_);if(_===1)_=l[S].one,this.incrementOne(l[S],p[S],o.add,o.rem);else for(v=0,_=0;v<O;++v)e.modified("query",v)&&(_|=l[v].one,this.incrementAll(l[v],p[v],f,o.add),o.rem=o.add);return _},incrementAll(e,r,o,l){const p=this.value,f=p.seen(),O=p.curr(),_=p.prev(),S=e.index(),v=e.bisect(e.range),s=e.bisect(r),d=s[0],g=s[1],P=v[0],R=v[1],I=e.one;let j,L,G;if(d<P)for(j=d,L=Math.min(P,g);j<L;++j)G=S[j],f[G]!==o&&(_[G]=O[G],f[G]=o,l.push(G)),O[G]^=I;else if(d>P)for(j=P,L=Math.min(d,R);j<L;++j)G=S[j],f[G]!==o&&(_[G]=O[G],f[G]=o,l.push(G)),O[G]^=I;if(g>R)for(j=Math.max(d,R),L=g;j<L;++j)G=S[j],f[G]!==o&&(_[G]=O[G],f[G]=o,l.push(G)),O[G]^=I;else if(g<R)for(j=Math.max(P,g),L=R;j<L;++j)G=S[j],f[G]!==o&&(_[G]=O[G],f[G]=o,l.push(G)),O[G]^=I;e.range=r.slice()},incrementOne(e,r,o,l){const p=this.value,f=p.curr(),O=e.index(),_=e.bisect(e.range),S=e.bisect(r),v=S[0],s=S[1],d=_[0],g=_[1],P=e.one;let R,I,j;if(v<d)for(R=v,I=Math.min(d,s);R<I;++R)j=O[R],f[j]^=P,o.push(j);else if(v>d)for(R=d,I=Math.min(v,g);R<I;++R)j=O[R],f[j]^=P,l.push(j);if(s>g)for(R=Math.max(v,g),I=s;R<I;++R)j=O[R],f[j]^=P,o.push(j);else if(s<g)for(R=Math.max(d,s),I=g;R<I;++R)j=O[R],f[j]^=P,l.push(j);e.range=r.slice()}});function ResolveFilter(e){Transform.call(this,null,e)}ResolveFilter.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};inherits(ResolveFilter,Transform,{transform(e,r){const o=~(e.ignore||0),l=e.filter,p=l.mask;if(!(p&o))return r.StopPropagation;const f=r.fork(r.ALL),O=l.data(),_=l.curr(),S=l.prev(),v=s=>_[s]&o?null:O[s];return f.filter(f.MOD,v),p&p-1?(f.filter(f.ADD,s=>{const d=_[s]&o;return!d&&d^S[s]&o?O[s]:null}),f.filter(f.REM,s=>{const d=_[s]&o;return d&&!(d^(d^S[s]&o))?O[s]:null})):(f.filter(f.ADD,v),f.filter(f.REM,s=>(_[s]&o)===p?O[s]:null)),f.filter(f.SOURCE,s=>v(s._index))}});const xf=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:CrossFilter,resolvefilter:ResolveFilter},Symbol.toStringTag,{value:"Module"})),Literal="Literal";var TokenName,TokenBooleanLiteral=1,TokenEOF=2,TokenIdentifier=3,TokenKeyword=4,TokenNullLiteral=5,TokenNumericLiteral=6,TokenPunctuator=7,TokenStringLiteral=8,TokenRegularExpression=9;TokenName={};TokenName[TokenBooleanLiteral]="Boolean";TokenName[TokenEOF]="<end>";TokenName[TokenIdentifier]="Identifier";TokenName[TokenKeyword]="Keyword";TokenName[TokenNullLiteral]="Null";TokenName[TokenNumericLiteral]="Numeric";TokenName[TokenPunctuator]="Punctuator";TokenName[TokenStringLiteral]="String";TokenName[TokenRegularExpression]="RegularExpression";var Constants={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Functions(e){function r(O,_,S,v){let s=e(_[0]);return S&&(s=S+"("+s+")",S.lastIndexOf("new ",0)===0&&(s="("+s+")")),s+"."+O+(v<0?"":v===0?"()":"("+_.slice(1).map(e).join(",")+")")}function o(O,_,S){return v=>r(O,v,_,S)}const l="new Date",p="String",f="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(O){O.length<3&&error("Missing arguments to clamp function."),O.length>3&&error("Too many arguments to clamp function.");const _=O.map(e);return"Math.max("+_[1]+", Math.min("+_[2]+","+_[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:l,date:o("getDate",l,0),day:o("getDay",l,0),year:o("getFullYear",l,0),month:o("getMonth",l,0),hours:o("getHours",l,0),minutes:o("getMinutes",l,0),seconds:o("getSeconds",l,0),milliseconds:o("getMilliseconds",l,0),time:o("getTime",l,0),timezoneoffset:o("getTimezoneOffset",l,0),utcdate:o("getUTCDate",l,0),utcday:o("getUTCDay",l,0),utcyear:o("getUTCFullYear",l,0),utcmonth:o("getUTCMonth",l,0),utchours:o("getUTCHours",l,0),utcminutes:o("getUTCMinutes",l,0),utcseconds:o("getUTCSeconds",l,0),utcmilliseconds:o("getUTCMilliseconds",l,0),length:o("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:o("toUpperCase",p,0),lower:o("toLowerCase",p,0),substring:o("substring",p),split:o("split",p),trim:o("trim",p,0),regexp:f,test:o("test",f),if:function(O){O.length<3&&error("Missing arguments to if function."),O.length>3&&error("Too many arguments to if function.");const _=O.map(e);return"("+_[0]+"?"+_[1]+":"+_[2]+")"}}}function stripQuotes(e){const r=e&&e.length-1;return r&&(e[0]==='"'&&e[r]==='"'||e[0]==="'"&&e[r]==="'")?e.slice(1,-1):e}function codegen(e){e=e||{};const r=e.allowed?toSet(e.allowed):{},o=e.forbidden?toSet(e.forbidden):{},l=e.constants||Constants,p=(e.functions||Functions)(d),f=e.globalvar,O=e.fieldvar,_=isFunction(f)?f:R=>`${f}["${R}"]`;let S={},v={},s=0;function d(R){if(isString(R))return R;const I=g[R.type];return I==null&&error("Unsupported type: "+R.type),I(R)}const g={Literal:R=>R.raw,Identifier:R=>{const I=R.name;return s>0?I:has(o,I)?error("Illegal identifier: "+I):has(l,I)?l[I]:has(r,I)?I:(S[I]=1,_(I))},MemberExpression:R=>{const I=!R.computed,j=d(R.object);I&&(s+=1);const L=d(R.property);return j===O&&(v[stripQuotes(L)]=1),I&&(s-=1),j+(I?"."+L:"["+L+"]")},CallExpression:R=>{R.callee.type!=="Identifier"&&error("Illegal callee type: "+R.callee.type);const I=R.callee.name,j=R.arguments,L=has(p,I)&&p[I];return L||error("Unrecognized function: "+I),isFunction(L)?L(j):L+"("+j.map(d).join(",")+")"},ArrayExpression:R=>"["+R.elements.map(d).join(",")+"]",BinaryExpression:R=>"("+d(R.left)+" "+R.operator+" "+d(R.right)+")",UnaryExpression:R=>"("+R.operator+d(R.argument)+")",ConditionalExpression:R=>"("+d(R.test)+"?"+d(R.consequent)+":"+d(R.alternate)+")",LogicalExpression:R=>"("+d(R.left)+R.operator+d(R.right)+")",ObjectExpression:R=>"{"+R.properties.map(d).join(",")+"}",Property:R=>{s+=1;const I=d(R.key);return s-=1,I+":"+d(R.value)}};function P(R){const I={code:d(R),globals:Object.keys(S),fields:Object.keys(v)};return S={},v={},I}return P.functions=p,P.constants=l,P}const SELECTION_GETTER=Symbol("vega_selection_getter");function getter(e){return(!e.getter||!e.getter[SELECTION_GETTER])&&(e.getter=field(e.field),e.getter[SELECTION_GETTER]=!0),e.getter}const Intersect="intersect",Union="union",VlMulti="vlMulti",VlPoint="vlPoint",Or="or",And="and",SelectionId="_vgsid_",$selectionId=field(SelectionId),TYPE_ENUM="E",TYPE_RANGE_INC="R",TYPE_RANGE_EXC="R-E",TYPE_RANGE_LE="R-LE",TYPE_RANGE_RE="R-RE",UNIT_INDEX="index:unit";function testPoint(e,r){for(var o=r.fields,l=r.values,p=o.length,f=0,O,_;f<p;++f)if(_=o[f],O=getter(_)(e),isDate$1(O)&&(O=toNumber(O)),isDate$1(l[f])&&(l[f]=toNumber(l[f])),isArray(l[f])&&isDate$1(l[f][0])&&(l[f]=l[f].map(toNumber)),_.type===TYPE_ENUM){if(isArray(l[f])?l[f].indexOf(O)<0:O!==l[f])return!1}else if(_.type===TYPE_RANGE_INC){if(!inrange(O,l[f]))return!1}else if(_.type===TYPE_RANGE_RE){if(!inrange(O,l[f],!0,!1))return!1}else if(_.type===TYPE_RANGE_EXC){if(!inrange(O,l[f],!1,!1))return!1}else if(_.type===TYPE_RANGE_LE&&!inrange(O,l[f],!1,!0))return!1;return!0}function selectionTest(e,r,o){for(var l=this.context.data[e],p=l?l.values.value:[],f=l?l[UNIT_INDEX]&&l[UNIT_INDEX].value:void 0,O=o===Intersect,_=p.length,S=0,v,s,d,g,P;S<_;++S)if(v=p[S],f&&O){if(s=s||{},d=s[g=v.unit]||0,d===-1)continue;if(P=testPoint(r,v),s[g]=P?-1:++d,P&&f.size===1)return!0;if(!P&&d===f.get(g).count)return!1}else if(P=testPoint(r,v),O^P)return P;return _&&O}const bisect=bisector$1($selectionId),bisectLeft=bisect.left,bisectRight=bisect.right;function selectionIdTest(e,r,o){const l=this.context.data[e],p=l?l.values.value:[],f=l?l[UNIT_INDEX]&&l[UNIT_INDEX].value:void 0,O=o===Intersect,_=$selectionId(r),S=bisectLeft(p,_);if(S===p.length||$selectionId(p[S])!==_)return!1;if(f&&O){if(f.size===1)return!0;if(bisectRight(p,_)-S<f.size)return!1}return!0}function selectionTuples(e,r){return e.map(o=>extend(r.fields?{values:r.fields.map(l=>getter(l)(o.datum))}:{[SelectionId]:$selectionId(o.datum)},r))}function selectionResolve(e,r,o,l){for(var p=this.context.data[e],f=p?p.values.value:[],O={},_={},S={},v,s,d,g,P,R,I,j,L,G,J=f.length,Q=0,W,Z;Q<J;++Q)if(v=f[Q],g=v.unit,s=v.fields,d=v.values,s&&d){for(W=0,Z=s.length;W<Z;++W)P=s[W],I=O[P.field]||(O[P.field]={}),j=I[g]||(I[g]=[]),S[P.field]=L=P.type.charAt(0),G=ops[`${L}_union`],I[g]=G(j,array$2(d[W]));o&&(j=_[g]||(_[g]=[]),j.push(array$2(d).reduce((te,ee,ie)=>(te[s[ie].field]=ee,te),{})))}else P=SelectionId,R=$selectionId(v),I=O[P]||(O[P]={}),j=I[g]||(I[g]=[]),j.push(R),o&&(j=_[g]||(_[g]=[]),j.push({[SelectionId]:R}));if(r=r||Union,O[SelectionId]?O[SelectionId]=ops[`${SelectionId}_${r}`](...Object.values(O[SelectionId])):Object.keys(O).forEach(te=>{O[te]=Object.keys(O[te]).map(ee=>O[te][ee]).reduce((ee,ie)=>ee===void 0?ie:ops[`${S[te]}_${r}`](ee,ie))}),f=Object.keys(_),o&&f.length){const te=l?VlPoint:VlMulti;O[te]=r===Union?{[Or]:f.reduce((ee,ie)=>(ee.push(..._[ie]),ee),[])}:{[And]:f.map(ee=>({[Or]:_[ee]}))}}return O}var ops={[`${SelectionId}_union`]:union,[`${SelectionId}_intersect`]:intersection,E_union:function(e,r){if(!e.length)return r;for(var o=0,l=r.length;o<l;++o)e.indexOf(r[o])<0&&e.push(r[o]);return e},E_intersect:function(e,r){return e.length?e.filter(o=>r.indexOf(o)>=0):r},R_union:function(e,r){var o=toNumber(r[0]),l=toNumber(r[1]);return o>l&&(o=r[1],l=r[0]),e.length?(e[0]>o&&(e[0]=o),e[1]<l&&(e[1]=l),e):[o,l]},R_intersect:function(e,r){var o=toNumber(r[0]),l=toNumber(r[1]);return o>l&&(o=r[1],l=r[0]),e.length?l<e[0]||e[1]<o?[]:(e[0]<o&&(e[0]=o),e[1]>l&&(e[1]=l),e):[o,l]}};const DataPrefix$1=":",IndexPrefix$1="@";function selectionVisitor(e,r,o,l){r[0].type!==Literal&&error("First argument to selection functions must be a string literal.");const p=r[0].value,f=r.length>=2&&peek(r).value,O="unit",_=IndexPrefix$1+O,S=DataPrefix$1+p;f===Intersect&&!has(l,_)&&(l[_]=o.getData(p).indataRef(o,O)),has(l,S)||(l[S]=o.getData(p).tuplesRef())}function data$1(e){const r=this.context.data[e];return r?r.values.value:[]}function indata(e,r,o){const l=this.context.data[e]["index:"+r],p=l?l.value.get(o):void 0;return p&&p.count}function setdata(e,r){const o=this.context.dataflow,l=this.context.data[e],p=l.input;return o.pulse(p,o.changeset().remove(truthy).insert(r)),1}function encode(e,r,o){if(e){const l=this.context.dataflow,p=e.mark.source;l.pulse(p,l.changeset().encode(e,r))}return o!==void 0?o:e}const wrap=e=>function(r,o){const l=this.context.dataflow.locale();return r===null?"null":l[e](o)(r)},format=wrap("format"),timeFormat=wrap("timeFormat"),utcFormat=wrap("utcFormat"),timeParse=wrap("timeParse"),utcParse=wrap("utcParse"),dateObj=new Date(2e3,0,1);function time(e,r,o){return!Number.isInteger(e)||!Number.isInteger(r)?"":(dateObj.setYear(2e3),dateObj.setMonth(e),dateObj.setDate(r),timeFormat.call(this,dateObj,o))}function monthFormat(e){return time.call(this,e,1,"%B")}function monthAbbrevFormat(e){return time.call(this,e,1,"%b")}function dayFormat(e){return time.call(this,0,2+e,"%A")}function dayAbbrevFormat(e){return time.call(this,0,2+e,"%a")}const DataPrefix=":",IndexPrefix="@",ScalePrefix="%",SignalPrefix="$";function dataVisitor(e,r,o,l){r[0].type!==Literal&&error("First argument to data functions must be a string literal.");const p=r[0].value,f=DataPrefix+p;if(!has(f,l))try{l[f]=o.getData(p).tuplesRef()}catch{}}function indataVisitor(e,r,o,l){r[0].type!==Literal&&error("First argument to indata must be a string literal."),r[1].type!==Literal&&error("Second argument to indata must be a string literal.");const p=r[0].value,f=r[1].value,O=IndexPrefix+f;has(O,l)||(l[O]=o.getData(p).indataRef(o,f))}function scaleVisitor(e,r,o,l){if(r[0].type===Literal)addScaleDependency(o,l,r[0].value);else for(e in o.scales)addScaleDependency(o,l,e)}function addScaleDependency(e,r,o){const l=ScalePrefix+o;if(!has(r,l))try{r[l]=e.scaleRef(o)}catch{}}function getScale(e,r){if(isFunction(e))return e;if(isString(e)){const o=r.scales[e];return o&&isRegisteredScale(o.value)?o.value:void 0}}function internalScaleFunctions(e,r,o){r.__bandwidth=p=>p&&p.bandwidth?p.bandwidth():0,o._bandwidth=scaleVisitor,o._range=scaleVisitor,o._scale=scaleVisitor;const l=p=>"_["+(p.type===Literal?$(ScalePrefix+p.value):$(ScalePrefix)+"+"+e(p))+"]";return{_bandwidth:p=>`this.__bandwidth(${l(p[0])})`,_range:p=>`${l(p[0])}.range()`,_scale:p=>`${l(p[0])}(${e(p[1])})`}}function geoMethod(e,r){return function(o,l,p){if(o){const f=getScale(o,(p||this).context);return f&&f.path[e](l)}else return r(l)}}const geoArea=geoMethod("area",geoArea$1),geoBounds=geoMethod("bounds",geoBounds$1),geoCentroid=geoMethod("centroid",geoCentroid$1);function geoScale(e,r){const o=getScale(e,(r||this).context);return o&&o.scale()}function inScope(e){const r=this.context.group;let o=!1;if(r)for(;e;){if(e===r){o=!0;break}e=e.mark.group}return o}function log(e,r,o){try{e[r].apply(e,["EXPRESSION"].concat([].slice.call(o)))}catch(l){e.warn(l)}return o[o.length-1]}function warn(){return log(this.context.dataflow,"warn",arguments)}function info(){return log(this.context.dataflow,"info",arguments)}function debug(){return log(this.context.dataflow,"debug",arguments)}function channel_luminance_value(e){const r=e/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}function luminance(e){const r=rgb(e),o=channel_luminance_value(r.r),l=channel_luminance_value(r.g),p=channel_luminance_value(r.b);return .2126*o+.7152*l+.0722*p}function contrast(e,r){const o=luminance(e),l=luminance(r),p=Math.max(o,l),f=Math.min(o,l);return(p+.05)/(f+.05)}function merge(){const e=[].slice.call(arguments);return e.unshift({}),extend(...e)}function equal(e,r){return e===r||e!==e&&r!==r?!0:isArray(e)?isArray(r)&&e.length===r.length?equalArray(e,r):!1:isObject(e)&&isObject(r)?equalObject(e,r):!1}function equalArray(e,r){for(let o=0,l=e.length;o<l;++o)if(!equal(e[o],r[o]))return!1;return!0}function equalObject(e,r){for(const o in e)if(!equal(e[o],r[o]))return!1;return!0}function removePredicate(e){return r=>equalObject(e,r)}function modify(e,r,o,l,p,f){const O=this.context.dataflow,_=this.context.data[e],S=_.input,v=O.stamp();let s=_.changes,d,g;if(O._trigger===!1||!(S.value.length||r||l))return 0;if((!s||s.stamp<v)&&(_.changes=s=O.changeset(),s.stamp=v,O.runAfter(()=>{_.modified=!0,O.pulse(S,s).run()},!0,1)),o&&(d=o===!0?truthy:isArray(o)||isTuple(o)?o:removePredicate(o),s.remove(d)),r&&s.insert(r),l&&(d=removePredicate(l),S.value.some(d)?s.remove(d):s.insert(l)),p)for(g in f)s.modify(p,g,f[g]);return 1}function pinchDistance(e){const r=e.touches,o=r[0].clientX-r[1].clientX,l=r[0].clientY-r[1].clientY;return Math.hypot(o,l)}function pinchAngle(e){const r=e.touches;return Math.atan2(r[0].clientY-r[1].clientY,r[0].clientX-r[1].clientX)}const accessors={};function pluck(e,r){const o=accessors[r]||(accessors[r]=field(r));return isArray(e)?e.map(o):o(e)}function array(e){return isArray(e)||ArrayBuffer.isView(e)?e:null}function sequence(e){return array(e)||(isString(e)?e:null)}function join(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return array(e).join(...o)}function indexof(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return sequence(e).indexOf(...o)}function lastindexof(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return sequence(e).lastIndexOf(...o)}function slice(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return sequence(e).slice(...o)}function replace(e,r,o){return isFunction(o)&&error("Function argument passed to replace."),String(e).replace(r,o)}function reverse(e){return array(e).slice().reverse()}function bandspace(e,r,o){return bandSpace(e||0,r||0,o||0)}function bandwidth(e,r){const o=getScale(e,(r||this).context);return o&&o.bandwidth?o.bandwidth():0}function copy(e,r){const o=getScale(e,(r||this).context);return o?o.copy():void 0}function domain(e,r){const o=getScale(e,(r||this).context);return o?o.domain():[]}function invert(e,r,o){const l=getScale(e,(o||this).context);return l?isArray(r)?(l.invertRange||l.invert)(r):(l.invert||l.invertExtent)(r):void 0}function range$1(e,r){const o=getScale(e,(r||this).context);return o&&o.range?o.range():[]}function scale$2(e,r,o){const l=getScale(e,(o||this).context);return l?l(r):void 0}function scaleGradient(e,r,o,l,p){e=getScale(e,(p||this).context);const f=Gradient(r,o);let O=e.domain(),_=O[0],S=peek(O),v=identity$1;return S-_?v=scaleFraction(e,_,S):e=(e.interpolator?scale$4("sequential")().interpolator(e.interpolator()):scale$4("linear")().interpolate(e.interpolate()).range(e.range())).domain([_=0,S=1]),e.ticks&&(O=e.ticks(+l||15),_!==O[0]&&O.unshift(_),S!==peek(O)&&O.push(S)),O.forEach(s=>f.stop(v(s),e(s))),f}function geoShape(e,r,o){const l=getScale(e,(o||this).context);return function(p){return l?l.path.context(p)(r):""}}function pathShape(e){let r=null;return function(o){return o?pathRender(o,r=r||parse$1(e)):e}}const datum=e=>e.data;function treeNodes(e,r){const o=data$1.call(r,e);return o.root&&o.root.lookup||{}}function treePath(e,r,o){const l=treeNodes(e,this),p=l[r],f=l[o];return p&&f?p.path(f).map(datum):void 0}function treeAncestors(e,r){const o=treeNodes(e,this)[r];return o?o.ancestors().map(datum):void 0}const _window=()=>typeof window<"u"&&window||null;function screen(){const e=_window();return e?e.screen:{}}function windowSize(){const e=_window();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function containerSize(){const e=this.context.dataflow,r=e.container&&e.container();return r?[r.clientWidth,r.clientHeight]:[void 0,void 0]}function intersect(e,r,o){if(!e)return[];const[l,p]=e,f=new Bounds().set(l[0],l[1],p[0],p[1]),O=o||this.context.dataflow.scenegraph().root;return intersect$2(O,f,filter(r))}function filter(e){let r=null;if(e){const o=array$2(e.marktype),l=array$2(e.markname);r=p=>(!o.length||o.some(f=>p.marktype===f))&&(!l.length||l.some(f=>p.name===f))}return r}function lassoAppend(e,r,o){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=array$2(e);const p=e[e.length-1];return p===void 0||Math.hypot(p[0]-r,p[1]-o)>l?[...e,[r,o]]:e}function lassoPath(e){return array$2(e).reduce((r,o,l)=>{let[p,f]=o;return r+=l==0?`M ${p},${f} `:l===e.length-1?" Z":`L ${p},${f} `},"")}function intersectLasso(e,r,o){const{x:l,y:p,mark:f}=o,O=new Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[S,v]of r)S<O.x1&&(O.x1=S),S>O.x2&&(O.x2=S),v<O.y1&&(O.y1=v),v>O.y2&&(O.y2=v);return O.translate(l,p),intersect([[O.x1,O.y1],[O.x2,O.y2]],e,f).filter(S=>pointInPolygon(S.x,S.y,r))}function pointInPolygon(e,r,o){let l=0;for(let p=0,f=o.length-1;p<o.length;f=p++){const[O,_]=o[f],[S,v]=o[p];v>r!=_>r&&e<(O-S)*(r-v)/(_-v)+S&&l++}return l&1}const functionContext={random(){return random()},cumulativeNormal,cumulativeLogNormal,cumulativeUniform,densityNormal,densityLogNormal,densityUniform,quantileNormal,quantileLogNormal,quantileUniform,sampleNormal,sampleLogNormal,sampleUniform,isArray,isBoolean:isBoolean$1,isDate:isDate$1,isDefined(e){return e!==void 0},isNumber:isNumber$1,isObject,isRegExp,isString,isTuple,isValid(e){return e!=null&&e===e},toBoolean,toDate(e){return toDate(e)},toNumber,toString,indexof,join,lastindexof,replace,reverse,slice,flush,lerp,merge,pad,peek,pluck,span,inrange,truncate:truncate$1,rgb,lab:lab$1,hcl:hcl$2,hsl:hsl$2,luminance,contrast,sequence:range$4,format,utcFormat,utcParse,utcOffset,utcSequence,timeFormat,timeParse,timeOffset,timeSequence,timeUnitSpecifier,monthFormat,monthAbbrevFormat,dayFormat,dayAbbrevFormat,quarter,utcquarter,week,utcweek,dayofyear,utcdayofyear,warn,info,debug,extent(e){return extent(e)},inScope,intersect,clampRange,pinchDistance,pinchAngle,screen,containerSize,windowSize,bandspace,setdata,pathShape,panLinear,panLog,panPow,panSymlog,zoomLinear,zoomLog,zoomPow,zoomSymlog,encode,modify,lassoAppend,lassoPath,intersectLasso},eventFunctions=["view","item","group","xy","x","y"],eventPrefix="event.vega.",thisPrefix="this.",astVisitors={},codegenParams={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${$(SignalPrefix+e)}]`,functions:buildFunctions,constants:Constants,visitors:astVisitors},codeGenerator=codegen(codegenParams);function buildFunctions(e){const r=Functions(e);eventFunctions.forEach(o=>r[o]=eventPrefix+o);for(const o in functionContext)r[o]=thisPrefix+o;return extend(r,internalScaleFunctions(e,functionContext,astVisitors)),r}function expressionFunction(e,r,o){return arguments.length===1?functionContext[e]:(functionContext[e]=r,o&&(astVisitors[e]=o),codeGenerator&&(codeGenerator.functions[e]=thisPrefix+e),this)}expressionFunction("bandwidth",bandwidth,scaleVisitor);expressionFunction("copy",copy,scaleVisitor);expressionFunction("domain",domain,scaleVisitor);expressionFunction("range",range$1,scaleVisitor);expressionFunction("invert",invert,scaleVisitor);expressionFunction("scale",scale$2,scaleVisitor);expressionFunction("gradient",scaleGradient,scaleVisitor);expressionFunction("geoArea",geoArea,scaleVisitor);expressionFunction("geoBounds",geoBounds,scaleVisitor);expressionFunction("geoCentroid",geoCentroid,scaleVisitor);expressionFunction("geoShape",geoShape,scaleVisitor);expressionFunction("geoScale",geoScale,scaleVisitor);expressionFunction("indata",indata,indataVisitor);expressionFunction("data",data$1,dataVisitor);expressionFunction("treePath",treePath,dataVisitor);expressionFunction("treeAncestors",treeAncestors,dataVisitor);expressionFunction("vlSelectionTest",selectionTest,selectionVisitor);expressionFunction("vlSelectionIdTest",selectionIdTest,selectionVisitor);expressionFunction("vlSelectionResolve",selectionResolve,selectionVisitor);expressionFunction("vlSelectionTuples",selectionTuples);function parse(e){const r=this,o=e.operators||[];return e.background&&(r.background=e.background),e.eventConfig&&(r.eventConfig=e.eventConfig),e.locale&&(r.locale=e.locale),o.forEach(l=>r.parseOperator(l)),o.forEach(l=>r.parseOperatorParameters(l)),(e.streams||[]).forEach(l=>r.parseStream(l)),(e.updates||[]).forEach(l=>r.parseUpdate(l)),r.resolve()}const Skip$1=toSet(["rule"]),Swap=toSet(["group","image","rect"]);function adjustSpatial(e,r){let o="";return Skip$1[r]||(e.x2&&(e.x?(Swap[r]&&(o+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),o+="o.width=o.x2-o.x;"):o+="o.x=o.x2-(o.width||0);"),e.xc&&(o+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Swap[r]&&(o+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),o+="o.height=o.y2-o.y;"):o+="o.y=o.y2-(o.height||0);"),e.yc&&(o+="o.y=o.yc-(o.height||0)/2;")),o}function canonicalType(e){return(e+"").toLowerCase()}function isOperator(e){return canonicalType(e)==="operator"}function isCollect(e){return canonicalType(e)==="collect"}function expression(e,r,o){o.endsWith(";")||(o="return("+o+");");const l=Function(...r.concat(o));return e&&e.functions?l.bind(e.functions):l}function _compare(e,r,o,l){return`((u = ${e}) < (v = ${r}) || u == null) && v != null ? ${o}
  : (u > v || v == null) && u != null ? ${l}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${o}
  : v !== v && u === u ? ${l} : `}var expressionCodegen={operator:(e,r)=>expression(e,["_"],r.code),parameter:(e,r)=>expression(e,["datum","_"],r.code),event:(e,r)=>expression(e,["event"],r.code),handler:(e,r)=>{const o=`var datum=event.item&&event.item.datum;return ${r.code};`;return expression(e,["_","event"],o)},encode:(e,r)=>{const{marktype:o,channels:l}=r;let p="var o=item,datum=o.datum,m=0,$;";for(const f in l){const O="o["+$(f)+"]";p+=`$=${l[f].code};if(${O}!==$)${O}=$,m=1;`}return p+=adjustSpatial(l,o),p+="return m;",expression(e,["item","_"],p)},codegen:{get(e){const r=`[${e.map($).join("][")}]`,o=Function("_",`return _${r};`);return o.path=r,o},comparator(e,r){let o;const l=(f,O)=>{const _=r[O];let S,v;return f.path?(S=`a${f.path}`,v=`b${f.path}`):((o=o||{})["f"+O]=f,S=`this.f${O}(a)`,v=`this.f${O}(b)`),_compare(S,v,-_,_)},p=Function("a","b","var u, v; return "+e.map(l).join("")+"0;");return o?p.bind(o):p}}};function parseOperator(e){const r=this;isOperator(e.type)||!e.type?r.operator(e,e.update?r.operatorExpression(e.update):null):r.transform(e,e.type)}function parseOperatorParameters(e){const r=this;if(e.params){const o=r.get(e.id);o||error("Invalid operator id: "+e.id),r.dataflow.connect(o,o.parameters(r.parseParameters(e.params),e.react,e.initonly))}}function parseParameters(e,r){r=r||{};const o=this;for(const l in e){const p=e[l];r[l]=isArray(p)?p.map(f=>parseParameter(f,o,r)):parseParameter(p,o,r)}return r}function parseParameter(e,r,o){if(!e||!isObject(e))return e;for(let l=0,p=PARSERS.length,f;l<p;++l)if(f=PARSERS[l],has(e,f.key))return f.parse(e,r,o);return e}var PARSERS=[{key:"$ref",parse:getOperator},{key:"$key",parse:getKey},{key:"$expr",parse:getExpression},{key:"$field",parse:getField},{key:"$encode",parse:getEncode},{key:"$compare",parse:getCompare},{key:"$context",parse:getContext},{key:"$subflow",parse:getSubflow},{key:"$tupleid",parse:getTupleId}];function getOperator(e,r){return r.get(e.$ref)||error("Operator not defined: "+e.$ref)}function getExpression(e,r,o){e.$params&&r.parseParameters(e.$params,o);const l="e:"+e.$expr.code;return r.fn[l]||(r.fn[l]=accessor(r.parameterExpression(e.$expr),e.$fields))}function getKey(e,r){const o="k:"+e.$key+"_"+!!e.$flat;return r.fn[o]||(r.fn[o]=key(e.$key,e.$flat,r.expr.codegen))}function getField(e,r){if(!e.$field)return null;const o="f:"+e.$field+"_"+e.$name;return r.fn[o]||(r.fn[o]=field(e.$field,e.$name,r.expr.codegen))}function getCompare(e,r){const o="c:"+e.$compare+"_"+e.$order,l=array$2(e.$compare).map(p=>p&&p.$tupleid?tupleid:p);return r.fn[o]||(r.fn[o]=compare$1(l,e.$order,r.expr.codegen))}function getEncode(e,r){const o=e.$encode,l={};for(const p in o){const f=o[p];l[p]=accessor(r.encodeExpression(f.$expr),f.$fields),l[p].output=f.$output}return l}function getContext(e,r){return r}function getSubflow(e,r){const o=e.$subflow;return function(l,p,f){const O=r.fork().parse(o),_=O.get(o.operators[0].id),S=O.signals.parent;return S&&S.set(f),_.detachSubflow=()=>r.detach(O),_}}function getTupleId(){return tupleid}function parseStream(e){var r=this,o=e.filter!=null?r.eventExpression(e.filter):void 0,l=e.stream!=null?r.get(e.stream):void 0,p;e.source?l=r.events(e.source,e.type,o):e.merge&&(p=e.merge.map(f=>r.get(f)),l=p[0].merge.apply(p[0],p.slice(1))),e.between&&(p=e.between.map(f=>r.get(f)),l=l.between(p[0],p[1])),e.filter&&(l=l.filter(o)),e.throttle!=null&&(l=l.throttle(+e.throttle)),e.debounce!=null&&(l=l.debounce(+e.debounce)),l==null&&error("Invalid stream definition: "+JSON.stringify(e)),e.consume&&l.consume(!0),r.stream(e,l)}function parseUpdate(e){var r=this,o=isObject(o=e.source)?o.$ref:o,l=r.get(o),p=null,f=e.update,O=void 0;l||error("Source not defined: "+e.source),p=e.target&&e.target.$expr?r.eventExpression(e.target.$expr):r.get(e.target),f&&f.$expr&&(f.$params&&(O=r.parseParameters(f.$params)),f=r.handlerExpression(f.$expr)),r.update(e,l,p,f,O)}const SKIP={skip:!0};function getState$1(e){var r=this,o={};if(e.signals){var l=o.signals={};Object.keys(r.signals).forEach(f=>{const O=r.signals[f];e.signals(f,O)&&(l[f]=O.value)})}if(e.data){var p=o.data={};Object.keys(r.data).forEach(f=>{const O=r.data[f];e.data(f,O)&&(p[f]=O.input.value)})}return r.subcontext&&e.recurse!==!1&&(o.subcontext=r.subcontext.map(f=>f.getState(e))),o}function setState$1(e){var r=this,o=r.dataflow,l=e.data,p=e.signals;Object.keys(p||{}).forEach(f=>{o.update(r.signals[f],p[f],SKIP)}),Object.keys(l||{}).forEach(f=>{o.pulse(r.data[f].input,o.changeset().remove(truthy).insert(l[f]))}),(e.subcontext||[]).forEach((f,O)=>{const _=r.subcontext[O];_&&_.setState(f)})}function context(e,r,o,l){return new Context(e,r,o,l)}function Context(e,r,o,l){this.dataflow=e,this.transforms=r,this.events=e.events.bind(e),this.expr=l||expressionCodegen,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},o&&(this.functions=Object.create(o),this.functions.context=this)}function Subcontext(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Context.prototype=Subcontext.prototype={fork(){const e=new Subcontext(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(o=>o!==e);const r=Object.keys(e.nodes);for(const o of r)e.nodes[o]._targets=null;for(const o of r)e.nodes[o].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,r){return this.nodes[e]=r},add(e,r){const o=this,l=o.dataflow,p=e.value;if(o.set(e.id,r),isCollect(e.type)&&p&&(p.$ingest?l.ingest(r,p.$ingest,p.$format):p.$request?l.preload(r,p.$request,p.$format):l.pulse(r,l.changeset().insert(p))),e.root&&(o.root=r),e.parent){let f=o.get(e.parent.$ref);f?(l.connect(f,[r]),r.targets().add(f)):(o.unresolved=o.unresolved||[]).push(()=>{f=o.get(e.parent.$ref),l.connect(f,[r]),r.targets().add(f)})}if(e.signal&&(o.signals[e.signal]=r),e.scale&&(o.scales[e.scale]=r),e.data)for(const f in e.data){const O=o.data[f]||(o.data[f]={});e.data[f].forEach(_=>O[_]=r)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,r){this.add(e,this.dataflow.add(e.value,r))},transform(e,r){this.add(e,this.dataflow.add(this.transforms[canonicalType(r)]))},stream(e,r){this.set(e.id,r)},update(e,r,o,l,p){this.dataflow.on(r,o,l,p,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse,parseOperator,parseOperatorParameters,parseParameters,parseStream,parseUpdate,getState:getState$1,setState:setState$1};function initializeAria(e){const r=e.container();r&&(r.setAttribute("role","graphics-document"),r.setAttribute("aria-roleDescription","visualization"),ariaLabel(r,e.description()))}function ariaLabel(e,r){e&&(r==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",r))}function background(e){e.add(null,r=>(e._background=r.bg,e._resize=1,r.bg),{bg:e._signals.background})}const Default="default";function cursor(e){const r=e._signals.cursor||(e._signals.cursor=e.add({user:Default,item:null}));e.on(e.events("view","pointermove"),r,(o,l)=>{const p=r.value,f=p?isString(p)?p:p.user:Default,O=l.item&&l.item.cursor||null;return p&&f===p.user&&O==p.item?p:{user:f,item:O}}),e.add(null,function(o){let l=o.cursor,p=this.value;return isString(l)||(p=l.item,l=l.user),setCursor(e,l&&l!==Default?l:p||l),p},{cursor:r})}function setCursor(e,r){const o=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(o)return r==null?o.style.removeProperty("cursor"):o.style.cursor=r}function dataref(e,r){var o=e._runtime.data;return has(o,r)||error("Unrecognized data set: "+r),o[r]}function data(e,r){return arguments.length<2?dataref(this,e).values.value:change.call(this,e,changeset().remove(truthy).insert(r))}function change(e,r){isChangeSet(r)||error("Second argument to changes must be a changeset.");const o=dataref(this,e);return o.modified=!0,this.pulse(o.input,r)}function insert(e,r){return change.call(this,e,changeset().insert(r))}function remove(e,r){return change.call(this,e,changeset().remove(r))}function width(e){var r=e.padding();return Math.max(0,e._viewWidth+r.left+r.right)}function height(e){var r=e.padding();return Math.max(0,e._viewHeight+r.top+r.bottom)}function offset(e){var r=e.padding(),o=e._origin;return[r.left+o[0],r.top+o[1]]}function resizeRenderer(e){var r=offset(e),o=width(e),l=height(e);e._renderer.background(e.background()),e._renderer.resize(o,l,r),e._handler.origin(r),e._resizeListeners.forEach(p=>{try{p(o,l)}catch(f){e.error(f)}})}function eventExtend(e,r,o){var l=e._renderer,p=l&&l.canvas(),f,O,_;return p&&(_=offset(e),O=r.changedTouches?r.changedTouches[0]:r,f=point(O,p),f[0]-=_[0],f[1]-=_[1]),r.dataflow=e,r.item=o,r.vega=extension(e,o,f),r}function extension(e,r,o){const l=r?r.mark.marktype==="group"?r:r.mark.group:null;function p(O){var _=l,S;if(O){for(S=r;S;S=S.mark.group)if(S.mark.name===O){_=S;break}}return _&&_.mark&&_.mark.interactive?_:{}}function f(O){if(!O)return o;isString(O)&&(O=p(O));const _=o.slice();for(;O;)_[0]-=O.x||0,_[1]-=O.y||0,O=O.mark&&O.mark.group;return _}return{view:constant$1(e),item:constant$1(r||{}),group:p,xy:f,x:O=>f(O)[0],y:O=>f(O)[1]}}const VIEW="view",TIMER="timer",WINDOW="window",NO_TRAP={trap:!1};function initializeEventConfig(e){const r=extend({defaults:{}},e),o=(l,p)=>{p.forEach(f=>{isArray(l[f])&&(l[f]=toSet(l[f]))})};return o(r.defaults,["prevent","allow"]),o(r,["view","window","selector"]),r}function trackEventListener(e,r,o,l){e._eventListeners.push({type:o,sources:array$2(r),handler:l})}function prevent(e,r){var o=e._eventConfig.defaults,l=o.prevent,p=o.allow;return l===!1||p===!0?!1:l===!0||p===!1?!0:l?l[r]:p?!p[r]:e.preventDefault()}function permit(e,r,o){const l=e._eventConfig&&e._eventConfig[r];return l===!1||isObject(l)&&!l[o]?(e.warn(`Blocked ${r} ${o} event listener.`),!1):!0}function events(e,r,o){var l=this,p=new EventStream(o),f=function(v,s){l.runAsync(null,()=>{e===VIEW&&prevent(l,r)&&v.preventDefault(),p.receive(eventExtend(l,v,s))})},O;if(e===TIMER)permit(l,"timer",r)&&l.timer(f,r);else if(e===VIEW)permit(l,"view",r)&&l.addEventListener(r,f,NO_TRAP);else if(e===WINDOW?permit(l,"window",r)&&typeof window<"u"&&(O=[window]):typeof document<"u"&&permit(l,"selector",r)&&(O=Array.from(document.querySelectorAll(e))),!O)l.warn("Can not resolve event source: "+e);else{for(var _=0,S=O.length;_<S;++_)O[_].addEventListener(r,f);trackEventListener(l,O,r,f)}return p}function itemFilter(e){return e.item}function markTarget(e){return e.item.mark.source}function invoke(e){return function(r,o){return o.vega.view().changeset().encode(o.item,e)}}function hover(e,r){return e=[e||"hover"],r=[r||"update",e[0]],this.on(this.events("view","pointerover",itemFilter),markTarget,invoke(e)),this.on(this.events("view","pointerout",itemFilter),markTarget,invoke(r)),this}function finalize(){var e=this._tooltip,r=this._timers,o=this._handler.handlers(),l=this._eventListeners,p,f,O,_,S;for(p=r.length;--p>=0;)r[p].stop();for(p=l.length;--p>=0;)for(O=l[p],f=O.sources.length;--f>=0;)O.sources[f].removeEventListener(O.type,O.handler);for(e&&e.call(this,this._handler,null,null,null),p=o.length;--p>=0;)S=o[p].type,_=o[p].handler,this._handler.off(S,_);return this}function element(e,r,o){const l=document.createElement(e);for(const p in r)l.setAttribute(p,r[p]);return o!=null&&(l.textContent=o),l}const BindClass="vega-bind",NameClass="vega-bind-name",RadioClass="vega-bind-radio";function bind(e,r,o){if(!r)return;const l=o.param;let p=o.state;return p||(p=o.state={elements:null,active:!1,set:null,update:O=>{O!=e.signal(l.signal)&&e.runAsync(null,()=>{p.source=!0,e.signal(l.signal,O)})}},l.debounce&&(p.update=debounce(l.debounce,p.update))),(l.input==null&&l.element?target:generate)(p,r,l,e),p.active||(e.on(e._signals[l.signal],null,()=>{p.source?p.source=!1:p.set(e.signal(l.signal))}),p.active=!0),p}function target(e,r,o,l){const p=o.event||"input",f=()=>e.update(r.value);l.signal(o.signal,r.value),r.addEventListener(p,f),trackEventListener(l,r,p,f),e.set=O=>{r.value=O,r.dispatchEvent(event(p))}}function event(e){return typeof Event<"u"?new Event(e):{type:e}}function generate(e,r,o,l){const p=l.signal(o.signal),f=element("div",{class:BindClass}),O=o.input==="radio"?f:f.appendChild(element("label"));O.appendChild(element("span",{class:NameClass},o.name||o.signal)),r.appendChild(f);let _=form;switch(o.input){case"checkbox":_=checkbox;break;case"select":_=select;break;case"radio":_=radio;break;case"range":_=range;break}_(e,O,o,p)}function form(e,r,o,l){const p=element("input");for(const f in o)f!=="signal"&&f!=="element"&&p.setAttribute(f==="input"?"type":f,o[f]);p.setAttribute("name",o.signal),p.value=l,r.appendChild(p),p.addEventListener("input",()=>e.update(p.value)),e.elements=[p],e.set=f=>p.value=f}function checkbox(e,r,o,l){const p={type:"checkbox",name:o.signal};l&&(p.checked=!0);const f=element("input",p);r.appendChild(f),f.addEventListener("change",()=>e.update(f.checked)),e.elements=[f],e.set=O=>f.checked=!!O||null}function select(e,r,o,l){const p=element("select",{name:o.signal}),f=o.labels||[];o.options.forEach((O,_)=>{const S={value:O};valuesEqual(O,l)&&(S.selected=!0),p.appendChild(element("option",S,(f[_]||O)+""))}),r.appendChild(p),p.addEventListener("change",()=>{e.update(o.options[p.selectedIndex])}),e.elements=[p],e.set=O=>{for(let _=0,S=o.options.length;_<S;++_)if(valuesEqual(o.options[_],O)){p.selectedIndex=_;return}}}function radio(e,r,o,l){const p=element("span",{class:RadioClass}),f=o.labels||[];r.appendChild(p),e.elements=o.options.map((O,_)=>{const S={type:"radio",name:o.signal,value:O};valuesEqual(O,l)&&(S.checked=!0);const v=element("input",S);v.addEventListener("change",()=>e.update(O));const s=element("label",{},(f[_]||O)+"");return s.prepend(v),p.appendChild(s),v}),e.set=O=>{const _=e.elements,S=_.length;for(let v=0;v<S;++v)valuesEqual(_[v].value,O)&&(_[v].checked=!0)}}function range(e,r,o,l){l=l!==void 0?l:(+o.max+ +o.min)/2;const p=o.max!=null?o.max:Math.max(100,+l)||100,f=o.min||Math.min(0,p,+l)||0,O=o.step||tickStep(f,p,100),_=element("input",{type:"range",name:o.signal,min:f,max:p,step:O});_.value=l;const S=element("span",{},+l);r.appendChild(_),r.appendChild(S);const v=()=>{S.textContent=_.value,e.update(+_.value)};_.addEventListener("input",v),_.addEventListener("change",v),e.elements=[_],e.set=s=>{_.value=s,S.textContent=s}}function valuesEqual(e,r){return e===r||e+""==r+""}function initializeRenderer(e,r,o,l,p,f){return r=r||new l(e.loader()),r.initialize(o,width(e),height(e),offset(e),p,f).background(e.background())}function trap(e,r){return r?function(){try{r.apply(this,arguments)}catch(o){e.error(o)}}:null}function initializeHandler(e,r,o,l){const p=new l(e.loader(),trap(e,e.tooltip())).scene(e.scenegraph().root).initialize(o,offset(e),e);return r&&r.handlers().forEach(f=>{p.on(f.type,f.handler)}),p}function initialize(e,r){const o=this,l=o._renderType,p=o._eventConfig.bind,f=renderModule(l);e=o._el=e?lookup(o,e,!0):null,initializeAria(o),f||o.error("Unrecognized renderer type: "+l);const O=f.handler||CanvasHandler,_=e?f.renderer:f.headless;return o._renderer=_?initializeRenderer(o,o._renderer,e,_):null,o._handler=initializeHandler(o,o._handler,e,O),o._redraw=!0,e&&p!=="none"&&(r=r?o._elBind=lookup(o,r,!0):e.appendChild(element("form",{class:"vega-bindings"})),o._bind.forEach(S=>{S.param.element&&p!=="container"&&(S.element=lookup(o,S.param.element,!!S.param.input))}),o._bind.forEach(S=>{bind(o,S.element||r,S)})),o}function lookup(e,r,o){if(typeof r=="string")if(typeof document<"u"){if(r=document.querySelector(r),!r)return e.error("Signal bind element not found: "+r),null}else return e.error("DOM document instance not found."),null;if(r&&o)try{r.textContent=""}catch(l){r=null,e.error(l)}return r}const number=e=>+e||0,paddingObject=e=>({top:e,bottom:e,left:e,right:e});function padding(e){return isObject(e)?{top:number(e.top),bottom:number(e.bottom),left:number(e.left),right:number(e.right)}:paddingObject(number(e))}async function renderHeadless(e,r,o,l){const p=renderModule(r),f=p&&p.headless;return f||error("Unrecognized renderer type: "+r),await e.runAsync(),initializeRenderer(e,null,null,f,o,l).renderAsync(e._scenegraph.root)}async function renderToImageURL(e,r){e!==RenderType.Canvas&&e!==RenderType.SVG&&e!==RenderType.PNG&&error("Unrecognized image type: "+e);const o=await renderHeadless(this,e,r);return e===RenderType.SVG?toBlobURL(o.svg(),"image/svg+xml"):o.canvas().toDataURL("image/png")}function toBlobURL(e,r){const o=new Blob([e],{type:r});return window.URL.createObjectURL(o)}async function renderToCanvas(e,r){return(await renderHeadless(this,RenderType.Canvas,e,r)).canvas()}async function renderToSVG(e){return(await renderHeadless(this,RenderType.SVG,e)).svg()}function runtime(e,r,o){return context(e,transforms,functionContext,o).parse(r)}function scale$1(e){var r=this._runtime.scales;return has(r,e)||error("Unrecognized scale or projection: "+e),r[e].value}var Width="width",Height="height",Padding="padding",Skip={skip:!0};function viewWidth(e,r){var o=e.autosize(),l=e.padding();return r-(o&&o.contains===Padding?l.left+l.right:0)}function viewHeight(e,r){var o=e.autosize(),l=e.padding();return r-(o&&o.contains===Padding?l.top+l.bottom:0)}function initializeResize(e){var r=e._signals,o=r[Width],l=r[Height],p=r[Padding];function f(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,_=>{e._width=_.size,e._viewWidth=viewWidth(e,_.size),f()},{size:o}),e._resizeHeight=e.add(null,_=>{e._height=_.size,e._viewHeight=viewHeight(e,_.size),f()},{size:l});const O=e.add(null,f,{pad:p});e._resizeWidth.rank=o.rank+1,e._resizeHeight.rank=l.rank+1,O.rank=p.rank+1}function resizeView(e,r,o,l,p,f){this.runAfter(O=>{let _=0;O._autosize=0,O.width()!==o&&(_=1,O.signal(Width,o,Skip),O._resizeWidth.skip(!0)),O.height()!==l&&(_=1,O.signal(Height,l,Skip),O._resizeHeight.skip(!0)),O._viewWidth!==e&&(O._resize=1,O._viewWidth=e),O._viewHeight!==r&&(O._resize=1,O._viewHeight=r),(O._origin[0]!==p[0]||O._origin[1]!==p[1])&&(O._resize=1,O._origin=p),_&&O.run("enter"),f&&O.runAfter(S=>S.resize())},!1,1)}function getState(e){return this._runtime.getState(e||{data:dataTest,signals:signalTest,recurse:!0})}function dataTest(e,r){return r.modified&&isArray(r.input.value)&&!e.startsWith("_:vega:_")}function signalTest(e,r){return!(e==="parent"||r instanceof transforms.proxy)}function setState(e){return this.runAsync(null,r=>{r._trigger=!1,r._runtime.setState(e)},r=>{r._trigger=!0}),this}function timer(e,r){function o(l){e({timestamp:Date.now(),elapsed:l})}this._timers.push(interval(o,r))}function defaultTooltip(e,r,o,l){const p=e.element();p&&p.setAttribute("title",formatTooltip(l))}function formatTooltip(e){return e==null?"":isArray(e)?formatArray(e):isObject(e)&&!isDate$1(e)?formatObject(e):e+""}function formatObject(e){return Object.keys(e).map(r=>{const o=e[r];return r+": "+(isArray(o)?formatArray(o):formatValue(o))}).join(`
`)}function formatArray(e){return"["+e.map(formatValue).join(", ")+"]"}function formatValue(e){return isArray(e)?"[…]":isObject(e)&&!isDate$1(e)?"{…}":e}function watchPixelRatio(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const r=()=>{e!=null&&e();const o=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);o.addEventListener("change",r),e=()=>{o.removeEventListener("change",r)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};r()}}function View(e,r){const o=this;if(r=r||{},Dataflow.call(o),r.loader&&o.loader(r.loader),r.logger&&o.logger(r.logger),r.logLevel!=null&&o.logLevel(r.logLevel),r.locale||e.locale){const f=extend({},e.locale,r.locale);o.locale(locale(f.number,f.time))}o._el=null,o._elBind=null,o._renderType=r.renderer||RenderType.Canvas,o._scenegraph=new Scenegraph;const l=o._scenegraph.root;o._renderer=null,o._tooltip=r.tooltip||defaultTooltip,o._redraw=!0,o._handler=new CanvasHandler().scene(l),o._globalCursor=!1,o._preventDefault=!1,o._timers=[],o._eventListeners=[],o._resizeListeners=[],o._eventConfig=initializeEventConfig(e.eventConfig),o.globalCursor(o._eventConfig.globalCursor);const p=runtime(o,e,r.expr);o._runtime=p,o._signals=p.signals,o._bind=(e.bindings||[]).map(f=>({state:null,param:extend({},f)})),p.root&&p.root.set(l),l.source=p.data.root.input,o.pulse(p.data.root.input,o.changeset().insert(l.items)),o._width=o.width(),o._height=o.height(),o._viewWidth=viewWidth(o,o._width),o._viewHeight=viewHeight(o,o._height),o._origin=[0,0],o._resize=0,o._autosize=1,initializeResize(o),background(o),cursor(o),o.description(e.description),r.hover&&o.hover(),r.container&&o.initialize(r.container,r.bind),r.watchPixelRatio&&o._watchPixelRatio()}function lookupSignal(e,r){return has(e._signals,r)?e._signals[r]:error("Unrecognized signal name: "+$(r))}function findOperatorHandler(e,r){const o=(e._targets||[]).filter(l=>l._update&&l._update.handler===r);return o.length?o[0]:null}function addOperatorListener(e,r,o,l){let p=findOperatorHandler(o,l);return p||(p=trap(e,()=>l(r,o.value)),p.handler=l,e.on(o,null,p)),e}function removeOperatorListener(e,r,o){const l=findOperatorHandler(r,o);return l&&r._targets.remove(l),e}inherits(View,Dataflow,{async evaluate(e,r,o){if(await Dataflow.prototype.evaluate.call(this,e,r),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,resizeRenderer(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(l){this.error(l)}return o&&asyncCallback(this,o),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const r=e!=null?e+"":null;return r!==this._desc&&ariaLabel(this._el,this._desc=r),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,r,o){const l=lookupSignal(this,e);return arguments.length===1?l.value:this.update(l,r,o)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",padding(e)):padding(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(renderModule(e)||error("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Dataflow.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(lookupSignal(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:resizeView,addEventListener(e,r,o){let l=r;return o&&o.trap===!1||(l=trap(this,r),l.raw=r),this._handler.on(e,l),this},removeEventListener(e,r){for(var o=this._handler.handlers(e),l=o.length,p,f;--l>=0;)if(f=o[l].type,p=o[l].handler,e===f&&(r===p||r===p.raw)){this._handler.off(f,p);break}return this},addResizeListener(e){const r=this._resizeListeners;return r.includes(e)||r.push(e),this},removeResizeListener(e){var r=this._resizeListeners,o=r.indexOf(e);return o>=0&&r.splice(o,1),this},addSignalListener(e,r){return addOperatorListener(this,e,lookupSignal(this,e),r)},removeSignalListener(e,r){return removeOperatorListener(this,lookupSignal(this,e),r)},addDataListener(e,r){return addOperatorListener(this,e,dataref(this,e).values,r)},removeDataListener(e,r){return removeOperatorListener(this,dataref(this,e).values,r)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const r=setCursor(this,null);this._globalCursor=!!e,r&&setCursor(this,r)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer,events,finalize,hover,data,change,insert,remove,scale:scale$1,initialize,toImageURL:renderToImageURL,toCanvas:renderToCanvas,toSVG:renderToSVG,getState,setState,_watchPixelRatio:watchPixelRatio});const Left="left",Right="right",Center="center",Start="start",End="end";function anchorExpr(e,r,o){return`item.anchor === '${Start}' ? ${e} : item.anchor === '${End}' ? ${r} : ${o}`}anchorExpr($(Left),$(Right),$(Center));extend(transforms,tx,vtx,encode$1,geo,force,label,tree,reg,voronoi,wordcloud,xf);const fromTidy$3=from;function getKernelDensity(e,r,o,l,p,f,O,_,S,v,s){let d=l?"cdf":"pdf";s=s||["value","density"];let g=f,P=[],R=O,I=v||_||25,j=v||S||200;if(o||(o==null?void 0:o.length)>0){let{groups:L,names:G}=aqPartition(e,o);return L.forEach((J,Q)=>{let W=J.array(r);const Z=kde(W,g)[d],te=p?W.length:1,ee=R||extent$1(W);sampleCurve(Z,ee,I,j).forEach(oe=>{const se={[s[0]]:oe[0],[s[1]]:oe[1]*te};if(o)for(let le=0;le<o.length;++le)se[o[le]]=G[Q][le];P.push(se)})}),fromTidy$3(P).groupby(o)}else{let L=e.array(r);const G=kde(L,g)[d],J=p?L.length:1,Q=R||extent$1(L);return sampleCurve(G,Q,I,j).forEach(Z=>{const te={[s[0]]:Z[0],[s[1]]:Z[1]*J};if(o)for(let ee=0;ee<o.length;++ee)te[o[ee]]=names[i][ee];P.push(te)}),fromTidy$3(P)}}function aqPartition(e,r){let o=e.groupby(r),l=o.groups(),p=l.size;l.rows.slice(1,p).push(e.numRows());let _=o.partitions(),S=o.objects(),v=[],s=[];return _.forEach(d=>{let g=fromTidy$3(S.filter((P,R)=>d.includes(R)));v.push(g),s.push(r.map(P=>g.get(P)))}),{groups:v,names:s}}function foldTable(e,r,o,l,p){let f=e.fold(r);if(l&&(f=f.select(o,"key","value")),p){let O=p[0]||"key",_=p[1]||"value";f=f.rename({key:O,value:_})}return f}function doCalculate(e,r,o){let l=r.calculate,p=r.as;return l=l.replace(/datum\./gi,"d."),e.groupby(o).derive({[p]:l})}function doAggregate(e,r,o){let l=getRollUps(r);return e.groupby(o).rollup(l)}function getRollUps(e){let r={};for(const o of e){let l=o.as,p=o.field,f=o.op;if(f==="mean"||f==="average")r[l]=`d => op.mean(d['${p}'])`;else if(f==="valid")r[l]=`d => op.valid(d['${p}'])`;else if(f==="invalid")r[l]=`d => op.invalid(d['${p}'])`;else if(f==="max")r[l]=`d => op.max(d['${p}'])`;else if(f==="min")r[l]=`d => op.min(d['${p}'])`;else if(f==="distinct")r[l]=`d => op.distinct(d['${p}'])`;else if(f==="sum")r[l]=`d => op.sum(d['${p}'])`;else if(f==="product")r[l]=`d => op.product(d['${p}'])`;else if(f==="mode")r[l]=`d => op.mode(d['${p}'])`;else if(f==="median")r[l]=`d => op.median(d['${p}'])`;else if(f==="quantile"){let O=o.p||.5;r[l]=`d => op.quantile(d['${p}'], ${O})`}else f==="stdev"?r[l]=`d => op.stdev(d['${p}'])`:f==="stdevp"?r[l]=`d => op.stdevp(d['${p}'])`:f==="variance"?r[l]=`d => op.variance(d['${p}'])`:f==="variancep"?r[l]=`d => op.variancep(d['${p}'])`:f==="count"?r[l]="d => op.count()":f==="corr"?r[l]=`d => op.corr(d['${p[0]}'], d['${p[1]}'])`:f==="covariance"?r[l]=`d => op.covariance(d['${p[0]}'], d['${p[1]}'])`:f==="covariancep"&&(r[l]=`d => op.covariancep(d['${p[0]}'], d['${p[1]}'])`)}return r}function createBin(e,r){let o=r.nice;o===void 0&&(o=!0);let l=r.maxbins||10,p=r.step,f=r.exact,O=bin$3(),_,S,v;o&&l&&!p?(O=O.thresholds(l),_=O(e),v=!0):p?(l=Math.ceil(extent$1(e)/p),O=O.thresholds(l),_=O(e),v=!0):f&&(O=O.thresholds(f),_=O(e),v=!1),S=P=>{var I;let R=(I=_.map(j=>j.includes(P)?{x0:j.x0,x1:j.x1}:void 0).filter(j=>j!=null))==null?void 0:I[0];return{start:R==null?void 0:R.x0,end:R==null?void 0:R.x1}};let s=e.map(S),d=s.map(P=>P.start),g=s.map(P=>P.end);return{start:d,end:g,nBukcets:_.length,equiBin:v}}const fromTidy$2=from;function makeBoxPlotTable(e,r,o,l,p){if(r){let f=o,O=l;f===void 0&&(f=1.5),O===void 0&&(O="filter");let _=e.reify();if(O==="filter"?_=_.filter(`d => !op.is_nan(d['${r}'])`):_=_.impute({[r]:()=>0}),p&&p.length>0&&(_=_.groupby(...p)),f==="min-max"){let Q={median:`d => op.median(d['${r}'])`,q1:`d => op.quantile(d['${r}'], 0.25)`,q3:`d => op.quantile(d['${r}'], 0.75)`,whisker_lower:`d => op.min(d['${r}'])`,whisker_upper:`d => op.max(d['${r}'])`},W={outlier_lower:`d => d['${r}'] < d.whisker_lower ? d['${r}'] : null`,outlier_upper:`d => d['${r}'] > d.whisker_upper ? d['${r}'] : null`,outlier:`d => (d['${r}'] < d.whisker_lower || d['${r}'] > d.whisker_upper) ? d['${r}'] : null`};_=_.derive(Q).derive(W).select(...p,r,"median","q1","q3","whisker_lower","whisker_upper","outlier_lower","outlier_upper","outlier")}else if(typeof f=="number"){let Q={median:`d => op.median(d['${r}'])`,q1:`d => op.quantile(d['${r}'], 0.25)`,q3:`d => op.quantile(d['${r}'], 0.75)`},W={whisker_lower_boundary:`d => d.q1 - op.abs(d.q3 - d.q1) * ${f}`,whisker_upper_boundary:`d => d.q3 + op.abs(d.q3 - d.q1) * ${f}`},Z={whisker_lower_diff:`d => d['${r}'] > d.whisker_lower_boundary ? op.abs(d['${r}'] - d.whisker_lower_boundary) : op.abs(op.max(d['${r}']))`,whisker_upper_diff:`d => d['${r}'] < d.whisker_upper_boundary ? op.abs(d.whisker_upper_boundary - d['${r}']) : op.abs(op.max(d['${r}']))`},te={whisker_lower_value_check:"d => op.min(d.whisker_lower_diff)",whisker_upper_value_check:"d => op.min(d.whisker_upper_diff)"},ee={is_whisker_lower:"d => d.whisker_lower_value_check == d.whisker_lower_diff",is_whisker_upper:"d => d.whisker_upper_value_check == d.whisker_upper_diff"},ie={whisker_lower_propa:`d => d.is_whisker_lower ? d['${r}'] : - Math.Infinity`,whisker_upper_propa:`d => d.is_whisker_upper ? d['${r}'] : Math.Infinity`},oe={whisker_lower:"d => op.max(d.whisker_lower_propa)",whisker_upper:"d => op.min(d.whisker_upper_propa)"},se={outlier_lower:`d => d['${r}'] < d.whisker_lower ? d['${r}'] : null`,outlier_upper:`d => d['${r}'] > d.whisker_upper ? d['${r}'] : null`,outlier:`d => (d['${r}'] < d.whisker_lower || d['${r}'] > d.whisker_upper) ? d['${r}'] : null`};_=_.derive(Q).derive(W).derive(Z).derive(te).derive(ee).derive(ie).derive(oe).derive(se).select(...p,r,"median","q1","q3","whisker_lower","whisker_upper","outlier_lower","outlier_upper","outlier")}let S=["whisker_lower","q1","median","q3","whisker_upper"],v={};S.forEach(Q=>{Q.startsWith("outlier")||(v[Q]=`d => op.mean(d['${Q}'])`)});let s="(d) => 'point'",d=`(d) => op.indexof(${JSON.stringify(S)}, d.key)`,g=`(d) => ${p.map(Q=>`d['${Q}']`).join(" + '_' + ")}`,R=_.rollup(v).fold([...S]).derive({role:s,order:d,group_name:g}).objects(),I="(d) => op.rank()",L=_.filter(Q=>Q.outlier!=null).orderby("outlier").derive({rank:I,group_name:g}).objects(),G={},J={};for(const Q of L){let W={};for(const Z of p)W[Z]=Q[Z];W.key="outlier",W.group_name=Q.group_name,W.role="outlier",W.value=Q.outlier,Q.outlier_lower&&(G[Q.group_name]===void 0&&(G[Q.group_name]=0),G[Q.group_name]+=1,W.order=-G[Q.group_name]),Q.outlier_upper&&(J[Q.group_name]===void 0&&(J[Q.group_name]=0),J[Q.group_name]+=1,W.order=S.length+J[Q.group_name]),R.push(W)}return _=fromTidy$2(R).orderby([...p,"order"]).groupby(p),_.reify()}else return console.warn("No field was provided for the box plot."),e}const fromTidy$1=from;function generateQuantiles(e,r,o,l,p,f){if(r){let O=e.reify(),_,S;o!==void 0?(_=o,S=1/_):l!==void 0&&0<l&&l<1&&(_=Math.round(1/l),S=1/_),_||(_=25,S=1/25);let v=[];f&&(v=f),v[0]||(v[0]="probability"),v[1]||(v[1]="value");let s=[],d={},g=S/2;for(let I=0;I<_;I++){let j=round(g+I*S,-5);s.push("q_"+j.toString()),d["q_"+j.toString()]=`d => op.quantile(d['${r}'], ${j})`}for(const I of p)d[I]=`d => op.mode(d['${I}'])`;p&&p.length>0&&(O=O.groupby(p)),O=O.rollup(d),O=O.fold(s);let R=O.objects().map(I=>{let j={};for(const L of p)j[L]=I[L];return j[v[0]]=parseFloat(I.key.split("_")[1]),j[v[1]]=round(I.value,-5),j});return fromTidy$1(R)}else return e}const fromTidy=from,escape=escape$1,aqTable=table;function transformData(e,r,o){let l=fromTidy(e),p={};if((r==null?void 0:r.constructor.name)==="Array"&&r.length>0){for(const O of r)if(O.bin){let _=O.bin,S=O.as||_+"__bin";if(l.column(S))continue;let v=O.end||_+"__bin_end";o.includes(S)||o.push(S),o.includes(v)||o.push(v);let{start:s,end:d,nBuckets:g,equiBin:P}=createBin(l.column(_).data,O),R=aqTable({[S]:s,[v]:d});l=l.assign(R),l=l.filter(escape(I=>I[S]!==void 0&&I[v]!==void 0)),p.bin||(p.bin={}),p.bin[_]={nBuckets:g,equiBin:P}}else if(O.aggregate){let _=O.aggregate,S=O.groupby||[];S===Auto&&(S=o.filter(v=>l.columnNames().includes(v))),l=doAggregate(l,_,S),p.aggregate||(p.aggregate={});for(const v of _){let s=v.field,d=v.op;d==="count"?p.aggregate.__count={method:d,groupby:S}:p.aggregate[s]={method:d,groupby:S}}}else if(O.calculate){let _=O.groupby||{};_===Auto&&(_=o),l=doCalculate(l,O,_)}else if(O.fold)l=foldTable(l,O.fold,O.by,O.exclude,O.as);else if(O.density)l=getKernelDensity(l,O.density,O.groupby,O.cumulative,O.counts,O.bandwidth,O.extent,O.minsteps,O.maxsteps,O.steps,O.as);else if(O.filter)l=filterTable(l,O.filter);else if(O.boxplot){let _=O.groupby||[];_===Auto&&(_=o.filter(S=>l.columnNames().includes(S))),l=makeBoxPlotTable(l,O.boxplot,O.extent,O.invalid,_)}else if(O.quantile){let _=O.groupby||[];_===Auto&&(_=o.filter(S=>l.columnNames().includes(S))),l=generateQuantiles(l,O.quantile,O.n,O.step,_,O.as)}}let f=l.objects();return f.tableInfo=p,f}function orderArray(e,r){let o,l=[];for(const p of r){let f=p.key,O=p.order;if(p.order){let _=makeIndexSortFn(f,O);l.push(_)}else if(p.sort==="ascending"||p.sort===!0||p.sort==="asc"){let _=makeAscSortFn(f);l.push(_)}else if(p.sort==="descending"||p.sort==="desc"){let _=makeDescSortFn(f);l.push(_)}}return l.reverse(),l.length>0&&(o=e.toSorted((p,f)=>{for(const O of l){if(O(p,f)>0)return 1;if(O(p,f)<0)return-1}return 1})),o||e}async function compileSingleLayerAuidoGraph(e,r,o,l,p){var me,ye,ve,Ae,Pe,Ne,Ee,Ce,Se,Te,Oe,ce,k,F,V,ne,ue,we;let f={name:e.name,encoding:e.encoding,tone:e.tone||{type:Def_tone}},O=((me=e.tone)==null?void 0:me.filter)||null;if(O&&(O=[...O]),!r||!f.encoding){console.warn("No proper layer spec provided.");return}let _=Object.keys(f.encoding).map(be=>{let N=f.encoding[be];if([NOM,ORD,TMP].includes(N.type))return N.field;if(be===REPEAT_chn)return N.field}).filter(be=>be).flat(),S;e.common_transform?S=transformData(r,[...e.common_transform||[],...e.transform||[]],_):S=transformData(r,e.transform||[],_);let v=deepcopy(S.tableInfo),s=f.encoding,d=f.tone;d.type==="default"&&(d={type:"default",continued:d.continued});let g=Object.keys(s).filter(be=>![TIME_chn,TIME2_chn,TIMBRE_chn].includes(be)),P=s[TIME_chn]&&s[TIME2_chn],R=s[REPEAT_chn]!==void 0,I=R&&s[REPEAT_chn].speech;I===void 0&&(I=!0);let j=R?s[REPEAT_chn].field:void 0;j&&jType(j)!=="Array"&&(j=[j]);let L=(ye=s[REPEAT_chn])==null?void 0:ye.by;R&&(L===void 0&&(L=SEQUENCE),jType(L)!=="Array"&&(L=[L]),j.length!==L.length&&(L.length==1?L=j.map(()=>L[0]):console.error("The repeat direction is not matched with the repeat field(s)")));let G=[];TIME_chn in s&&((ve=s[TIME_chn].scale)!=null&&ve.order)?G.push({key:s[TIME_chn].field,order:[(Ae=s[TIME_chn].scale)==null?void 0:Ae.order]}):TIME_chn in s&&((Pe=s[TIME_chn].scale)!=null&&Pe.sort)?G.push({key:s[TIME_chn].field,sort:(Ne=s[TIME_chn].scale)==null?void 0:Ne.sort}):TIME_chn in s&&G.push({key:s[TIME_chn].field,order:unique(S.map(be=>be[s[TIME_chn].field])).toSorted(asc)}),R&&((Ee=s[REPEAT_chn].scale)!=null&&Ee.order)?G.push({key:j,order:(Ce=s[REPEAT_chn].scale)==null?void 0:Ce.order}):R&&((Se=s[REPEAT_chn].scale)!=null&&Se.sort)?G.push({key:j,sort:(Te=s[REPEAT_chn].scale)==null?void 0:Te.sort}):R&&j.toReversed().forEach(be=>{let N=unique(S.map(q=>q[be])).toSorted(asc);G.push({key:be,order:N})}),S=orderArray(S,G),delete S.tableInfo;let J=[],Q=[],W={},Z,te=0;R&&(te=j.length,Z=unique(S.map(be=>j.map(N=>be[N]).join("_$_"))).map(be=>be.split("_$_")),Z.forEach(be=>{let N=[];N.name=listString(be,", ",!0),N.membership=[],j.forEach((q,H)=>{N.membership.push({key:q,value:be[H]})}),be.membership=N.membership,Q.push(N),W[be.join("&")]=Q.length-1}));let ee={};for(const be in s){let N=s[be];ee[be]=p[N.scale.id]}let ie=s[TIME_chn].scale.timing===REL_TIMING||((ce=(Oe=ee.time)==null?void 0:Oe.properties)==null?void 0:ce.timing)===REL_TIMING,oe={};for(const be in s)oe[be]=s[be].ramp;let se=s[TIME_chn].tick!==void 0,le;if(se){let be=s[TIME_chn].tick;be.name&&l[be.name]?le=l[be.name]:le=be,le=deepcopy(le),p.__beat?(le.interval=le.interval?p.__beat.converter(le.interval):Def_Tick_Interval_Beat,le.band=le.band?p.__beat.converter(le.band):Def_Tick_Duration_Beat):(le.interval||(le.interval=Def_Tick_Interval),le.band||(le.band=Def_Tick_Duration))}if(p){let be=(o==null?void 0:o.scaleDescriptionOrder)||ScaleDescriptionOrder,N=deepcopy(o);N.isRepeated=R,N.repeatField=j;for(const q of be)ee[q]&&(N.aggregated=!!s[q].aggregate,N.binned=s[q].binned,ee[q].description=makeScaleDescription(ee[q],s[q],v,le,d,N,p.__beat))}let de=0,pe=Array(Q.length).fill(0);for(const be in S){if(be==="tableInfo")continue;let N=S[be],q=R&&W[j.map(ae=>N[ae]).join("&")],H=ee.time(N[s[TIME_chn].field]!==void 0?N[s[TIME_chn].field]:parseInt(be),P?N[s[TIME2_chn].field]!==void 0?N[s[TIME2_chn].field]:parseInt(be)+1:void 0);if(d.continued&&!P&&(delete H.end,H.duration=0),H.start===void 0)continue;H.timbre=ee.timbre?ee.timbre(N[s[TIMBRE_chn].field]):d.type;let T,U;for(const ae of g)ee[ae]&&(H[ae]=ee[ae](N[s[ae].field])),TapChannels.includes(ae)&&(H.duration=H[ae].totalLength);H[SPEECH_BEFORE_chn]&&(T={speech:H[SPEECH_BEFORE_chn],start:H.start,end:H.end,language:(k=s[SPEECH_BEFORE_chn])!=null&&k.language?(F=s[SPEECH_BEFORE_chn])==null?void 0:F.language:(V=document==null?void 0:document.documentElement)==null?void 0:V.lang}),H[SPEECH_AFTER_chn]&&(U={speech:H[SPEECH_AFTER_chn],start:H.start,end:H.end,language:(ne=s[SPEECH_BEFORE_chn])!=null&&ne.language?(ue=s[SPEECH_BEFORE_chn])==null?void 0:ue.language:(we=document==null?void 0:document.documentElement)==null?void 0:we.lang}),T&&(R?Q[q].push(T):J.push(T)),H.__datum=N;let z=0;H.end?z=H.end+(H.postReverb||0):H.duration&&(z=(H.start||0)+H.duration+(H.postReverb||0)),R?(Q[q].push(H),pe[q]=Math.max(pe[q],z)):(J.push(H),de=Math.max(de,z)),U&&(R?Q[q].push(U):J.push(U))}let fe=d.continued===void 0?!1:d.continued,he=d.type||"default",ge;if(R){let be=makeRepeatStreamTree(0,Z,L);Q.forEach((q,H)=>{let T=new UnitStream(he,q,ee,{is_continued:fe,relative:ie});T.duration=pe[H],Object.keys(o||{}).forEach(z=>{T.setConfig(z,o==null?void 0:o[z])}),q.name&&T.setName(q.name),I&&T.setConfig("playRepeatSequenceName",!0),H>0&&(T.setConfig("skipScaleSpeech",!0),T.setConfig("skipStartSpeech",!0)),H<Q.length-1&&T.setConfig("skipFinishSpeech",!0),se&&T.setConfig("tick",le),T.setRamp(oe);let U=be;for(let z=0;z<te;z++){U=U.nodes;let ae=q.membership[z];for(let xe=0;xe<U.length;xe++)if(U[xe].parent_value==ae.value){U=U[xe];break}}U.node.push(T)});let N=postprocessRepeatStreams(be);N.forEach((q,H)=>{q||console.warn("empty repeat stream",q),I&&q.setConfig&&q.setConfig("playRepeatSequenceName",!0),H>0?(q.setConfig("skipScaleSpeech",!0),q.setConfig("skipStartSpeech",!0)):q.setConfig(PlayAt,BeforeAll),H<N.length-1&&q.setConfig("skipFinishSpeech",!0),se&&q.setConfig("tick",le),jType(q)===OverlayStream.name&&(Object.assign(q.config,q.overlays[0].config),q.duration=Math.max(...q.overlays.map(T=>T.duration)),q.overlays.forEach((T,U)=>{T.setConfig&&(T.setConfig("playRepeatSequenceName",!1),U==0?(T.setConfig("skipScaleSpeech",!1),T.setConfig("skipStartSpeech",!1)):(T.setConfig("skipScaleSpeech",!0),T.setConfig("skipStartSpeech",!0)),T.setConfig("skipFinishSpeech",!0))}),q.setConfig&&(q.setConfig("skipScaleSpeech",!0),q.setConfig("skipTitle",!0),q.setConfig("skipStartSpeech",!0),q.setConfig("playRepeatSequenceName",!0)),q.setName(listString(q.overlays.map(T=>T.name),", ",!0))),O&&q.setFilters(O)}),ge=N}else ge=new UnitStream(he,J,ee,{is_continued:fe,relative:ie}),ge.duration=de,Object.keys(o||{}).forEach(be=>{ge.setConfig(be,o==null?void 0:o[be])}),se&&ge.setConfig("tick",le),f.name&&ge.setName(f.name),O&&ge.setFilters(O),ge.setRamp(oe),e.description&&ge.setDescription(e.description);return{stream:ge,scales:ee}}async function getDataWrap(e,r,o){let l;return e.values?deepcopy(e.values):(e.name?(r[e.name]||(r[e.name]=await getData(o[e.name])),l=deepcopy(r[e.name])):l=await getData(e.name),l)}async function getData(e){var r;if(e!=null&&e.values)return e.values;if((r=e==null?void 0:e.data)!=null&&r.values)return e.data.values;if(e!=null&&e.csv)return csvParse(e==null?void 0:e.csv);if(e!=null&&e.tsv)return tsvParse(e.tsv);if(e!=null&&e.url){let o=await(await fetch(e.url)).text();if(isJSON(o))return JSON.parse(o);if(isCSV(o))return csvParse(o);if(isTSV(o))return tsvParse(o)}else return console.error("wrong data format provided"),[]}function applyTransforms(e,r){let o=Object.keys(r.encoding).map(l=>{let p=r.encoding[l];if([NOM,ORD,TMP].includes(p.type))return p.field;if(l===REPEAT_chn)return p.field}).filter(l=>l);return e=transformData(e,[...r.common_transform||[],...r.transform||[]],unique(o)),e}const QuantPreferredRange$1={[TIME_chn]:[0,5],[PITCH_chn]:[200,1e3],[LOUDNESS_chn]:[0,1],[PAN_chn]:[-1,1],[DUR_chn]:[0,1.5],[POST_REVERB_chn]:[0,2],[TAPCNT_chn]:[0,20],[TAPSPD_chn]:[0,5]},NomPalletes={[PITCH_chn]:["C3","C4","C5","C6","G3","G4","G5","G6","D3","D4","D5","D6","A3","A4","A5","A6","E3","E4","E5","E6","B3","B4","B5","B6","F3","F4","F5","F6"].map(noteToFreq$1),[LOUDNESS_chn]:[1,.8,.6,.4,.2,.9,.7,.5,.1],[DUR_chn]:[1,.5,1.5,2,1.3,.8,.3],[POST_REVERB_chn]:[1,.5,1.5,2,1.3,.8,.3],[TAPCNT_chn]:[2,4,6,8,10,12,14,16,18,20],[TAPSPD_chn]:[1,2,3,4],[TIMBRE_chn]:["piano","pianoElec","violin","metal","guitar","hithat","snare","highKick","lowKick","clap"]};function repeatPallete(e,r){let o=e==null?void 0:e.length;if(o>=r)return e.slice(0,r);{let l=Math.floor(o/r),p=r-l*o,f=[];for(let O=0;O<l;O++)f.push(...e);return f.push(...e.slice(0,p)),f}}function makeNominalScaleFunction(e,r,o,l){var Q,W,Z,te,ee;let{polarity:p,maxDistinct:f,times:O,zero:_,domainMax:S,domainMin:v,nice:s}=l,d=(Q=FilterExtraChannelTypes[e])==null?void 0:Q.type;const g=((W=ChannelCaps[e])==null?void 0:W.max)||((Z=ChannelCaps[d])==null?void 0:Z.max),P=((te=ChannelCaps[e])==null?void 0:te.min)||((ee=ChannelCaps[d])==null?void 0:ee.min);let R=r==null?void 0:r.scale,I={channel:e},j=deepcopy((R==null?void 0:R.domain)||null);j||(j=unique(o)),I.domain=j;let L=deepcopy((R==null?void 0:R.range)||null),G=(R==null?void 0:R.range)!==void 0;O&&!G&&(L=j.map(ie=>ie*O),scale.properties.times=O),!G&&e!==REPEAT_chn?L=repeatPallete(NomPalletes[e]||NomPalletes[d],j.length):e===REPEAT_chn?L=j.map((ie,oe)=>oe):I.rangeProvided=G,(e===PITCH_chn||d===PITCH_chn)&&!L.every(ie=>jType(ie)==="Number")&&(L=L.map(noteToFreq$1)),L=L.map((ie,oe)=>e===TIMBRE_chn||d===TIMBRE_chn?ie:ie<P?(console.warn(`The range value of ${ie} is less than the possible ${e} value ${P}. The scale is capped to the minimum possible value.`),P):ie>g?(console.warn(`The range value of ${ie} is greater than the possible ${e} value ${g}. The scale is capped to the maximum possible value.`),g):ie),I.range=L;let J=ordinal().domain(j).range(L);return J.properties=I,J}function makeOrdinalScaleFunction(e,r,o,l){var se,le,de,pe,fe,he,ge,me,ye;let{polarity:p,maxDistinct:f,times:O,zero:_,domainMax:S,domainMin:v,nice:s}=l,d=(se=FilterExtraChannelTypes[e])==null?void 0:se.type;const g=((le=ChannelThresholds[e])==null?void 0:le.max)||((de=ChannelThresholds[d])==null?void 0:de.max),P=((pe=ChannelThresholds[e])==null?void 0:pe.min)||((fe=ChannelThresholds[d])==null?void 0:fe.min),R=((he=ChannelCaps[e])==null?void 0:he.max)||((ge=ChannelCaps[d])==null?void 0:ge.max),I=((me=ChannelCaps[e])==null?void 0:me.min)||((ye=ChannelCaps[d])==null?void 0:ye.min);let j=r==null?void 0:r.scale,L={channel:e,polarity:p},G=r.sort,J;G==="descending"||G==="desc"?(J=descending$1,L.sort="descending"):(J=ascending$3,L.sort="ascending");let Q=deepcopy((j==null?void 0:j.domain)||null);Q||(Q=unique(o).toSorted(J)),L.domain=Q;let W=deepcopy((j==null?void 0:j.range)||null),Z=(j==null?void 0:j.range)!==void 0;O&&!Z&&(W=Q.map(ve=>ve*O),Z=!0,L.times=O);let te=j==null?void 0:j.rangeMin,ee=j==null?void 0:j.rangeMax;(e===TIMBRE_chn||d===TIMBRE_chn)&&(W=repeatPallete(NomPalletes[TIMBRE_chn],Q.length),Z=!0);let ie;if(!Z&&f)ie=[te!==void 0?te:P,ee!==void 0?ee:g];else if(!Z&&!f){let ve=QuantPreferredRange[e];ie=[firstDefined(te,ve[0],P),firstDefined(ee,ve[1],g)]}ie&&!Z&&(W=divideOrdScale(ie,Q.length)),(e===PITCH_chn||d===PITCH_chn)&&!W.every(ve=>jType(ve)==="Number")&&(W=W.map(noteToFreq)),W=W.map((ve,Ae)=>e===TIMBRE_chn||d===TIMBRE_chn?ve:ve<I?(console.warn(`The range value of ${ve} is less than the possible ${e} value ${I}. The scale is capped to the minimum possible value.`),I):ve>R?(console.warn(`The range value of ${ve} is greater than the possible ${e} value ${R}. The scale is capped to the maximum possible value.`),R):ve),Z||(Q[0]<Q[1]&&p===NEG||Q[0]>Q[1]&&p===POS)&&(W=W.reverse()),L.range=W;let oe=ordinal().domain(Q).range(W);return oe.properties=L,oe}function divideOrdScale(e,r){if(r<1)return[];if(r==1)return(e[0]+e[1])/2;let o=r,l=e[1],p=e[0];p!=0&&(o=r-1);let f=(l-p)/o,O=[];for(let _=p;_<=l;_+=f)O.push(_);return O.slice(r==o?1:0,o+1)}function makeQuantitativeScaleFunction(e,r,o,l){var oe,se,le,de,pe,fe,he,ge,me,ye;let{polarity:p,maxDistinct:f,times:O,zero:_,domainMax:S,domainMin:v,nice:s}=l,d=(oe=FilterExtraChannelTypes[e])==null?void 0:oe.type;const g=((se=ChannelThresholds[e])==null?void 0:se.max)||((le=ChannelThresholds[d])==null?void 0:le.max),P=((de=ChannelThresholds[e])==null?void 0:de.min)||((pe=ChannelThresholds[d])==null?void 0:pe.min),R=((fe=ChannelCaps[e])==null?void 0:fe.max)||((he=ChannelCaps[d])==null?void 0:he.max),I=((ge=ChannelCaps[e])==null?void 0:ge.min)||((me=ChannelCaps[d])==null?void 0:me.min);let j=r==null?void 0:r.scale,L={channel:e,polarity:p};if(e===TIMBRE_chn||d===TIMBRE_chn){console.error("Timber channel can't be quantitatively scaled.");return}let G=deepcopy((j==null?void 0:j.domain)||null),J=!1;(r==null?void 0:r.domainMin)!==void 0||(r==null?void 0:r.domainMax)!==void 0||(r==null?void 0:r.domainMid)!==void 0?(G=[(r==null?void 0:r.domainMin)!==void 0?r==null?void 0:r.domainMin:v,(r==null?void 0:r.domainMax)!==void 0?r==null?void 0:r.domainMax:S],e==="pan"&&(j==null?void 0:j.domainMid)!==void 0?(G.splice(1,0,j==null?void 0:j.domainMid),J=[(r==null?void 0:r.domainMin)!==void 0,(r==null?void 0:r.domainMid)!==void 0,(r==null?void 0:r.domainMax)!==void 0]):J=[(r==null?void 0:r.domainMin)!==void 0,(r==null?void 0:r.domainMax)!==void 0]):G?J=!0:(G=[v,S],_&&(G=[0,S]),J=!1),L.domain=G,L.domainSpecified=J;let Q=deepcopy((j==null?void 0:j.range)||null),W=(j==null?void 0:j.range)!==void 0;O&&!W&&(Q=G.map(ve=>ve*O),W=!0);let Z=j==null?void 0:j.rangeMin,te=j==null?void 0:j.rangeMax;if(!W&&f)Q=[Z!==void 0?Z:P,te!==void 0?te:g];else if(!W&&!f){let ve=QuantPreferredRange$1[e]||QuantPreferredRange$1[d];Q=[firstDefined(Z,ve[0],P),firstDefined(te,ve[1],g)]}(e===PAN_chn||d===PAN_chn)&&!W&&G.length==3&&Q.splice(1,0,0),(e===PITCH_chn||d===PITCH_chn)&&!Q.every(ve=>jType(ve)==="Number")&&(Q=Q.map(noteToFreq$1)),Q=Q.map(ve=>ve<I?(console.warn(`The range value of ${ve} is less than the possible ${e} value ${I}. The scale is capped to the minimum possible value.`),I):ve>R?(console.warn(`The range value of ${ve} is greater than the possible ${e} value ${R}. The scale is capped to the maximum possible value.`),R):ve),(G[0]<G[1]&&p===NEG||G[0]>G[1]&&p===POS$1)&&(Q=Q.reverse()),L.range=Q,!((ye=r==null?void 0:r.scale)!=null&&ye.domain)&&G.length==2&&W&&G.length<Q.length&&(console.warn("The domain is not provided while the range is provided. Erie fixed domain to match with the range. This fix is linear, so if you are using other scale types, make sure to provide the specific domain cuts."),G=Q.map((ve,Ae)=>Ae==0?v:Ae==Q.length-1?S:v+(S-v)*(Ae/(Q.length-1))));let ee,ie=j==null?void 0:j.type;if(ie===LOG){(j==null?void 0:j.base)==0&&console.warn("The log base can't be 0. It is converted to 10.");let ve=(j==null?void 0:j.base)||10;ee=log$3().base(ve)}else if(ie===SYMLOG){let ve=(j==null?void 0:j.constant)||1;ee=symlog$1().constant(ve)}else if(ie===SQRT)ee=sqrt$2();else if(ie===POW){let ve=(j==null?void 0:j.exponent)!==void 0?j.exponent:2;ee=pow$2().exponent(ve)}else ee=linear$1();return L.scaleType=ie||"linear",ee=ee.domain(G),s&&(ee=ee.nice()),ee=ee.range(Q),ee.properties=L,ee}function makeSpeechChannelScale(e,r,o,l){let p,f={channel:e};if(r.format){let O=format$3(r.format);O?p=_=>O(_):p=_=>nullToNull(_)}else p=O=>nullToNull(O);return p.properties=f,p}function nullToNull(e){return e??"null"}function makeStaticScaleFunction(e,r,o,l){var _;let p=r.value,f=deepcopy(r.condition||[]),O={channel:e};if(f){let S=[];f.constructor.name==="Object"?S.push(f):S.push(...f),S=S.filter(d=>d.test!==void 0);let v=[];O.conditions=[];for(const d of S){let g;if(d.test!==void 0){let P=d.test;g={},(P==null?void 0:P.constructor.name)==="Array"?g.test=R=>P.includes(R):((_=P==null?void 0:P.not)==null?void 0:_.constructor.name)==="Array"?g.test=R=>!P.not.includes(R):g.test=makeParamFilter(P)}g!==void 0&&(g.value=d.value,v.push(g)),O.conditions.push([test,d.value])}let s=d=>{let g;for(const P of v)g=P.test(d)?P.value:g;return g===void 0&&(g=p),g};return s.properties=O,s}else{let S=v=>p;return S.properties=O,S}}function makeTemporalScaleFunction(e,r,o,l){var se,le,de,pe,fe,he,ge,me,ye;let{polarity:p,maxDistinct:f,times:O,zero:_,domainMax:S,domainMin:v,nice:s}=l,d=(se=FilterExtraChannelTypes[e])==null?void 0:se.type;const g=((le=ChannelThresholds[e])==null?void 0:le.max)||((de=ChannelThresholds[d])==null?void 0:de.max),P=((pe=ChannelThresholds[e])==null?void 0:pe.min)||((fe=ChannelThresholds[d])==null?void 0:fe.min),R=((he=ChannelCaps[e])==null?void 0:he.max)||((ge=ChannelCaps[d])==null?void 0:ge.max),I=((me=ChannelCaps[e])==null?void 0:me.min)||((ye=ChannelCaps[d])==null?void 0:ye.min);let j=r==null?void 0:r.scale,L={channel:e,polarity:p};if(e===TIMBRE_chn||d===TIMBRE_chn){console.error("Timber channel can't be scaled for a temporal encoding.");return}if(r!=null&&r.timeUnit){let ve=makeOrdinalScaleFunction(e,{domain:timeUnitDomain(j==null?void 0:j.domain,r==null?void 0:r.timeUnit,r==null?void 0:r.dayName),range:j.range,polarity:p,maxDistinct:f,nice:s},o,l),Ae=makeTimeUnitFunction(r==null?void 0:r.timeUnit,r==null?void 0:r.dayName);Object.assign(L,ve.properties),L.timeUnit=r==null?void 0:r.timeUnit,L.dayName=deepcopy(r==null?void 0:r.dayName);let Pe=Ne=>ve(Ae(Ne));return Pe.properties=L,Pe}let G=makeTimeLevelFunction(r==null?void 0:r.timeLevel);L.timeLevel=r==null?void 0:r.timeLevel;let J,Q;j!=null&&j.domain&&(J=deepcopy(j==null?void 0:j.domain).map(ve=>G(ve))),(r==null?void 0:r.domainMin)!==void 0||(r==null?void 0:r.domainMax)!==void 0||(r==null?void 0:r.domainMid)!==void 0?(J=[G((r==null?void 0:r.domainMin)!==void 0?r==null?void 0:r.domainMin:v),G((r==null?void 0:r.domainMax)!==void 0?r==null?void 0:r.domainMax:S)],(e===PAN_chn||d===PAN_chn)&&(j==null?void 0:j.domainMid)!==void 0?(J.splice(1,0,G(j==null?void 0:j.domainMid)),Q=[(r==null?void 0:r.domainMin)!==void 0,(r==null?void 0:r.domainMid)!==void 0,(r==null?void 0:r.domainMax)!==void 0]):Q=[(r==null?void 0:r.domainMin)!==void 0,(r==null?void 0:r.domainMax)!==void 0]):J?Q=!0:(J=[G(v),G(S)],Q=!1),L.domain=r==null?void 0:r.domain,L.domainSpecified=Q;let W=deepcopy((j==null?void 0:j.range)||null),Z=(j==null?void 0:j.range)!==void 0;O&&!Z&&(W=J.map(ve=>ve*O),Z=!0);let te=j==null?void 0:j.rangeMin,ee=j==null?void 0:j.rangeMax;if(!Z&&f)W=[te!==void 0?te:P,ee!==void 0?ee:g];else if(!Z&&!f){let ve=QuantPreferredRange$1[e]||QuantPreferredRange$1[d];W=[firstDefined(te,ve[0],P),firstDefined(ee,ve[1],g)]}(e===PAN_chn||d===PAN_chn)&&!Z&&J.length==3&&W.splice(1,0,0),(e===PITCH_chn||d===PITCH_chn)&&!W.every(ve=>jType(ve)==="Number")&&(W=W.map(noteToFreq$1)),W=W.map(ve=>ve<I?(console.warn(`The range value of ${ve} is less than the possible ${e} value ${I}. The scale is capped to the minimum possible value.`),I):ve>R?(console.warn(`The range value of ${ve} is greater than the possible ${e} value ${R}. The scale is capped to the maximum possible value.`),R):ve),Z||(J[0]<J[1]&&p===NEG||J[0]>J[1]&&p===POS$1)&&(W=W.reverse()),L.range=r==null?void 0:r.range;let ie=time$1().domain(J).range(W),oe=ve=>ie(G(ve));return oe.properties=L,oe}function makeTimeLevelFunction(e){return e?e==="year"?r=>{let o=new Date(r);return new Date(o.getFullYear(),0,0,0,0,0,0)}:e==="month"?r=>{let o=new Date(r);return new Date(o.getFullYear(),o.getMonth(),0,0,0,0,0)}:e==="date"?r=>{let o=new Date(r);return new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0)}:e==="hour"?r=>{let o=new Date(r);return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),0,0,0)}:e==="minute"?r=>{let o=new Date(r);return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),0,0)}:e==="second"?r=>{let o=new Date(r);return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),0)}:e==="millisecond"?r=>{let o=new Date(r);return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds())}:r=>new Date(r):r=>new Date(r)}function makeTimeUnitFunction(e,r){return e?e==="year"?o=>new Date(o).getFullYear():e==="month"?(r=r||"number",r=="number"?r=timeUnitDomainDefs.monthNumber:r=="number1"?r=timeUnitDomainDefs.monthNumber1:r=="short"?r=timeUnitDomainDefs.monthShort:r=="long"&&(r=timeUnitDomainDefs.month),o=>r[new Date(o).getMonth()]):e==="day"?(r=r||timeUnitDomainDefs.dayLong,r=="number"?r=timeUnitDomainDefs.dayNumber:r=="number1"?r=timeUnitDomainDefs.dayNumber1:r=="numberFromMon"?r=timeUnitDomainDefs.dayNumberFromMon:r=="numberFromMon1"?r=timeUnitDomainDefs.dayNumberFromMon1:r=="short"&&(r=timeUnitDomainDefs.dayShort),o=>r[new Date(o).getDay()]):e==="date"?o=>new Date(o).getDate():e==="hour"?o=>new Date(o).getHours():e==="hour12"?o=>new Date(o).getHours()%12:e==="minute"?o=>new Date(o).getMinutes():e==="second"?o=>new Date(o).getSeconds():e==="millisecond"?o=>new Date(o).getMilliseconds():o=>new Date(o):o=>new Date(o)}function timeUnitDomain(e,r,o){if(r==="year")return[new Date(e[0]).getDay(),new Date(e[1]).getDay()];if(r==="month")return o=o||"number",o=="number"?o=timeUnitDomainDefs.monthNumber:o=="number1"?o=timeUnitDomainDefs.monthNumber1:o=="short"?o=timeUnitDomainDefs.monthShort:o=="long"&&(o=timeUnitDomainDefs.month),o;if(r==="day")return o=o||timeUnitDomainDefs.dayLong,o=="number"?o=timeUnitDomainDefs.dayNumber:o=="number1"?o=timeUnitDomainDefs.dayNumber1:o=="numberFromMon"?o=timeUnitDomainDefs.dayNumberFromMon:o=="numberFromMon1"?o=timeUnitDomainDefs.dayNumberFromMon1:o=="short"&&(o=timeUnitDomainDefs.dayShort),o;if(r==="date")return timeUnitDomainDefs.date;if(r==="hour")return timeUnitDomainDefs.hour;if(r==="hour12")return timeUnitDomainDefs.hour;if(r==="minute")return timeUnitDomainDefs.minute;if(r==="second")return timeUnitDomainDefs.second;if(r==="millisecond")return timeUnitDomainDefs.millisecond}const timeUnitDomainDefs={monthNumber:[0,1,2,3,4,5,6,7,8,9,10],monthNumber1:[1,2,3,4,5,6,7,8,9,10,11,12],monthShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthLong:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNumber:[0,1,2,3,4,5,6],dayNumber1:[1,2,3,4,5,6,7],dayNumberFromMon:[6,0,1,2,3,4,5],dayNumberFromMon1:[7,1,2,3,4,5,6],dayLong:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShort:["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],date:aRange(0,31,!0),hour:aRange(0,24,!1),hour12:aRange(0,12,!1),minute:aRange(0,60,!1),second:aRange(0,60,!1),millisecond:aRange(0,100,!1)};function makeTimeChannelScale(e,r,o,l,p,f){var R,I;let O=deepcopy(r),_=O==null?void 0:O.scale;O.type===NOM&&!_.timing&&(_.timing=REL_TIMING);let S=_.timing===REL_TIMING,v=_.timing===SIM_TIMING,s=(_==null?void 0:_.band)||DEF_DUR,d=(_==null?void 0:_.length)||5;f!=null&&f.converter&&(s=f.converter((_==null?void 0:_.band)||1),d=f.converter(d)),((R=O==null?void 0:O.scale)==null?void 0:R.range)===void 0&&(_==null?void 0:_.band)!==void 0?O.scale.range=[0,d-s]:((I=O==null?void 0:O.scale)==null?void 0:I.range)===void 0&&(O.scale.range=[0,d]);let g;S?(g=j=>"after_previous",g.properties={channel:e,timing:REL_TIMING}):v?(g=j=>0,g.properties={channel:e,timing:SIM_TIMING}):(p==null?void 0:p.encodingType)===QUANT?g=makeQuantitativeScaleFunction(TIME_chn,O,o,l):(p==null?void 0:p.encodingType)===TMP?g=makeTemporalScaleFunction(TIME_chn,O,o,l):(p==null?void 0:p.encodingType)===ORD?g=makeOrdinalScaleFunction(TIME_chn,O,o,l):(p==null?void 0:p.encodingType)===NOM?g=makeNominalScaleFunction(TIME_chn,O,o,l):(p==null?void 0:p.encodingType)===STATIC&&(g=makeStaticScaleFunction(TIME_chn,O)),g||console.error("Wrong scale definition for the time channel",_);let P=(j,L)=>L!==void 0?{start:f!=null&&f.roundStart?f==null?void 0:f.roundStart(g(j)):g(j),end:f!=null&&f.roundDuration?f==null?void 0:f.roundDuration(g(L)):g(L)}:{start:f!=null&&f.roundStart?f==null?void 0:f.roundStart(g(j)):g(j),duration:f!=null&&f.roundDuration?f==null?void 0:f.roundDuration(s):s};return P.properties=g.properties,P.properties.length=d,P}function makeFieldedScaleFunction(e,r,o,l,p){let f={channel:e},O={},_=r.scale.range.field,S=r.field[0];for(const s of p){let d=s[_];e===PITCH_chn&&jType(d)!=="Number"&&(d=noteToFreq$1(d)),O[s[S]]=d}f.rangeProvided=!0,f.domain=Object.keys(O),f.range=Object.values(O);let v=s=>O[s];return v.properties=f,v}function getAudioScales(e,r,o,l,p){var j,L,G,J,Q,W,Z,te,ee,ie,oe,se,le,de,pe,fe,he,ge;let f=((j=r.scale)==null?void 0:j.polarity)||POS$1,O=(L=r.scale)==null?void 0:L.maxDistinct;O===void 0&&(O=!0);let _=r.id,S=(G=r.scale)==null?void 0:G.times,v=((J=r.scale)==null?void 0:J.zero)!==void 0?(Q=r.scale)==null?void 0:Q.zero:!1,s,d;if(jType(e)!=="Array"&&o){let me=o.toSorted(asc);s=me[me.length-1],d=me[0]}else if(o){let me=o[0].concat(o[1]).toSorted(asc);s=me[me.length-1],d=me[0]}let g=(W=r.scale)==null?void 0:W.nice,P={polarity:f,maxDistinct:O,times:S,zero:v,domainMax:s,domainMin:d,nice:g},R,I=getScaleType(e,r,o);if(I.fieldRange?R=makeFieldedScaleFunction(e,r,o,P,p):I.isTime?R=makeTimeChannelScale(e,r,o,P,I,l):I.isSpeech?R=makeSpeechChannelScale(e,r):I.encodingType===QUANT?R=makeQuantitativeScaleFunction(e,r,o,P):I.encodingType===TMP?R=makeTemporalScaleFunction(e,r,o,P):I.encodingType===ORD?R=makeOrdinalScaleFunction(e,r,o,P):I.encodingType===NOM?R=makeNominalScaleFunction(e,r,o,P):I.encodingType===STATIC&&(R=makeStaticScaleFunction(e,r)),R){let me;if(e===PITCH_chn&&r.roundToNote)me=ye=>roundToNoteScale(R(ye));else if(TapChannels.includes(e)){let ye={rate:((Z=r.scale)==null?void 0:Z.pauseRate)!==void 0?(te=r.scale)==null?void 0:te.pauseRate:DEF_TAP_PAUSE_RATE};if((ee=r.scale)!=null&&ee.pauseLength&&(ye={length:(ie=r.scale)==null?void 0:ie.pauseLength}),e===TAPCNT_chn)me=ve=>{var Ae;return{value:R(ve),tapLength:(Ae=r.scale)==null?void 0:Ae.band,pause:ye,beat:l}};else if(e===TAPSPD_chn){let ve=o.map(Ce=>R(Ce)),Ae=((oe=r.scale)==null?void 0:oe.band)||(l?DEF_TAP_DUR_BEAT:DEF_TAP_DUR),Pe=round(Math.max(...ve)*Ae,0),Ne=Ae/(Pe+(Pe-1)*(ye.rate!==void 0?ye.rate:DEF_TAP_PAUSE_RATE)),Ee=((se=r.scale)==null?void 0:se.maxTappingLength)!==void 0?(le=r.scale)==null?void 0:le.maxTappingLength:l?DEF_TAPPING_DUR_BEAT:MAX_TAPPING_DUR;Ne>Ee&&(Ne=Ee),Ne=round(Ne,-2),me=Ce=>{var Se,Te;return{value:R(Ce),tapDuration:(Se=r.scale)==null?void 0:Se.band,tappingUnit:Ne,singleTappingPosition:((Te=r.scale)==null?void 0:Te.singleTappingPosition)||SINGLE_TAP_MIDDLE,beat:l}}}}else e===DUR_chn&&l?me=ye=>l.converter(R(ye)):me=R;return me.properties?Object.assign(me.properties,I):R.properties&&(me.properties={},Object.assign(me.properties,R.properties),Object.assign(me.properties,I)),(de=r.scale)!=null&&de.description||((pe=r.scale)==null?void 0:pe.description)===void 0?me.properties.descriptionDetail=(fe=r.scale)==null?void 0:fe.description:me.properties.descriptionDetail=null,(he=r.scale)!=null&&he.title?me.properties.title=(ge=r.scale)==null?void 0:ge.title:me.properties.title=listString(unique(me.properties.field),", ",!1),r.format&&(me.properties.format=r.format),r.formatType?me.properties.formatType=r.formatType:r.format&&(me.properties.formatType="number"),_&&(me.scaleId=_),me}else return console.error(`The encoding definition for ${e} channel is illegal:`,r),null}function getScaleType(e,r,o){var s,d;let l=TimeChannels.includes(e)||TimeChannels.includes(e[0]),p=SpeechChannels.includes(e),f=r.type;f||(r.value?f=STATIC:f=detectType(o));let O=r.original_field||r.field,_=r.binned,S=r.aggregate,v=((d=(s=r.scale)==null?void 0:s.range)==null?void 0:d.field)||null;return{isTime:l,isSpeech:p,encodingType:f,field:O,binned:_,aggregate:S,fieldRange:v}}function makeBeatFunction(e){return r=>r*60/e}function makeBeatRounder(e,r){return o=>{if(o.constructor.name!=="Number")return o;let l=o/e*60;return Math.round(l/r)*r}}function tidyUpScaleDefinitions(e,r,o){var O,_;let l=(o==null?void 0:o.sequenceScaleConsistency)||{},p=(o==null?void 0:o.forceSequenceScaleConsistency)||{},f=[];for(const S of r)if(S.stream)Object.keys(S.stream.encoding).forEach(v=>{let s;l[v]&&!p[v]?s=findScaleMatch(e,S.stream.encoding[v],!1,!p[v]):p[v]&&(s=findScaleMatch(e,S.stream.encoding[v],!1,p[v])),s&&s.id!==S.stream.encoding[v].scale.id&&(s.field.push(S.stream.encoding[v].field),f.push(S.stream.encoding[v].scale.id),Object.keys(S.stream.encoding[v].scale).forEach(d=>{s.scale[d]||(s.scale[d]=S.stream.encoding[v].scale[d])}),S.stream.encoding[v].scale.id=s.id)});else if(S.overlay)for(const v of S.overlay){let s=((O=S==null?void 0:S.config)==null?void 0:O.overlayScaleConsistency)||(o==null?void 0:o.overlayScaleConsistency)||{},d=((_=S==null?void 0:S.config)==null?void 0:_.forceOverlayScaleConsistency)||(o==null?void 0:o.forceOverlayScaleConsistency)||{};Object.keys(v.encoding).forEach(g=>{let P;l[g]&&!p[g]?P=findScaleMatch(e,v.encoding[g],!0,!p[g]):p[g]?P=findScaleMatch(e,v.encoding[g],!0,p[g]):s[g]&&!d[g]?P=findScaleMatch(e,v.encoding[g],!1,!d[g]):d[g]&&(P=findScaleMatch(e,v.encoding[g],!1,d[g])),P&&P.id!==v.encoding[g].scale.id&&(P.field.push(v.encoding[g].field),f.push(v.encoding[g].scale.id),Object.keys(v.encoding[g].scale).forEach(R=>{P.scale[R]||(P.scale[R]=v.encoding[g].scale[R])}),v.encoding[g].scale.id=P.id)})}return f}function findScaleMatch(e,r,o,l){let p;for(const f of e)f.id===r.scale.id&&(p=f);for(const f of e){if(f.channel===p.channel&&f.type===p.type){if(f.channel===TIME_chn&&f.scale.timing!==p.scale.timing)continue;if(l&&o){if(f.dataName===p.dataName&&f.parentID===p.parentID)return f}else if(!l&&o){if(f.parentID===p.parentID)return f}else if(l&&!o){if(f.dataName===p.dataName)return f}else return f}if(f.id===r.scale.id)return f}return null}async function getChannelType(e,r,o){let l=e[r.data.name];if(!l||!r.encoding){console.error("No proper layer spec provided.");return}for(const p of Object.keys(r.encoding))!r.encoding[p].type&&r.encoding[p].value!==void 0?r.encoding[p].type=STATIC:r.encoding[p].type||(r.encoding[p].type=detectType(l.map(f=>f[r.encoding[p].field])));l=applyTransforms(l,r);for(const p of Object.keys(r.encoding))!r.encoding[p].type&&r.encoding[p].value!==void 0?r.encoding[p].type=STATIC:r.encoding[p].type||(r.encoding[p].type=detectType(l.map(f=>f[r.encoding[p].field])))}async function makeScales(e,r,o,l){let p=deepcopy(e);Object.keys(p).forEach(_=>{p[_].collected=[]});let f;if(l!=null&&l.timeUnit&&l.timeUnit.unit==="beat"){f={converter:makeBeatFunction(l.timeUnit.tempo||100)};let _=!0,S=!1;l.timeUnit.rounding&&(_=l.timeUnit.rounding!=="never",S=l.timeUnit.rounding==="always"),_&&(f.roundStart=makeBeatRounder(l.timeUnit.tempo||100,l.timeUnit.roundingBy||1)),S&&(f.roundDuration=makeBeatRounder(l.timeUnit.tempo||100,l.timeUnit.roundingBy||1))}for(const _ of r)if(_.stream){let S=o[_.stream.data.name];S=applyTransforms(S,_.stream);let v=_.stream.encoding;for(const s of Object.keys(v)){let d=v[s].scale.id;if(p[d].data=S,v[s].field){let g=_.stream.data.name+"_"+v[s].field;p[d].collected.includes(g)||(scaleInfoUpdater(v[s],p,S),p[d].collected.push(g))}else v[s].value!==void 0&&(p[d].type=STATIC,p[d].value=v[s].value);v[s].format&&(p[d].format=v[s].format),v[s].formatType&&(p[d].formatType=v[s].formatType),v[s].roundToNote&&(p[d].roundToNote=v[s].roundToNote)}}else if(_.overlay)for(const S of _.overlay){let v=o[S.data.name];v=applyTransforms(v,S);let s=S.encoding;for(const d of Object.keys(s)){let g=s[d].scale.id;if(p[g].data=v,s[d].field){let P=S.data.name+"_"+s[d].field;p[g].collected.includes(P)||(scaleInfoUpdater(s[d],p,v),p[g].collected.push(P))}else s[d].value!==void 0&&(p[g].type=STATIC,p[g].value=s[d].value);s[d].format&&(p[g].format=s[d].format),s[d].formatType&&(p[g].formatType=s[d].formatType)}}let O={};for(const _ of Object.keys(p)){let S=p[_],v=S.channel,s={};Object.assign(s,S),O[_]=getAudioScales(v,s,S.values,f,S.data)}return f&&(O.__beat=f),O}function scaleInfoUpdater(e,r,o){let l=e.field,p=e.scale.id;if(r[p]){r[p].values||(r[p].values=[]);let f=[];jType(l)==="Array"?l.forEach(O=>{f.push(...o.map((_,S)=>_[O]))}):f.push(...o.map((O,_)=>O[l])),r[p].type===TMP&&(f=f.map(O=>new Date(O))),r[p].values.push(...f)}}let isRecorded=!1;async function compileAudioGraph(e,r){var I;console.log(e);let{normalized:o,datasets:l,tick:p,scaleDefinitions:f,sequenceConfig:O,synths:_,samplings:S,waves:v}=await normalizeSpecification(e),s={},d=[];for(const j of o)if(j.stream){await getDataWrap(j.stream.data,s,l);let L=[];Object.keys(j.stream.encoding).forEach(G=>{j.stream.encoding[G].type||L.push(G)}),L.length>0&&await getChannelType(s,j.stream),d.push(...tidyUpScaleDefinitions(f,o,O))}else if(j.overlay){for(const G of j.overlay){await getDataWrap(G.data,s,l);let J=[];Object.keys(G.encoding).forEach(Q=>{G.encoding[Q].type||J.push(Q)}),J.length>0&&await getChannelType(s,G)}let L={};Object.assign(L,O),Object.assign(L,j.config||{}),d.push(...tidyUpScaleDefinitions(f,o,L))}let g=toHashedObject(f,"id");for(const j of d)delete g[j];let P=await makeScales(g,o,s,O),R=new SequenceStream;(I=e==null?void 0:e.config)!=null&&I.recording&&R.setConfig("recording",!0),R.setSampling(toHashedObject(S,"name")),R.setSynths(toHashedObject(_,"name")),R.setWaves(toHashedObject(v,"name")),(o==null?void 0:o.length)>1;for(const j of o)if(j.intro){let L=[j.intro.title,j.intro.description].filter(J=>J!==void 0),G=new SpeechStream(L.map(J=>({speech:J})));e.config&&Object.keys(e.config).forEach(J=>{G.setConfig(J,e.config[J])}),R.setIntroStream(G)}else if(j.stream){let L=isRepeatedStream(j.stream),G=deepcopy(s[j.stream.data.name]),J=await compileSingleLayerAuidoGraph(j.stream,G,e.config,p,P);L?R.addStreams(J.stream):R.addStream(J.stream),e.config&&Object.keys(e.config).forEach(Q=>{R.setConfig(Q,e.config[Q])}),j.stream.config&&Object.keys(j.stream.config).forEach(Q=>{R.setConfig(Q,j.stream.config[Q])}),j.stream.title&&R.setTitle(j.stream.title),j.stream.description&&R.setDescription(j.stream.description)}else if(j.overlay){let L=new OverlayStream;for(const G of j.overlay){let J=deepcopy(s[G.data.name]),Q=deepcopy(e.config);Object.assign(Q,G.config);let W=await compileSingleLayerAuidoGraph(G,J,Q,p,P);G.name&&W.stream.setName(G.name),G.title&&W.stream.setTitle(G.title),G.description&&W.stream.setDescription(G.description),L.addStream(W.stream)}L.setName(j.name),L.setTitle(j.title),L.setDescription(j.description),e.config&&Object.keys(e.config).forEach(G=>{L.setConfig(G,e.config[G])}),j.overlay.config&&Object.keys(j.overlay.config).forEach(G=>{L.setConfig(G,j.overlay.config[G])}),R.addStream(L)}return e.config&&Object.keys(e.config).forEach(j=>{R.setConfig(j,e.config[j])}),typeof window<"u"&&(window!=null&&window.erieRecorderReady)&&(isRecorded=!0),R.setConfig("isRecorded",isRecorded),R.setConfig("options",r),R}export{Config as C,Datasets as D,Sampling as S,Transform$1 as T,Wave as W,isArrayOf as a,Data$1 as b,Synth as c,TickList as d,Stream as e,ensure_array_like as f,compileAudioGraph as g,SampledTone as h,isInstanceOf as i,Dataset as j,format$3 as k,places as p};
